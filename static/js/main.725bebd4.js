/*! For license information please see main.725bebd4.js.LICENSE.txt */
!function(){var e={9053:function(){},4938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClearIcon=void 0;var r,i,o=(r=n(82))&&r.__esModule?r:{default:r},a=n(184);t.ClearIcon=function(e){var t=e.showClear,n=e.setSearchString,r=e.searchString,i=e.setFocus,o=e.onClear;return t?r.length<=0?null:(0,a.jsx)(l,{className:"clear-icon",onClick:function(){n({target:{value:""}}),i(),o()},children:(0,a.jsx)("svg",{width:20,height:20,focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.58 12 5 17.58 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})}):null};var s,u,l=o.default.div(i||(s=["\n  margin: ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  > svg {\n    fill: ",";\n  }\n"],u||(u=s.slice(0)),i=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(u)}}))),(function(e){return e.theme.clearIconMargin}),(function(e){return e.theme.iconColor}))},6233:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.items,n=void 0===t?[]:t,r=e.fuseOptions,i=void 0===r?u.defaultFuseOptions:r,d=e.inputDebounce,p=void 0===d?w:d,v=e.onSearch,m=void 0===v?function(){}:v,y=e.onHover,_=void 0===y?function(){}:y,S=e.onSelect,x=void 0===S?function(){}:S,k=e.onFocus,A=void 0===k?function(){}:k,T=e.onClear,P=void 0===T?function(){}:T,O=e.showIcon,C=void 0===O||O,R=e.showClear,L=void 0===R||R,I=e.maxResults,D=void 0===I?E:I,j=e.placeholder,N=void 0===j?"":j,B=e.autoFocus,z=void 0!==B&&B,Z=e.styling,F=void 0===Z?{}:Z,U=e.resultStringKeyName,K=void 0===U?"name":U,V=e.inputSearchString,H=void 0===V?"":V,W=e.formatResult,G=b(b({},u.defaultTheme),F),q=b(b({},u.defaultFuseOptions),i),Y=new o.default(n,q);Y.setCollection(n);var X=g((0,a.useState)(H),2),$=X[0],J=X[1],Q=g((0,a.useState)([]),2),ee=Q[0],te=Q[1],ne=g((0,a.useState)(0),2),re=ne[0],ie=ne[1],oe=function(e){var t=[];(null===e||void 0===e?void 0:e.length)>0&&(t=se(e)),te(t),m(e,t)},ae=a.default.useCallback(p>0?(0,l.debounce)((function(e){return oe(e)}),p):function(e){return oe(e)},[n]);(0,a.useEffect)((function(){J(H)}),[H]),(0,a.useEffect)((function(){(null===$||void 0===$?void 0:$.length)>0&&ee&&(null===ee||void 0===ee?void 0:ee.length)>0&&te(se($))}),[n]);var se=function(e){return Y.search(e,{limit:D}).map((function(e){return b({},e.item)})).slice(0,D)},ue=function(e){var t=e.index,n=e.event,r=function(e){ie(e),_(ee[e])};if(void 0!==t)ie(t),_(ee[t]);else if(n)switch(n.key){case"Enter":ee.length>0&&(x(ee[re]),J(ee[re][K]),ie(0)),te([]);break;case"ArrowUp":n.preventDefault(),r(re>0?re-1:ee.length-1);break;case"ArrowDown":n.preventDefault(),r(re<ee.length-1?re+1:0)}};return(0,f.jsx)(s.ThemeProvider,{theme:G,children:(0,f.jsx)(M,{children:(0,f.jsxs)("div",{className:"wrapper",children:[(0,f.jsx)(h.default,{searchString:$,setSearchString:function(e){var t=e.target.value;J(t),ae(t)},autoFocus:z,onBlur:function(){return te([])},onFocus:A,onClear:P,placeholder:N,showIcon:C,showClear:L,setHighlightedItem:ue}),(0,f.jsx)(c.default,{results:ee,onClick:function(e){te([]),x(e),J(e[K]),ie(0)},setSearchString:J,showIcon:C,maxResults:D,resultStringKeyName:K,formatResult:W,highlightedItem:re,setHighlightedItem:ue})]})})})},t.MAX_RESULTS=t.DEFAULT_INPUT_DEBOUNCE=void 0;var i,o=v(n(2137)),a=p(n(2791)),s=p(n(82)),u=n(3356),l=n(3083),c=v(n(8254)),h=v(n(3813)),f=n(184);function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=200;t.DEFAULT_INPUT_DEBOUNCE=w;var E=10;t.MAX_RESULTS=E;var S,x,M=s.default.div(i||(S=["\n  position: relative;\n\n  height: ",";\n\n  > .wrapper {\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n\n    border: ",";\n    border-radius: ",";\n\n    background-color: ",";\n    color: ",";\n\n    font-size: ",";\n    font-family: ",";\n\n    z-index: ",";\n\n    &:hover {\n      box-shadow: ",";\n    }\n    &:active {\n      box-shadow: ",";\n    }\n    &:focus-within {\n      box-shadow: ",";\n    }\n  }\n"],x||(x=S.slice(0)),i=Object.freeze(Object.defineProperties(S,{raw:{value:Object.freeze(x)}}))),(function(e){return parseInt(e.theme.height)+2+"px"}),(function(e){return e.theme.border}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.color}),(function(e){return e.theme.fontSize}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.zIndex}),(function(e){return e.theme.boxShadow}),(function(e){return e.theme.boxShadow}),(function(e){return e.theme.boxShadow}))},8254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.results,n=void 0===t?[]:t,r=e.onClick,i=e.setSearchString,o=e.showIcon,u=e.maxResults,l=e.resultStringKeyName,h=void 0===l?"name":l,f=e.highlightedItem,d=e.setHighlightedItem,p=e.formatResult,v=p||function(e){return e[h]},g=function(e){r(e),i(e[h])};if((null===n||void 0===n?void 0:n.length)<=0)return null;return(0,s.jsxs)(c,{children:[(0,s.jsx)("div",{className:"line"}),(0,s.jsx)("ul",{children:n.slice(0,u).map((function(e,t){return(0,s.jsxs)("li",{className:f===t?"selected":"",onMouseEnter:function(){return d({index:t})},"data-test":"result",onMouseDown:function(){return g(e)},onClick:function(){return g(e)},children:[(0,s.jsx)(a.SearchIcon,{showIcon:o}),(0,s.jsx)("div",{className:"ellipsis",title:e[h],children:v(e)})]},"rsa-result-".concat(e.id))}))})]})};var r,i,o=(r=n(82))&&r.__esModule?r:{default:r},a=n(3397),s=n(184);var u,l,c=o.default.div(i||(u=["\n  > div.line {\n    border-top-color: ",";\n    border-top-style: solid;\n    border-top-width: 1px;\n\n    margin-bottom: 0px;\n    margin-left: 14px;\n    margin-right: 20px;\n    margin-top: 0px;\n\n    padding-bottom: 4px;\n  }\n\n  > ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0px 0 16px 0;\n    max-height: ",";\n\n    > li {\n      display: flex;\n      align-items: center;\n      padding: 4px 0 4px 0;\n\n      > div {\n        margin-left: 13px;\n      }\n    }\n  }\n\n  .ellipsis {\n    text-align: left;\n    width: 100%;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .selected {\n    background-color: ",";\n  }\n"],l||(l=u.slice(0)),i=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(l)}}))),(function(e){return e.theme.lineColor}),(function(e){return e.theme.maxHeight}),(function(e){return e.theme.hoverBackgroundColor}))},3397:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchIcon=void 0;var r,i,o=(r=n(82))&&r.__esModule?r:{default:r},a=n(184);t.SearchIcon=function(e){return e.showIcon?(0,a.jsx)(l,{className:"search-icon",width:20,height:20,focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})}):null};var s,u,l=o.default.svg(i||(s=["\n  flex-shrink: 0;\n  margin: ",";\n  fill: ",";\n"],u||(u=s.slice(0)),i=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(u)}}))),(function(e){return e.theme.searchIconMargin}),(function(e){return e.theme.iconColor}))},3813:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.searchString,n=e.setSearchString,r=e.setHighlightedItem,i=e.autoFocus,a=e.onBlur,c=e.onFocus,h=e.onClear,d=e.placeholder,p=e.showIcon,v=void 0===p||p,g=e.showClear,m=void 0===g||g,y=(0,o.useRef)(null),b=!0;return(0,l.jsxs)(f,{children:[(0,l.jsx)(u.SearchIcon,{showIcon:v}),(0,l.jsx)("input",{ref:y,spellCheck:!1,value:t,onChange:n,onBlur:a,onFocus:function(e){b&&c(e)},placeholder:d,autoFocus:i,onKeyDown:function(e){return r({event:e})}}),(0,l.jsx)(s.ClearIcon,{showClear:m,setSearchString:n,searchString:t,onClear:h,setFocus:function(){b=!1,(null===y||void 0===y?void 0:y.current)&&y.current.focus(),b=!0}})]})};var r,i,o=n(2791),a=(r=n(82))&&r.__esModule?r:{default:r},s=n(4938),u=n(3397),l=n(184);var c,h,f=a.default.div(i||(c=["\n  min-height: ",";\n  width: 100%;\n\n  display: flex;\n  align-items: center;\n\n  > input {\n    width: 100%;\n\n    padding: 0 0 0 13px;\n\n    border: none;\n    outline: none;\n\n    background-color: rgba(0, 0, 0, 0);\n    font-size: inherit;\n    font-family: inherit;\n\n    color: ",";\n\n    ::placeholder {\n      color: ",";\n      opacity: 1;\n\n    :-ms-input-placeholder {\n      color: ",";\n    }\n\n    ::-ms-input-placeholder {\n      color: ",";\n    }\n  }\n"],h||(h=c.slice(0)),i=Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(h)}}))),(function(e){return e.theme.height}),(function(e){return e.theme.color}),(function(e){return e.theme.placeholderColor}),(function(e){return e.theme.placeholderColor}),(function(e){return e.theme.placeholderColor}))},3356:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultFuseOptions=t.defaultTheme=void 0;t.defaultTheme={height:"44px",border:"1px solid #dfe1e5",borderRadius:"24px",backgroundColor:"white",boxShadow:"rgba(32, 33, 36, 0.28) 0px 1px 6px 0px",hoverBackgroundColor:"#eee",color:"#212121",fontSize:"16px",fontFamily:"Arial",iconColor:"grey",lineColor:"rgb(232, 234, 237)",placeholderColor:"grey",zIndex:0,clearIconMargin:"3px 14px 0 0",searchIconMargin:"0 0 0 16px"};t.defaultFuseOptions={shouldSort:!0,threshold:.6,location:0,distance:100,minMatchCharLength:1,keys:["name"]}},8714:function(e,t,n){"use strict";Object.defineProperty(t,"R",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(6233))&&r.__esModule?r:{default:r}},3083:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,n){var r;return function(){var i=this,o=arguments;n&&!r&&e.apply(i,o),r&&clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(i,o)}),t)}}},4529:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;function o(e){return null==e||"number"===typeof e||"boolean"===typeof e}t.IW=t.P1=t.zo=void 0;var a=Symbol("undefined"),s=function(e){if(0===e.length)return a;if(1===e.length&&o(e[0]))return"".concat(e[0]);var t=JSON.stringify(e);return t.length>=1024&&console.warn("Passing large objects as arguments to selectors might impact memory usage. Arguments:",e),t},u=function(e,t){return void 0===t?"".concat(e):o(t)?"".concat(e,":").concat(t):"".concat(e,":").concat(JSON.stringify(t))},l=function(){function e(){r(this,e),this.cache=Object.create(null)}return i(e,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){this.cache[e]=t}},{key:"clear",value:function(){this.cache=Object.create(null)}}]),e}(),c=function(){function e(){r(this,e),this.observersList=[],this.observersIdx={}}return i(e,[{key:"addObserver",value:function(e){var t=u(e.id,e.arg);this.observersIdx[t]=e,this.observersList=Object.values(this.observersIdx)}},{key:"mergeObservers",value:function(e){Object.assign(this.observersIdx,e.observersIdx),this.observersList=Object.values(this.observersIdx)}},{key:"dependenciesChanged",value:function(e){for(var t=0,n=this.observersList.length;t<n;++t){var r=this.observersList[t],i=void 0===r.arg?r.resultFunc(e):r.resultFunc(e,r.arg);if(!r.isEqual(i,r.result))return!0}return!1}},{key:"getObserversIds",value:function(){return Object.keys(this.observersIdx)}}]),e}(),h=function(e,t){return e===t},f=function(){function e(t,n,i,o){r(this,e),this.id="".concat(t),this.resultFunc=n,this.isEqual=i,this.ctx=o}return i(e,[{key:"invoke",value:function(){if(arguments.length>1)throw new Error("Observer methods cannot be invoked with more than one argument");for(var e=arguments.length?arguments[0]:void 0,t=void 0!==e?this.resultFunc(this.ctx.state,e):this.resultFunc(this.ctx.state),n=0,r=p.callStack.length;n<r;++n)p.callStack[n].addObserver({id:this.id,isEqual:this.isEqual,resultFunc:this.resultFunc,arg:e,result:t});return t}},{key:"getProxy",value:function(){var e=this,t=this.invoke.bind(this);return t.id=this.id,t.key=function(t){return u(e.id,t)},t}}]),e}(),d=function(){function e(t,n,i,o){r(this,e),this.recomputations=0,this.computeFunc=t,this.cache=n,this.serialize=i,this.ctx=o}return i(e,[{key:"mock",value:function(){var e=this.serialize(arguments),t=new c(e);return this.cache.set(e,t),{result:function(e){t.result=e}}}},{key:"clearCache",value:function(){this.cache.clear()}},{key:"invoke",value:function(){var e=this.serialize(arguments),t=this.cache.get(e);if(!t||t.dependenciesChanged(this.ctx.state)){t&&this.cache.clear(),t=new c(e),p.callStack.push(t);try{t.result=this.computeFunc.apply(null,arguments)}finally{p.callStack.pop()}this.cache.set(e,t),++this.recomputations}for(var n=0,r=p.callStack.length;n<r;++n)p.callStack[n].mergeObservers(t);return t.result}},{key:"dependencies",value:function(){var e=this.serialize(arguments),t=this.cache.get(e);return t?t.getObserversIds():[]}},{key:"getProxy",value:function(e){var t=this,n=this.invoke.bind(this);return n.dependencies=this.dependencies.bind(this),n.mock=this.mock.bind(this),n.clearCache=this.clearCache.bind(this),n.recomputations=function(){return t.recomputations},n.withState=function(t){return e.setState(t),n},n}}]),e}(),p=function(){function e(t){r(this,e),this.state=t}return i(e,[{key:"createObserver",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.length>2)throw new Error("Observer methods cannot receive more than two arguments");var r=++e.numObservers,i=n.isEqual||h;return new f(r,t,i,this).getProxy()}},{key:"createSelector",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.cache||new l,r=t.serialize||s;return new d(e,n,r,this).getProxy(this)}},{key:"getProxy",value:function(){var e=this;return{createObserver:this.createObserver.bind(this),createSelector:this.createSelector.bind(this),setState:function(t){return e.state=t}}}}]),e}();p.callStack=[],p.numObservers=0;var v=function(e){return new p(e).getProxy()};var g=v(),m=g.createObserver;t.zo=m;var y=g.createSelector;t.P1=y;var b=g.setState;t.IW=b},5476:function(e,t,n){"use strict";var r=n(4240);Object.defineProperty(t,"reduxBatch",{enumerable:!0,get:function(){return r.reduxBatch}})},4240:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduxBatch=function(e){var t=[],n=void 0;function r(){t===n&&(t=t.slice())}function i(e){if("function"!==typeof e)throw new Error("Invalid listener, expected a function");var n=!0;return r(),t.push(e),function(){n&&(r(),t.splice(t.indexOf(e),1),n=!1)}}function o(){for(var e=t,r=0;r<e.length;++r)n=e,e[r]()}return function(){var t=e.apply(void 0,arguments),n=!1,r=!1;function a(e){return Array.isArray(e)?e.map((function(e){return a(e)})):t.dispatch(e)}return t.subscribe((function(){r?n=!0:o()})),Object.assign({},t,{dispatch:function(e){var t=r;t||(n=!1,r=!0);var i=a(e),s=n&&!t;return t||(n=!1,r=!1),s&&o(),i},subscribe:i})}}},1996:function(e,t,n){e.exports=n(5476)},2646:function(e,t){var n=function(){var e={},t=Math.PI/180,n=180/Math.PI,r=6378137,i=20037508.342789244;function o(e){return Number(e)===e&&e%1!==0}function a(t){if(t=t||{},this.size=t.size||256,this.expansion=!0===t.antimeridian?2:1,!e[this.size]){var n=this.size,r=e[this.size]={};r.Bc=[],r.Cc=[],r.zc=[],r.Ac=[];for(var i=0;i<30;i++)r.Bc.push(n/360),r.Cc.push(n/(2*Math.PI)),r.zc.push(n/2),r.Ac.push(n),n*=2}this.Bc=e[this.size].Bc,this.Cc=e[this.size].Cc,this.zc=e[this.size].zc,this.Ac=e[this.size].Ac}return a.prototype.px=function(e,n){if(o(n)){var r=this.size*Math.pow(2,n),i=r/2,a=r/360,s=r/(2*Math.PI),u=r,l=Math.min(Math.max(Math.sin(t*e[1]),-.9999),.9999),c=i+e[0]*a,h=i+.5*Math.log((1+l)/(1-l))*-s;return c>u*this.expansion&&(c=u*this.expansion),h>u&&(h=u),[c,h]}i=this.zc[n],l=Math.min(Math.max(Math.sin(t*e[1]),-.9999),.9999),c=Math.round(i+e[0]*this.Bc[n]),h=Math.round(i+.5*Math.log((1+l)/(1-l))*-this.Cc[n]);return c>this.Ac[n]*this.expansion&&(c=this.Ac[n]*this.expansion),h>this.Ac[n]&&(h=this.Ac[n]),[c,h]},a.prototype.ll=function(e,t){if(o(t)){var r=this.size*Math.pow(2,t),i=r/360,a=r/(2*Math.PI),s=r/2,u=(e[1]-s)/-a;return[(e[0]-s)/i,n*(2*Math.atan(Math.exp(u))-.5*Math.PI)]}u=(e[1]-this.zc[t])/-this.Cc[t];return[(e[0]-this.zc[t])/this.Bc[t],n*(2*Math.atan(Math.exp(u))-.5*Math.PI)]},a.prototype.bbox=function(e,t,n,r,i){r&&(t=Math.pow(2,n)-1-t);var o=[e*this.size,(+t+1)*this.size],a=[(+e+1)*this.size,t*this.size],s=this.ll(o,n).concat(this.ll(a,n));return"900913"===i?this.convert(s,"900913"):s},a.prototype.xyz=function(e,t,n,r){"900913"===r&&(e=this.convert(e,"WGS84"));var i=[e[0],e[1]],o=[e[2],e[3]],a=this.px(i,t),s=this.px(o,t),u=[Math.floor(a[0]/this.size),Math.floor((s[0]-1)/this.size)],l=[Math.floor(s[1]/this.size),Math.floor((a[1]-1)/this.size)],c={minX:Math.min.apply(Math,u)<0?0:Math.min.apply(Math,u),minY:Math.min.apply(Math,l)<0?0:Math.min.apply(Math,l),maxX:Math.max.apply(Math,u),maxY:Math.max.apply(Math,l)};if(n){var h={minY:Math.pow(2,t)-1-c.maxY,maxY:Math.pow(2,t)-1-c.minY};c.minY=h.minY,c.maxY=h.maxY}return c},a.prototype.convert=function(e,t){return"900913"===t?this.forward(e.slice(0,2)).concat(this.forward(e.slice(2,4))):this.inverse(e.slice(0,2)).concat(this.inverse(e.slice(2,4)))},a.prototype.forward=function(e){var n=[r*e[0]*t,r*Math.log(Math.tan(.25*Math.PI+.5*e[1]*t))];return n[0]>i&&(n[0]=i),n[0]<-i&&(n[0]=-i),n[1]>i&&(n[1]=i),n[1]<-i&&(n[1]=-i),n},a.prototype.inverse=function(e){return[e[0]*n/r,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/r)))*n]},a}();e.exports=n},2127:function(e,t,n){"use strict";var r=n(2538);function i(e){var t=[1/0,1/0,-1/0,-1/0];return r.coordEach(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}i.default=i,t.Z=i},7872:function(e,t){"use strict";function n(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function r(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!d(e[0])||!d(e[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r)}function i(e,t,r){void 0===r&&(r={});for(var i=0,o=e;i<o.length;i++){var a=o[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function o(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,r)}function a(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function s(e,t,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:e},t,r)}function u(e,t,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:e},t,r)}function l(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}function c(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e*r}function h(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e/r}function f(e){return 180*(e%(2*Math.PI))/Math.PI}function d(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=n,t.geometry=function(e,t,n){switch(void 0===n&&(n={}),e){case"Point":return r(t).geometry;case"LineString":return o(t).geometry;case"Polygon":return i(t).geometry;case"MultiPoint":return u(t).geometry;case"MultiLineString":return s(t).geometry;case"MultiPolygon":return l(t).geometry;default:throw new Error(e+" is invalid")}},t.point=r,t.points=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return r(e,t)})),n)},t.polygon=i,t.polygons=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return i(e,t)})),n)},t.lineString=o,t.lineStrings=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return o(e,t)})),n)},t.featureCollection=a,t.multiLineString=s,t.multiPoint=u,t.multiPolygon=l,t.geometryCollection=function(e,t,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:e},t,r)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},t.radiansToLength=c,t.lengthToRadians=h,t.lengthToDegrees=function(e,t){return f(h(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=f,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return c(h(e,t),n)},t.convertArea=function(e,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("area must be a positive number");var i=t.areaFactors[n];if(!i)throw new Error("invalid original units");var o=t.areaFactors[r];if(!o)throw new Error("invalid final units");return e/i*o},t.isNumber=d,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!d(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},2538:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7872);function i(e,t,n){if(null!==e)for(var r,o,a,s,u,l,c,h,f=0,d=0,p=e.type,v="FeatureCollection"===p,g="Feature"===p,m=v?e.features.length:1,y=0;y<m;y++){u=(h=!!(c=v?e.features[y].geometry:g?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var b=0;b<u;b++){var _=0,w=0;if(null!==(s=h?c.geometries[b]:c)){l=s.coordinates;var E=s.type;switch(f=!n||"Polygon"!==E&&"MultiPolygon"!==E?0:1,E){case null:break;case"Point":if(!1===t(l,d,y,_,w))return!1;d++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(!1===t(l[r],d,y,_,w))return!1;d++,"MultiPoint"===E&&_++}"LineString"===E&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(o=0;o<l[r].length-f;o++){if(!1===t(l[r][o],d,y,_,w))return!1;d++}"MultiLineString"===E&&_++,"Polygon"===E&&w++}"Polygon"===E&&_++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(w=0,o=0;o<l[r].length;o++){for(a=0;a<l[r][o].length-f;a++){if(!1===t(l[r][o][a],d,y,_,w))return!1;d++}w++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===i(s.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&!1!==t(e.features[n].properties,n);n++);break;case"Feature":t(e.properties,0)}}function a(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function s(e,t){var n,r,i,o,a,s,u,l,c,h,f=0,d="FeatureCollection"===e.type,p="Feature"===e.type,v=d?e.features.length:1;for(n=0;n<v;n++){for(s=d?e.features[n].geometry:p?e.geometry:e,l=d?e.features[n].properties:p?e.properties:{},c=d?e.features[n].bbox:p?e.bbox:void 0,h=d?e.features[n].id:p?e.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,f,l,c,h))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],f,l,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,l,c,h))return!1;f++}}function u(e,t){s(e,(function(e,n,i,o,a){var s,u=null===e?null:e.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==t(r.feature(e,i,{bbox:o,id:a}),n,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var c={type:s,coordinates:e.coordinates[l]};if(!1===t(r.feature(c,i),n,l))return!1}}))}function l(e,t){u(e,(function(e,n,o){var a=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var u,l=0,c=0,h=0;return!1!==i(e,(function(i,s,f,d,p){if(void 0===u||n>l||d>c||p>h)return u=i,l=n,c=d,h=p,void(a=0);var v=r.lineString([u,i],e.properties);if(!1===t(v,n,o,p,a))return!1;a++,u=i}))&&void 0}}}))}function c(e,t){if(!e)throw new Error("geojson is required");u(e,(function(e,n,i){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,n,i,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(r.lineString(a[s],e.properties),n,i,s))return!1}}}))}t.coordAll=function(e){var t=[];return i(e,(function(e){t.push(e)})),t},t.coordEach=i,t.coordReduce=function(e,t,n,r){var o=n;return i(e,(function(e,r,i,a,s){o=0===r&&void 0===n?e:t(o,e,r,i,a,s)}),r),o},t.featureEach=a,t.featureReduce=function(e,t,n){var r=n;return a(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r},t.findPoint=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,i=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),u=u||e.features[i].properties,n=e.features[i].geometry;break;case"Feature":u=u||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":return r.point(l,u,t);case"MultiPoint":return o<0&&(o=l.length+o),r.point(l[o],u,t);case"LineString":return s<0&&(s=l.length+s),r.point(l[s],u,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),r.point(l[a][s],u,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),r.point(l[o][s],u,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),r.point(l[o][a][s],u,t)}throw new Error("geojson is invalid")},t.findSegment=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,i=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),u=u||e.features[i].properties,n=e.features[i].geometry;break;case"Feature":u=u||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),r.lineString([l[s],l[s+1]],u,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),r.lineString([l[a][s],l[a][s+1]],u,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),r.lineString([l[o][s],l[o][s+1]],u,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),r.lineString([l[o][a][s],l[o][a][s+1]],u,t)}throw new Error("geojson is invalid")},t.flattenEach=u,t.flattenReduce=function(e,t,n){var r=n;return u(e,(function(e,i,o){r=0===i&&0===o&&void 0===n?e:t(r,e,i,o)})),r},t.geomEach=s,t.geomReduce=function(e,t,n){var r=n;return s(e,(function(e,i,o,a,s){r=0===i&&void 0===n?e:t(r,e,i,o,a,s)})),r},t.lineEach=c,t.lineReduce=function(e,t,n){var r=n;return c(e,(function(e,i,o,a){r=0===i&&void 0===n?e:t(r,e,i,o,a)})),r},t.propEach=o,t.propReduce=function(e,t,n){var r=n;return o(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r},t.segmentEach=l,t.segmentReduce=function(e,t,n){var r=n,i=!1;return l(e,(function(e,o,a,s,u){r=!1===i&&void 0===n?e:t(r,e,o,a,s,u),i=!0})),r}},6522:function(e,t,n){"use strict";var r=t;r.bignum=n(7664),r.define=n(8199).define,r.base=n(8222),r.constants=n(3062),r.decoders=n(4023),r.encoders=n(7407)},8199:function(e,t,n){"use strict";var r=n(7407),i=n(4023),o=n(2534);function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){var t=this.name;function n(e){this._initNamed(e,t)}return o(n,e),n.prototype._initNamed=function(t,n){e.call(this,t,n)},new n(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},a.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r[e])),this.encoders[e]},a.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},357:function(e,t,n){"use strict";var r=n(2534),i=n(2382).b,o=n(9138).Buffer;function a(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return s.isEncoderBuffer(e)||(e=new s(e,t)),this.length+=e.length,e}),this);else if("number"===typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"===typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(a,i),t.C=a,a.isDecoderBuffer=function(e){return e instanceof a||"object"===typeof e&&o.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"===typeof e.offset&&"number"===typeof e.length&&"function"===typeof e.save&&"function"===typeof e.restore&&"function"===typeof e.isEmpty&&"function"===typeof e.readUInt8&&"function"===typeof e.skip&&"function"===typeof e.raw},a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.R=s,s.isEncoderBuffer=function(e){return e instanceof s||"object"===typeof e&&"EncoderBuffer"===e.constructor.name&&"number"===typeof e.length&&"function"===typeof e.join},s.prototype.join=function(e,t){return e||(e=o.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(e,t),t+=n.length})):("number"===typeof this.value?e[t]=this.value:"string"===typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},8222:function(e,t,n){"use strict";var r=t;r.Reporter=n(2382).b,r.DecoderBuffer=n(357).C,r.EncoderBuffer=n(357).R,r.Node=n(2319)},2319:function(e,t,n){"use strict";var r=n(2382).b,i=n(357).R,o=n(357).C,a=n(2325),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function l(e,t,n){var r={};this._baseState=r,r.name=n,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=l;var c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){var e=this._baseState,t={};c.forEach((function(n){t[n]=e[n]}));var n=new this.constructor(t.parent);return n._baseState=t,n},l.prototype._wrap=function(){var e=this._baseState;u.forEach((function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}}),this)},l.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(e){var t=this._baseState,n=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!==typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){l.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),s.forEach((function(e){l.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}})),l.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},l.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},l.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},l.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},l.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},l.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},l.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r,i=n.default,a=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){var u=null;if(null!==n.explicit?u=n.explicit:null!==n.implicit?u=n.implicit:null!==n.tag&&(u=n.tag),null!==u||n.any){if(a=this._peekTag(e,u,n.any),e.isError(a))return a}else{var l=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(v){a=!1}e.restore(l)}}if(n.obj&&a&&(r=e.enterObject()),a){if(null!==n.explicit){var c=this._decodeTag(e,n.explicit);if(e.isError(c))return c;e=c}var h=e.offset;if(null===n.use&&null===n.choice){var f;n.any&&(f=e.save());var d=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(d))return d;n.any?i=e.raw(f):e=d}if(t&&t.track&&null!==n.tag&&t.track(e.path(),h,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),n.any||(i=null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(e,t)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var p=new o(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(p,t)}}return n.obj&&a&&(i=e.leaveObject(r)),null===n.key||null===i&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,i),i},l.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},l.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},l.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some((function(o){var a=e.save(),s=n.choice[o];try{var u=s._decode(e,t);if(e.isError(u))return!1;r={type:o,value:u},i=!0}catch(l){return e.restore(a),!1}return!0}),this),i?r:e.error("Choice not matched")},l.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},l.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r.default||r.default!==e){var i=this._encodeValue(e,t,n);if(void 0!==i&&!this._skipDefault(i,t,n))return i}},l.prototype._encodeValue=function(e,t,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new r);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,t),s=!0;else if(i.children)a=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var r=t.enterKey(n._baseState.key);if("object"!==typeof e)return t.error("Child expected, but input is not object");var i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)}),u))}else null!==i.use?o=this._getUse(i.use,n)._encode(e,t):(a=this._encodePrimitive(i.tag,e),s=!0);if(!i.any&&null===i.choice){var l=null!==i.implicit?i.implicit:i.tag,c=null===i.implicit?"universal":"context";null===l?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(l,s,c,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},l.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},l.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},l.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},l.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},2382:function(e,t,n){"use strict";var r=n(2534);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.b=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},i.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof o;if(t=r?e:new o(n.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},8266:function(e,t){"use strict";function n(e){var t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=n(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=n(t.tag)},3062:function(e,t,n){"use strict";var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n})),t},r.der=n(8266)},2650:function(e,t,n){"use strict";var r=n(2534),i=n(7664),o=n(357).C,a=n(2319),s=n(8266);function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new l,this.tree._init(e.body)}function l(e){a.call(this,"der",e)}function c(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=s.tagClass[n>>6],i=0===(32&n);if(31===(31&n)){var o=n;for(n=0;128===(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:s.tag[n]}}function h(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0===(128&r))return r;var i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var a=e.readUInt8(n);if(e.isError(a))return a;r|=a}return r}e.exports=u,u.prototype.decode=function(e,t){return o.isDecoderBuffer(e)||(e=new o(e,t)),this.tree._decode(e,t)},r(l,a),l.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),i=c(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},l.prototype._decodeTag=function(e,t,n){var r=c(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var i=h(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},l.prototype._skipUntilEnd=function(e,t){for(;;){var n=c(e,t);if(e.isError(n))return n;var r=h(e,n.primitive,t);if(e.isError(r))return r;var i=void 0;if(i=n.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===n.tagStr)break}},l.prototype._decodeList=function(e,t,n,r){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=n.decode(e,"der",r);if(e.isError(a)&&o)break;i.push(a)}return i},l.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},l.prototype._decodeObjid=function(e,t,n){for(var r,i=[],o=0,a=0;!e.isEmpty();)o<<=7,o|=127&(a=e.readUInt8()),0===(128&a)&&(i.push(o),o=0);128&a&&i.push(o);var s=i[0]/40|0,u=i[0]%40;if(r=n?i:[s,u].concat(i.slice(1)),t){var l=t[r.join(" ")];void 0===l&&(l=t[r.join(".")]),void 0!==l&&(r=l)}return r},l.prototype._decodeTime=function(e,t){var n,r,i,o,a,s,u=e.raw().toString();if("gentime"===t)n=0|u.slice(0,4),r=0|u.slice(4,6),i=0|u.slice(6,8),o=0|u.slice(8,10),a=0|u.slice(10,12),s=0|u.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|u.slice(0,2),r=0|u.slice(2,4),i=0|u.slice(4,6),o=0|u.slice(6,8),a=0|u.slice(8,10),s=0|u.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,r-1,i,o,a,s,0)},l.prototype._decodeNull=function(){return null},l.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},l.prototype._decodeInt=function(e,t){var n=e.raw(),r=new i(n);return t&&(r=t[r.toString(10)]||r),r},l.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getDecoder("der").tree}},4023:function(e,t,n){"use strict";var r=t;r.der=n(2650),r.pem=n(6282)},6282:function(e,t,n){"use strict";var r=n(2534),i=n(9138).Buffer,o=n(2650);function a(e){o.call(this,e),this.enc="pem"}r(a,o),e.exports=a,a.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1,l=0;l<n.length;l++){var c=n[l].match(a);if(null!==c&&c[2]===r){if(-1!==s){if("END"!==c[1])break;u=l;break}if("BEGIN"!==c[1])break;s=l}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+r);var h=n.slice(s+1,u).join("");h.replace(/[^a-z0-9+/=]+/gi,"");var f=i.from(h,"base64");return o.prototype.decode.call(this,f,t)}},2627:function(e,t,n){"use strict";var r=n(2534),i=n(9138).Buffer,o=n(2319),a=n(8266);function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){o.call(this,"der",e)}function l(e){return e<10?"0"+e:e}e.exports=s,s.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(u,o),u.prototype._encodeComposite=function(e,t,n,r){var o=function(e,t,n,r){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(a.tagByName.hasOwnProperty(e))i=a.tagByName[e];else{if("number"!==typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}if(i>=31)return r.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=a.tagClassByName[n||"universal"]<<6,i}(e,t,n,this.reporter);if(r.length<128){var s=i.alloc(2);return s[0]=o,s[1]=r.length,this._createEncoderBuffer([s,r])}for(var u=1,l=r.length;l>=256;l>>=8)u++;var c=i.alloc(2+u);c[0]=o,c[1]=128|u;for(var h=1+u,f=r.length;f>0;h--,f>>=8)c[h]=255&f;return this._createEncoderBuffer([c,r])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=i.alloc(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,n){if("string"===typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(var o=0;o<e.length;o++)e[o]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var a=0,s=0;s<e.length;s++){var u=e[s];for(a++;u>=128;u>>=7)a++}for(var l=i.alloc(a),c=l.length-1,h=e.length-1;h>=0;h--){var f=e[h];for(l[c--]=127&f;(f>>=7)>0;)l[c--]=128|127&f}return this._createEncoderBuffer(l)},u.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[l(r.getUTCFullYear()),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[l(r.getUTCFullYear()%100),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"===typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!==typeof e&&!i.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=i.from(n)}if(i.isBuffer(e)){var r=e.length;0===e.length&&r++;var o=i.alloc(r);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var a=1,s=e;s>=256;s>>=8)a++;for(var u=new Array(a),l=u.length-1;l>=0;l--)u[l]=255&e,e>>=8;return 128&u[0]&&u.unshift(0),this._createEncoderBuffer(i.from(u))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,n){var r,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},7407:function(e,t,n){"use strict";var r=t;r.der=n(2627),r.pem=n(8540)},8540:function(e,t,n){"use strict";var r=n(2534),i=n(2627);function o(e){i.call(this,e),this.enc="pem"}r(o,i),e.exports=o,o.prototype.encode=function(e,t){for(var n=i.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],o=0;o<n.length;o+=64)r.push(n.slice(o,o+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},7664:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(950).Buffer}catch(M){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function l(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,f=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=f;d++){var p=l-d|0;c+=(a=(i=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],d=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var v=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?v+n:c[l-v.length]+v+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!==typeof a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,l=new e(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,l=0,c=0|a[0],h=8191&c,f=c>>>13,d=0|a[1],p=8191&d,v=d>>>13,g=0|a[2],m=8191&g,y=g>>>13,b=0|a[3],_=8191&b,w=b>>>13,E=0|a[4],S=8191&E,x=E>>>13,M=0|a[5],k=8191&M,A=M>>>13,T=0|a[6],P=8191&T,O=T>>>13,C=0|a[7],R=8191&C,L=C>>>13,I=0|a[8],D=8191&I,j=I>>>13,N=0|a[9],B=8191&N,z=N>>>13,Z=0|s[0],F=8191&Z,U=Z>>>13,K=0|s[1],V=8191&K,H=K>>>13,W=0|s[2],G=8191&W,q=W>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,fe=ce>>>13,de=0|s[9],pe=8191&de,ve=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(l+(r=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,U))+Math.imul(f,F)|0))<<13)|0;l=((o=Math.imul(f,U))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,U))+Math.imul(v,F)|0,o=Math.imul(v,U);var me=(l+(r=r+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,F),i=(i=Math.imul(m,U))+Math.imul(y,F)|0,o=Math.imul(y,U),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,H)|0;var ye=(l+(r=r+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,G)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(_,F),i=(i=Math.imul(_,U))+Math.imul(w,F)|0,o=Math.imul(w,U),r=r+Math.imul(m,V)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,H)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,q)|0;var be=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,F),i=(i=Math.imul(S,U))+Math.imul(x,F)|0,o=Math.imul(x,U),r=r+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,H)|0,r=r+Math.imul(m,G)|0,i=(i=i+Math.imul(m,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,$)|0;var _e=(l+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(k,F),i=(i=Math.imul(k,U))+Math.imul(A,F)|0,o=Math.imul(A,U),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,r=r+Math.imul(_,G)|0,i=(i=i+Math.imul(_,q)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,q)|0,r=r+Math.imul(m,X)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0;var we=(l+(r=r+Math.imul(h,ne)|0)|0)+((8191&(i=(i=i+Math.imul(h,re)|0)+Math.imul(f,ne)|0))<<13)|0;l=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,F),i=(i=Math.imul(P,U))+Math.imul(O,F)|0,o=Math.imul(O,U),r=r+Math.imul(k,V)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,H)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,q)|0,r=r+Math.imul(_,X)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,$)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0;var Ee=(l+(r=r+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;l=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(R,F),i=(i=Math.imul(R,U))+Math.imul(L,F)|0,o=Math.imul(L,U),r=r+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0;var Se=(l+(r=r+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,le)|0)+Math.imul(f,ue)|0))<<13)|0;l=((o=o+Math.imul(f,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,F),i=(i=Math.imul(D,U))+Math.imul(j,F)|0,o=Math.imul(j,U),r=r+Math.imul(R,V)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,H)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,q)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,$)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,le)|0;var xe=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;l=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(B,F),i=(i=Math.imul(B,U))+Math.imul(z,F)|0,o=Math.imul(z,U),r=r+Math.imul(D,V)|0,i=(i=i+Math.imul(D,H)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,H)|0,r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,q)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,le)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,le)|0,r=r+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(v,he)|0,o=o+Math.imul(v,fe)|0;var Me=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ve)|0)+Math.imul(f,pe)|0))<<13)|0;l=((o=o+Math.imul(f,ve)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(B,V),i=(i=Math.imul(B,H))+Math.imul(z,V)|0,o=Math.imul(z,H),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,q)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,$)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,r=r+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(m,he)|0,i=(i=i+Math.imul(m,fe)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,fe)|0;var ke=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;l=((o=o+Math.imul(v,ve)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,q))+Math.imul(z,G)|0,o=Math.imul(z,q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(O,ne)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,r=r+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,le)|0,r=r+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,fe)|0;var Ae=(l+(r=r+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ve)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,ve)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,X),i=(i=Math.imul(B,$))+Math.imul(z,X)|0,o=Math.imul(z,$),r=r+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,le)|0,r=r+Math.imul(S,he)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Te=(l+(r=r+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ve)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,ve)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,ee))+Math.imul(z,Q)|0,o=Math.imul(z,ee),r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(k,he)|0,i=(i=i+Math.imul(k,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Pe=(l+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(x,pe)|0))<<13)|0;l=((o=o+Math.imul(x,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(B,ne),i=(i=Math.imul(B,re))+Math.imul(z,ne)|0,o=Math.imul(z,re),r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ae)|0,r=r+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,le)|0,r=r+Math.imul(P,he)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,fe)|0;var Oe=(l+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ve)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,oe),i=(i=Math.imul(B,ae))+Math.imul(z,oe)|0,o=Math.imul(z,ae),r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,le)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,le)|0,r=r+Math.imul(R,he)|0,i=(i=i+Math.imul(R,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Ce=(l+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,ue),i=(i=Math.imul(B,le))+Math.imul(z,ue)|0,o=Math.imul(z,le),r=r+Math.imul(D,he)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(j,he)|0,o=o+Math.imul(j,fe)|0;var Re=(l+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ve)|0)+Math.imul(L,pe)|0))<<13)|0;l=((o=o+Math.imul(L,ve)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(B,he),i=(i=Math.imul(B,fe))+Math.imul(z,he)|0,o=Math.imul(z,fe);var Le=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,ve)|0)+Math.imul(j,pe)|0))<<13)|0;l=((o=o+Math.imul(j,ve)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ie=(l+(r=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ve))+Math.imul(z,pe)|0))<<13)|0;return l=((o=Math.imul(z,ve))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=ge,u[1]=me,u[2]=ye,u[3]=be,u[4]=_e,u[5]=we,u[6]=Ee,u[7]=Se,u[8]=xe,u[9]=Me,u[10]=ke,u[11]=Ae,u[12]=Te,u[13]=Pe,u[14]=Oe,u[15]=Ce,u[16]=Re,u[17]=Le,u[18]=Ie,0!==l&&(u[19]=l,n.length++),n};function v(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?p(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,h=(0|e.words[c])*(0|t.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):v(this,e,t),n},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},g.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},g.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var h=u,f=l,d=0;d<a;d++){var p=n[c+d],v=r[c+d],g=n[c+d+a],m=r[c+d+a],y=h*g-f*m;m=h*m+f*g,g=y,n[c+d]=p+g,r[c+d]=v+m,n[c+d+a]=p-g,r[c+d+a]=v-m,d!==s&&(y=u*h-l*f,f=u*f+l*h,h=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},g.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,h,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,h);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0===(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(n.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0===(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(b,y),b.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,y),i(w,y),i(E,y),E.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return m[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=a;0!==d.cmp(s);){for(var v=d,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));f=f.redMul(m),h=m.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new x(e)},i(x,S),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},2009:function(e,t){"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=s(e),a=o[0],u=o[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,u)),c=0,h=u>0?a-4:a;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===u&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===u&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,l=r-i;s<l;s+=a)o.push(u(e,s,s+a>l?l:s+a));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},518:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(6601).Buffer}catch(T){}function s(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function u(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function l(e,t,n,i){for(var o=0,a=0,s=Math.min(e.length,n),u=t;u<s;u++){var l=e.charCodeAt(u)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&a<i,"Invalid character"),o+=a}return o}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){c(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(T){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),n=0!==o||a!==this.length-1?f[6-u.length]+u+n:u+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],c=p[e];n="";var h=this.clone();for(h.negative=0;!h.isZero();){var v=h.modrn(c).toString(e);n=(h=h.idivn(c)).isZero()?v+n:f[l-v.length]+v+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function v(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,f=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=f;d++){var p=l-d|0;c+=(a=(i=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n._strip()}o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===o?(n<e.length&&(e[n++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===o?(n>=0&&(e[n--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,l=0,c=0|a[0],h=8191&c,f=c>>>13,d=0|a[1],p=8191&d,v=d>>>13,g=0|a[2],m=8191&g,y=g>>>13,b=0|a[3],_=8191&b,w=b>>>13,E=0|a[4],S=8191&E,x=E>>>13,M=0|a[5],k=8191&M,A=M>>>13,T=0|a[6],P=8191&T,O=T>>>13,C=0|a[7],R=8191&C,L=C>>>13,I=0|a[8],D=8191&I,j=I>>>13,N=0|a[9],B=8191&N,z=N>>>13,Z=0|s[0],F=8191&Z,U=Z>>>13,K=0|s[1],V=8191&K,H=K>>>13,W=0|s[2],G=8191&W,q=W>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,fe=ce>>>13,de=0|s[9],pe=8191&de,ve=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(l+(r=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,U))+Math.imul(f,F)|0))<<13)|0;l=((o=Math.imul(f,U))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,U))+Math.imul(v,F)|0,o=Math.imul(v,U);var me=(l+(r=r+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,F),i=(i=Math.imul(m,U))+Math.imul(y,F)|0,o=Math.imul(y,U),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,H)|0;var ye=(l+(r=r+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,G)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(_,F),i=(i=Math.imul(_,U))+Math.imul(w,F)|0,o=Math.imul(w,U),r=r+Math.imul(m,V)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,H)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,q)|0;var be=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,F),i=(i=Math.imul(S,U))+Math.imul(x,F)|0,o=Math.imul(x,U),r=r+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,H)|0,r=r+Math.imul(m,G)|0,i=(i=i+Math.imul(m,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,$)|0;var _e=(l+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(k,F),i=(i=Math.imul(k,U))+Math.imul(A,F)|0,o=Math.imul(A,U),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,r=r+Math.imul(_,G)|0,i=(i=i+Math.imul(_,q)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,q)|0,r=r+Math.imul(m,X)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0;var we=(l+(r=r+Math.imul(h,ne)|0)|0)+((8191&(i=(i=i+Math.imul(h,re)|0)+Math.imul(f,ne)|0))<<13)|0;l=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,F),i=(i=Math.imul(P,U))+Math.imul(O,F)|0,o=Math.imul(O,U),r=r+Math.imul(k,V)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,H)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,q)|0,r=r+Math.imul(_,X)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,$)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0;var Ee=(l+(r=r+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;l=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(R,F),i=(i=Math.imul(R,U))+Math.imul(L,F)|0,o=Math.imul(L,U),r=r+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0;var Se=(l+(r=r+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,le)|0)+Math.imul(f,ue)|0))<<13)|0;l=((o=o+Math.imul(f,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,F),i=(i=Math.imul(D,U))+Math.imul(j,F)|0,o=Math.imul(j,U),r=r+Math.imul(R,V)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,H)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,q)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,$)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,le)|0;var xe=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;l=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(B,F),i=(i=Math.imul(B,U))+Math.imul(z,F)|0,o=Math.imul(z,U),r=r+Math.imul(D,V)|0,i=(i=i+Math.imul(D,H)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,H)|0,r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,q)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,le)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,le)|0,r=r+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(v,he)|0,o=o+Math.imul(v,fe)|0;var Me=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ve)|0)+Math.imul(f,pe)|0))<<13)|0;l=((o=o+Math.imul(f,ve)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(B,V),i=(i=Math.imul(B,H))+Math.imul(z,V)|0,o=Math.imul(z,H),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,q)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,$)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,r=r+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(m,he)|0,i=(i=i+Math.imul(m,fe)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,fe)|0;var ke=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;l=((o=o+Math.imul(v,ve)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,q))+Math.imul(z,G)|0,o=Math.imul(z,q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(O,ne)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,r=r+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,le)|0,r=r+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,fe)|0;var Ae=(l+(r=r+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ve)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,ve)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,X),i=(i=Math.imul(B,$))+Math.imul(z,X)|0,o=Math.imul(z,$),r=r+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,le)|0,r=r+Math.imul(S,he)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Te=(l+(r=r+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ve)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,ve)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,ee))+Math.imul(z,Q)|0,o=Math.imul(z,ee),r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(k,he)|0,i=(i=i+Math.imul(k,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Pe=(l+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(x,pe)|0))<<13)|0;l=((o=o+Math.imul(x,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(B,ne),i=(i=Math.imul(B,re))+Math.imul(z,ne)|0,o=Math.imul(z,re),r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ae)|0,r=r+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,le)|0,r=r+Math.imul(P,he)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,fe)|0;var Oe=(l+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ve)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,oe),i=(i=Math.imul(B,ae))+Math.imul(z,oe)|0,o=Math.imul(z,ae),r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,le)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,le)|0,r=r+Math.imul(R,he)|0,i=(i=i+Math.imul(R,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Ce=(l+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,ue),i=(i=Math.imul(B,le))+Math.imul(z,ue)|0,o=Math.imul(z,le),r=r+Math.imul(D,he)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(j,he)|0,o=o+Math.imul(j,fe)|0;var Re=(l+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ve)|0)+Math.imul(L,pe)|0))<<13)|0;l=((o=o+Math.imul(L,ve)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(B,he),i=(i=Math.imul(B,fe))+Math.imul(z,he)|0,o=Math.imul(z,fe);var Le=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,ve)|0)+Math.imul(j,pe)|0))<<13)|0;l=((o=o+Math.imul(j,ve)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ie=(l+(r=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ve))+Math.imul(z,pe)|0))<<13)|0;return l=((o=Math.imul(z,ve))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=ge,u[1]=me,u[2]=ye,u[3]=be,u[4]=_e,u[5]=we,u[6]=Ee,u[7]=Se,u[8]=xe,u[9]=Me,u[10]=ke,u[11]=Ae,u[12]=Te,u[13]=Pe,u[14]=Oe,u[15]=Ce,u[16]=Re,u[17]=Le,u[18]=Ie,0!==l&&(u[19]=l,n.length++),n};function m(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,h=(0|e.words[c])*(0|t.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function y(e,t,n){return m(e,t,n)}function b(e,t){this.x=e,this.y=t}Math.imul||(g=v),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):n<63?v(this,e,t):n<1024?m(this,e,t):y(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},b.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},b.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},b.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var h=u,f=l,d=0;d<a;d++){var p=n[c+d],v=r[c+d],g=n[c+d+a],m=r[c+d+a],y=h*g-f*m;m=h*m+f*g,g=y,n[c+d]=p+g,r[c+d]=v+m,n[c+d+a]=p-g,r[c+d+a]=v-m,d!==s&&(y=u*h-l*f,f=u*f+l*h,h=y)}},b.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},b.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},b.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,h,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),y(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,h);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=f)}return s&&s._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0===(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(n.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0===(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(E,w),E.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},E.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(S,w),i(x,w),i(M,w),M.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(_[e])return _[e];var t;if("k256"===e)t=new E;else if("p224"===e)t=new S;else if("p192"===e)t=new x;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new M}return _[e]=t,t},k.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=a;0!==d.cmp(s);){for(var v=d,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));f=f.redMul(m),h=m.redSqr(),d=d.redMul(h),p=g}return f},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,k),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},6084:function(e,t,n){var r;function i(e){this.rand=e}if(e.exports=function(e){return r||(r=new i(null)),r.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(9214);if("function"!==typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(a){}},9915:function(e,t,n){var r=n(2543).Buffer;function i(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),i=0;i<t;i++)n[i]=e.readUInt32BE(4*i);return n}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,r,i){for(var o,a,s,u,l=n[0],c=n[1],h=n[2],f=n[3],d=e[0]^t[0],p=e[1]^t[1],v=e[2]^t[2],g=e[3]^t[3],m=4,y=1;y<i;y++)o=l[d>>>24]^c[p>>>16&255]^h[v>>>8&255]^f[255&g]^t[m++],a=l[p>>>24]^c[v>>>16&255]^h[g>>>8&255]^f[255&d]^t[m++],s=l[v>>>24]^c[g>>>16&255]^h[d>>>8&255]^f[255&p]^t[m++],u=l[g>>>24]^c[d>>>16&255]^h[p>>>8&255]^f[255&v]^t[m++],d=o,p=a,v=s,g=u;return o=(r[d>>>24]<<24|r[p>>>16&255]<<16|r[v>>>8&255]<<8|r[255&g])^t[m++],a=(r[p>>>24]<<24|r[v>>>16&255]<<16|r[g>>>8&255]<<8|r[255&d])^t[m++],s=(r[v>>>24]<<24|r[g>>>16&255]<<16|r[d>>>8&255]<<8|r[255&p])^t[m++],u=(r[g>>>24]<<24|r[d>>>16&255]<<16|r[p>>>8&255]<<8|r[255&v])^t[m++],[o>>>=0,a>>>=0,s>>>=0,u>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var l=s^s<<1^s<<2^s<<3^s<<4;l=l>>>8^255&l^99,n[a]=l,r[l]=a;var c=e[a],h=e[c],f=e[h],d=257*e[l]^16843008*l;i[0][a]=d<<24|d>>>8,i[1][a]=d<<16|d>>>16,i[2][a]=d<<8|d>>>24,i[3][a]=d,d=16843009*f^65537*h^257*c^16843008*a,o[0][l]=d<<24|d>>>8,o[1][l]=d<<16|d>>>16,o[2][l]=d<<8|d>>>24,o[3][l]=d,0===a?a=s=1:(a=c^e[e[e[f^c]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function l(e){this._key=i(e),this._reset()}l.blockSize=16,l.keySize=32,l.prototype.blockSize=l.blockSize,l.prototype.keySize=l.keySize,l.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<r;o++){var a=i[o-1];o%t===0?(a=a<<8|a>>>24,a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t===4&&(a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a]),i[o]=i[o-t]^a}for(var l=[],c=0;c<r;c++){var h=r-c,f=i[h-(c%4?0:4)];l[c]=c<4||h<=4?f:u.INV_SUB_MIX[0][u.SBOX[f>>>24]]^u.INV_SUB_MIX[1][u.SBOX[f>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[f>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&f]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=l},l.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},l.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},l.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},l.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=l},3560:function(e,t,n){var r=n(9915),i=n(2543).Buffer,o=n(2221),a=n(2534),s=n(5283),u=n(5865),l=n(8387);function c(e,t,n,a){o.call(this);var u=i.alloc(4,0);this._cipher=new r.AES(t);var c=this._cipher.encryptBlock(u);this._ghash=new s(c),n=function(e,t,n){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var r=new s(n),o=t.length,a=o%16;r.update(t),a&&(a=16-a,r.update(i.alloc(a,0))),r.update(i.alloc(8,0));var u=8*o,c=i.alloc(8);c.writeUIntBE(u,0,8),r.update(c),e._finID=r.state;var h=i.from(e._finID);return l(h),h}(this,n,c),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(c,o),c.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},c.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=c},3525:function(e,t,n){var r=n(5270),i=n(5194),o=n(4946);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},5194:function(e,t,n){var r=n(3560),i=n(2543).Buffer,o=n(8172),a=n(2776),s=n(2221),u=n(9915),l=n(8462);function c(e,t,n){s.call(this),this._cache=new h,this._last=void 0,this._cipher=new u.AES(t),this._prev=i.from(n),this._mode=e,this._autopadding=!0}function h(){this.cache=i.allocUnsafe(0)}function f(e,t,n){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"===typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,n,!0):"auth"===s.type?new r(s.module,t,n,!0):new c(s.module,t,n)}n(2534)(c,s),c.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return i.concat(r)},c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=i.concat([this.cache,e])},h.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=l(t,!1,n.key,n.iv);return f(e,r.key,r.iv)},t.createDecipheriv=f},5270:function(e,t,n){var r=n(8172),i=n(3560),o=n(2543).Buffer,a=n(2776),s=n(2221),u=n(9915),l=n(8462);function c(e,t,n){s.call(this),this._cache=new f,this._cipher=new u.AES(t),this._prev=o.from(n),this._mode=e,this._autopadding=!0}n(2534)(c,s),c.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return o.concat(r)};var h=o.alloc(16,16);function f(){this.cache=o.allocUnsafe(0)}function d(e,t,n){var s=r[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"===typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,t,n):"auth"===s.type?new i(s.module,t,n):new c(s.module,t,n)}c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=o.concat([this.cache,e])},f.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},f.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return o.concat([this.cache,t])},t.createCipheriv=d,t.createCipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=l(t,!1,n.key,n.iv);return d(e,i.key,i.iv)}},5283:function(e,t,n){var r=n(2543).Buffer,i=r.alloc(16,0);function o(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!==(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!==(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=o(i)},a.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},8387:function(e){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},694:function(e,t,n){var r=n(5865);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},3492:function(e,t,n){var r=n(2543).Buffer,i=n(5865);function o(e,t,n){var o=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=r.concat([e._prev,n?t:a]),a}t.encrypt=function(e,t,n){for(var i,a=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){a=r.concat([a,o(e,t,n)]);break}i=e._cache.length,a=r.concat([a,o(e,t.slice(0,i),n)]),t=t.slice(i)}return a}},1400:function(e,t,n){var r=n(2543).Buffer;function i(e,t,n){for(var r,i,a=-1,s=0;++a<8;)r=t&1<<7-a?128:0,s+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^r))>>a%8,e._prev=o(e._prev,n?r:i);return s}function o(e,t){var n=e.length,i=-1,o=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++i<n;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],n);return a}},8681:function(e,t,n){var r=n(2543).Buffer;function i(e,t,n){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([n?t:i])]),i}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],n);return a}},9347:function(e,t,n){var r=n(5865),i=n(2543).Buffer,o=n(8387);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var u=a(e),l=o+16*s;e._cache.writeUInt32BE(u[0],l+0),e._cache.writeUInt32BE(u[1],l+4),e._cache.writeUInt32BE(u[2],l+8),e._cache.writeUInt32BE(u[3],l+12)}var c=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,c)}},4097:function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},8172:function(e,t,n){var r={ECB:n(4097),CBC:n(694),CFB:n(3492),CFB8:n(8681),CFB1:n(1400),OFB:n(1746),CTR:n(9347),GCM:n(9347)},i=n(4946);for(var o in i)i[o].module=r[i[o].mode];e.exports=i},1746:function(e,t,n){var r=n(5865);function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=Buffer.concat([e._cache,i(e)]);var n=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,n)}},2776:function(e,t,n){var r=n(9915),i=n(2543).Buffer,o=n(2221);function a(e,t,n,a){o.call(this),this._cipher=new r.AES(t),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}n(2534)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},9161:function(e,t,n){var r=n(7788),i=n(3525),o=n(8172),a=n(7282),s=n(8462);function u(e,t,n){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function l(e,t,n){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=s(t,!1,n,r);return u(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=u,t.createDecipher=t.Decipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=s(t,!1,n,r);return l(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=l,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},7788:function(e,t,n){var r=n(2221),i=n(7439),o=n(2534),a=n(2543).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(e){r.call(this);var t,n=e.mode.toLowerCase(),i=s[n];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var u=e.iv;a.isBuffer(u)||(u=a.from(u)),this._des=i.create({key:o,iv:u,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=u,o(u,r),u.prototype._update=function(e){return a.from(this._des.update(e))},u.prototype._final=function(){return a.from(this._des.final())}},7282:function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},1330:function(e,t,n){var r=n(518),i=n(2525);function o(e){var t,n=e.modulus.byteLength();do{t=new r(i(n))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function a(e,t){var n=function(e){var t=o(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),i=t.modulus.byteLength(),a=new r(e).mul(n.blinder).umod(t.modulus),s=a.toRed(r.mont(t.prime1)),u=a.toRed(r.mont(t.prime2)),l=t.coefficient,c=t.prime1,h=t.prime2,f=s.redPow(t.exponent1).fromRed(),d=u.redPow(t.exponent2).fromRed(),p=f.isub(d).imul(l).umod(c).imul(h);return d.iadd(p).imul(n.unblinder).umod(t.modulus).toArrayLike(Buffer,"be",i)}a.getr=o,e.exports=a},7050:function(e,t,n){e.exports=n(5207)},7834:function(e,t,n){var r=n(4777).Buffer,i=n(3569),o=n(723),a=n(2534),s=n(5908),u=n(1666),l=n(5207);function c(e){o.Writable.call(this);var t=l[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){o.Writable.call(this);var t=l[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){return new c(e)}function d(e){return new h(e)}Object.keys(l).forEach((function(e){l[e].id=r.from(l[e].id,"hex"),l[e.toLowerCase()]=l[e]})),a(c,o.Writable),c.prototype._write=function(e,t,n){this._hash.update(e),n()},c.prototype.update=function(e,t){return"string"===typeof e&&(e=r.from(e,t)),this._hash.update(e),this},c.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=s(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},a(h,o.Writable),h.prototype._write=function(e,t,n){this._hash.update(e),n()},h.prototype.update=function(e,t){return"string"===typeof e&&(e=r.from(e,t)),this._hash.update(e),this},h.prototype.verify=function(e,t,n){"string"===typeof t&&(t=r.from(t,n)),this.end();var i=this._hash.digest();return u(t,i,e,this._signType,this._tag)},e.exports={Sign:f,Verify:d,createSign:f,createVerify:d}},5908:function(e,t,n){var r=n(4777).Buffer,i=n(7651),o=n(1330),a=n(6289).ec,s=n(518),u=n(7510),l=n(1308);function c(e,t,n,o){if((e=r.from(e.toArray())).length<t.byteLength()){var a=r.alloc(t.byteLength()-e.length);e=r.concat([a,e])}var s=n.length,u=function(e,t){e=h(e,t),e=e.mod(t);var n=r.from(e.toArray());if(n.length<t.byteLength()){var i=r.alloc(t.byteLength()-n.length);n=r.concat([i,n])}return n}(n,t),l=r.alloc(s);l.fill(1);var c=r.alloc(s);return c=i(o,c).update(l).update(r.from([0])).update(e).update(u).digest(),l=i(o,c).update(l).digest(),{k:c=i(o,c).update(l).update(r.from([1])).update(e).update(u).digest(),v:l=i(o,c).update(l).digest()}}function h(e,t){var n=new s(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function f(e,t,n){var o,a;do{for(o=r.alloc(0);8*o.length<e.bitLength();)t.v=i(n,t.k).update(t.v).digest(),o=r.concat([o,t.v]);a=h(o,e),t.k=i(n,t.k).update(t.v).update(r.from([0])).digest(),t.v=i(n,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function d(e,t,n,r){return e.toRed(s.mont(n)).redPow(t).fromRed().mod(r)}e.exports=function(e,t,n,i,p){var v=u(t);if(v.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(e,t){var n=l[t.curve.join(".")];if(!n)throw new Error("unknown curve "+t.curve.join("."));var i=new a(n).keyFromPrivate(t.privateKey),o=i.sign(e);return r.from(o.toDER())}(e,v)}if("dsa"===v.type){if("dsa"!==i)throw new Error("wrong private key type");return function(e,t,n){var i,o=t.params.priv_key,a=t.params.p,u=t.params.q,l=t.params.g,p=new s(0),v=h(e,u).mod(u),g=!1,m=c(o,u,e,n);for(;!1===g;)p=d(l,i=f(u,m,n),a,u),0===(g=i.invm(u).imul(v.add(o.mul(p))).mod(u)).cmpn(0)&&(g=!1,p=new s(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e));128&t[0]&&(t=[0].concat(t));var n=e.length+t.length+4,i=[48,n,2,e.length];return i=i.concat(e,[2,t.length],t),r.from(i)}(p,g)}(e,v,n)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");e=r.concat([p,e]);for(var g=v.modulus.byteLength(),m=[0,1];e.length+m.length+1<g;)m.push(255);m.push(0);for(var y=-1;++y<e.length;)m.push(e[y]);return o(m,v)},e.exports.getKey=c,e.exports.makeKey=f},1666:function(e,t,n){var r=n(4777).Buffer,i=n(518),o=n(6289).ec,a=n(7510),s=n(1308);function u(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,n,l,c){var h=a(n);if("ec"===h.type){if("ecdsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");return function(e,t,n){var r=s[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new o(r),a=n.data.subjectPrivateKey.data;return i.verify(t,e,a)}(e,t,h)}if("dsa"===h.type){if("dsa"!==l)throw new Error("wrong public key type");return function(e,t,n){var r=n.data.p,o=n.data.q,s=n.data.g,l=n.data.pub_key,c=a.signature.decode(e,"der"),h=c.s,f=c.r;u(h,o),u(f,o);var d=i.mont(r),p=h.invm(o),v=s.toRed(d).redPow(new i(t).mul(p).mod(o)).fromRed().mul(l.toRed(d).redPow(f.mul(p).mod(o)).fromRed()).mod(r).mod(o);return 0===v.cmp(f)}(e,t,h)}if("rsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");t=r.concat([c,t]);for(var f=h.modulus.byteLength(),d=[1],p=0;t.length+d.length+2<f;)d.push(255),p++;d.push(0);for(var v=-1;++v<t.length;)d.push(t[v]);d=r.from(d);var g=i.mont(h.modulus);e=(e=new i(e).toRed(g)).redPow(new i(h.publicExponent)),e=r.from(e.fromRed().toArray());var m=p<8?1:0;for(f=Math.min(e.length,d.length),e.length!==d.length&&(m=1),v=-1;++v<f;)m|=e[v]^d[v];return 0===m}},4777:function(e,t,n){var r=n(9778),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},5865:function(e){e.exports=function(e,t){for(var n=Math.min(e.length,t.length),r=new Buffer(n),i=0;i<n;++i)r[i]=e[i]^t[i];return r}},9778:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,o=n(6115).default,a=n(1655).default,s=n(6389).default,u=n(2009),l=n(4038),c="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=d,t.SlowBuffer=function(e){+e!=e&&(e=0);return d.alloc(+e)},t.INSPECT_MAX_BYTES=50;var h=2147483647;function f(e){if(e>h)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,d.prototype),t}function d(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return g(e)}return p(e,t,n)}function p(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!d.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|_(e,t),r=f(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){var t=new Uint8Array(e);return y(t.buffer,t.byteOffset,t.byteLength)}return m(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return y(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return y(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return d.from(r,t,n);var i=function(e){if(d.isBuffer(e)){var t=0|b(e.length),n=f(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||te(e.length)?f(0):m(e);if("Buffer"===e.type&&Array.isArray(e.data))return m(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return d.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function v(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function g(e){return v(e),f(e<0?0:0|b(e))}function m(e){for(var t=e.length<0?0:0|b(e.length),n=f(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function y(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,d.prototype),r}function b(e){if(e>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|e}function _(e,t){if(d.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(i)return r?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function E(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),te(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=d.from(t,r)),d.isBuffer(t))return 0===t.length?-1:x(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(e,o+f)!==l(t,f)){h=!1;break}if(h)return o}return-1}function M(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o,a=t.length;for(r>a/2&&(r=a/2),o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(te(s))return o;e[n+o]=s}return o}function k(e,t,n,r){return Q($(t,e.length-n),e,n,r)}function A(e,t,n,r){return Q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function T(e,t,n,r){return Q(J(t),e,n,r)}function P(e,t,n,r){return Q(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function O(e,t,n){return 0===t&&n===e.length?u.fromByteArray(e):u.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u=void 0,l=void 0,c=void 0,h=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128===(192&(u=e[i+1]))&&(h=(31&o)<<6|63&u)>127&&(a=h);break;case 3:u=e[i+1],l=e[i+2],128===(192&u)&&128===(192&l)&&(h=(15&o)<<12|(63&u)<<6|63&l)>2047&&(h<55296||h>57343)&&(a=h);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(h=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&h<1114112&&(a=h)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}(r)}t.kMaxLength=h,d.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),d.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(e,t,n){return p(e,t,n)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(e,t,n){return function(e,t,n){return v(e),e<=0?f(e):void 0!==t?"string"===typeof n?f(e).fill(t,n):f(e).fill(t):f(e)}(e,t,n)},d.allocUnsafe=function(e){return g(e)},d.allocUnsafeSlow=function(e){return g(e)},d.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==d.prototype},d.compare=function(e,t){if(ee(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=d.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(ee(o,Uint8Array))i+o.length>r.length?(d.isBuffer(o)||(o=d.from(o)),o.copy(r,i)):Uint8Array.prototype.set.call(r,o,i);else{if(!d.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},d.byteLength=_,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)E(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)E(this,t,t+3),E(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)E(this,t,t+7),E(this,t+1,t+6),E(this,t+2,t+5),E(this,t+3,t+4);return this},d.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):w.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},c&&(d.prototype[c]=d.prototype.inspect),d.prototype.compare=function(e,t,n,r,i){if(ee(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),c=0;c<s;++c)if(u[c]!==l[c]){o=u[c],a=l[c];break}return o<a?-1:a<o?1:0},d.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},d.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},d.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},d.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return M(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":case"latin1":case"binary":return A(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=ne[e[o]];return i}function j(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,i,o){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function z(e,t,n,r,i){G(t,r,i,e,n,7);var o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function Z(e,t,n,r,i){G(t,r,i,e,n,7);var o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function F(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,0,n,4),l.write(e,t,n,r,23,4),n+4}function K(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,0,n,8),l.write(e,t,n,r,52,8),n+8}d.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,d.prototype),r},d.prototype.readUintLE=d.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},d.prototype.readUintBE=d.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},d.prototype.readUint8=d.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readBigUInt64LE=re((function(e){q(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(r)+(BigInt(i)<<BigInt(32))})),d.prototype.readBigUInt64BE=re((function(e){q(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),d.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},d.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},d.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readBigInt64LE=re((function(e){q(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),d.prototype.readBigInt64BE=re((function(e){q(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n)})),d.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),l.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),l.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),l.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),l.read(this,e,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},d.prototype.writeUint8=d.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,255,0),this[t]=255&e,t+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeBigUInt64LE=re((function(e){return z(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),d.prototype.writeBigUInt64BE=re((function(e){return Z(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),d.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},d.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},d.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},d.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeBigInt64LE=re((function(e){return z(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),d.prototype.writeBigInt64BE=re((function(e){return Z(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),d.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},d.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},d.prototype.writeDoubleLE=function(e,t,n){return K(this,e,t,!0,n)},d.prototype.writeDoubleBE=function(e,t,n){return K(this,e,t,!1,n)},d.prototype.copy=function(e,t,n,r){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},d.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=d.isBuffer(e)?e:d.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var V={};function H(e,t,n){V[e]=function(n){a(l,n);var u=s(l);function l(){var n;return r(this,l),n=u.call(this),Object.defineProperty(o(n),"message",{value:t.apply(o(n),arguments),writable:!0,configurable:!0}),n.name="".concat(n.name," [").concat(e,"]"),n.stack,delete n.name,n}return i(l,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),l}(n)}function W(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function G(e,t,n,r,i,o){if(e>n||e<t){var a,s="bigint"===typeof t?"n":"";throw a=o>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(o+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(o+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(n).concat(s),new V.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||Y(t,e.length-(n+1))}(r,i,o)}function q(e,t){if("number"!==typeof e)throw new V.ERR_INVALID_ARG_TYPE(t,"number",e)}function Y(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new V.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new V.ERR_BUFFER_OUT_OF_BOUNDS;throw new V.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),H("ERR_OUT_OF_RANGE",(function(e,t,n){var r='The value of "'.concat(e,'" is out of range.'),i=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?i=W(String(n)):"bigint"===typeof n&&(i=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(i=W(i)),i+="n"),r+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var X=/[^+/0-9A-Za-z-_]/g;function $(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function J(e){return u.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(X,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function Q(e,t,n,r){var i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!==e}var ne=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}();function re(e){return"undefined"===typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}},2221:function(e,t,n){var r=n(2543).Buffer,i=n(1064).Transform,o=n(5948).s;function a(e){i.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(2534)(a,i),a.prototype.update=function(e,t,n){"string"===typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){r=i}finally{n(r)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(n){t=n}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=a},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},9420:function(e,t,n){var r=n(6289),i=n(9236);e.exports=function(e){return new a(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(e,t,n){Array.isArray(e)||(e=e.toArray());var r=new Buffer(e);if(n&&r.length<n){var i=new Buffer(n-r.length);i.fill(0),r=Buffer.concat([i,r])}return t?r.toString(t):r}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,t,n){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,t){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,t){t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t));var n=new i(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}},9236:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(8623).Buffer}catch(M){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function l(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,f=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=f;d++){var p=l-d|0;c+=(a=(i=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],d=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var v=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?v+n:c[l-v.length]+v+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!==typeof a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,l=new e(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,l=0,c=0|a[0],h=8191&c,f=c>>>13,d=0|a[1],p=8191&d,v=d>>>13,g=0|a[2],m=8191&g,y=g>>>13,b=0|a[3],_=8191&b,w=b>>>13,E=0|a[4],S=8191&E,x=E>>>13,M=0|a[5],k=8191&M,A=M>>>13,T=0|a[6],P=8191&T,O=T>>>13,C=0|a[7],R=8191&C,L=C>>>13,I=0|a[8],D=8191&I,j=I>>>13,N=0|a[9],B=8191&N,z=N>>>13,Z=0|s[0],F=8191&Z,U=Z>>>13,K=0|s[1],V=8191&K,H=K>>>13,W=0|s[2],G=8191&W,q=W>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,fe=ce>>>13,de=0|s[9],pe=8191&de,ve=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(l+(r=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,U))+Math.imul(f,F)|0))<<13)|0;l=((o=Math.imul(f,U))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,U))+Math.imul(v,F)|0,o=Math.imul(v,U);var me=(l+(r=r+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,F),i=(i=Math.imul(m,U))+Math.imul(y,F)|0,o=Math.imul(y,U),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,H)|0;var ye=(l+(r=r+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,G)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(_,F),i=(i=Math.imul(_,U))+Math.imul(w,F)|0,o=Math.imul(w,U),r=r+Math.imul(m,V)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,H)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,q)|0;var be=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,F),i=(i=Math.imul(S,U))+Math.imul(x,F)|0,o=Math.imul(x,U),r=r+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,H)|0,r=r+Math.imul(m,G)|0,i=(i=i+Math.imul(m,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,$)|0;var _e=(l+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(k,F),i=(i=Math.imul(k,U))+Math.imul(A,F)|0,o=Math.imul(A,U),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,r=r+Math.imul(_,G)|0,i=(i=i+Math.imul(_,q)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,q)|0,r=r+Math.imul(m,X)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0;var we=(l+(r=r+Math.imul(h,ne)|0)|0)+((8191&(i=(i=i+Math.imul(h,re)|0)+Math.imul(f,ne)|0))<<13)|0;l=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,F),i=(i=Math.imul(P,U))+Math.imul(O,F)|0,o=Math.imul(O,U),r=r+Math.imul(k,V)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,H)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,q)|0,r=r+Math.imul(_,X)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,$)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0;var Ee=(l+(r=r+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;l=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(R,F),i=(i=Math.imul(R,U))+Math.imul(L,F)|0,o=Math.imul(L,U),r=r+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0;var Se=(l+(r=r+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,le)|0)+Math.imul(f,ue)|0))<<13)|0;l=((o=o+Math.imul(f,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,F),i=(i=Math.imul(D,U))+Math.imul(j,F)|0,o=Math.imul(j,U),r=r+Math.imul(R,V)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,H)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,q)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,$)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,le)|0;var xe=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;l=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(B,F),i=(i=Math.imul(B,U))+Math.imul(z,F)|0,o=Math.imul(z,U),r=r+Math.imul(D,V)|0,i=(i=i+Math.imul(D,H)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,H)|0,r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,q)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,le)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,le)|0,r=r+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(v,he)|0,o=o+Math.imul(v,fe)|0;var Me=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ve)|0)+Math.imul(f,pe)|0))<<13)|0;l=((o=o+Math.imul(f,ve)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(B,V),i=(i=Math.imul(B,H))+Math.imul(z,V)|0,o=Math.imul(z,H),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,q)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,$)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,r=r+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(m,he)|0,i=(i=i+Math.imul(m,fe)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,fe)|0;var ke=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;l=((o=o+Math.imul(v,ve)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,q))+Math.imul(z,G)|0,o=Math.imul(z,q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(O,ne)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,r=r+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,le)|0,r=r+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,fe)|0;var Ae=(l+(r=r+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ve)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,ve)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,X),i=(i=Math.imul(B,$))+Math.imul(z,X)|0,o=Math.imul(z,$),r=r+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,le)|0,r=r+Math.imul(S,he)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Te=(l+(r=r+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ve)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,ve)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,ee))+Math.imul(z,Q)|0,o=Math.imul(z,ee),r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(k,he)|0,i=(i=i+Math.imul(k,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Pe=(l+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(x,pe)|0))<<13)|0;l=((o=o+Math.imul(x,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(B,ne),i=(i=Math.imul(B,re))+Math.imul(z,ne)|0,o=Math.imul(z,re),r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ae)|0,r=r+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,le)|0,r=r+Math.imul(P,he)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,fe)|0;var Oe=(l+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ve)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,oe),i=(i=Math.imul(B,ae))+Math.imul(z,oe)|0,o=Math.imul(z,ae),r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,le)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,le)|0,r=r+Math.imul(R,he)|0,i=(i=i+Math.imul(R,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Ce=(l+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,ue),i=(i=Math.imul(B,le))+Math.imul(z,ue)|0,o=Math.imul(z,le),r=r+Math.imul(D,he)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(j,he)|0,o=o+Math.imul(j,fe)|0;var Re=(l+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ve)|0)+Math.imul(L,pe)|0))<<13)|0;l=((o=o+Math.imul(L,ve)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(B,he),i=(i=Math.imul(B,fe))+Math.imul(z,he)|0,o=Math.imul(z,fe);var Le=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,ve)|0)+Math.imul(j,pe)|0))<<13)|0;l=((o=o+Math.imul(j,ve)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ie=(l+(r=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ve))+Math.imul(z,pe)|0))<<13)|0;return l=((o=Math.imul(z,ve))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=ge,u[1]=me,u[2]=ye,u[3]=be,u[4]=_e,u[5]=we,u[6]=Ee,u[7]=Se,u[8]=xe,u[9]=Me,u[10]=ke,u[11]=Ae,u[12]=Te,u[13]=Pe,u[14]=Oe,u[15]=Ce,u[16]=Re,u[17]=Le,u[18]=Ie,0!==l&&(u[19]=l,n.length++),n};function v(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?p(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,h=(0|e.words[c])*(0|t.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):v(this,e,t),n},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},g.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},g.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var h=u,f=l,d=0;d<a;d++){var p=n[c+d],v=r[c+d],g=n[c+d+a],m=r[c+d+a],y=h*g-f*m;m=h*m+f*g,g=y,n[c+d]=p+g,r[c+d]=v+m,n[c+d+a]=p-g,r[c+d+a]=v-m,d!==s&&(y=u*h-l*f,f=u*f+l*h,h=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},g.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,h,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,h);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0===(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(n.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0===(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(b,y),b.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,y),i(w,y),i(E,y),E.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return m[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=a;0!==d.cmp(s);){for(var v=d,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));f=f.redMul(m),h=m.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new x(e)},i(x,S),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},3569:function(e,t,n){"use strict";var r=n(2534),i=n(8437),o=n(3375),a=n(997),s=n(2221);function u(e){s.call(this,"digest"),this._hash=e}r(u,s),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new u(a(e))}},5378:function(e,t,n){var r=n(8437);e.exports=function(e){return(new r).update(e).digest()}},7651:function(e,t,n){"use strict";var r=n(2534),i=n(3189),o=n(2221),a=n(2543).Buffer,s=n(5378),u=n(3375),l=n(997),c=a.alloc(128);function h(e,t){o.call(this,"digest"),"string"===typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new u:l(e)).update(t).digest():t.length<n&&(t=a.concat([t,c],n));for(var r=this._ipad=a.allocUnsafe(n),i=this._opad=a.allocUnsafe(n),s=0;s<n;s++)r[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new u:l(e),this._hash.update(r)}r(h,o),h.prototype._update=function(e){this._hash.update(e)},h.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:l(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new h("rmd160",t):"md5"===e?new i(s,t):new h(e,t)}},3189:function(e,t,n){"use strict";var r=n(2534),i=n(2543).Buffer,o=n(2221),a=i.alloc(128),s=64;function u(e,t){o.call(this,"digest"),"string"===typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=i.concat([t,a],s));for(var n=this._ipad=i.allocUnsafe(s),r=this._opad=i.allocUnsafe(s),u=0;u<s;u++)n[u]=54^t[u],r[u]=92^t[u];this._hash=[n]}r(u,o),u.prototype._update=function(e){this._hash.push(e)},u.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=u},6433:function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(2525),t.createHash=t.Hash=n(3569),t.createHmac=t.Hmac=n(7651);var r=n(7050),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return o};var a=n(5896);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=n(9161);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var u=n(2197);t.DiffieHellmanGroup=u.DiffieHellmanGroup,t.createDiffieHellmanGroup=u.createDiffieHellmanGroup,t.getDiffieHellman=u.getDiffieHellman,t.createDiffieHellman=u.createDiffieHellman,t.DiffieHellman=u.DiffieHellman;var l=n(7834);t.createSign=l.createSign,t.Sign=l.Sign,t.createVerify=l.createVerify,t.Verify=l.Verify,t.createECDH=n(9420);var c=n(12);t.publicEncrypt=c.publicEncrypt,t.privateEncrypt=c.privateEncrypt,t.publicDecrypt=c.publicDecrypt,t.privateDecrypt=c.privateDecrypt;var h=n(394);t.randomFill=h.randomFill,t.randomFillSync=h.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},9412:function(e){"use strict";var t="%[a-f0-9]{2}",n=new RegExp("("+t+")|([^%]+?)","gi"),r=new RegExp("("+t+")+","gi");function i(e,t){try{return[decodeURIComponent(e.join(""))]}catch(o){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},i=r.exec(e);i;){try{n[i[0]]=decodeURIComponent(i[0])}catch(t){var a=o(i[0]);a!==i[0]&&(n[i[0]]=a)}i=r.exec(e)}n["%C2"]="\ufffd";for(var s=Object.keys(n),u=0;u<s.length;u++){var l=s[u];e=e.replace(new RegExp(l,"g"),n[l])}return e}(e)}}},7439:function(e,t,n){"use strict";t.utils=n(7427),t.Cipher=n(834),t.DES=n(3688),t.CBC=n(1159),t.EDE=n(8534)},1159:function(e,t,n){"use strict";var r=n(2325),i=n(2534),o={};function a(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var n=Object.keys(o),r=0;r<n.length;r++){var a=n[r];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},o._update=function(e,t,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,n,r);for(s=0;s<this.blockSize;s++)a[s]=n[r+s]}else{o._update.call(this,e,t,n,r);for(s=0;s<this.blockSize;s++)n[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},834:function(e,t,n){"use strict";var r=n(2325);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==e.padding}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},3688:function(e,t,n){"use strict";var r=n(2325),i=n(2534),o=n(7427),a=n(834);function s(){this.tmp=new Array(2),this.keys=null}function u(e){a.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}i(u,a),e.exports=u,u.create=function(e){return new u(e)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=l[a>>>1];n=o.r28shl(n,s),i=o.r28shl(i,s),o.pc2(n,i,e.keys,a)}},u.prototype._update=function(e,t,n,r){var i=this._desState,a=o.readUInt32BE(e,t),s=o.readUInt32BE(e,t+4);o.ip(a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,s,i.tmp,0):this._decrypt(i,a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],o.writeUInt32BE(n,a,r),o.writeUInt32BE(n,s,r+4)},u.prototype._pad=function(e,t){if(!1===this.padding)return!1;for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},u.prototype._unpad=function(e){if(!1===this.padding)return e;for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},u.prototype._encrypt=function(e,t,n,r,i){for(var a=t,s=n,u=0;u<e.keys.length;u+=2){var l=e.keys[u],c=e.keys[u+1];o.expand(s,e.tmp,0),l^=e.tmp[0],c^=e.tmp[1];var h=o.substitute(l,c),f=s;s=(a^o.permute(h))>>>0,a=f}o.rip(s,a,r,i)},u.prototype._decrypt=function(e,t,n,r,i){for(var a=n,s=t,u=e.keys.length-2;u>=0;u-=2){var l=e.keys[u],c=e.keys[u+1];o.expand(a,e.tmp,0),l^=e.tmp[0],c^=e.tmp[1];var h=o.substitute(l,c),f=a;a=(s^o.permute(h))>>>0,s=f}o.rip(a,s,r,i)}},8534:function(e,t,n){"use strict";var r=n(2325),i=n(2534),o=n(834),a=n(3688);function s(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n})]}function u(e){o.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}i(u,o),e.exports=u,u.create=function(e){return new u(e)},u.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},7427:function(e,t){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},t.rip=function(e,t,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+a&1,i<<=1,i|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.pc1=function(e,t,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,r,i){for(var o=0,a=0,s=n.length>>>1,u=0;u<s;u++)o<<=1,o|=e>>>n[u]&1;for(u=s;u<n.length;u++)a<<=1,a|=t>>>n[u]&1;r[i+0]=o>>>0,r[i+1]=a>>>0},t.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,i=0;i<4;i++){n<<=4,n|=r[64*i+(e>>>18-6*i&63)]}for(i=0;i<4;i++){n<<=4,n|=r[256+64*i+(t>>>18-6*i&63)]}return n>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<i.length;n++)t<<=1,t|=e>>>i[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],o=0;o<t;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},2197:function(e,t,n){var r=n(3164),i=n(9799),o=n(4771);var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(e){var t=new Buffer(i[e].prime,"hex"),n=new Buffer(i[e].gen,"hex");return new o(t,n)},t.createDiffieHellman=t.DiffieHellman=function e(t,n,i,s){return Buffer.isBuffer(n)||void 0===a[n]?e(t,"binary",n,i):(n=n||"binary",s=s||"binary",i=i||new Buffer([2]),Buffer.isBuffer(i)||(i=new Buffer(i,s)),"number"===typeof t?new o(r(t,i),i,!0):(Buffer.isBuffer(t)||(t=new Buffer(t,n)),new o(t,i,!0)))}},4771:function(e,t,n){var r=n(4231),i=new(n(1595)),o=new r(24),a=new r(11),s=new r(10),u=new r(3),l=new r(7),c=n(3164),h=n(2525);function f(e,t){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),this._pub=new r(e),this}function d(e,t){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),this._priv=new r(e),this}e.exports=v;var p={};function v(e,t,n){this.setGenerator(t),this.__prime=new r(e),this._prime=r.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=f,this.setPrivateKey=d):this._primeCode=8}function g(e,t){var n=new Buffer(e.toArray());return t?n.toString(t):n}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in p)return p[r];var h,f=0;if(e.isEven()||!c.simpleSieve||!c.fermatTest(e)||!i.test(e))return f+=1,f+="02"===n||"05"===n?8:4,p[r]=f,f;switch(i.test(e.shrn(1))||(f+=2),n){case"02":e.mod(o).cmp(a)&&(f+=8);break;case"05":(h=e.mod(s)).cmp(u)&&h.cmp(l)&&(f+=8);break;default:f+=4}return p[r]=f,f}(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new r(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(e){var t=(e=(e=new r(e)).toRed(this._prime)).redPow(this._priv).fromRed(),n=new Buffer(t.toArray()),i=this.getPrime();if(n.length<i.length){var o=new Buffer(i.length-n.length);o.fill(0),n=Buffer.concat([o,n])}return n},v.prototype.getPublicKey=function(e){return g(this._pub,e)},v.prototype.getPrivateKey=function(e){return g(this._priv,e)},v.prototype.getPrime=function(e){return g(this.__prime,e)},v.prototype.getGenerator=function(e){return g(this._gen,e)},v.prototype.setGenerator=function(e,t){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),this.__gen=e,this._gen=new r(e),this}},3164:function(e,t,n){var r=n(2525);e.exports=y,y.simpleSieve=g,y.fermatTest=m;var i=n(4231),o=new i(24),a=new(n(1595)),s=new i(1),u=new i(2),l=new i(5),c=(new i(16),new i(8),new i(10)),h=new i(3),f=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function v(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<t&&e[i]<=r&&n%e[i]!==0;i++);t!==i&&e[i]<=r||(e[t++]=n)}return p=e,e}function g(e){for(var t=v(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function m(e){var t=i.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function y(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var n,p;for(t=new i(t);;){for(n=new i(r(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(u),t.cmp(u)){if(!t.cmp(l))for(;n.mod(c).cmp(h);)n.iadd(d)}else for(;n.mod(o).cmp(f);)n.iadd(d);if(g(p=n.shrn(1))&&g(n)&&m(p)&&m(n)&&a.test(p)&&a.test(n))return n}}},4231:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(7748).Buffer}catch(M){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function l(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,f=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=f;d++){var p=l-d|0;c+=(a=(i=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],d=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var v=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?v+n:c[l-v.length]+v+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!==typeof a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,l=new e(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,l=0,c=0|a[0],h=8191&c,f=c>>>13,d=0|a[1],p=8191&d,v=d>>>13,g=0|a[2],m=8191&g,y=g>>>13,b=0|a[3],_=8191&b,w=b>>>13,E=0|a[4],S=8191&E,x=E>>>13,M=0|a[5],k=8191&M,A=M>>>13,T=0|a[6],P=8191&T,O=T>>>13,C=0|a[7],R=8191&C,L=C>>>13,I=0|a[8],D=8191&I,j=I>>>13,N=0|a[9],B=8191&N,z=N>>>13,Z=0|s[0],F=8191&Z,U=Z>>>13,K=0|s[1],V=8191&K,H=K>>>13,W=0|s[2],G=8191&W,q=W>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,fe=ce>>>13,de=0|s[9],pe=8191&de,ve=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(l+(r=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,U))+Math.imul(f,F)|0))<<13)|0;l=((o=Math.imul(f,U))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,U))+Math.imul(v,F)|0,o=Math.imul(v,U);var me=(l+(r=r+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,F),i=(i=Math.imul(m,U))+Math.imul(y,F)|0,o=Math.imul(y,U),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,H)|0;var ye=(l+(r=r+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,G)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(_,F),i=(i=Math.imul(_,U))+Math.imul(w,F)|0,o=Math.imul(w,U),r=r+Math.imul(m,V)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,H)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,q)|0;var be=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,F),i=(i=Math.imul(S,U))+Math.imul(x,F)|0,o=Math.imul(x,U),r=r+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,H)|0,r=r+Math.imul(m,G)|0,i=(i=i+Math.imul(m,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,$)|0;var _e=(l+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(k,F),i=(i=Math.imul(k,U))+Math.imul(A,F)|0,o=Math.imul(A,U),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,r=r+Math.imul(_,G)|0,i=(i=i+Math.imul(_,q)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,q)|0,r=r+Math.imul(m,X)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0;var we=(l+(r=r+Math.imul(h,ne)|0)|0)+((8191&(i=(i=i+Math.imul(h,re)|0)+Math.imul(f,ne)|0))<<13)|0;l=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,F),i=(i=Math.imul(P,U))+Math.imul(O,F)|0,o=Math.imul(O,U),r=r+Math.imul(k,V)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,H)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,q)|0,r=r+Math.imul(_,X)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,$)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0;var Ee=(l+(r=r+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;l=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(R,F),i=(i=Math.imul(R,U))+Math.imul(L,F)|0,o=Math.imul(L,U),r=r+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0;var Se=(l+(r=r+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,le)|0)+Math.imul(f,ue)|0))<<13)|0;l=((o=o+Math.imul(f,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,F),i=(i=Math.imul(D,U))+Math.imul(j,F)|0,o=Math.imul(j,U),r=r+Math.imul(R,V)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,H)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,q)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,$)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,le)|0;var xe=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;l=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(B,F),i=(i=Math.imul(B,U))+Math.imul(z,F)|0,o=Math.imul(z,U),r=r+Math.imul(D,V)|0,i=(i=i+Math.imul(D,H)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,H)|0,r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,q)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,le)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,le)|0,r=r+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(v,he)|0,o=o+Math.imul(v,fe)|0;var Me=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ve)|0)+Math.imul(f,pe)|0))<<13)|0;l=((o=o+Math.imul(f,ve)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(B,V),i=(i=Math.imul(B,H))+Math.imul(z,V)|0,o=Math.imul(z,H),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,q)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,$)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,r=r+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(m,he)|0,i=(i=i+Math.imul(m,fe)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,fe)|0;var ke=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;l=((o=o+Math.imul(v,ve)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,q))+Math.imul(z,G)|0,o=Math.imul(z,q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(O,ne)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,r=r+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,le)|0,r=r+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,fe)|0;var Ae=(l+(r=r+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ve)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,ve)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,X),i=(i=Math.imul(B,$))+Math.imul(z,X)|0,o=Math.imul(z,$),r=r+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,le)|0,r=r+Math.imul(S,he)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Te=(l+(r=r+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ve)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,ve)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,ee))+Math.imul(z,Q)|0,o=Math.imul(z,ee),r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(k,he)|0,i=(i=i+Math.imul(k,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Pe=(l+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(x,pe)|0))<<13)|0;l=((o=o+Math.imul(x,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(B,ne),i=(i=Math.imul(B,re))+Math.imul(z,ne)|0,o=Math.imul(z,re),r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ae)|0,r=r+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,le)|0,r=r+Math.imul(P,he)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,fe)|0;var Oe=(l+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ve)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,oe),i=(i=Math.imul(B,ae))+Math.imul(z,oe)|0,o=Math.imul(z,ae),r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,le)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,le)|0,r=r+Math.imul(R,he)|0,i=(i=i+Math.imul(R,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Ce=(l+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,ue),i=(i=Math.imul(B,le))+Math.imul(z,ue)|0,o=Math.imul(z,le),r=r+Math.imul(D,he)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(j,he)|0,o=o+Math.imul(j,fe)|0;var Re=(l+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ve)|0)+Math.imul(L,pe)|0))<<13)|0;l=((o=o+Math.imul(L,ve)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(B,he),i=(i=Math.imul(B,fe))+Math.imul(z,he)|0,o=Math.imul(z,fe);var Le=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,ve)|0)+Math.imul(j,pe)|0))<<13)|0;l=((o=o+Math.imul(j,ve)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ie=(l+(r=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ve))+Math.imul(z,pe)|0))<<13)|0;return l=((o=Math.imul(z,ve))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=ge,u[1]=me,u[2]=ye,u[3]=be,u[4]=_e,u[5]=we,u[6]=Ee,u[7]=Se,u[8]=xe,u[9]=Me,u[10]=ke,u[11]=Ae,u[12]=Te,u[13]=Pe,u[14]=Oe,u[15]=Ce,u[16]=Re,u[17]=Le,u[18]=Ie,0!==l&&(u[19]=l,n.length++),n};function v(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?p(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,h=(0|e.words[c])*(0|t.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):v(this,e,t),n},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},g.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},g.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var h=u,f=l,d=0;d<a;d++){var p=n[c+d],v=r[c+d],g=n[c+d+a],m=r[c+d+a],y=h*g-f*m;m=h*m+f*g,g=y,n[c+d]=p+g,r[c+d]=v+m,n[c+d+a]=p-g,r[c+d+a]=v-m,d!==s&&(y=u*h-l*f,f=u*f+l*h,h=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},g.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,h,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,h);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0===(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(n.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0===(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(b,y),b.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,y),i(w,y),i(E,y),E.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return m[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=a;0!==d.cmp(s);){for(var v=d,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));f=f.redMul(m),h=m.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new x(e)},i(x,S),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},7066:function(e,t,n){var r=n(1426),i=n(6647),o=n(7643),a=n(1842),s=n(6433),u=n(9968).version,l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function c(e){console.log("[dotenv@".concat(u,"][DEBUG] ").concat(e))}function h(){return{NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.DOTENV_KEY&&{NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.DOTENV_KEY.length>0?{NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.DOTENV_KEY:""}function f(e,t){var n;try{n=new URL(t)}catch(s){if("ERR_INVALID_URL"===s.code)throw new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=development");throw s}var r=n.password;if(!r)throw new Error("INVALID_DOTENV_KEY: Missing key part");var i=n.searchParams.get("environment");if(!i)throw new Error("INVALID_DOTENV_KEY: Missing environment part");var o="DOTENV_VAULT_".concat(i.toUpperCase()),a=e.parsed[o];if(!a)throw new Error("NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ".concat(o," in your .env.vault file."));return{ciphertext:a,key:r}}function d(e){var t=o.resolve(r.cwd(),".env");return e&&e.path&&e.path.length>0&&(t=e.path),t.endsWith(".vault")?t:"".concat(t,".vault")}var p={configDotenv:function(e){var t,n=o.resolve(r.cwd(),".env"),s="utf8",u=Boolean(e&&e.debug);e&&(null!=e.path&&(n="~"===(t=e.path)[0]?o.join(a.homedir(),t.slice(1)):t),null!=e.encoding&&(s=e.encoding));try{var l=p.parse(i.readFileSync(n,{encoding:s})),h={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"};return e&&null!=e.processEnv&&(h=e.processEnv),p.populate(h,l,e),{parsed:l}}catch(f){return u&&c("Failed to load ".concat(n," ").concat(f.message)),{error:f}}},_configVault:function(e){var t;t="Loading env from encrypted .env.vault",console.log("[dotenv@".concat(u,"][INFO] ").concat(t));var n=p._parseVault(e),r={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"};return e&&null!=e.processEnv&&(r=e.processEnv),p.populate(r,n,e),{parsed:n}},_parseVault:function(e){var t=d(e),n=p.configDotenv({path:t});if(!n.parsed)throw new Error("MISSING_DATA: Cannot parse ".concat(t," for an unknown reason"));for(var r,i=h().split(","),o=i.length,a=0;a<o;a++)try{var s=f(n,i[a].trim());r=p.decrypt(s.ciphertext,s.key);break}catch(u){if(a+1>=o)throw u}return p.parse(r)},config:function(e){var t,n=d(e);return 0===h().length?p.configDotenv(e):i.existsSync(n)?p._configVault(e):(t="You set DOTENV_KEY but you are missing a .env.vault file at ".concat(n,". Did you forget to build it?"),console.log("[dotenv@".concat(u,"][WARN] ").concat(t)),p.configDotenv(e))},decrypt:function(e,t){var n=Buffer.from(t.slice(-64),"hex"),r=Buffer.from(e,"base64"),i=r.slice(0,12),o=r.slice(-16);r=r.slice(12,-16);try{var a=s.createDecipheriv("aes-256-gcm",n,i);return a.setAuthTag(o),"".concat(a.update(r)).concat(a.final())}catch(h){var u=h instanceof RangeError,l="Invalid key length"===h.message,c="Unsupported state or unable to authenticate data"===h.message;if(u||l){throw new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)")}if(c){throw new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY")}throw console.error("Error: ",h.code),console.error("Error: ",h.message),h}},parse:function(e){var t,n={},r=e.toString();for(r=r.replace(/\r\n?/gm,"\n");null!=(t=l.exec(r));){var i=t[1],o=t[2]||"",a=(o=o.trim())[0];o=o.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===a&&(o=(o=o.replace(/\\n/g,"\n")).replace(/\\r/g,"\r")),n[i]=o}return n},populate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Boolean(n&&n.debug),i=Boolean(n&&n.override);if("object"!==typeof t)throw new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");for(var o=0,a=Object.keys(t);o<a.length;o++){var s=a[o];Object.prototype.hasOwnProperty.call(e,s)?(!0===i&&(e[s]=t[s]),r&&c('"'.concat(s,!0===i?'" is already defined and WAS overwritten':'" is already defined and was NOT overwritten'))):e[s]=t[s]}}};e.exports.configDotenv=p.configDotenv,e.exports._configVault=p._configVault,e.exports._parseVault=p._parseVault,e.exports.config=p.config,e.exports.decrypt=p.decrypt,e.exports.parse=p.parse,e.exports.populate=p.populate,e.exports=p},7089:function(e){"use strict";function t(e,t,r){r=r||2;var o,a,s,u,h,f,p,v=t&&t.length,g=v?t[0]*r:e.length,m=n(e,0,g,r,!0),y=[];if(!m||m.next===m.prev)return y;if(v&&(m=function(e,t,r,i){var o,a,s,u=[];for(o=0,a=t.length;o<a;o++)(s=n(e,t[o]*i,o<a-1?t[o+1]*i:e.length,i,!1))===s.next&&(s.steiner=!0),u.push(d(s));for(u.sort(l),o=0;o<u.length;o++)r=c(u[o],r);return r}(e,t,m,r)),e.length>80*r){o=s=e[0],a=u=e[1];for(var b=r;b<g;b+=r)(h=e[b])<o&&(o=h),(f=e[b+1])<a&&(a=f),h>s&&(s=h),f>u&&(u=f);p=0!==(p=Math.max(s-o,u-a))?32767/p:0}return i(m,y,r,o,a,p,0),y}function n(e,t,n,r,i){var o,a;if(i===k(e,t,n,r)>0)for(o=t;o<n;o+=r)a=S(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=S(o,e[o],e[o+1],a);return a&&m(a,a.next)&&(x(a),a=a.next),a}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(x(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function i(e,t,n,l,c,h,d){if(e){!d&&h&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=f(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,l,c,h);for(var p,v,g=e;e.prev!==e.next;)if(p=e.prev,v=e.next,h?a(e,l,c,h):o(e))t.push(p.i/n|0),t.push(e.i/n|0),t.push(v.i/n|0),x(e),e=v.next,g=v.next;else if((e=v)===g){d?1===d?i(e=s(r(e),t,n),t,n,l,c,h,2):2===d&&u(e,t,n,l,c,h):i(r(e),t,n,l,c,h,1);break}}}function o(e){var t=e.prev,n=e,r=e.next;if(g(t,n,r)>=0)return!1;for(var i=t.x,o=n.x,a=r.x,s=t.y,u=n.y,l=r.y,c=i<o?i<a?i:a:o<a?o:a,h=s<u?s<l?s:l:u<l?u:l,f=i>o?i>a?i:a:o>a?o:a,d=s>u?s>l?s:l:u>l?u:l,v=r.next;v!==t;){if(v.x>=c&&v.x<=f&&v.y>=h&&v.y<=d&&p(i,s,o,u,a,l,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function a(e,t,n,r){var i=e.prev,o=e,a=e.next;if(g(i,o,a)>=0)return!1;for(var s=i.x,u=o.x,l=a.x,c=i.y,h=o.y,d=a.y,v=s<u?s<l?s:l:u<l?u:l,m=c<h?c<d?c:d:h<d?h:d,y=s>u?s>l?s:l:u>l?u:l,b=c>h?c>d?c:d:h>d?h:d,_=f(v,m,t,n,r),w=f(y,b,t,n,r),E=e.prevZ,S=e.nextZ;E&&E.z>=_&&S&&S.z<=w;){if(E.x>=v&&E.x<=y&&E.y>=m&&E.y<=b&&E!==i&&E!==a&&p(s,c,u,h,l,d,E.x,E.y)&&g(E.prev,E,E.next)>=0)return!1;if(E=E.prevZ,S.x>=v&&S.x<=y&&S.y>=m&&S.y<=b&&S!==i&&S!==a&&p(s,c,u,h,l,d,S.x,S.y)&&g(S.prev,S,S.next)>=0)return!1;S=S.nextZ}for(;E&&E.z>=_;){if(E.x>=v&&E.x<=y&&E.y>=m&&E.y<=b&&E!==i&&E!==a&&p(s,c,u,h,l,d,E.x,E.y)&&g(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;S&&S.z<=w;){if(S.x>=v&&S.x<=y&&S.y>=m&&S.y<=b&&S!==i&&S!==a&&p(s,c,u,h,l,d,S.x,S.y)&&g(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function s(e,t,n){var i=e;do{var o=i.prev,a=i.next.next;!m(o,a)&&y(o,i,i.next,a)&&w(o,a)&&w(a,o)&&(t.push(o.i/n|0),t.push(i.i/n|0),t.push(a.i/n|0),x(i),x(i.next),i=e=a),i=i.next}while(i!==e);return r(i)}function u(e,t,n,o,a,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&v(u,l)){var c=E(u,l);return u=r(u,u.next),c=r(c,c.next),i(u,t,n,o,a,s,0),void i(c,t,n,o,a,s,0)}l=l.next}u=u.next}while(u!==e)}function l(e,t){return e.x-t.x}function c(e,t){var n=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var u,l=n,c=n.x,f=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&p(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),w(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,d=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var i=E(n,e);return r(i,i.next),r(n,n.next)}function h(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function f(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function p(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function v(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&y(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(w(e,t)&&w(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||m(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function y(e,t,n,r){var i=_(g(e,t,n)),o=_(g(e,t,r)),a=_(g(n,r,e)),s=_(g(n,r,t));return i!==o&&a!==s||(!(0!==i||!b(e,n,t))||(!(0!==o||!b(e,r,t))||(!(0!==a||!b(n,e,r))||!(0!==s||!b(n,t,r)))))}function b(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function _(e){return e>0?1:e<0?-1:0}function w(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function E(e,t){var n=new M(e.i,e.x,e.y),r=new M(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function S(e,t,n,r){var i=new M(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function x(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function M(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function k(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(k(e,0,o,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;a-=Math.abs(k(e,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((e[f]-e[p])*(e[d+1]-e[f+1])-(e[f]-e[d])*(e[p+1]-e[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},6289:function(e,t,n){"use strict";var r=t;r.version=n(8597).i8,r.utils=n(2629),r.rand=n(6084),r.curve=n(7075),r.curves=n(3297),r.ec=n(4170),r.eddsa=n(156)},5950:function(e,t,n){"use strict";var r=n(7548),i=n(2629),o=i.getNAF,a=i.getJSF,s=i.assert;function u(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),r=o(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a,u,l=[];for(a=0;a<r.length;a+=n.step){u=0;for(var c=a+n.step-1;c>=a;c--)u=(u<<1)+r[c];l.push(u)}for(var h=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(a=0;a<l.length;a++)(u=l[a])===d?f=f.mixedAdd(n.points[a]):u===-d&&(f=f.mixedAdd(n.points[a].neg()));h=h.add(f)}return h.toP()},u.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=o(t,n,this._bitLength),u=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var c=0;l>=0&&0===a[l];l--)c++;if(l>=0&&c++,u=u.dblp(c),l<0)break;var h=a[l];s(0!==h),u="affine"===e.type?h>0?u.mixedAdd(i[h-1>>1]):u.mixedAdd(i[-h-1>>1].neg()):h>0?u.add(i[h-1>>1]):u.add(i[-h-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,n,r,i){var s,u,l,c=this._wnafT1,h=this._wnafT2,f=this._wnafT3,d=0;for(s=0;s<r;s++){var p=(l=t[s])._getNAFPoints(e);c[s]=p.wnd,h[s]=p.points}for(s=r-1;s>=1;s-=2){var v=s-1,g=s;if(1===c[v]&&1===c[g]){var m=[t[v],null,null,t[g]];0===t[v].y.cmp(t[g].y)?(m[1]=t[v].add(t[g]),m[2]=t[v].toJ().mixedAdd(t[g].neg())):0===t[v].y.cmp(t[g].y.redNeg())?(m[1]=t[v].toJ().mixedAdd(t[g]),m[2]=t[v].add(t[g].neg())):(m[1]=t[v].toJ().mixedAdd(t[g]),m[2]=t[v].toJ().mixedAdd(t[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=a(n[v],n[g]);for(d=Math.max(b[0].length,d),f[v]=new Array(d),f[g]=new Array(d),u=0;u<d;u++){var _=0|b[0][u],w=0|b[1][u];f[v][u]=y[3*(_+1)+(w+1)],f[g][u]=0,h[v]=m}}else f[v]=o(n[v],c[v],this._bitLength),f[g]=o(n[g],c[g],this._bitLength),d=Math.max(f[v].length,d),d=Math.max(f[g].length,d)}var E=this.jpoint(null,null,null),S=this._wnafT4;for(s=d;s>=0;s--){for(var x=0;s>=0;){var M=!0;for(u=0;u<r;u++)S[u]=0|f[u][s],0!==S[u]&&(M=!1);if(!M)break;x++,s--}if(s>=0&&x++,E=E.dblp(x),s<0)break;for(u=0;u<r;u++){var k=S[u];0!==k&&(k>0?l=h[u][k-1>>1]:k<0&&(l=h[u][-k-1>>1].neg()),E="affine"===l.type?E.mixedAdd(l):E.add(l))}}for(s=0;s<r;s++)h[s]=null;return i?E:E.toP()},u.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*n)return 6===e[0]?s(e[e.length-1]%2===0):7===e[0]&&s(e[e.length-1]%2===1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)r=r.dbl();n.push(r)}return{step:e,points:n}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},2124:function(e,t,n){"use strict";var r=n(2629),i=n(7548),o=n(2534),a=n(5950),s=r.assert;function u(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function l(e,t,n,r,o){a.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,a),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)},u.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},o(l,a.BasePoint),u.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},u.prototype.point=function(e,t,n,r){return new l(this,e,t,n,r)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(n),s=r.redSub(t),u=i.redMul(a),l=o.redMul(s),c=i.redMul(s),h=a.redMul(o);return this.curve.point(u,l,h,c)},l.prototype._projDbl=function(){var e,t,n,r,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var l=(r=this.curve._mulA(s)).redAdd(u);this.zOne?(e=a.redSub(s).redSub(u).redMul(l.redSub(this.curve.two)),t=l.redMul(r.redSub(u)),n=l.redSqr().redSub(l).redSub(l)):(i=this.z.redSqr(),o=l.redSub(i).redISub(i),e=a.redSub(s).redISub(u).redMul(o),t=l.redMul(r.redSub(u)),n=l.redMul(o))}else r=s.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=r.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(r)).redMul(o),t=this.curve._mulC(r).redMul(s.redISub(u)),n=r.redMul(o);return this.curve.point(e,t,n)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=i.redSub(r),s=i.redAdd(r),u=n.redAdd(t),l=o.redMul(a),c=s.redMul(u),h=o.redMul(u),f=a.redMul(s);return this.curve.point(l,c,f,h)},l.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),u=i.redSub(s),l=i.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),h=r.redMul(u).redMul(c);return this.curve.twisted?(t=r.redMul(l).redMul(a.redSub(this.curve._mulA(o))),n=u.redMul(l)):(t=r.redMul(l).redMul(a.redSub(o)),n=this.curve._mulC(u).redMul(l)),this.curve.point(h,t,n)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},l.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},7075:function(e,t,n){"use strict";var r=t;r.base=n(5950),r.short=n(5536),r.mont=n(9113),r.edwards=n(2124)},9113:function(e,t,n){"use strict";var r=n(7548),i=n(2534),o=n(5950),a=n(2629);function s(e){o.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,n){o.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},i(u,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new u(this,e,t)},s.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(n),a=i.redMul(r),s=t.z.redMul(o.redAdd(a).redSqr()),u=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},u.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},5536:function(e,t,n){"use strict";var r=n(2629),i=n(7548),o=n(2534),a=n(5950),s=r.assert;function u(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,n,r){a.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(e,t,n,r){a.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,a),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(n)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,n,r,o,a,s,u,l,c,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,d=this.n.clone(),p=new i(1),v=new i(0),g=new i(0),m=new i(1),y=0;0!==f.cmpn(0);){var b=d.div(f);l=d.sub(b.mul(f)),c=g.sub(b.mul(p));var _=m.sub(b.mul(v));if(!r&&l.cmp(h)<0)t=u.neg(),n=p,r=l.neg(),o=c;else if(r&&2===++y)break;u=l,d=f,f=l,g=p,p=c,m=v,v=_}a=l.neg(),s=c;var w=r.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a:a,b:s}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),u=i.mul(n.b),l=o.mul(r.b);return{k1:e.sub(a).sub(s),k2:u.add(l).neg()}},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(t&&!o||!t&&o)&&(r=r.redNeg()),this.point(e,r)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),r[2*o]=s,r[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,r,i,2*o,n),c=0;c<2*o;c++)r[c]=null,i[c]=null;return l},o(l,a.BasePoint),u.prototype.point=function(e,t,n){return new l(this,e,t,n)},u.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,n){"string"===typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var o=t[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},l.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(c,a.BasePoint),u.prototype.jpoint=function(e,t,n){return new c(this,e,t,n)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=r.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),h=r.redMul(l),f=u.redSqr().redIAdd(c).redISub(h).redISub(h),d=u.redMul(h.redISub(f)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,d,p)},c.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),c=n.redMul(u),h=s.redSqr().redIAdd(l).redISub(c).redISub(c),f=s.redMul(c.redISub(h)).redISub(i.redMul(l)),d=this.z.redMul(a);return this.curve.jpoint(h,f,d)},c.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),l=a.redAdd(a);for(t=0;t<e;t++){var c=o.redSqr(),h=l.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(r.redMul(u)),p=o.redMul(h),v=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(v),m=d.redMul(g);m=m.redIAdd(m).redISub(f);var y=l.redMul(s);t+1<e&&(u=u.redMul(f)),o=v,s=y,l=m}return this.curve.jpoint(o,l.redMul(i),s)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),u=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=s.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),v=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),e=v.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},c.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),v=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(v),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=d.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,n)},c.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(a),c=s.redSqr().redISub(l.redAdd(l)),h=l.redISub(c),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=s.redMul(h).redISub(f),p=n.redAdd(n).redMul(r);return this.curve.jpoint(c,d,p)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(s).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(h,f,d)},c.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},c.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},c.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},3297:function(e,t,n){"use strict";var r,i=t,o=n(3125),a=n(7075),s=n(2629).assert;function u(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new u(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=u,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(1025)}catch(c){r=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},4170:function(e,t,n){"use strict";var r=n(7548),i=n(7411),o=n(2629),a=n(3297),s=n(6084),u=o.assert,l=n(615),c=n(3198);function h(e){if(!(this instanceof h))return new h(e);"string"===typeof e&&(u(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new l(this,e)},h.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(t.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},h.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,n,o){"object"===typeof n&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new r(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),u=e.toArray("be",a),l=new i({hash:this.hash,entropy:s,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),h=this.n.sub(new r(1)),f=0;;f++){var d=o.k?o.k(f):new r(l.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(h)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var v=p.getX(),g=v.umod(this.n);if(0!==g.cmpn(0)){var m=d.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==v.cmp(g)?2:0);return o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new c({r:g,s:m,recoveryParam:y})}}}}}},h.prototype.verify=function(e,t,n,i){e=this._truncateToN(new r(e,16)),n=this.keyFromPublic(n,i);var o=(t=new c(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,u=a.invm(this.n),l=u.mul(e).umod(this.n),h=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,n.getPublic(),h)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(l,n.getPublic(),h)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},h.prototype.recoverPubKey=function(e,t,n,i){u((3&n)===n,"The recovery param is more than two bits"),t=new c(t,i);var o=this.n,a=new r(e),s=t.r,l=t.s,h=1&n,f=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");s=f?this.curve.pointFromX(s.add(this.curve.n),h):this.curve.pointFromX(s,h);var d=t.r.invm(o),p=o.sub(a).mul(d).umod(o),v=l.mul(d).umod(o);return this.g.mulAdd(p,s,v)},h.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new c(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},615:function(e,t,n){"use strict";var r=n(7548),i=n(2629).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,n){return t instanceof o?t:new o(e,{pub:t,pubEnc:n})},o.fromPrivate=function(e,t,n){return t instanceof o?t:new o(e,{priv:t,privEnc:n})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},3198:function(e,t,n){"use strict";var r=n(7548),i=n(2629),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function u(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,a=t.place;o<r;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function l(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function c(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new s;if(48!==e[n.place++])return!1;var o=u(e,n);if(!1===o)return!1;if(o+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var a=u(e,n);if(!1===a)return!1;var l=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var c=u(e,n);if(!1===c)return!1;if(e.length!==c+n.place)return!1;var h=e.slice(n.place,c+n.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new r(l),this.s=new r(h),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=l(t),n=l(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var r=[2];c(r,t.length),(r=r.concat(t)).push(2),c(r,n.length);var o=r.concat(n),a=[48];return c(a,o.length),a=a.concat(o),i.encode(a,e)}},156:function(e,t,n){"use strict";var r=n(3125),i=n(3297),o=n(2629),a=o.assert,s=o.parseBytes,u=n(1722),l=n(8574);function c(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof c))return new c(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=c,c.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),u=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},c.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(o)},c.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},c.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},c.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},c.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},c.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!==(128&e[t]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},c.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(e){return o.intFromLE(e)},c.prototype.isPoint=function(e){return e instanceof this.pointClass}},1722:function(e,t,n){"use strict";var r=n(2629),i=r.assert,o=r.parseBytes,a=r.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},s.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=s},8574:function(e,t,n){"use strict";var r=n(7548),i=n(2629),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function u(e,t){this.eddsa=e,"object"!==typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},1025:function(e){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},2629:function(e,t,n){"use strict";var r=t,i=n(7548),o=n(2325),a=n(4034);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<r.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,r[a]=s,o.iushrn(1)}return r},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,u=e.andln(3)+i&3,l=t.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),a=0===(1&u)?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==l?u:-u,n[0].push(a),s=0===(1&l)?0:3!==(r=t.andln(7)+o&7)&&5!==r||2!==u?l:-l,n[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},7548:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(5568).Buffer}catch(M){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function l(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,f=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=f;d++){var p=l-d|0;c+=(a=(i=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],d=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var v=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?v+n:c[l-v.length]+v+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!==typeof a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,l=new e(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,l=0,c=0|a[0],h=8191&c,f=c>>>13,d=0|a[1],p=8191&d,v=d>>>13,g=0|a[2],m=8191&g,y=g>>>13,b=0|a[3],_=8191&b,w=b>>>13,E=0|a[4],S=8191&E,x=E>>>13,M=0|a[5],k=8191&M,A=M>>>13,T=0|a[6],P=8191&T,O=T>>>13,C=0|a[7],R=8191&C,L=C>>>13,I=0|a[8],D=8191&I,j=I>>>13,N=0|a[9],B=8191&N,z=N>>>13,Z=0|s[0],F=8191&Z,U=Z>>>13,K=0|s[1],V=8191&K,H=K>>>13,W=0|s[2],G=8191&W,q=W>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,fe=ce>>>13,de=0|s[9],pe=8191&de,ve=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(l+(r=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,U))+Math.imul(f,F)|0))<<13)|0;l=((o=Math.imul(f,U))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,U))+Math.imul(v,F)|0,o=Math.imul(v,U);var me=(l+(r=r+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,F),i=(i=Math.imul(m,U))+Math.imul(y,F)|0,o=Math.imul(y,U),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,H)|0;var ye=(l+(r=r+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,G)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(_,F),i=(i=Math.imul(_,U))+Math.imul(w,F)|0,o=Math.imul(w,U),r=r+Math.imul(m,V)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,H)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,q)|0;var be=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,F),i=(i=Math.imul(S,U))+Math.imul(x,F)|0,o=Math.imul(x,U),r=r+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,H)|0,r=r+Math.imul(m,G)|0,i=(i=i+Math.imul(m,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,$)|0;var _e=(l+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(k,F),i=(i=Math.imul(k,U))+Math.imul(A,F)|0,o=Math.imul(A,U),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,r=r+Math.imul(_,G)|0,i=(i=i+Math.imul(_,q)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,q)|0,r=r+Math.imul(m,X)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0;var we=(l+(r=r+Math.imul(h,ne)|0)|0)+((8191&(i=(i=i+Math.imul(h,re)|0)+Math.imul(f,ne)|0))<<13)|0;l=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,F),i=(i=Math.imul(P,U))+Math.imul(O,F)|0,o=Math.imul(O,U),r=r+Math.imul(k,V)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,H)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,q)|0,r=r+Math.imul(_,X)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,$)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0;var Ee=(l+(r=r+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;l=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(R,F),i=(i=Math.imul(R,U))+Math.imul(L,F)|0,o=Math.imul(L,U),r=r+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0;var Se=(l+(r=r+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,le)|0)+Math.imul(f,ue)|0))<<13)|0;l=((o=o+Math.imul(f,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,F),i=(i=Math.imul(D,U))+Math.imul(j,F)|0,o=Math.imul(j,U),r=r+Math.imul(R,V)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,H)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,q)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,$)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,le)|0;var xe=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;l=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(B,F),i=(i=Math.imul(B,U))+Math.imul(z,F)|0,o=Math.imul(z,U),r=r+Math.imul(D,V)|0,i=(i=i+Math.imul(D,H)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,H)|0,r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,q)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,le)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,le)|0,r=r+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(v,he)|0,o=o+Math.imul(v,fe)|0;var Me=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ve)|0)+Math.imul(f,pe)|0))<<13)|0;l=((o=o+Math.imul(f,ve)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(B,V),i=(i=Math.imul(B,H))+Math.imul(z,V)|0,o=Math.imul(z,H),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,q)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,$)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,r=r+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(m,he)|0,i=(i=i+Math.imul(m,fe)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,fe)|0;var ke=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;l=((o=o+Math.imul(v,ve)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,q))+Math.imul(z,G)|0,o=Math.imul(z,q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(O,ne)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,r=r+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,le)|0,r=r+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,fe)|0;var Ae=(l+(r=r+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ve)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,ve)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,X),i=(i=Math.imul(B,$))+Math.imul(z,X)|0,o=Math.imul(z,$),r=r+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,le)|0,r=r+Math.imul(S,he)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Te=(l+(r=r+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ve)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,ve)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,ee))+Math.imul(z,Q)|0,o=Math.imul(z,ee),r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(k,he)|0,i=(i=i+Math.imul(k,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Pe=(l+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(x,pe)|0))<<13)|0;l=((o=o+Math.imul(x,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(B,ne),i=(i=Math.imul(B,re))+Math.imul(z,ne)|0,o=Math.imul(z,re),r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ae)|0,r=r+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,le)|0,r=r+Math.imul(P,he)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,fe)|0;var Oe=(l+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ve)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,oe),i=(i=Math.imul(B,ae))+Math.imul(z,oe)|0,o=Math.imul(z,ae),r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,le)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,le)|0,r=r+Math.imul(R,he)|0,i=(i=i+Math.imul(R,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Ce=(l+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,ue),i=(i=Math.imul(B,le))+Math.imul(z,ue)|0,o=Math.imul(z,le),r=r+Math.imul(D,he)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(j,he)|0,o=o+Math.imul(j,fe)|0;var Re=(l+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ve)|0)+Math.imul(L,pe)|0))<<13)|0;l=((o=o+Math.imul(L,ve)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(B,he),i=(i=Math.imul(B,fe))+Math.imul(z,he)|0,o=Math.imul(z,fe);var Le=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,ve)|0)+Math.imul(j,pe)|0))<<13)|0;l=((o=o+Math.imul(j,ve)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ie=(l+(r=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ve))+Math.imul(z,pe)|0))<<13)|0;return l=((o=Math.imul(z,ve))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=ge,u[1]=me,u[2]=ye,u[3]=be,u[4]=_e,u[5]=we,u[6]=Ee,u[7]=Se,u[8]=xe,u[9]=Me,u[10]=ke,u[11]=Ae,u[12]=Te,u[13]=Pe,u[14]=Oe,u[15]=Ce,u[16]=Re,u[17]=Le,u[18]=Ie,0!==l&&(u[19]=l,n.length++),n};function v(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?p(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,h=(0|e.words[c])*(0|t.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):v(this,e,t),n},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},g.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},g.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var h=u,f=l,d=0;d<a;d++){var p=n[c+d],v=r[c+d],g=n[c+d+a],m=r[c+d+a],y=h*g-f*m;m=h*m+f*g,g=y,n[c+d]=p+g,r[c+d]=v+m,n[c+d+a]=p-g,r[c+d+a]=v-m,d!==s&&(y=u*h-l*f,f=u*f+l*h,h=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},g.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,h,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,h);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0===(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(n.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0===(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(b,y),b.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,y),i(w,y),i(E,y),E.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return m[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=a;0!==d.cmp(s);){for(var v=d,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));f=f.redMul(m),h=m.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new x(e)},i(x,S),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},7465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,a,l;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,l=c,console&&console.warn&&console.warn(l)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"===typeof u)r(u,this,t);else{var l=u.length,c=p(u,l);for(n=0;n<l;++n)r(c[n],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},8462:function(e,t,n){var r=n(2543).Buffer,i=n(8437);e.exports=function(e,t,n,o){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=r.alloc(a),u=r.alloc(o||0),l=r.alloc(0);a>0||o>0;){var c=new i;c.update(l),c.update(e),t&&c.update(t),l=c.digest();var h=0;if(a>0){var f=s.length-a;h=Math.min(a,l.length),l.copy(s,f,0,h),a-=h}if(h<l.length&&o>0){var d=u.length-o,p=Math.min(o,l.length-h);l.copy(u,d,h,h+p),o-=p}}return l.fill(0),{key:s,iv:u}}},5244:function(e,t){!function(e){"use strict";var t="function"===typeof WeakMap,n=Object.keys;function r(e,t){return e===t||e!==e&&t!==t}function i(e){return e.constructor===Object||null==e.constructor}function o(e){return!!e&&"function"===typeof e.then}function a(e){return!(!e||!e.$$typeof)}function s(){var e=[];return{delete:function(t){for(var n=0;n<e.length;++n)if(e[n][0]===t)return void e.splice(n,1)},get:function(t){for(var n=0;n<e.length;++n)if(e[n][0]===t)return e[n][1]},set:function(t,n){for(var r=0;r<e.length;++r)if(e[r][0]===t)return void(e[r][1]=n);e.push([t,n])}}}var u=t?function(){return new WeakMap}:s;function l(e){return function(t){var n=e||t;return function(e,t,r,i,o,a,s){void 0===s&&(s=u());var l=!!e&&"object"===typeof e,c=!!t&&"object"===typeof t;if(l!==c)return!1;if(!l&&!c)return n(e,t,s);var h=s.get(e);if(h&&s.get(t))return h===t;s.set(e,t),s.set(t,e);var f=n(e,t,s);return s.delete(e),s.delete(t),f}}}function c(e,t,n,r){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!n(e[i],t[i],i,i,e,t,r))return!1;return!0}function h(e,t,n,r){var i=e.size===t.size;if(i&&e.size){var o={},a=0;e.forEach((function(s,u){if(i){var l=!1,c=0;t.forEach((function(i,h){l||o[c]||(l=n(u,h,a,c,e,t,r)&&n(s,i,u,h,e,t,r))&&(o[c]=!0),c++})),a++,i=l}}))}return i}var f="_owner",d=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function p(e,t,r,i){var o=n(e),s=o.length;if(n(t).length!==s)return!1;if(s)for(var u=void 0;s-- >0;){if((u=o[s])===f){var l=a(e),c=a(t);if((l||c)&&l!==c)return!1}if(!d(t,u)||!r(e[u],t[u],u,u,e,t,i))return!1}return!0}var v="g"===/foo/g.flags?function(e,t){return e.source===t.source&&e.flags===t.flags}:function(e,t){return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.unicode===t.unicode&&e.sticky===t.sticky&&e.lastIndex===t.lastIndex};function g(e,t,n,r){var i=e.size===t.size;if(i&&e.size){var o={};e.forEach((function(a,s){if(i){var u=!1,l=0;t.forEach((function(i,c){u||o[l]||(u=n(a,i,s,c,e,t,r))&&(o[l]=!0),l++})),i=u}}))}return i}var m="function"===typeof Map,y="function"===typeof Set,b=Object.prototype.valueOf;function _(e){var t="function"===typeof e?e(n):function(e,t,r,i,o,a,s){return n(e,t,s)};function n(e,n,a){if(e===n)return!0;if(e&&n&&"object"===typeof e&&"object"===typeof n){if(i(e)&&i(n))return p(e,n,t,a);var s=Array.isArray(e),u=Array.isArray(n);return s||u?s===u&&c(e,n,t,a):(s=e instanceof Date,u=n instanceof Date,s||u?s===u&&r(e.getTime(),n.getTime()):(s=e instanceof RegExp,u=n instanceof RegExp,s||u?s===u&&v(e,n):o(e)||o(n)?e===n:m&&(s=e instanceof Map,u=n instanceof Map,s||u)?s===u&&h(e,n,t,a):y&&(s=e instanceof Set,u=n instanceof Set,s||u)?s===u&&g(e,n,t,a):e.valueOf!==b||n.valueOf!==b?r(e.valueOf(),n.valueOf()):p(e,n,t,a)))}return e!==e&&n!==n}return n}var w=_(),E=_((function(){return r})),S=_(l()),x=_(l(r));e.circularDeepEqual=S,e.circularShallowEqual=x,e.createCustomEqual=_,e.deepEqual=w,e.sameValueZeroEqual=r,e.shallowEqual=E,Object.defineProperty(e,"__esModule",{value:!0})}(t)},8959:function(e){function t(e,t,n,r){var i,o=null==(i=r)||"number"===typeof i||"boolean"===typeof i?r:n(r),a=t.get(o);return"undefined"===typeof a&&(a=e.call(this,r),t.set(o,a)),a}function n(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return"undefined"===typeof o&&(o=e.apply(this,r),t.set(i,o)),o}function r(e,t,n,r,i){return n.bind(t,e,r,i)}function i(e,i){return r(e,this,1===e.length?t:n,i.cache.create(),i.serializer)}function o(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(e){return e in this.cache},a.prototype.get=function(e){return this.cache[e]},a.prototype.set=function(e,t){this.cache[e]=t};var s={create:function(){return new a}};e.exports=function(e,t){var n=t&&t.cache?t.cache:s,r=t&&t.serializer?t.serializer:o;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return r(e,this,n,t.cache.create(),t.serializer)},monadic:function(e,n){return r(e,this,t,n.cache.create(),n.serializer)}}},3236:function(e){e.exports=function(){"use strict";function e(e,t){return e.slice(0,t).join(".")||"."}function t(e,t){for(var n=e.length,r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function n(n,r){var i="function"===typeof n,o="function"===typeof r,a=[],s=[];return function(u,l){if("object"===typeof l)if(a.length){var c=t(a,this);0===c?a[a.length]=this:(a.splice(c),s.splice(c)),s[s.length]=u;var h=t(a,l);if(0!==h)return o?r.call(this,u,l,e(s,h)):"[ref="+e(s,h)+"]"}else a[0]=l,s[0]=u;return i?n.call(this,u,l):l}}function r(e,t,r,i){return JSON.stringify(e,n(t,i),r)}return r}()},1335:function(e,t,n){"use strict";var r=n(2990),i=n(7011),o=n(461);e.exports={XMLParser:i,XMLValidator:r,XMLBuilder:o}},6012:function(e,t){"use strict";var n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+(n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*",i=new RegExp("^"+r+"$");t.isExist=function(e){return"undefined"!==typeof e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t)for(var r=Object.keys(t),i=r.length,o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){var t=i.exec(e);return!(null===t||"undefined"===typeof t)},t.getAllMatches=function(e,t){for(var n=[],r=t.exec(e);r;){var i=[];i.startIndex=t.lastIndex-r[0].length;for(var o=r.length,a=0;a<o;a++)i.push(r[a]);n.push(i),r=t.exec(e)}return n},t.nameRegexp=r},2990:function(e,t,n){"use strict";var r=n(6012),i={allowBooleanAttributes:!1,unpairedTags:[]};function o(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function a(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var r=e.substr(n,t-n);if(t>5&&"xml"===r)return p("InvalidXml","XML declaration allowed only at the start of the document.",g(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function s(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){var n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&0===--n)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=Object.assign({},i,t);var n,u=[],l=!1,h=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(var v=0;v<e.length;v++)if("<"===e[v]&&"?"===e[v+1]){if((v=a(e,v+=2)).err)return v}else{if("<"!==e[v]){if(o(e[v]))continue;return p("InvalidChar","char '"+e[v]+"' is not expected.",g(e,v))}var m=v;if("!"===e[++v]){v=s(e,v);continue}var y=!1;"/"===e[v]&&(y=!0,v++);for(var b="";v<e.length&&">"!==e[v]&&" "!==e[v]&&"\t"!==e[v]&&"\n"!==e[v]&&"\r"!==e[v];v++)b+=e[v];if("/"===(b=b.trim())[b.length-1]&&(b=b.substring(0,b.length-1),v--),n=b,!r.isName(n)){return p("InvalidTag",0===b.trim().length?"Invalid space after '<'.":"Tag '"+b+"' is an invalid name.",g(e,v))}var _=c(e,v);if(!1===_)return p("InvalidAttr","Attributes for '"+b+"' have open quote.",g(e,v));var w=_.value;if(v=_.index,"/"===w[w.length-1]){var E=v-w.length,S=f(w=w.substring(0,w.length-1),t);if(!0!==S)return p(S.err.code,S.err.msg,g(e,E+S.err.line));l=!0}else if(y){if(!_.tagClosed)return p("InvalidTag","Closing tag '"+b+"' doesn't have proper closing.",g(e,v));if(w.trim().length>0)return p("InvalidTag","Closing tag '"+b+"' can't have attributes or invalid starting.",g(e,m));var x=u.pop();if(b!==x.tagName){var M=g(e,x.tagStartPos);return p("InvalidTag","Expected closing tag '"+x.tagName+"' (opened in line "+M.line+", col "+M.col+") instead of closing tag '"+b+"'.",g(e,m))}0==u.length&&(h=!0)}else{var k=f(w,t);if(!0!==k)return p(k.err.code,k.err.msg,g(e,v-w.length+k.err.line));if(!0===h)return p("InvalidXml","Multiple possible root nodes found.",g(e,v));-1!==t.unpairedTags.indexOf(b)||u.push({tagName:b,tagStartPos:m}),l=!0}for(v++;v<e.length;v++)if("<"===e[v]){if("!"===e[v+1]){v=s(e,++v);continue}if("?"!==e[v+1])break;if((v=a(e,++v)).err)return v}else if("&"===e[v]){var A=d(e,v);if(-1==A)return p("InvalidChar","char '&' is not expected.",g(e,v));v=A}else if(!0===h&&!o(e[v]))return p("InvalidXml","Extra text at the end",g(e,v));"<"===e[v]&&v--}return l?1==u.length?p("InvalidTag","Unclosed tag '"+u[0].tagName+"'.",g(e,u[0].tagStartPos)):!(u.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(u.map((function(e){return e.tagName})),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)};var u='"',l="'";function c(e,t){for(var n="",r="",i=!1;t<e.length;t++){if(e[t]===u||e[t]===l)""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}var h=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function f(e,t){for(var n=r.getAllMatches(e,h),i={},o=0;o<n.length;o++){if(0===n[o][1].length)return p("InvalidAttr","Attribute '"+n[o][2]+"' has no space in starting.",m(n[o]));if(void 0!==n[o][3]&&void 0===n[o][4])return p("InvalidAttr","Attribute '"+n[o][2]+"' is without value.",m(n[o]));if(void 0===n[o][3]&&!t.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+n[o][2]+"' is not allowed.",m(n[o]));var a=n[o][2];if(!v(a))return p("InvalidAttr","Attribute '"+a+"' is an invalid name.",m(n[o]));if(i.hasOwnProperty(a))return p("InvalidAttr","Attribute '"+a+"' is repeated.",m(n[o]));i[a]=1}return!0}function d(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){var n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);for(var n=0;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function p(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function v(e){return r.isName(e)}function g(e,t){var n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function m(e){return e.startIndex+e[1].length}},461:function(e,t,n){"use strict";var r=n(8416).default,i=n(9874),o={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function a(e){this.options=Object.assign({},o,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=l),this.processTextOrObjNode=s,this.options.format?(this.indentate=u,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function s(e,t,n){var r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}function u(e){return this.options.indentBy.repeat(e)}function l(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}a.prototype.build=function(e){return this.options.preserveOrder?i(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e=r({},this.options.arrayNodeName,e)),this.j2x(e,0).val)},a.prototype.j2x=function(e,t){var n="",r="";for(var i in e)if("undefined"===typeof e[i]);else if(null===e[i])"?"===i[0]?r+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextValNode(e[i],i,"",t);else if("object"!==typeof e[i]){var o=this.isAttribute(i);if(o)n+=this.buildAttrPairStr(o,""+e[i]);else if(i===this.options.textNodeName){var a=this.options.tagValueProcessor(i,""+e[i]);r+=this.replaceEntitiesValue(a)}else r+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){for(var s=e[i].length,u="",l=0;l<s;l++){var c=e[i][l];"undefined"===typeof c||(null===c?"?"===i[0]?r+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"===typeof c?this.options.oneListGroup?u+=this.j2x(c,t+1).val:u+=this.processTextOrObjNode(c,i,t):u+=this.buildTextValNode(c,i,"",t))}this.options.oneListGroup&&(u=this.buildObjectNode(u,i,"",t)),r+=u}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName)for(var h=Object.keys(e[i]),f=h.length,d=0;d<f;d++)n+=this.buildAttrPairStr(h[d],""+e[i][h[d]]);else r+=this.processTextOrObjNode(e[i],i,t);return{attrStr:n,val:r}},a.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},a.prototype.buildObjectNode=function(e,t,n,r){if(""===e)return"?"===t[0]?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;var i="</"+t+this.tagEndChar,o="";return"?"===t[0]&&(o="?",i=""),n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+o+">"+e+i:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===o.length?this.indentate(r)+"\x3c!--".concat(e,"--\x3e")+this.newLine:this.indentate(r)+"<"+t+n+o+this.tagEndChar+e+this.indentate(r)+i},a.prototype.closeTag=function(e){var t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":"></".concat(e),t},a.prototype.buildTextValNode=function(e,t,n,r){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(r)+"<![CDATA[".concat(e,"]]>")+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(r)+"\x3c!--".concat(e,"--\x3e")+this.newLine;if("?"===t[0])return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;var i=this.options.tagValueProcessor(t,e);return""===(i=this.replaceEntitiesValue(i))?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+i+"</"+t+this.tagEndChar},a.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(var t=0;t<this.options.entities.length;t++){var n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e},e.exports=a},9874:function(e){function t(e,a,s,u){for(var l="",c=!1,h=0;h<e.length;h++){var f=e[h],d=n(f),p="";if(p=0===s.length?d:"".concat(s,".").concat(d),d!==a.textNodeName)if(d!==a.cdataPropName)if(d!==a.commentPropName)if("?"!==d[0]){var v=u;""!==v&&(v+=a.indentBy);var g=r(f[":@"],a),m=u+"<".concat(d).concat(g),y=t(f[d],a,p,v);-1!==a.unpairedTags.indexOf(d)?a.suppressUnpairedNode?l+=m+">":l+=m+"/>":y&&0!==y.length||!a.suppressEmptyNode?y&&y.endsWith(">")?l+=m+">".concat(y).concat(u,"</").concat(d,">"):(l+=m+">",y&&""!==u&&(y.includes("/>")||y.includes("</"))?l+=u+a.indentBy+y+u:l+=y,l+="</".concat(d,">")):l+=m+"/>",c=!0}else{var b=r(f[":@"],a),_="?xml"===d?"":u,w=f[d][0][a.textNodeName];w=0!==w.length?" "+w:"",l+=_+"<".concat(d).concat(w).concat(b,"?>"),c=!0}else l+=u+"\x3c!--".concat(f[d][0][a.textNodeName],"--\x3e"),c=!0;else c&&(l+=u),l+="<![CDATA[".concat(f[d][0][a.textNodeName],"]]>"),c=!1;else{var E=f[d];i(p,a)||(E=o(E=a.tagValueProcessor(d,E),a)),c&&(l+=u),l+=E,c=!1}}return l}function n(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];if(":@"!==r)return r}}function r(e,t){var n="";if(e&&!t.ignoreAttributes)for(var r in e){var i=t.attributeValueProcessor(r,e[r]);!0===(i=o(i,t))&&t.suppressBooleanAttributes?n+=" ".concat(r.substr(t.attributeNamePrefix.length)):n+=" ".concat(r.substr(t.attributeNamePrefix.length),'="').concat(i,'"')}return n}function i(e,t){var n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(var r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function o(e,t){if(e&&e.length>0&&t.processEntities)for(var n=0;n<t.entities.length;n++){var r=t.entities[n];e=e.replace(r.regex,r.val)}return e}e.exports=function(e,n){var r="";return n.format&&n.indentBy.length>0&&(r="\n"),t(e,n,"",r)}},2061:function(e,t,n){var r=n(7424).default;function i(e,t){for(var n="";t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)n+=e[t];if(-1!==(n=n.trim()).indexOf(" "))throw new Error("External entites are not supported");for(var r=e[t++],i="";t<e.length&&e[t]!==r;t++)i+=e[t];return[n,i,t]}function o(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function a(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function s(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function u(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function l(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}var c="!?\\/[]$%{}^&*()<>|+";function h(e){for(var t=0;t<c.length;t++){var n=c[t];if(-1!==e.indexOf(n))throw new Error("Invalid character ".concat(n," in entity name"))}return e}e.exports=function(e,t){var n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");t+=9;for(var c=1,f=!1,d=!1;t<e.length;t++)if("<"!==e[t]||d)if(">"===e[t]){if(d?"-"===e[t-1]&&"-"===e[t-2]&&(d=!1,c--):c--,0===c)break}else"["===e[t]?f=!0:e[t];else{if(f&&a(e,t)){var p=i(e,(t+=7)+1),v=r(p,3);entityName=v[0],val=v[1],t=v[2],-1===val.indexOf("&")&&(n[h(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val:val})}else if(f&&s(e,t))t+=8;else if(f&&u(e,t))t+=8;else if(f&&l(e,t))t+=9;else{if(!o)throw new Error("Invalid DOCTYPE");d=!0}c++,""}if(0!==c)throw new Error("Unclosed DOCTYPE");return{entities:n,i:t}}},5115:function(e,t){var n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:function(){return!1},commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}};t.buildOptions=function(e){return Object.assign({},n,e)},t.defaultOptions=n},2637:function(e,t,n){"use strict";var r=n(8416).default,i=n(9728).default,o=n(6690).default,a=n(6012),s=n(8191),u=n(2061),l=n(9607),c=("<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,a.nameRegexp),i((function e(t){o(this,e),this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"\u20ac"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"\u20b9"}},this.addExternalEntities=h,this.parseXml=g,this.parseTextData=f,this.resolveNameSpace=d,this.buildAttributesMap=v,this.isItStopNode=_,this.replaceEntitiesValue=y,this.readStopNodeData=S,this.saveTextToParentTag=b,this.addChild=m})));function h(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function f(e,t,n,r,i,o,a){if(void 0!==e&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));var s=this.options.tagValueProcessor(t,e,n,i,o);return null===s||void 0===s?e:typeof s!==typeof e||s!==e?s:this.options.trimValues||e.trim()===e?x(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function d(e){if(this.options.removeNSPrefix){var t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}var p=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function v(e,t,n){if(!this.options.ignoreAttributes&&"string"===typeof e){for(var r=a.getAllMatches(e,p),i=r.length,o={},s=0;s<i;s++){var u=this.resolveNameSpace(r[s][1]),l=r[s][4],c=this.options.attributeNamePrefix+u;if(u.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),"__proto__"===c&&(c="#__proto__"),void 0!==l){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);var h=this.options.attributeValueProcessor(u,l,t);o[c]=null===h||void 0===h?l:typeof h!==typeof l||h!==l?h:x(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[c]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){var f={};return f[this.options.attributesGroupName]=o,f}return o}}var g=function(e){e=e.replace(/\r\n?/g,"\n");for(var t=new s("!xml"),n=t,i="",o="",a=0;a<e.length;a++){if("<"===e[a])if("/"===e[a+1]){var l=w(e,">",a,"Closing Tag is not closed."),c=e.substring(a+2,l).trim();if(this.options.removeNSPrefix){var h=c.indexOf(":");-1!==h&&(c=c.substr(h+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(i=this.saveTextToParentTag(i,n,o));var f=o.substring(o.lastIndexOf(".")+1);if(c&&-1!==this.options.unpairedTags.indexOf(c))throw new Error("Unpaired tag can not be used as closing tag: </".concat(c,">"));var d=0;f&&-1!==this.options.unpairedTags.indexOf(f)?(d=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=o.lastIndexOf("."),o=o.substring(0,d),n=this.tagsNodeStack.pop(),i="",a=l}else if("?"===e[a+1]){var p=E(e,a,!1,"?>");if(!p)throw new Error("Pi Tag is not closed.");if(i=this.saveTextToParentTag(i,n,o),this.options.ignoreDeclaration&&"?xml"===p.tagName||this.options.ignorePiTags);else{var v=new s(p.tagName);v.add(this.options.textNodeName,""),p.tagName!==p.tagExp&&p.attrExpPresent&&(v[":@"]=this.buildAttributesMap(p.tagExp,o,p.tagName)),this.addChild(n,v,o)}a=p.closeIndex+1}else if("!--"===e.substr(a+1,3)){var g=w(e,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){var m=e.substring(a+4,g-2);i=this.saveTextToParentTag(i,n,o),n.add(this.options.commentPropName,[r({},this.options.textNodeName,m)])}a=g}else if("!D"===e.substr(a+1,2)){var y=u(e,a);this.docTypeEntities=y.entities,a=y.i}else if("!["===e.substr(a+1,2)){var b=w(e,"]]>",a,"CDATA is not closed.")-2,_=e.substring(a+9,b);if(i=this.saveTextToParentTag(i,n,o),this.options.cdataPropName)n.add(this.options.cdataPropName,[r({},this.options.textNodeName,_)]);else{var S=this.parseTextData(_,n.tagname,o,!0,!1,!0);void 0==S&&(S=""),n.add(this.options.textNodeName,S)}a=b+2}else{var x=E(e,a,this.options.removeNSPrefix),M=x.tagName,k=x.tagExp,A=x.attrExpPresent,T=x.closeIndex;this.options.transformTagName&&(M=this.options.transformTagName(M)),n&&i&&"!xml"!==n.tagname&&(i=this.saveTextToParentTag(i,n,o,!1));var P=n;if(P&&-1!==this.options.unpairedTags.indexOf(P.tagname)&&(n=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),M!==t.tagname&&(o+=o?"."+M:M),this.isItStopNode(this.options.stopNodes,o,M)){var O="";if(k.length>0&&k.lastIndexOf("/")===k.length-1)a=x.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(M))a=x.closeIndex;else{var C=this.readStopNodeData(e,M,T+1);if(!C)throw new Error("Unexpected end of ".concat(M));a=C.i,O=C.tagContent}var R=new s(M);M!==k&&A&&(R[":@"]=this.buildAttributesMap(k,o,M)),O&&(O=this.parseTextData(O,M,o,!0,A,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),R.add(this.options.textNodeName,O),this.addChild(n,R,o)}else{if(k.length>0&&k.lastIndexOf("/")===k.length-1){k="/"===M[M.length-1]?M=M.substr(0,M.length-1):k.substr(0,k.length-1),this.options.transformTagName&&(M=this.options.transformTagName(M));var L=new s(M);M!==k&&A&&(L[":@"]=this.buildAttributesMap(k,o,M)),this.addChild(n,L,o),o=o.substr(0,o.lastIndexOf("."))}else{var I=new s(M);this.tagsNodeStack.push(n),M!==k&&A&&(I[":@"]=this.buildAttributesMap(k,o,M)),this.addChild(n,I,o),n=I}i="",a=T}}else i+=e[a]}return t.child};function m(e,t,n){var r=this.options.updateTag(t.tagname,n,t[":@"]);!1===r||("string"===typeof r?(t.tagname=r,e.addChild(t)):e.addChild(t))}var y=function(e){if(this.options.processEntities){for(var t in this.docTypeEntities){var n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(var r in this.lastEntities){var i=this.lastEntities[r];e=e.replace(i.regex,i.val)}if(this.options.htmlEntities)for(var o in this.htmlEntities){var a=this.htmlEntities[o];e=e.replace(a.regex,a.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function b(e,t,n,r){return e&&(void 0===r&&(r=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,r))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function _(e,t,n){var r="*."+n;for(var i in e){var o=e[i];if(r===o||t===o)return!0}return!1}function w(e,t,n,r){var i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}function E(e,t,n){var r=function(e,t){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:">",i="",o=t;o<e.length;o++){var a=e[o];if(n)a===n&&(n="");else if('"'===a||"'"===a)n=a;else if(a===r[0]){if(!r[1])return{data:i,index:o};if(e[o+1]===r[1])return{data:i,index:o}}else"\t"===a&&(a=" ");i+=a}}(e,t+1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:">");if(r){var i=r.data,o=r.index,a=i.search(/\s/),s=i,u=!0;if(-1!==a&&(s=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),n){var l=s.indexOf(":");-1!==l&&(u=(s=s.substr(l+1))!==r.data.substr(l+1))}return{tagName:s,tagExp:i,closeIndex:o,attrExpPresent:u}}}function S(e,t,n){for(var r=n,i=1;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){var o=w(e,">",n,"".concat(t," is not closed"));if(e.substring(n+2,o).trim()===t&&0===--i)return{tagContent:e.substring(r,n),i:o};n=o}else if("?"===e[n+1]){n=w(e,"?>",n+1,"StopNode is not closed.")}else if("!--"===e.substr(n+1,3)){n=w(e,"--\x3e",n+3,"StopNode is not closed.")}else if("!["===e.substr(n+1,2)){n=w(e,"]]>",n,"StopNode is not closed.")-2}else{var a=E(e,n,">");if(a)(a&&a.tagName)===t&&"/"!==a.tagExp[a.tagExp.length-1]&&i++,n=a.closeIndex}}function x(e,t,n){if(t&&"string"===typeof e){var r=e.trim();return"true"===r||"false"!==r&&l(e,n)}return a.isExist(e)?e:""}e.exports=c},7011:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(5115).buildOptions,a=n(2637),s=n(6805).prettify,u=n(2990),l=function(){"use strict";function e(t){r(this,e),this.externalEntities={},this.options=o(t)}return i(e,[{key:"parse",value:function(e,t){if("string"===typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});var n=u.validate(e,t);if(!0!==n)throw Error("".concat(n.err.msg,":").concat(n.err.line,":").concat(n.err.col))}var r=new a(this.options);r.addExternalEntities(this.externalEntities);var i=r.parseXml(e);return this.options.preserveOrder||void 0===i?i:s(i,this.options)}},{key:"addEntity",value:function(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}]),e}();e.exports=l},6805:function(e,t){"use strict";function n(e,t,a){for(var s,u={},l=0;l<e.length;l++){var c=e[l],h=r(c),f="";if(f=void 0===a?h:a+"."+h,h===t.textNodeName)void 0===s?s=c[h]:s+=""+c[h];else{if(void 0===h)continue;if(c[h]){var d=n(c[h],t,f),p=o(d,t);c[":@"]?i(d,c[":@"],f,t):1!==Object.keys(d).length||void 0===d[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(d).length&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""):d=d[t.textNodeName],void 0!==u[h]&&u.hasOwnProperty(h)?(Array.isArray(u[h])||(u[h]=[u[h]]),u[h].push(d)):t.isArray(h,f,p)?u[h]=[d]:u[h]=d}}}return"string"===typeof s?s.length>0&&(u[t.textNodeName]=s):void 0!==s&&(u[t.textNodeName]=s),u}function r(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];if(":@"!==r)return r}}function i(e,t,n,r){if(t)for(var i=Object.keys(t),o=i.length,a=0;a<o;a++){var s=i[a];r.isArray(s,n+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}function o(e,t){var n=t.textNodeName,r=Object.keys(e).length;return 0===r||!(1!==r||!e[n]&&"boolean"!==typeof e[n]&&0!==e[n])}t.prettify=function(e,t){return n(e,t)}},8191:function(e,t,n){"use strict";var r=n(8416).default,i=n(6690).default,o=n(9728).default,a=function(){function e(t){i(this,e),this.tagname=t,this.child=[],this[":@"]={}}return o(e,[{key:"add",value:function(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push(r({},e,t))}},{key:"addChild",value:function(e){var t;("__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0)?this.child.push((r(t={},e.tagname,e.child),r(t,":@",e[":@"]),t)):this.child.push(r({},e.tagname,e.child))}}]),e}();e.exports=a},3791:function(e){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var a=r[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n}},2137:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return le}});var r=n(4942),i=n(136),o=n(9388),a=n(3433),s=n(1413),u=n(5671),l=n(3144);function c(e){return Array.isArray?Array.isArray(e):"[object Array]"===b(e)}var h=1/0;function f(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-h?"-0":t}(e)}function d(e){return"string"===typeof e}function p(e){return"number"===typeof e}function v(e){return!0===e||!1===e||function(e){return g(e)&&null!==e}(e)&&"[object Boolean]"==b(e)}function g(e){return"object"===typeof e}function m(e){return void 0!==e&&null!==e}function y(e){return!e.trim().length}function b(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var _=function(e){return"Missing ".concat(e," property in key")},w=function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")},E=Object.prototype.hasOwnProperty,S=function(){function e(t){var n=this;(0,u.Z)(this,e),this._keys=[],this._keyMap={};var r=0;t.forEach((function(e){var t=x(e);r+=t.weight,n._keys.push(t),n._keyMap[t.id]=t,r+=t.weight})),this._keys.forEach((function(e){e.weight/=r}))}return(0,l.Z)(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function x(e){var t=null,n=null,r=null,i=1,o=null;if(d(e)||c(e))r=e,t=M(e),n=k(e);else{if(!E.call(e,"name"))throw new Error(_("name"));var a=e.name;if(r=a,E.call(e,"weight")&&(i=e.weight)<=0)throw new Error(w(a));t=M(a),n=k(a),o=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function M(e){return c(e)?e:e.split(".")}function k(e){return c(e)?e.join("."):e}var A={useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,i,o){if(m(t))if(i[o]){var a=t[i[o]];if(!m(a))return;if(o===i.length-1&&(d(a)||p(a)||v(a)))n.push(f(a));else if(c(a)){r=!0;for(var s=0,u=a.length;s<u;s+=1)e(a[s],i,o+1)}else i.length&&e(a,i,o+1)}else n.push(t)}(e,d(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},T=(0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),A),P=/[^ ]+/g;var O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getFn,r=void 0===n?T.getFn:n,i=t.fieldNormWeight,o=void 0===i?T.fieldNormWeight:i;(0,u.Z)(this,e),this.norm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Map,r=Math.pow(10,t);return{get:function(t){var i=t.match(P).length;if(n.has(i))return n.get(i);var o=1/Math.pow(i,.5*e),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear:function(){n.clear()}}}(o,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return(0,l.Z)(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,d(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();d(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(m(e)&&!y(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,r={i:t,$:{}};this.keys.forEach((function(t,i){var o=t.getFn?t.getFn(e):n.getFn(e,t.path);if(m(o))if(c(o)){for(var a=[],s=[{nestedArrIndex:-1,value:o}];s.length;){var u=s.pop(),l=u.nestedArrIndex,h=u.value;if(m(h))if(d(h)&&!y(h)){var f={v:h,i:l,n:n.norm.get(h)};a.push(f)}else c(h)&&h.forEach((function(e,t){s.push({nestedArrIndex:t,value:e})}))}r.$[i]=a}else if(d(o)&&!y(o)){var p={v:o,n:n.norm.get(o)};r.$[i]=p}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,i=void 0===r?T.getFn:r,o=n.fieldNormWeight,a=void 0===o?T.fieldNormWeight:o,s=new O({getFn:i,fieldNormWeight:a});return s.setKeys(e.map(x)),s.setSources(t),s.create(),s}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,r=void 0===n?0:n,i=t.currentLocation,o=void 0===i?0:i,a=t.expectedLocation,s=void 0===a?0:a,u=t.distance,l=void 0===u?T.distance:u,c=t.ignoreLocation,h=void 0===c?T.ignoreLocation:c,f=r/e.length;if(h)return f;var d=Math.abs(s-o);return l?f+d/l:d?1:f}var L=32;function I(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.location,o=void 0===i?T.location:i,a=r.distance,s=void 0===a?T.distance:a,u=r.threshold,l=void 0===u?T.threshold:u,c=r.findAllMatches,h=void 0===c?T.findAllMatches:c,f=r.minMatchCharLength,d=void 0===f?T.minMatchCharLength:f,p=r.includeMatches,v=void 0===p?T.includeMatches:p,g=r.ignoreLocation,m=void 0===g?T.ignoreLocation:g;if(t.length>L)throw new Error("Pattern length exceeds max of ".concat(L,"."));for(var y,b=t.length,_=e.length,w=Math.max(0,Math.min(o,_)),E=l,S=w,x=d>1||v,M=x?Array(_):[];(y=e.indexOf(t,S))>-1;){var k=R(t,{currentLocation:y,expectedLocation:w,distance:s,ignoreLocation:m});if(E=Math.min(k,E),S=y+b,x)for(var A=0;A<b;)M[y+A]=1,A+=1}S=-1;for(var P=[],O=1,C=b+_,I=1<<b-1,D=0;D<b;D+=1){for(var j=0,N=C;j<N;){R(t,{errors:D,currentLocation:w+N,expectedLocation:w,distance:s,ignoreLocation:m})<=E?j=N:C=N,N=Math.floor((C-j)/2+j)}C=N;var B=Math.max(1,w-N+1),z=h?_:Math.min(w+N,_)+b,Z=Array(z+2);Z[z+1]=(1<<D)-1;for(var F=z;F>=B;F-=1){var U=F-1,K=n[e.charAt(U)];if(x&&(M[U]=+!!K),Z[F]=(Z[F+1]<<1|1)&K,D&&(Z[F]|=(P[F+1]|P[F])<<1|1|P[F+1]),Z[F]&I&&(O=R(t,{errors:D,currentLocation:U,expectedLocation:w,distance:s,ignoreLocation:m}))<=E){if(E=O,(S=U)<=w)break;B=Math.max(1,2*w-S)}}if(R(t,{errors:D+1,currentLocation:w,expectedLocation:w,distance:s,ignoreLocation:m})>E)break;P=Z}var V={isMatch:S>=0,score:Math.max(.001,O)};if(x){var H=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.minMatchCharLength,n=[],r=-1,i=-1,o=0,a=e.length;o<a;o+=1){var s=e[o];s&&-1===r?r=o:s||-1===r||((i=o-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}(M,d);H.length?v&&(V.indices=H):V.isMatch=!1}return V}function D(e){for(var t={},n=0,r=e.length;n<r;n+=1){var i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}var j=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.location,o=void 0===i?T.location:i,a=r.threshold,s=void 0===a?T.threshold:a,l=r.distance,c=void 0===l?T.distance:l,h=r.includeMatches,f=void 0===h?T.includeMatches:h,d=r.findAllMatches,p=void 0===d?T.findAllMatches:d,v=r.minMatchCharLength,g=void 0===v?T.minMatchCharLength:v,m=r.isCaseSensitive,y=void 0===m?T.isCaseSensitive:m,b=r.ignoreLocation,_=void 0===b?T.ignoreLocation:b;if((0,u.Z)(this,e),this.options={location:o,threshold:s,distance:c,includeMatches:f,findAllMatches:p,minMatchCharLength:g,isCaseSensitive:y,ignoreLocation:_},this.pattern=y?t:t.toLowerCase(),this.chunks=[],this.pattern.length){var w=function(e,t){n.chunks.push({pattern:e,alphabet:D(e),startIndex:t})},E=this.pattern.length;if(E>L){for(var S=0,x=E%L,M=E-x;S<M;)w(this.pattern.substr(S,L),S),S+=L;if(x){var k=E-L;w(this.pattern.substr(k),k)}}else w(this.pattern,0)}}return(0,l.Z)(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var i={isMatch:!0,score:0};return r&&(i.indices=[[0,e.length-1]]),i}var o=this.options,s=o.location,u=o.distance,l=o.threshold,c=o.findAllMatches,h=o.minMatchCharLength,f=o.ignoreLocation,d=[],p=0,v=!1;this.chunks.forEach((function(t){var n=t.pattern,i=t.alphabet,o=t.startIndex,g=I(e,n,i,{location:s+o,distance:u,threshold:l,findAllMatches:c,minMatchCharLength:h,includeMatches:r,ignoreLocation:f}),m=g.isMatch,y=g.score,b=g.indices;m&&(v=!0),p+=y,m&&b&&(d=[].concat((0,a.Z)(d),(0,a.Z)(b)))}));var g={isMatch:v,score:v?p/this.chunks.length:1};return v&&r&&(g.indices=d),g}}]),e}(),N=function(){function e(t){(0,u.Z)(this,e),this.pattern=t}return(0,l.Z)(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return B(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return B(e,this.singleRegex)}}]),e}();function B(e,t){var n=e.match(t);return n?n[1]:null}var z=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,e)}return(0,l.Z)(n,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),n}(N),Z=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,e)}return(0,l.Z)(n,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),n}(N),F=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,e)}return(0,l.Z)(n,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),n}(N),U=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,e)}return(0,l.Z)(n,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),n}(N),K=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,e)}return(0,l.Z)(n,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),n}(N),V=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,e)}return(0,l.Z)(n,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),n}(N),H=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.location,a=void 0===o?T.location:o,s=i.threshold,l=void 0===s?T.threshold:s,c=i.distance,h=void 0===c?T.distance:c,f=i.includeMatches,d=void 0===f?T.includeMatches:f,p=i.findAllMatches,v=void 0===p?T.findAllMatches:p,g=i.minMatchCharLength,m=void 0===g?T.minMatchCharLength:g,y=i.isCaseSensitive,b=void 0===y?T.isCaseSensitive:y,_=i.ignoreLocation,w=void 0===_?T.ignoreLocation:_;return(0,u.Z)(this,n),(r=t.call(this,e))._bitapSearch=new j(e,{location:a,threshold:l,distance:h,includeMatches:d,findAllMatches:v,minMatchCharLength:m,isCaseSensitive:b,ignoreLocation:w}),r}return(0,l.Z)(n,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),n}(N),W=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,e)}return(0,l.Z)(n,[{key:"search",value:function(e){for(var t,n=0,r=[],i=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);var o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),n}(N),G=[z,W,F,U,V,K,Z,H],q=G.length,Y=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;var X=new Set([H.type,W.type]),$=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isCaseSensitive,i=void 0===r?T.isCaseSensitive:r,o=n.includeMatches,a=void 0===o?T.includeMatches:o,s=n.minMatchCharLength,l=void 0===s?T.minMatchCharLength:s,c=n.ignoreLocation,h=void 0===c?T.ignoreLocation:c,f=n.findAllMatches,d=void 0===f?T.findAllMatches:f,p=n.location,v=void 0===p?T.location:p,g=n.threshold,m=void 0===g?T.threshold:g,y=n.distance,b=void 0===y?T.distance:y;(0,u.Z)(this,e),this.query=null,this.options={isCaseSensitive:i,includeMatches:a,minMatchCharLength:l,findAllMatches:d,ignoreLocation:h,location:v,threshold:m,distance:b},this.pattern=i?t:t.toLowerCase(),this.query=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(Y).filter((function(e){return e&&!!e.trim()})),r=[],i=0,o=n.length;i<o;i+=1){for(var a=n[i],s=!1,u=-1;!s&&++u<q;){var l=G[u],c=l.isMultiMatch(a);c&&(r.push(new l(c,t)),s=!0)}if(!s)for(u=-1;++u<q;){var h=G[u],f=h.isSingleMatch(a);if(f){r.push(new h(f,t));break}}}return r}))}(this.pattern,this.options)}return(0,l.Z)(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,r=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var i=0,o=[],s=0,u=0,l=t.length;u<l;u+=1){var c=t[u];o.length=0,i=0;for(var h=0,f=c.length;h<f;h+=1){var d=c[h],p=d.search(e),v=p.isMatch,g=p.indices,m=p.score;if(!v){s=0,i=0,o.length=0;break}if(i+=1,s+=m,r){var y=d.constructor.type;X.has(y)?o=[].concat((0,a.Z)(o),(0,a.Z)(g)):o.push(g)}}if(i){var b={isMatch:!0,score:s/i};return r&&(b.indices=o),b}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),J=[];function Q(e,t){for(var n=0,r=J.length;n<r;n+=1){var i=J[n];if(i.condition(e,t))return new i(e,t)}return new j(e,t)}var ee="$and",te="$or",ne="$path",re="$val",ie=function(e){return!(!e[ee]&&!e[te])},oe=function(e){return(0,r.Z)({},ee,Object.keys(e).map((function(t){return(0,r.Z)({},t,e[t])})))};function ae(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).auto,r=void 0===n||n;return ie(e)||(e=oe(e)),function e(n){var i=Object.keys(n),o=function(e){return!!e[ne]}(n);if(!o&&i.length>1&&!ie(n))return e(oe(n));if(function(e){return!c(e)&&g(e)&&!ie(e)}(n)){var a=o?n[ne]:i[0],s=o?n[re]:n[a];if(!d(s))throw new Error(function(e){return"Invalid value for key ".concat(e)}(a));var u={keyId:k(a),pattern:s};return r&&(u.searcher=Q(s,t)),u}var l={children:[],operator:i[0]};return i.forEach((function(t){var r=n[t];c(r)&&r.forEach((function(t){l.children.push(e(t))}))})),l}(e)}function se(e,t){var n=e.matches;t.matches=[],m(n)&&n.forEach((function(e){if(m(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function ue(e,t){t.score=e.score}var le=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;(0,u.Z)(this,e),this.options=(0,s.Z)((0,s.Z)({},T),n),this.options.useExtendedSearch,this._keyStore=new S(this.options.keys),this.setCollection(t,r)}return(0,l.Z)(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof O))throw new Error("Incorrect 'index' type");this._myIndex=t||C(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){m(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,r=this._docs.length;n<r;n+=1){var i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).limit,n=void 0===t?-1:t,r=this.options,i=r.includeMatches,o=r.includeScore,a=r.shouldSort,s=r.sortFn,u=r.ignoreFieldNorm,l=d(e)?d(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,t){var n=t.ignoreFieldNorm,r=void 0===n?T.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,i=e.norm,o=e.score,a=n?n.weight:null;t*=Math.pow(0===o&&a?Number.EPSILON:o,(a||1)*(r?1:i))})),e.score=t}))}(l,{ignoreFieldNorm:u}),a&&l.sort(s),p(n)&&n>-1&&(l=l.slice(0,n)),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,i=void 0===r?T.includeMatches:r,o=n.includeScore,a=void 0===o?T.includeScore:o,s=[];return i&&s.push(se),a&&s.push(ue),e.map((function(e){var n=e.idx,r={item:t[n],refIndex:n};return s.length&&s.forEach((function(t){t(e,r)})),r}))}(l,this._docs,{includeMatches:i,includeScore:o})}},{key:"_searchStringList",value:function(e){var t=Q(e,this.options),n=this._myIndex.records,r=[];return n.forEach((function(e){var n=e.v,i=e.i,o=e.n;if(m(n)){var a=t.searchIn(n),s=a.isMatch,u=a.score,l=a.indices;s&&r.push({item:n,idx:i,matches:[{score:u,value:n,norm:o,indices:l}]})}})),r}},{key:"_searchLogical",value:function(e){var t=this,n=ae(e,this.options),r=function e(n,r,i){if(!n.children){var o=n.keyId,s=n.searcher,u=t._findMatches({key:t._keyStore.get(o),value:t._myIndex.getValueForItemAtKeyId(r,o),searcher:s});return u&&u.length?[{idx:i,item:r,matches:u}]:[]}for(var l=[],c=0,h=n.children.length;c<h;c+=1){var f=e(n.children[c],r,i);if(f.length)l.push.apply(l,(0,a.Z)(f));else if(n.operator===ee)return[]}return l},i=this._myIndex.records,o={},s=[];return i.forEach((function(e){var t=e.$,i=e.i;if(m(t)){var u=r(n,t,i);u.length&&(o[i]||(o[i]={idx:i,item:t,matches:[]},s.push(o[i])),u.forEach((function(e){var t,n=e.matches;(t=o[i].matches).push.apply(t,(0,a.Z)(n))})))}})),s}},{key:"_searchObjectList",value:function(e){var t=this,n=Q(e,this.options),r=this._myIndex,i=r.keys,o=r.records,s=[];return o.forEach((function(e){var r=e.$,o=e.i;if(m(r)){var u=[];i.forEach((function(e,i){u.push.apply(u,(0,a.Z)(t._findMatches({key:e,value:r[i],searcher:n})))})),u.length&&s.push({idx:o,item:r,matches:u})}})),s}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,r=e.searcher;if(!m(n))return[];var i=[];if(c(n))n.forEach((function(e){var n=e.v,o=e.i,a=e.n;if(m(n)){var s=r.searchIn(n),u=s.isMatch,l=s.score,c=s.indices;u&&i.push({score:l,key:t,value:n,idx:o,norm:a,indices:c})}}));else{var o=n.v,a=n.n,s=r.searchIn(o),u=s.isMatch,l=s.score,h=s.indices;u&&i.push({score:l,key:t,value:o,norm:a,indices:h})}return i}}]),e}();le.version="6.6.2",le.createIndex=C,le.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,r=void 0===n?T.getFn:n,i=t.fieldNormWeight,o=void 0===i?T.fieldNormWeight:i,a=e.keys,s=e.records,u=new O({getFn:r,fieldNormWeight:o});return u.setKeys(a),u.setIndexRecords(s),u},le.config=T,le.parseQuery=ae,function(){J.push.apply(J,arguments)}($)},9234:function(e,t,n){var r=n(774),i=n(7872),o=n(2538),a=n(2127).Z,s=o.featureEach,u=(o.coordEach,i.polygon,i.featureCollection);function l(e){var t=new r(e);return t.insert=function(e){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:a(e),r.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach((function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:a(e),t.push(e)})):s(e,(function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:a(e),t.push(e)})),r.prototype.load.call(this,t)},t.remove=function(e,t){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:a(e),r.prototype.remove.call(this,e,t)},t.clear=function(){return r.prototype.clear.call(this)},t.search=function(e){var t=r.prototype.search.call(this,this.toBBox(e));return u(t)},t.collides=function(e){return r.prototype.collides.call(this,this.toBBox(e))},t.all=function(){var e=r.prototype.all.call(this);return u(e)},t.toJSON=function(){return r.prototype.toJSON.call(this)},t.fromJSON=function(e){return r.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;if(e.bbox)t=e.bbox;else if(Array.isArray(e)&&4===e.length)t=e;else if(Array.isArray(e)&&6===e.length)t=[e[0],e[1],e[3],e[4]];else if("Feature"===e.type)t=a(e);else{if("FeatureCollection"!==e.type)throw new Error("invalid geojson");t=a(e)}return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}e.exports=l,e.exports.default=l},4161:function(e,t,n){var r;!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h="function",f=Math.round,d=Math.abs,p=Date.now;function v(e,t,n){return setTimeout(E(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function y(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var b=y((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),_=y((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function w(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function E(e,t){return function(){return e.apply(t,arguments)}}function S(e,t){return typeof e==h?e.apply(t&&t[0]||s,t):e}function x(e,t){return e===s?t:e}function M(e,t,n){m(P(t),(function(t){e.addEventListener(t,n,!1)}))}function k(e,t,n){m(P(t),(function(t){e.removeEventListener(t,n,!1)}))}function A(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function T(e,t){return e.indexOf(t)>-1}function P(e){return e.trim().split(/\s+/g)}function O(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function C(e){return Array.prototype.slice.call(e,0)}function R(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];O(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function L(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:t)in e)return r;o++}return s}var I=1;function D(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var j="ontouchstart"in i,N=L(i,"PointerEvent")!==s,B=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),z="touch",Z="mouse",F=25,U=1,K=4,V=8,H=1,W=2,G=4,q=8,Y=16,X=W|G,$=q|Y,J=X|$,Q=["x","y"],ee=["clientX","clientY"];function te(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){S(e.options.enable,[e])&&n.handler(t)},this.init()}function ne(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&U&&r-i===0,a=t&(K|V)&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=re(t));i>1&&!n.firstMultiple?n.firstMultiple=re(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=t.center=ie(r);t.timeStamp=p(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=ue(u,l),t.distance=se(u,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==U&&o.eventType!==K||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=ae(t.deltaX,t.deltaY);var c=oe(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=d(c.x)>d(c.y)?c.x:c.y,t.scale=a?(h=a.pointers,f=r,se(f[0],f[1],ee)/se(h[0],h[1],ee)):1,t.rotation=a?function(e,t){return ue(t[1],t[0],ee)+ue(e[1],e[0],ee)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=V&&(u>F||a.velocity===s)){var l=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,h=oe(u,l,c);r=h.x,i=h.y,n=d(h.x)>d(h.y)?h.x:h.y,o=ae(l,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var h,f;var v=e.element;A(t.srcEvent.target,v)&&(v=t.srcEvent.target);t.target=v}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function re(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:t,center:ie(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ie(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:f(n/t),y:f(r/t)}}function oe(e,t,n){return{x:t/e||0,y:n/e||0}}function ae(e,t){return e===t?H:d(e)>=d(t)?e<0?W:G:t<0?q:Y}function se(e,t,n){n||(n=Q);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function ue(e,t,n){n||(n=Q);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}te.prototype={handler:function(){},init:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(D(this.element),this.evWin,this.domHandler)}};var le={mousedown:U,mousemove:2,mouseup:K},ce="mousedown",he="mousemove mouseup";function fe(){this.evEl=ce,this.evWin=he,this.pressed=!1,te.apply(this,arguments)}w(fe,te,{handler:function(e){var t=le[e.type];t&U&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=K),this.pressed&&(t&K&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Z,srcEvent:e}))}});var de={pointerdown:U,pointermove:2,pointerup:K,pointercancel:V,pointerout:V},pe={2:z,3:"pen",4:Z,5:"kinect"},ve="pointerdown",ge="pointermove pointerup pointercancel";function me(){this.evEl=ve,this.evWin=ge,te.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(ve="MSPointerDown",ge="MSPointerMove MSPointerUp MSPointerCancel"),w(me,te,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=de[r],o=pe[e.pointerType]||e.pointerType,a=o==z,s=O(t,e.pointerId,"pointerId");i&U&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(K|V)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ye={touchstart:U,touchmove:2,touchend:K,touchcancel:V};function be(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,te.apply(this,arguments)}function _e(e,t){var n=C(e.touches),r=C(e.changedTouches);return t&(K|V)&&(n=R(n.concat(r),"identifier",!0)),[n,r]}w(be,te,{handler:function(e){var t=ye[e.type];if(t===U&&(this.started=!0),this.started){var n=_e.call(this,e,t);t&(K|V)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:z,srcEvent:e})}}});var we={touchstart:U,touchmove:2,touchend:K,touchcancel:V},Ee="touchstart touchmove touchend touchcancel";function Se(){this.evTarget=Ee,this.targetIds={},te.apply(this,arguments)}function xe(e,t){var n=C(e.touches),r=this.targetIds;if(t&(2|U)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=C(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return A(e.target,u)})),t===U)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(K|V)&&delete r[a[i].identifier],i++;return s.length?[R(o.concat(s),"identifier",!0),s]:void 0}w(Se,te,{handler:function(e){var t=we[e.type],n=xe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:z,srcEvent:e})}});var Me=2500;function ke(){te.apply(this,arguments);var e=E(this.handler,this);this.touch=new Se(this.manager,e),this.mouse=new fe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ae(e,t){e&U?(this.primaryTouch=t.changedPointers[0].identifier,Te.call(this,t)):e&(K|V)&&Te.call(this,t)}function Te(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),Me)}}function Pe(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}w(ke,te,{handler:function(e,t,n){var r=n.pointerType==z,i=n.pointerType==Z;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Ae.call(this,t,n);else if(i&&Pe.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Oe=L(c.style,"touchAction"),Ce=Oe!==s,Re="compute",Le="auto",Ie="manipulation",De="none",je="pan-x",Ne="pan-y",Be=function(){if(!Ce)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function ze(e,t){this.manager=e,this.set(t)}ze.prototype={set:function(e){e==Re&&(e=this.compute()),Ce&&this.manager.element.style&&Be[e]&&(this.manager.element.style[Oe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,(function(t){S(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(T(e,De))return De;var t=T(e,je),n=T(e,Ne);if(t&&n)return De;if(t||n)return t?je:Ne;if(T(e,Ie))return Ie;return Le}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=T(r,De)&&!Be[De],o=T(r,Ne)&&!Be[Ne],a=T(r,je)&&!Be[je];if(i){var s=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&n&X||a&&n&$?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ze=1,Fe=32;function Ue(e){this.options=u({},this.defaults,e||{}),this.id=I++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=Ze,this.simultaneous={},this.requireFail=[]}function Ke(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Ve(e){return e==Y?"down":e==q?"up":e==W?"left":e==G?"right":""}function He(e,t){var n=t.manager;return n?n.get(e):e}function We(){Ue.apply(this,arguments)}function Ge(){We.apply(this,arguments),this.pX=null,this.pY=null}function qe(){We.apply(this,arguments)}function Ye(){Ue.apply(this,arguments),this._timer=null,this._input=null}function Xe(){We.apply(this,arguments)}function $e(){We.apply(this,arguments)}function Je(){Ue.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Qe(e,t){return(t=t||{}).recognizers=x(t.recognizers,Qe.defaults.preset),new et(e,t)}Ue.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=He(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=He(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===O(t,e=He(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=He(e,this);var t=O(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Ke(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Ke(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Fe},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Fe|Ze)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!S(this.options.enable,[this,t]))return this.reset(),void(this.state=Fe);56&this.state&&(this.state=Ze),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(We,Ue,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(n&V||!i)?16|t:r||i?n&K?8|t:2&t?4|t:2:Fe}}),w(Ge,We,{defaults:{event:"pan",threshold:10,pointers:1,direction:J},getTouchAction:function(){var e=this.options.direction,t=[];return e&X&&t.push(Ne),e&$&&t.push(je),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&X?(i=0===o?H:o<0?W:G,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?H:a<0?q:Y,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return We.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ve(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(qe,We,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[De]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(Ye,Ue,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Le]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(K|V)&&!i)this.reset();else if(e.eventType&U)this.reset(),this._timer=v((function(){this.state=8,this.tryEmit()}),t.time,this);else if(e.eventType&K)return 8;return Fe},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&K?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),w(Xe,We,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[De]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w($e,We,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:X|$,pointers:1},getTouchAction:function(){return Ge.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(X|$)?t=e.overallVelocity:n&X?t=e.overallVelocityX:n&$&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&e.eventType&K},emit:function(e){var t=Ve(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(Je,Ue,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ie]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&U&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=K)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||se(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=v((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Fe},failTimeout:function(){return this._timer=v((function(){this.state=Fe}),this.options.interval,this),Fe},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Qe.VERSION="2.0.7",Qe.defaults={domEvents:!1,touchAction:Re,enable:!0,inputTarget:null,inputClass:null,preset:[[Xe,{enable:!1}],[qe,{enable:!1},["rotate"]],[$e,{direction:X}],[Ge,{direction:X},["swipe"]],[Je],[Je,{event:"doubletap",taps:2},["tap"]],[Ye]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function et(e,t){var n;this.options=u({},Qe.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(N?me:B?Se:j?ke:fe))(n,ne),this.touchAction=new ze(this,this.options.touchAction),tt(this,!0),m(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function tt(e,t){var n,r=e.element;r.style&&(m(e.options.cssProps,(function(i,o){n=L(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}et.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Ue)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=O(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return m(P(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return m(P(e),(function(e){t?n[e]&&n[e].splice(O(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&tt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Qe,{INPUT_START:U,INPUT_MOVE:2,INPUT_END:K,INPUT_CANCEL:V,STATE_POSSIBLE:Ze,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Fe,DIRECTION_NONE:H,DIRECTION_LEFT:W,DIRECTION_RIGHT:G,DIRECTION_UP:q,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:$,DIRECTION_ALL:J,Manager:et,Input:te,TouchAction:ze,TouchInput:Se,MouseInput:fe,PointerEventInput:me,TouchMouseInput:ke,SingleTouchInput:be,Recognizer:Ue,AttrRecognizer:We,Tap:Je,Pan:Ge,Swipe:$e,Pinch:qe,Rotate:Xe,Press:Ye,on:M,off:k,each:m,merge:_,extend:b,assign:u,inherit:w,bindFn:E,prefixed:L}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=Qe,(r=function(){return Qe}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},6266:function(e,t,n){"use strict";var r=n(1160).Buffer,i=n(723).Transform;function o(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(2534)(o,i),o.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(i){r=i}n(r)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},1160:function(e,t,n){var r=n(9778),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},3125:function(e,t,n){var r=t;r.utils=n(9046),r.common=n(9684),r.sha=n(9194),r.ripemd=n(6645),r.hmac=n(3609),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},9684:function(e,t,n){"use strict";var r=n(9046),i=n(2325);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},3609:function(e,t,n){"use strict";var r=n(9046),i=n(2325);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},6645:function(e,t,n){"use strict";var r=n(9046),i=n(9684),o=r.rotl32,a=r.sum32,s=r.sum32_3,u=r.sum32_4,l=i.BlockHash;function c(){if(!(this instanceof c))return new c;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(c,l),t.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],l=this.h[3],c=this.h[4],y=n,b=r,_=i,w=l,E=c,S=0;S<80;S++){var x=a(o(u(n,h(S,r,i,l),e[p[S]+t],f(S)),g[S]),c);n=c,c=l,l=o(i,10),i=r,r=x,x=a(o(u(y,h(79-S,b,_,w),e[v[S]+t],d(S)),m[S]),E),y=E,E=w,w=o(_,10),_=b,b=x}x=s(this.h[1],i,w),this.h[1]=s(this.h[2],l,E),this.h[2]=s(this.h[3],c,y),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],r,_),this.h[0]=x},c.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9194:function(e,t,n){"use strict";t.sha1=n(7361),t.sha224=n(7753),t.sha256=n(6966),t.sha384=n(1233),t.sha512=n(9063)},7361:function(e,t,n){"use strict";var r=n(9046),i=n(9684),o=n(4343),a=r.rotl32,s=r.sum32,u=r.sum32_5,l=o.ft_1,c=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,c),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],c=this.h[2],f=this.h[3],d=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),v=u(a(i,5),l(p,o,c,f),d,n[r],h[p]);d=f,f=c,c=a(o,30),o=i,i=v}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],c),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],d)},f.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},7753:function(e,t,n){"use strict";var r=n(9046),i=n(6966);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},6966:function(e,t,n){"use strict";var r=n(9046),i=n(9684),o=n(4343),a=n(2325),s=r.sum32,u=r.sum32_4,l=r.sum32_5,c=o.ch32,h=o.maj32,f=o.s0_256,d=o.s1_256,p=o.g0_256,v=o.g1_256,g=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}r.inherits(y,g),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=u(v(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],g=this.h[2],m=this.h[3],y=this.h[4],b=this.h[5],_=this.h[6],w=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var E=l(w,d(y),c(y,b,_),this.k[r],n[r]),S=s(f(i),h(i,o,g));w=_,_=b,b=y,y=s(m,E),m=g,g=o,o=i,i=s(E,S)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],g),this.h[3]=s(this.h[3],m),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],_),this.h[7]=s(this.h[7],w)},y.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},1233:function(e,t,n){"use strict";var r=n(9046),i=n(9063);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},9063:function(e,t,n){"use strict";var r=n(9046),i=n(9684),o=n(2325),a=r.rotr64_hi,s=r.rotr64_lo,u=r.shr64_hi,l=r.shr64_lo,c=r.sum64,h=r.sum64_hi,f=r.sum64_lo,d=r.sum64_4_hi,p=r.sum64_4_lo,v=r.sum64_5_hi,g=r.sum64_5_lo,m=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function _(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function w(e,t,n,r,i,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function E(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function S(e,t,n,r,i,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function x(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function M(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function k(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function A(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function T(e,t){var n=a(e,t,1)^a(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function P(e,t){var n=s(e,t,1)^s(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function O(e,t){var n=a(e,t,19)^a(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}function C(e,t){var n=s(e,t,19)^s(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(b,m),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=O(n[r-4],n[r-3]),o=C(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],u=T(n[r-30],n[r-29]),l=P(n[r-30],n[r-29]),c=n[r-32],h=n[r-31];n[r]=d(i,o,a,s,u,l,c,h),n[r+1]=p(i,o,a,s,u,l,c,h)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],l=this.h[5],d=this.h[6],p=this.h[7],m=this.h[8],y=this.h[9],b=this.h[10],T=this.h[11],P=this.h[12],O=this.h[13],C=this.h[14],R=this.h[15];o(this.k.length===n.length);for(var L=0;L<n.length;L+=2){var I=C,D=R,j=k(m,y),N=A(m,y),B=_(m,y,b,T,P),z=w(m,y,b,T,P,O),Z=this.k[L],F=this.k[L+1],U=n[L],K=n[L+1],V=v(I,D,j,N,B,z,Z,F,U,K),H=g(I,D,j,N,B,z,Z,F,U,K);I=x(r,i),D=M(r,i),j=E(r,i,a,s,u),N=S(r,i,a,s,u,l);var W=h(I,D,j,N),G=f(I,D,j,N);C=P,R=O,P=b,O=T,b=m,T=y,m=h(d,p,V,H),y=f(p,p,V,H),d=u,p=l,u=a,l=s,a=r,s=i,r=h(V,H,W,G),i=f(V,H,W,G)}c(this.h,0,r,i),c(this.h,2,a,s),c(this.h,4,u,l),c(this.h,6,d,p),c(this.h,8,m,y),c(this.h,10,b,T),c(this.h,12,P,O),c(this.h,14,C,R)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},4343:function(e,t,n){"use strict";var r=n(9046).rotr32;function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?a(t,n,r):2===e?o(t,n,r):void 0},t.ch32=i,t.maj32=o,t.p32=a,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},9046:function(e,t,n){"use strict";var r=n(2325),i=n(2534);function o(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):o(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=a(i)),n+=u(i.toString(16))}return n},t.zero2=s,t.zero8=u,t.join32=function(e,t,n,i){var o=n-t;r(o%4===0);for(var a=new Array(o/4),s=0,u=t;s<a.length;s++,u+=4){var l;l="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],a[s]=l>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,a=(o<r?1:0)+n+i;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,o,a,s){var u=0,l=t;return u+=(l=l+r>>>0)<t?1:0,u+=(l=l+o>>>0)<o?1:0,e+n+i+a+(u+=(l=l+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,o,a,s){return t+r+o+s>>>0},t.sum64_5_hi=function(e,t,n,r,i,o,a,s,u,l){var c=0,h=t;return c+=(h=h+r>>>0)<t?1:0,c+=(h=h+o>>>0)<o?1:0,c+=(h=h+s>>>0)<s?1:0,e+n+i+a+u+(c+=(h=h+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,o,a,s,u,l){return t+r+o+s+l>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},7411:function(e,t,n){"use strict";var r=n(3125),i=n(4034),o=n(2325);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=a,a.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,r){"string"!==typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,i.encode(a,t)}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=u(t),v=u(n),g=0;g<a.length;++g){var m=a[g];if(!o[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var y=f(n,m);try{l(t,m,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case g:case v:case u:return e;default:return t}}case i:return t}}}function E(e){return w(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||w(e)===c},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4038:function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+d]=255&a,d+=p,a/=256,l-=8);e[n+d-p]|=128*v}},2534:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},8101:function(e,t,n){n(1288),e.exports=self.fetch.bind(self)},8559:function(e,t){!function(e,n,r){var i=this;"undefined"===typeof e&&(e={navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return i},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}}),"undefined"===typeof n&&(n={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},documentElement:{style:{}},getElementsByTagName:function(){return[]}}),"undefined"===typeof r&&(r={platform:"",userAgent:""}),"undefined"===typeof self&&(self={}),function(t){"use strict";var i="1.9.4";function o(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var a=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function s(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var u=0;function l(e){return"_leaflet_id"in e||(e._leaflet_id=++u),e._leaflet_id}function c(e,t,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)},o}function h(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function f(){return!1}function d(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function p(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function v(e){return p(e).split(/\s+/)}function g(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?a(e.options):{}),t)e.options[n]=t[n];return e.options}function m(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function b(e,t){return e.replace(y,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r}))}var _=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function w(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function S(t){return e["webkit"+t]||e["moz"+t]||e["ms"+t]}var x=0;function M(t){var n=+new Date,r=Math.max(0,16-(n-x));return x=n+r,e.setTimeout(t,r)}var k=e.requestAnimationFrame||S("RequestAnimationFrame")||M,A=e.cancelAnimationFrame||S("CancelAnimationFrame")||S("CancelRequestAnimationFrame")||function(t){e.clearTimeout(t)};function T(t,n,r){if(!r||k!==M)return k.call(e,s(t,n));t.call(n)}function P(t){t&&A.call(e,t)}var O={__proto__:null,extend:o,create:a,bind:s,get lastId(){return u},stamp:l,throttle:c,wrapNum:h,falseFn:f,formatNum:d,trim:p,splitWords:v,setOptions:g,getParamString:m,template:b,isArray:_,indexOf:w,emptyImageUrl:E,requestFn:k,cancelFn:A,requestAnimFrame:T,cancelAnimFrame:P};function C(){}function R(e){if("undefined"!==typeof L&&L&&L.Mixin){e=_(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}C.extend=function(e){var t=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=t.__super__=this.prototype,r=a(n);for(var i in r.constructor=t,t.prototype=r,this)Object.prototype.hasOwnProperty.call(this,i)&&"prototype"!==i&&"__super__"!==i&&(t[i]=this[i]);return e.statics&&o(t,e.statics),e.includes&&(R(e.includes),o.apply(null,[r].concat(e.includes))),o(r,e),delete r.statics,delete r.includes,r.options&&(r.options=n.options?a(n.options):{},o(r.options,e.options)),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=r._initHooks.length;e<t;e++)r._initHooks[e].call(this)}},t},C.include=function(e){var t=this.prototype.options;return o(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},C.mergeOptions=function(e){return o(this.prototype.options,e),this},C.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var I={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,o=(e=v(e)).length;i<o;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=v(e);for(var i=1===arguments.length,o=0,a=e.length;o<a;o++)i?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var a=this._listens(e,t,n);if(!1!==a){var s=r[a];this._firingCount&&(s.fn=f,this._events[e]=r=r.slice()),r.splice(a,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=f;delete this._events[e]}},fire:function(e,t,n){if(!this.listens(e,n))return this;var r=o({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var i=this._events[e];if(i){this._firingCount=this._firingCount+1||1;for(var a=0,s=i.length;a<s;a++){var u=i[a],l=u.fn;u.once&&this.off(e,l,u.ctx),l.call(u.ctx||this,r)}this._firingCount--}}return n&&this._propagateEvent(r),this},listens:function(e,t,n,r){"string"!==typeof e&&console.warn('"string" type argument expected');var i=t;"function"!==typeof t&&(r=!!t,i=void 0,n=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var a in this._eventParents)if(this._eventParents[a].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,o=r.length;i<o;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,o=(e=v(e)).length;i<o;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[l(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[l(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,o({layer:e.target,propagatedFrom:e.target},e),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var D=C.extend(I);function j(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var N=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function B(e,t,n){return e instanceof j?e:_(e)?new j(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new j(e.x,e.y):new j(e,t,n)}function z(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function Z(e,t){return!e||e instanceof z?e:new z(e,t)}function F(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function U(e,t){return e instanceof F?e:new F(e,t)}function K(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function V(e,t,n){return e instanceof K?e:_(e)&&"object"!==typeof e[0]?3===e.length?new K(e[0],e[1],e[2]):2===e.length?new K(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new K(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new K(e,t,n)}j.prototype={clone:function(){return new j(this.x,this.y)},add:function(e){return this.clone()._add(B(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(B(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new j(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new j(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(e){var t=(e=B(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=B(e)).x===this.x&&e.y===this.y},contains:function(e){return e=B(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}},z.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof j||"number"===typeof e[0]||"x"in e)t=n=B(e);else if(t=(e=Z(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof j?B(e):Z(e))instanceof z?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=Z(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,a=i.y>=t.y&&r.y<=n.y;return o&&a},overlaps:function(e){e=Z(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,a=i.y>t.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return Z(B(t.x-r,t.y-i),B(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=Z(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},F.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof K)t=e,n=e;else{if(!(e instanceof F))return e?this.extend(V(e)||U(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new K(t.lat,t.lng),this._northEast=new K(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new F(new K(t.lat-r,t.lng-i),new K(n.lat+r,n.lng+i))},getCenter:function(){return new K((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new K(this.getNorth(),this.getWest())},getSouthEast:function(){return new K(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof K||"lat"in e?V(e):U(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof F?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=U(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,a=i.lng>=t.lng&&r.lng<=n.lng;return o&&a},overlaps:function(e){e=U(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,a=i.lng>t.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=U(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},K.prototype={equals:function(e,t){return!!e&&(e=V(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+d(this.lat,e)+", "+d(this.lng,e)+")"},distanceTo:function(e){return W.distance(this,V(e))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return U([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new K(this.lat,this.lng,this.alt)}};var H={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new z(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?h(e.lng,this.wrapLng,!0):e.lng;return new K(this.wrapLat?h(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new F(new K(o.lat-r,o.lng-i),new K(a.lat-r,a.lng-i))}},W=o({},H,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),G=6378137,q={R:G,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new j(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new K((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=G*Math.PI;return new z([-e,-e],[e,e])}()};function Y(e,t,n,r){if(_(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function X(e,t,n,r){return new Y(e,t,n,r)}Y.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new j((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var $=o({},W,{code:"EPSG:3857",projection:q,transformation:function(){var e=.5/(Math.PI*q.R);return X(e,.5,-e,.5)}()}),J=o({},$,{code:"EPSG:900913"});function Q(e){return n.createElementNS("http://www.w3.org/2000/svg",e)}function ee(e,t){var n,r,i,o,a,s,u="";for(n=0,i=e.length;n<i;n++){for(r=0,o=(a=e[n]).length;r<o;r++)u+=(r?"L":"M")+(s=a[r]).x+" "+s.y;u+=t?ze.svg?"z":"x":""}return u||"M0 0"}var te=n.documentElement.style,ne="ActiveXObject"in e,re=ne&&!n.addEventListener,ie="msLaunchUri"in r&&!("documentMode"in n),oe=Be("webkit"),ae=Be("android"),se=Be("android 2")||Be("android 3"),ue=parseInt(/WebKit\/([0-9]+)|$/.exec(r.userAgent)[1],10),le=ae&&Be("Google")&&ue<537&&!("AudioNode"in e),ce=!!e.opera,he=!ie&&Be("chrome"),fe=Be("gecko")&&!oe&&!ce&&!ne,de=!he&&Be("safari"),pe=Be("phantom"),ve="OTransition"in te,ge=0===r.platform.indexOf("Win"),me=ne&&"transition"in te,ye="WebKitCSSMatrix"in e&&"m11"in new e.WebKitCSSMatrix&&!se,be="MozPerspective"in te,_e=!e.L_DISABLE_3D&&(me||ye||be)&&!ve&&!pe,we="undefined"!==typeof orientation||Be("mobile"),Ee=we&&oe,Se=we&&ye,xe=!e.PointerEvent&&e.MSPointerEvent,Me=!(!e.PointerEvent&&!xe),ke="ontouchstart"in e||!!e.TouchEvent,Ae=!e.L_NO_TOUCH&&(ke||Me),Te=we&&ce,Pe=we&&fe,Oe=(e.devicePixelRatio||e.screen.deviceXDPI/e.screen.logicalXDPI)>1,Ce=function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveEventSupport",f,n),e.removeEventListener("testPassiveEventSupport",f,n)}catch(r){}return t}(),Re=!!n.createElement("canvas").getContext,Le=!(!n.createElementNS||!Q("svg").createSVGRect),Ie=!!Le&&function(){var e=n.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),De=!Le&&function(){try{var e=n.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(r){return!1}}(),je=0===r.platform.indexOf("Mac"),Ne=0===r.platform.indexOf("Linux");function Be(e){return r.userAgent.toLowerCase().indexOf(e)>=0}var ze={ie:ne,ielt9:re,edge:ie,webkit:oe,android:ae,android23:se,androidStock:le,opera:ce,chrome:he,gecko:fe,safari:de,phantom:pe,opera12:ve,win:ge,ie3d:me,webkit3d:ye,gecko3d:be,any3d:_e,mobile:we,mobileWebkit:Ee,mobileWebkit3d:Se,msPointer:xe,pointer:Me,touch:Ae,touchNative:ke,mobileOpera:Te,mobileGecko:Pe,retina:Oe,passiveEvents:Ce,canvas:Re,svg:Le,vml:De,inlineSvg:Ie,mac:je,linux:Ne},Ze=ze.msPointer?"MSPointerDown":"pointerdown",Fe=ze.msPointer?"MSPointerMove":"pointermove",Ue=ze.msPointer?"MSPointerUp":"pointerup",Ke=ze.msPointer?"MSPointerCancel":"pointercancel",Ve={touchstart:Ze,touchmove:Fe,touchend:Ue,touchcancel:Ke},He={touchstart:tt,touchmove:et,touchend:et,touchcancel:et},We={},Ge=!1;function qe(e,t,n){return"touchstart"===t&&Qe(),He[t]?(n=He[t].bind(this,n),e.addEventListener(Ve[t],n,!1),n):(console.warn("wrong event specified:",t),f)}function Ye(e,t,n){Ve[t]?e.removeEventListener(Ve[t],n,!1):console.warn("wrong event specified:",t)}function Xe(e){We[e.pointerId]=e}function $e(e){We[e.pointerId]&&(We[e.pointerId]=e)}function Je(e){delete We[e.pointerId]}function Qe(){Ge||(n.addEventListener(Ze,Xe,!0),n.addEventListener(Fe,$e,!0),n.addEventListener(Ue,Je,!0),n.addEventListener(Ke,Je,!0),Ge=!0)}function et(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],We)t.touches.push(We[n]);t.changedTouches=[t],e(t)}}function tt(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Xt(t),et(e,t)}function nt(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var rt=200;function it(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Jt(e);if(!i.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||i.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var o=Date.now();o-r<=rt?2===++n&&t(nt(e)):n=1,r=o}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function ot(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var at,st,ut,lt,ct,ht=Tt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ft=Tt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dt="webkitTransition"===ft||"OTransition"===ft?ft+"End":"transitionend";function pt(e){return"string"===typeof e?n.getElementById(e):e}function vt(e,t){var r=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!r||"auto"===r)&&n.defaultView){var i=n.defaultView.getComputedStyle(e,null);r=i?i[t]:null}return"auto"===r?null:r}function gt(e,t,r){var i=n.createElement(e);return i.className=t||"",r&&r.appendChild(i),i}function mt(e){var t=e.parentNode;t&&t.removeChild(e)}function yt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function bt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function _t(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function wt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=Mt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function Et(e,t){if(void 0!==e.classList)for(var n=v(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!wt(e,t)){var o=Mt(e);xt(e,(o?o+" ":"")+t)}}function St(e,t){void 0!==e.classList?e.classList.remove(t):xt(e,p((" "+Mt(e)+" ").replace(" "+t+" "," ")))}function xt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function Mt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function kt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&At(e,t)}function At(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function Tt(e){for(var t=n.documentElement.style,r=0;r<e.length;r++)if(e[r]in t)return e[r];return!1}function Pt(e,t,n){var r=t||new j(0,0);e.style[ht]=(ze.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Ot(e,t){e._leaflet_pos=t,ze.any3d?Pt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Ct(e){return e._leaflet_pos||new j(0,0)}if("onselectstart"in n)at=function(){Zt(e,"selectstart",Xt)},st=function(){Ut(e,"selectstart",Xt)};else{var Rt=Tt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);at=function(){if(Rt){var e=n.documentElement.style;ut=e[Rt],e[Rt]="none"}},st=function(){Rt&&(n.documentElement.style[Rt]=ut,ut=void 0)}}function Lt(){Zt(e,"dragstart",Xt)}function It(){Ut(e,"dragstart",Xt)}function Dt(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(jt(),lt=t,ct=t.style.outlineStyle,t.style.outlineStyle="none",Zt(e,"keydown",jt))}function jt(){lt&&(lt.style.outlineStyle=ct,lt=void 0,ct=void 0,Ut(e,"keydown",jt))}function Nt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==n.body);return e}function Bt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var zt={__proto__:null,TRANSFORM:ht,TRANSITION:ft,TRANSITION_END:dt,get:pt,getStyle:vt,create:gt,remove:mt,empty:yt,toFront:bt,toBack:_t,hasClass:wt,addClass:Et,removeClass:St,setClass:xt,getClass:Mt,setOpacity:kt,testProp:Tt,setTransform:Pt,setPosition:Ot,getPosition:Ct,get disableTextSelection(){return at},get enableTextSelection(){return st},disableImageDrag:Lt,enableImageDrag:It,preventOutline:Dt,restoreOutline:jt,getSizedParentNode:Nt,getScale:Bt};function Zt(e,t,n,r){if(t&&"object"===typeof t)for(var i in t)Ht(e,i,t[i],n);else for(var o=0,a=(t=v(t)).length;o<a;o++)Ht(e,t[o],n,r);return this}var Ft="_leaflet_events";function Ut(e,t,n,r){if(1===arguments.length)Kt(e),delete e[Ft];else if(t&&"object"===typeof t)for(var i in t)Wt(e,i,t[i],n);else if(t=v(t),2===arguments.length)Kt(e,(function(e){return-1!==w(t,e)}));else for(var o=0,a=t.length;o<a;o++)Wt(e,t[o],n,r);return this}function Kt(e,t){for(var n in e[Ft]){var r=n.split(/\d/)[0];t&&!t(r)||Wt(e,r,null,null,n)}}var Vt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in e)&&"mousewheel"};function Ht(t,n,r,i){var o=n+l(r)+(i?"_"+l(i):"");if(t[Ft]&&t[Ft][o])return this;var a=function(n){return r.call(i||t,n||e.event)},s=a;!ze.touchNative&&ze.pointer&&0===n.indexOf("touch")?a=qe(t,n,a):ze.touch&&"dblclick"===n?a=it(t,a):"addEventListener"in t?"touchstart"===n||"touchmove"===n||"wheel"===n||"mousewheel"===n?t.addEventListener(Vt[n]||n,a,!!ze.passiveEvents&&{passive:!1}):"mouseenter"===n||"mouseleave"===n?(a=function(n){n=n||e.event,nn(t,n)&&s(n)},t.addEventListener(Vt[n],a,!1)):t.addEventListener(n,s,!1):t.attachEvent("on"+n,a),t[Ft]=t[Ft]||{},t[Ft][o]=a}function Wt(e,t,n,r,i){i=i||t+l(n)+(r?"_"+l(r):"");var o=e[Ft]&&e[Ft][i];if(!o)return this;!ze.touchNative&&ze.pointer&&0===t.indexOf("touch")?Ye(e,t,o):ze.touch&&"dblclick"===t?ot(e,o):"removeEventListener"in e?e.removeEventListener(Vt[t]||t,o,!1):e.detachEvent("on"+t,o),e[Ft][i]=null}function Gt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function qt(e){return Ht(e,"wheel",Gt),this}function Yt(e){return Zt(e,"mousedown touchstart dblclick contextmenu",Gt),e._leaflet_disable_click=!0,this}function Xt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function $t(e){return Xt(e),Gt(e),this}function Jt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Qt(e,t){if(!t)return new j(e.clientX,e.clientY);var n=Bt(t),r=n.boundingClientRect;return new j((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var en=ze.linux&&ze.chrome?e.devicePixelRatio:ze.mac?3*e.devicePixelRatio:e.devicePixelRatio>0?2*e.devicePixelRatio:1;function tn(e){return ze.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/en:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function nn(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var rn={__proto__:null,on:Zt,off:Ut,stopPropagation:Gt,disableScrollPropagation:qt,disableClickPropagation:Yt,preventDefault:Xt,stop:$t,getPropagationPath:Jt,getMousePosition:Qt,getWheelDelta:tn,isExternalTarget:nn,addListener:Zt,removeListener:Ut},on=D.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Ct(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Ot(this._el,n),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),an=D.extend({options:{crs:$,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=g(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(V(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ft&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Zt(this._proxy,dt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,n){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(V(e),t,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=o({animate:n.animate},n.zoom),n.pan=o({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,n.zoom):this._tryAnimatedPan(e,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,n.pan&&n.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof j?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():U(e);var n=B(t.paddingTopLeft||t.padding||[0,0]),r=B(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=U(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=B(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new on,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){Et(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!ze.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),o=this.getSize(),a=this._zoom;e=V(e),t=void 0===t?a:t;var s=Math.max(o.x,o.y),u=s*this.getZoomScale(a,t),l=i.distanceTo(r)||1,c=1.42,h=c*c;function f(e){var t=(u*u-s*s+(e?-1:1)*h*h*l*l)/(2*(e?u:s)*h*l),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function d(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}function v(e){return d(e)/p(e)}var g=f(0);function m(e){return s*(p(g)/p(g+c*e))}function y(e){return s*(p(g)*v(g+c*e)-d(g))/h}function b(e){return 1-Math.pow(1-e,1.5)}var _=Date.now(),w=(f(1)-g)/c,E=n.duration?1e3*n.duration:1e3*w*.8;function S(){var n=(Date.now()-_)/E,o=b(n)*w;n<=1?(this._flyToFrame=T(S,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(y(o)/l)),a),this.getScaleZoom(s/m(o),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=U(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,U(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=B((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=B(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(e),a=this.getPixelBounds(),s=Z([a.min.add(n),a.max.subtract(r)]),u=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var l=o.subtract(s.getCenter()),c=s.extend(o).getSize().subtract(u);i.x+=l.x<0?-c.x:c.x,i.y+=l.y<0?-c.y:c.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=o({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),r=t.divideBy(2).round(),i=n.divideBy(2).round(),a=r.subtract(i);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=o({timeout:1e4,watch:!1},e),!("geolocation"in r))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=s(this._handleGeolocationResponse,this),n=s(this._handleGeolocationError,this);return e.watch?this._locationWatchId=r.geolocation.watchPosition(t,n,e):r.geolocation.getCurrentPosition(t,n,e),this},stopLocate:function(){return r.geolocation&&r.geolocation.clearWatch&&r.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new K(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"===typeof e.coords[a]&&(o[a]=e.coords[a]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(P(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)mt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=gt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new F(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=U(e),n=B(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),u=this.getSize().subtract(n),l=Z(this.project(s,r),this.project(a,r)).getSize(),c=ze.any3d?this.options.zoomSnap:1,h=u.x/l.x,f=u.y/l.y,d=t?Math.max(h,f):Math.min(h,f);return r=this.getScaleZoom(d,r),c&&(r=Math.round(r/(c/100))*(c/100),r=t?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new z(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(V(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(B(e),t)},layerPointToLatLng:function(e){var t=B(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(V(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(V(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(U(e))},distance:function(e,t){return this.options.crs.distance(V(e),V(t))},containerPointToLayerPoint:function(e){return B(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return B(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(B(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(e)))},mouseEventToContainerPoint:function(e){return Qt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=pt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Zt(t,"scroll",this._onScroll,this),this._containerId=l(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,Et(e,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=vt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ot(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Et(e.markerPane,"leaflet-zoom-hide"),Et(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Ot(this._mapPane,new j(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ot(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[l(this._container)]=this;var n=t?Ut:Zt;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(e,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,a=!1;o;){if((n=this._targets[l(o)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(t,!0)){if(i&&!nn(o,e))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||a||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Dt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,n){if("click"===e.type){var r=o({},e);r.type="preclick",this._fireDOMEvent(r,r.type,n)}var i=this._findEventTargets(e,t);if(n){for(var a=[],s=0;s<n.length;s++)n[s].listens(t,!0)&&a.push(n[s]);i=a.concat(i)}if(i.length){"contextmenu"===t&&Xt(e);var u=i[0],l={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var c=u.getLatLng&&(!u._radius||u._radius<=10);l.containerPoint=c?this.latLngToContainerPoint(u.getLatLng()):this.mouseEventToContainerPoint(e),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=c?u.getLatLng():this.layerPointToLatLng(l.layerPoint)}for(s=0;s<i.length;s++)if(i[s].fire(t,l,!0),l.originalEvent._stopped||!1===i[s].options.bubblingMouseEvents&&-1!==w(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Ct(this._mapPane)||new j(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return Z([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new z(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,t);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new z(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=Z(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new j(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=ze.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){St(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=ht,n=this._proxy.style[t];Pt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Pt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(T((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,Et(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&St(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function sn(e,t){return new an(e,t)}var un=C.extend({options:{position:"topright"},initialize:function(e){g(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return Et(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),ln=function(e){return new un(e)};an.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=gt("div",t+"control-container",this._container);function r(r,i){var o=t+r+" "+t+i;e[r+i]=gt("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)mt(this._controlCorners[e]);mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cn=un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in g(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return un.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(l(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){Et(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(Et(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):St(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return St(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=gt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Yt(t),qt(t);var r=this._section=gt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Zt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=gt("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),Zt(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Xt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=gt("div",e+"-base",r),this._separator=gt("div",e+"-separator",r),this._overlaysList=gt("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&l(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(s((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yt(this._baseLayersList),yt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(l(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=n.createElement("div");return i.innerHTML=r,i.firstChild},_addItem:function(e){var t,r=n.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=n.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers_"+l(this),i),this._layerControlInputs.push(t),t.layerId=l(e.layer),Zt(t,"click",this._onInputClick,this);var o=n.createElement("span");o.innerHTML=" "+e.name;var a=n.createElement("span");return r.appendChild(a),a.appendChild(t),a.appendChild(o),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Zt(e,"click",Xt),this.expand();var t=this;setTimeout((function(){Ut(e,"click",Xt),t._preventClick=!1}))}}),hn=function(e,t,n){return new cn(e,t,n)},fn=un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=gt("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=gt("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Yt(o),Zt(o,"click",$t),Zt(o,"click",i,this),Zt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";St(this._zoomInButton,t),St(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(Et(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(Et(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});an.mergeOptions({zoomControl:!0}),an.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new fn,this.addControl(this.zoomControl))}));var dn=function(e){return new fn(e)},pn=un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=gt("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=gt("div",t,n)),e.imperial&&(this._iScale=gt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),vn=function(e){return new pn(e)},gn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',mn=un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?gn+" ":"")+"Leaflet</a>"},initialize:function(e){g(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=gt("div","leaflet-control-attribution"),Yt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});an.mergeOptions({attributionControl:!0}),an.addInitHook((function(){this.options.attributionControl&&(new mn).addTo(this)}));var yn=function(e){return new mn(e)};un.Layers=cn,un.Zoom=fn,un.Scale=pn,un.Attribution=mn,ln.layers=hn,ln.zoom=dn,ln.scale=vn,ln.attribution=yn;var bn=C.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});bn.addTo=function(e,t){return e.addHandler(t,this),this};var _n={Events:I},wn=ze.touch?"touchstart mousedown":"mousedown",En=D.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){g(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Zt(this._dragStartTarget,wn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(En._dragging===this&&this.finishDrag(!0),Ut(this._dragStartTarget,wn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!wt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)En._dragging===this&&this.finishDrag();else if(!(En._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(En._dragging=this,this._preventOutline&&Dt(this._element),Lt(),at(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,r=Nt(this._element);this._startPoint=new j(t.clientX,t.clientY),this._startPos=Ct(this._element),this._parentScale=Bt(r);var i="mousedown"===e.type;Zt(n,i?"mousemove":"touchmove",this._onMove,this),Zt(n,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var r=t.touches&&1===t.touches.length?t.touches[0]:t,i=new j(r.clientX,r.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Xt(t),this._moved||(this.fire("dragstart"),this._moved=!0,Et(n.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,e.SVGElementInstance&&this._lastTarget instanceof e.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Et(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ot(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){St(n.body,"leaflet-dragging"),this._lastTarget&&(St(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ut(n,"mousemove touchmove",this._onMove,this),Ut(n,"mouseup touchend touchcancel",this._onUp,this),It(),st();var t=this._moved&&this._moving;this._moving=!1,En._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Sn(e,t,n){var r,i,o,a,s,u,l,c,h,f=[1,4,2,8];for(i=0,l=e.length;i<l;i++)e[i]._code=jn(e[i],t);for(a=0;a<4;a++){for(c=f[a],r=[],i=0,o=(l=e.length)-1;i<l;o=i++)s=e[i],u=e[o],s._code&c?u._code&c||((h=Dn(u,s,c,t,n))._code=jn(h,t),r.push(h)):(u._code&c&&((h=Dn(u,s,c,t,n))._code=jn(h,t),r.push(h)),r.push(s));e=r}return e}function xn(e,t){var n,r,i,o,a,s,u,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");zn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var h=V([0,0]),f=U(e);f.getNorthWest().distanceTo(f.getSouthWest())*f.getNorthEast().distanceTo(f.getNorthWest())<1700&&(h=Mn(e));var d=e.length,p=[];for(n=0;n<d;n++){var v=V(e[n]);p.push(t.project(V([v.lat-h.lat,v.lng-h.lng])))}for(s=u=l=0,n=0,r=d-1;n<d;r=n++)i=p[n],o=p[r],a=i.y*o.x-o.y*i.x,u+=(i.x+o.x)*a,l+=(i.y+o.y)*a,s+=3*a;c=0===s?p[0]:[u/s,l/s];var g=t.unproject(B(c));return V([g.lat+h.lat,g.lng+h.lng])}function Mn(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=V(e[i]);t+=o.lat,n+=o.lng,r++}return V([t/r,n/r])}var kn,An={__proto__:null,clipPolygon:Sn,polygonCenter:xn,centroid:Mn};function Tn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Cn(e=Ln(e,n),n)}function Pn(e,t,n){return Math.sqrt(Bn(e,t,n,!0))}function On(e,t,n){return Bn(e,t,n)}function Cn(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,Rn(e,r,t,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(e[i]);return o}function Rn(e,t,n,r,i){var o,a,s,u=0;for(a=r+1;a<=i-1;a++)(s=Bn(e[a],e[r],e[i],!0))>u&&(o=a,u=s);u>n&&(t[o]=1,Rn(e,t,n,r,o),Rn(e,t,n,o,i))}function Ln(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)Nn(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}function In(e,t,n,r,i){var o,a,s,u=r?kn:jn(e,n),l=jn(t,n);for(kn=l;;){if(!(u|l))return[e,t];if(u&l)return!1;s=jn(a=Dn(e,t,o=u||l,n,i),n),o===u?(e=a,u=s):(t=a,l=s)}}function Dn(e,t,n,r,i){var o,a,s=t.x-e.x,u=t.y-e.y,l=r.min,c=r.max;return 8&n?(o=e.x+s*(c.y-e.y)/u,a=c.y):4&n?(o=e.x+s*(l.y-e.y)/u,a=l.y):2&n?(o=c.x,a=e.y+u*(c.x-e.x)/s):1&n&&(o=l.x,a=e.y+u*(l.x-e.x)/s),new j(o,a,i)}function jn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Nn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Bn(e,t,n,r){var i,o=t.x,a=t.y,s=n.x-o,u=n.y-a,l=s*s+u*u;return l>0&&((i=((e.x-o)*s+(e.y-a)*u)/l)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=u*i)),s=e.x-o,u=e.y-a,r?s*s+u*u:new j(o,a)}function zn(e){return!_(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function Zn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),zn(e)}function Fn(e,t){var n,r,i,o,a,s,u,l;if(!e||0===e.length)throw new Error("latlngs not passed");zn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var c=V([0,0]),h=U(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(c=Mn(e));var f=e.length,d=[];for(n=0;n<f;n++){var p=V(e[n]);d.push(t.project(V([p.lat-c.lat,p.lng-c.lng])))}for(n=0,r=0;n<f-1;n++)r+=d[n].distanceTo(d[n+1])/2;if(0===r)l=d[0];else for(n=0,o=0;n<f-1;n++)if(a=d[n],s=d[n+1],(o+=i=a.distanceTo(s))>r){u=(o-r)/i,l=[s.x-u*(s.x-a.x),s.y-u*(s.y-a.y)];break}var v=t.unproject(B(l));return V([v.lat+c.lat,v.lng+c.lng])}var Un={__proto__:null,simplify:Tn,pointToSegmentDistance:Pn,closestPointOnSegment:On,clipSegment:In,_getEdgeIntersection:Dn,_getBitCode:jn,_sqClosestPointOnSegment:Bn,isFlat:zn,_flat:Zn,polylineCenter:Fn},Kn={project:function(e){return new j(e.lng,e.lat)},unproject:function(e){return new K(e.y,e.x)},bounds:new z([-180,-90],[180,90])},Vn={R:6378137,R_MINOR:6356752.314245179,bounds:new z([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new j(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),s+=l=Math.PI/2-2*Math.atan(a*t)-s;return new K(s*n,e.x*n/r)}},Hn={__proto__:null,LonLat:Kn,Mercator:Vn,SphericalMercator:q},Wn=o({},W,{code:"EPSG:3395",projection:Vn,transformation:function(){var e=.5/(Math.PI*Vn.R);return X(e,.5,-e,.5)}()}),Gn=o({},W,{code:"EPSG:4326",projection:Kn,transformation:X(1/180,1,-1/180,.5)}),qn=o({},H,{projection:Kn,transformation:X(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});H.Earth=W,H.EPSG3395=Wn,H.EPSG3857=$,H.EPSG900913=J,H.EPSG4326=Gn,H.Simple=qn;var Yn=D.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[l(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[l(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});an.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=l(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=l(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return l(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?_(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[l(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=l(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xn=Yn.extend({initialize:function(e,t){var n,r;if(g(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return l(e)}}),$n=function(e,t){return new Xn(e,t)},Jn=Xn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Xn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Xn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new F;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Qn=function(e,t){return new Jn(e,t)},er=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){g(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=B(r),o=B("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||n.createElement("img")).src=e,t},_getIconUrl:function(e){return ze.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function tr(e){return new er(e)}var nr=er.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof nr.imagePath&&(nr.imagePath=this._detectIconPath()),(this.options.imagePath||nr.imagePath)+er.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=gt("div","leaflet-default-icon-path",n.body),t=vt(e,"background-image")||vt(e,"backgroundImage");if(n.body.removeChild(e),t=this._stripUrl(t))return t;var r=n.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),rr=bn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new En(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Et(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&St(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=Ct(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=Z(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!u.contains(o)){var l=B((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(r);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),Ot(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=T(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=Ct(t._icon),i=t._map.layerPointToLatLng(r);n&&Ot(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),ir=Yn.extend({options:{icon:new nr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){g(this,t),this._latlng=V(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=V(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),Et(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zt(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(Et(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(this._icon,"focus",this._panOnFocus,this),mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&mt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ot(this._icon,e),this._shadow&&Ot(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(Et(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),rr)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new rr(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&kt(this._icon,e),this._shadow&&kt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?B(t.iconSize):B(0,0),r=t.iconAnchor?B(t.iconAnchor):B(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function or(e,t){return new ir(e,t)}var ar=Yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return g(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),sr=ar.extend({options:{fill:!0,radius:10},initialize:function(e,t){g(this,t),this._latlng=V(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=V(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return ar.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new z(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ur(e,t){return new sr(e,t)}var lr=sr.extend({initialize:function(e,t,n){if("number"===typeof t&&(t=o({},n,{radius:t})),g(this,t),this._latlng=V(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ar.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===W.distance){var i=Math.PI/180,o=this._mRadius/W.R/i,a=n.project([t+o,e]),s=n.project([t-o,e]),u=a.add(s).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(l*i))/(Math.cos(t*i)*Math.cos(l*i)))/i;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*t)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,e-c]).x,this._radiusY=u.y-a.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function cr(e,t,n){return new lr(e,t,n)}var hr=ar.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){g(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=Bn,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],l=1,c=u.length;l<c;l++){var h=o(e,t=u[l-1],n=u[l],!0);h<r&&(r=h,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=V(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new F,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return zn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=zn(e),r=0,i=e.length;r<i;r++)n?(t[r]=V(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new j(e,e);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof K,a=e.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,o,a,s,u=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,o=(s=this._rings[t]).length;n<o-1;n++)(a=In(s[n],s[n+1],e,n,!0))&&(u[r]=u[r]||[],u[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Tn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((t||0!==r)&&Pn(e,s[i],s[r])<=u)return!0;return!1}});function fr(e,t){return new hr(e,t)}hr._flat=Zn;var dr=hr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=hr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof K&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){hr.prototype._setLatLngs.call(this,e),zn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return zn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new j(t,t);if(e=new z(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=Sn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,a,s,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(u=(t=this._parts[i]).length)-1;o<u;a=o++)n=t[o],r=t[a],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(l=!l);return l||hr.prototype._containsPoint.call(this,e,!0)}});function pr(e,t){return new dr(e,t)}var vr=Jn.extend({initialize:function(e,t){g(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=_(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=gr(e,o);return a?(a.feature=Sr(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=o({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function gr(e,t){var n,r,i,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,u=[],l=t&&t.pointToLayer,c=t&&t.coordsToLatLng||yr;if(!s&&!a)return null;switch(a.type){case"Point":return mr(l,e,n=c(s),t);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=c(s[i]),u.push(mr(l,e,n,t));return new Jn(u);case"LineString":case"MultiLineString":return r=br(s,"LineString"===a.type?0:1,c),new hr(r,t);case"Polygon":case"MultiPolygon":return r=br(s,"Polygon"===a.type?1:2,c),new dr(r,t);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var h=gr({geometry:a.geometries[i],type:"Feature",properties:e.properties},t);h&&u.push(h)}return new Jn(u);case"FeatureCollection":for(i=0,o=a.features.length;i<o;i++){var f=gr(a.features[i],t);f&&u.push(f)}return new Jn(u);default:throw new Error("Invalid GeoJSON object.")}}function mr(e,t,n,r){return e?e(t,n):new ir(n,r&&r.markersInheritOptions&&r)}function yr(e){return new K(e[1],e[0],e[2])}function br(e,t,n){for(var r,i=[],o=0,a=e.length;o<a;o++)r=t?br(e[o],t-1,n):(n||yr)(e[o]),i.push(r);return i}function _r(e,t){return void 0!==(e=V(e)).alt?[d(e.lng,t),d(e.lat,t),d(e.alt,t)]:[d(e.lng,t),d(e.lat,t)]}function wr(e,t,n,r){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t?wr(e[o],zn(e[o])?0:t-1,n,r):_r(e[o],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function Er(e,t){return e.feature?o({},e.feature,{geometry:t}):Sr(t)}function Sr(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var xr={toGeoJSON:function(e){return Er(this,{type:"Point",coordinates:_r(this.getLatLng(),e)})}};function Mr(e,t){return new vr(e,t)}ir.include(xr),lr.include(xr),sr.include(xr),hr.include({toGeoJSON:function(e){var t=!zn(this._latlngs);return Er(this,{type:(t?"Multi":"")+"LineString",coordinates:wr(this._latlngs,t?1:0,!1,e)})}}),dr.include({toGeoJSON:function(e){var t=!zn(this._latlngs),n=t&&!zn(this._latlngs[0]),r=wr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),Er(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Xn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),Er(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=Sr(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?Er(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var kr=Mr,Ar=Yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=U(t),g(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Et(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&bt(this._image),this},bringToBack:function(){return this._map&&_t(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=U(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:gt("img");Et(t,"leaflet-image-layer"),this._zoomAnimated&&Et(t,"leaflet-zoom-animated"),this.options.className&&Et(t,this.options.className),t.onselectstart=f,t.onmousemove=f,t.onload=s(this.fire,this,"load"),t.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Pt(this._image,n,t)},_reset:function(){var e=this._image,t=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Ot(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Tr=function(e,t,n){return new Ar(e,t,n)},Pr=Ar.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:gt("video");if(Et(t,"leaflet-image-layer"),this._zoomAnimated&&Et(t,"leaflet-zoom-animated"),this.options.className&&Et(t,this.options.className),t.onselectstart=f,t.onmousemove=f,t.onloadeddata=s(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],i=0;i<n.length;i++)r.push(n[i].src);this._url=n.length>0?r:[t.src]}else{_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var a=gt("source");a.src=this._url[o],t.appendChild(a)}}}});function Or(e,t,n){return new Pr(e,t,n)}var Cr=Ar.extend({_initImage:function(){var e=this._image=this._url;Et(e,"leaflet-image-layer"),this._zoomAnimated&&Et(e,"leaflet-zoom-animated"),this.options.className&&Et(e,this.options.className),e.onselectstart=f,e.onmousemove=f}});function Rr(e,t,n){return new Cr(e,t,n)}var Lr=Yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof K||_(e))?(this._latlng=V(e),g(this,t)):(g(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(Et(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(s(mt,void 0,this._container),200)):mt(this._container),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=V(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bt(this._container),this},bringToBack:function(){return this._map&&_t(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Jn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=B(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ot(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});an.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Yn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(g(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var Ir=Lr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Lr.prototype.openOn.call(this,e)},onAdd:function(e){Lr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ar||this._source.on("preclick",Gt))},onRemove:function(e){Lr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ar||this._source.off("preclick",Gt))},getEvents:function(){var e=Lr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=gt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=gt("div",e+"-content-wrapper",t);if(this._contentNode=gt("div",e+"-content",n),Yt(t),qt(this._contentNode),Zt(t,"contextmenu",Gt),this._tipContainer=gt("div",e+"-tip-container",t),this._tip=gt("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=gt("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Zt(r,"click",(function(e){Xt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",Et(e,o)):St(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Ot(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(vt(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new j(this._containerLeft,-n-this._containerBottom);i._add(Ct(this._container));var o=e.layerPointToContainerPoint(i),a=B(this.options.autoPanPadding),s=B(this.options.autoPanPaddingTopLeft||a),u=B(this.options.autoPanPaddingBottomRight||a),l=e.getSize(),c=0,h=0;o.x+r+u.x>l.x&&(c=o.x+r-l.x+u.x),o.x-c-s.x<0&&(c=o.x-s.x),o.y+n+u.y>l.y&&(h=o.y+n-l.y+u.y),o.y-h-s.y<0&&(h=o.y-s.y),(c||h)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([c,h]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Dr=function(e,t){return new Ir(e,t)};an.mergeOptions({closePopupOnClick:!0}),an.include({openPopup:function(e,t,n){return this._initOverlay(Ir,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Yn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Ir,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Jn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){$t(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof ar?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var jr=Lr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Lr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Lr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Lr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=gt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(e),s=this.options.direction,u=i.offsetWidth,l=i.offsetHeight,c=B(this.options.offset),h=this._getAnchor();"top"===s?(t=u/2,n=l):"bottom"===s?(t=u/2,n=0):"center"===s?(t=u/2,n=l/2):"right"===s?(t=0,n=l/2):"left"===s?(t=u,n=l/2):a.x<o.x?(s="right",t=0,n=l/2):(s="left",t=u+2*(c.x+h.x),n=l/2),e=e.subtract(B(t,n,!0)).add(c).add(h),St(i,"leaflet-tooltip-right"),St(i,"leaflet-tooltip-left"),St(i,"leaflet-tooltip-top"),St(i,"leaflet-tooltip-bottom"),Et(i,"leaflet-tooltip-"+s),Ot(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&kt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Nr=function(e,t){return new jr(e,t)};an.include({openTooltip:function(e,t,n){return this._initOverlay(jr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Yn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(jr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Jn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(Zt(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Zt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Br=er.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:n.createElement("div"),r=this.options;if(r.html instanceof Element?(yt(t),t.appendChild(r.html)):t.innerHTML=!1!==r.html?r.html:"",r.bgPos){var i=B(r.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function zr(e){return new Br(e)}er.Default=nr;var Zr=Yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){g(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),mt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_t(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return n.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof j?e:new j(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){kt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);kt(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(P(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(mt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),f(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)mt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new j(+i,+o);s.z=+a;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var a=new j(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();ze.any3d?Pt(e.el,i,r):Ot(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new z(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var r=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),o=this._pxBoundsToTileRange(i),a=o.getCenter(),s=[],u=this.options.keepBuffer,l=new z(o.getBottomLeft().subtract([u,-u]),o.getTopRight().add([u,-u]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var h=this._tiles[c].coords;h.z===this._tileZoom&&l.contains(new j(h.x,h.y))||(this._tiles[c].current=!1)}if(Math.abs(r-this._tileZoom)>1)this._setView(e,r);else{for(var f=o.min.y;f<=o.max.y;f++)for(var d=o.min.x;d<=o.max.x;d++){var p=new j(d,f);if(p.z=this._tileZoom,this._isValidTile(p)){var v=this._tiles[this._tileCoordsToKey(p)];v?v.current=!0:s.push(p)}}if(s.sort((function(e,t){return e.distanceTo(a)-t.distanceTo(a)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=n.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return U(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new F(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new j(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(mt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Et(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=f,e.onmousemove=f,ze.ielt9&&this.options.opacity<1&&kt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),i=this.createTile(this._wrapCoords(e),s(this._tileReady,this,e));this._initTile(i),this.createTile.length<2&&T(s(this._tileReady,this,e,null,i)),Ot(i,n),this._tiles[r]={el:i,coords:e,current:!0},t.appendChild(i),this.fire("tileloadstart",{tile:i,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(kt(n.el,0),P(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(Et(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new j(this._wrapX?h(e.x,this._wrapX):e.x,this._wrapY?h(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new z(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Fr(e){return new Zr(e)}var Ur=Zr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=g(this,t)).detectRetina&&ze.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var r=n.createElement("img");return Zt(r,"load",s(this._tileOnLoad,this,t,r)),Zt(r,"error",s(this._tileOnError,this,t,r)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(e),r},getTileUrl:function(e){var t={r:ze.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=n),t["-y"]=n}return b(this._url,o(t,this.options))},_tileOnLoad:function(e,t){ze.ielt9?setTimeout(s(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=f,t.onerror=f,!t.complete)){t.src=E;var n=this._tiles[e].coords;mt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",E),Zr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==E))return Zr.prototype._tileReady.call(this,e,t,n)}});function Kr(e,t){return new Ur(e,t)}var Vr=Ur.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var n=o({},this.defaultWmsParams);for(var r in t)r in this.options||(n[r]=t[r]);var i=(t=g(this,t)).detectRetina&&ze.retina?2:1,a=this.getTileSize();n.width=a.x*i,n.height=a.y*i,this.wmsParams=n},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Ur.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=Z(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===Gn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=Ur.prototype.getTileUrl.call(this,e);return s+m(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return o(this.wmsParams,e),t||this.redraw(),this}});function Hr(e,t){return new Vr(e,t)}Ur.WMS=Vr,Kr.wms=Hr;var Wr=Yn.extend({options:{padding:.1},initialize:function(e){g(this,e),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Et(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));ze.any3d?Pt(this._container,o,n):Ot(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new z(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gr=Wr.extend({options:{tolerance:0},getEvents:function(){var e=Wr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=n.createElement("canvas");Zt(e,"mousemove",this._onMouseMove,this),Zt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Zt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){P(this._redrawRequest),delete this._ctx,mt(this._container),Ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Wr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=ze.retina?2:1;Ot(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Wr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[l(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[l(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,a=e._parts,s=a.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);t&&u.closePath()}this._fillStroke(u,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(St(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,i=this._drawFirst;i;i=i.next)(n=i.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(Et(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(s((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function qr(e){return ze.canvas?new Gr(e):null}var Yr=function(){try{return n.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return n.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return n.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xr={_initContainer:function(){this._container=gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Yr("shape");Et(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Yr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[l(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;mt(t),e.removeInteractiveTarget(t),delete this._layers[l(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Yr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=_(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Yr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){bt(e._container)},_bringToBack:function(e){_t(e._container)}},$r=ze.vml?Yr:Q,Jr=Wr.extend({_initContainer:function(){this._container=$r("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$r("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){mt(this._container),Ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Wr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Ot(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=$r("path");e.options.className&&Et(t,e.options.className),e.options.interactive&&Et(t,"leaflet-interactive"),this._updateStyle(e),this._layers[l(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){mt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[l(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,ee(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){bt(e._path)},_bringToBack:function(e){_t(e._path)}});function Qr(e){return ze.svg||ze.vml?new Jr(e):null}ze.vml&&Jr.include(Xr),an.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&qr(e)||Qr(e)}});var ei=dr.extend({initialize:function(e,t){dr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=U(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function ti(e,t){return new ei(e,t)}Jr.create=$r,Jr.pointsToPath=ee,vr.geometryToLayer=gr,vr.coordsToLatLng=yr,vr.coordsToLatLngs=br,vr.latLngToCoords=_r,vr.latLngsToCoords=wr,vr.getFeature=Er,vr.asFeature=Sr,an.mergeOptions({boxZoom:!0});var ni=bn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),at(),Lt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Zt(n,{contextmenu:$t,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=gt("div","leaflet-zoom-box",this._container),Et(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new z(this._point,this._startPoint),n=t.getSize();Ot(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(mt(this._box),St(this._container,"leaflet-crosshair")),st(),It(),Ut(n,{contextmenu:$t,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var t=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});an.addInitHook("addHandler","boxZoom",ni),an.mergeOptions({doubleClickZoom:!0});var ri=bn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});an.addInitHook("addHandler","doubleClickZoom",ri),an.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ii=bn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new En(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}Et(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){St(this._map._container,"leaflet-grab"),St(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=U(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),u=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=s.multiplyBy(l/u),h=l/(n.inertiaDeceleration*a),f=c.multiplyBy(-h/2).round();f.x||f.y?(f=t._limitOffset(f,t.options.maxBounds),T((function(){t.panBy(f,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});an.addInitHook("addHandler","dragging",ii),an.mergeOptions({keyboard:!0,keyboardPanDelta:80});var oi=bn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Zt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=n.body,r=n.documentElement,i=t.scrollTop||r.scrollTop,o=t.scrollLeft||r.scrollLeft;this._map._container.focus(),e.scrollTo(o,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Zt(n,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ut(n,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=B(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(B(t),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(i)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}$t(e)}}});an.addInitHook("addHandler","keyboard",oi),an.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ai=bn.extend({addHooks:function(){Zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=tn(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),r),$t(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});an.addInitHook("addHandler","scrollWheelZoom",ai);var si=600;an.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var ui=bn.extend({addHooks:function(){Zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new j(t.clientX,t.clientY),this._holdTimeout=setTimeout(s((function(){this._cancel(),this._isTapValid()&&(Zt(n,"touchend",Xt),Zt(n,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),si),Zt(n,"touchend touchcancel contextmenu",this._cancel,this),Zt(n,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ut(n,"touchend",Xt),Ut(n,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ut(n,"touchend touchcancel contextmenu",this._cancel,this),Ut(n,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new j(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,n){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:e,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});r._simulated=!0,n.target.dispatchEvent(r)}});an.addInitHook("addHandler","tapHold",ui),an.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var li=bn.extend({addHooks:function(){Et(this._map._container,"leaflet-touch-zoom"),Zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){St(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var r=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(r.add(i)._divideBy(2))),this._startDist=r.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Zt(n,"touchmove",this._onTouchMove,this),Zt(n,"touchend touchcancel",this._onTouchEnd,this),Xt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),i=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(i,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&i<1||this._zoom>t.getMaxZoom()&&i>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===i)return}else{var o=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===i&&0===o.x&&0===o.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var a=s(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=T(a,this,!0),Xt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,P(this._animRequest),Ut(n,"touchmove",this._onTouchMove,this),Ut(n,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});an.addInitHook("addHandler","touchZoom",li),an.BoxZoom=ni,an.DoubleClickZoom=ri,an.Drag=ii,an.Keyboard=oi,an.ScrollWheelZoom=ai,an.TapHold=ui,an.TouchZoom=li,t.Bounds=z,t.Browser=ze,t.CRS=H,t.Canvas=Gr,t.Circle=lr,t.CircleMarker=sr,t.Class=C,t.Control=un,t.DivIcon=Br,t.DivOverlay=Lr,t.DomEvent=rn,t.DomUtil=zt,t.Draggable=En,t.Evented=D,t.FeatureGroup=Jn,t.GeoJSON=vr,t.GridLayer=Zr,t.Handler=bn,t.Icon=er,t.ImageOverlay=Ar,t.LatLng=K,t.LatLngBounds=F,t.Layer=Yn,t.LayerGroup=Xn,t.LineUtil=Un,t.Map=an,t.Marker=ir,t.Mixin=_n,t.Path=ar,t.Point=j,t.PolyUtil=An,t.Polygon=dr,t.Polyline=hr,t.Popup=Ir,t.PosAnimation=on,t.Projection=Hn,t.Rectangle=ei,t.Renderer=Wr,t.SVG=Jr,t.SVGOverlay=Cr,t.TileLayer=Ur,t.Tooltip=jr,t.Transformation=Y,t.Util=O,t.VideoOverlay=Pr,t.bind=s,t.bounds=Z,t.canvas=qr,t.circle=cr,t.circleMarker=ur,t.control=ln,t.divIcon=zr,t.extend=o,t.featureGroup=Qn,t.geoJSON=Mr,t.geoJson=kr,t.gridLayer=Fr,t.icon=tr,t.imageOverlay=Tr,t.latLng=V,t.latLngBounds=U,t.layerGroup=$n,t.map=sn,t.marker=or,t.point=B,t.polygon=pr,t.polyline=fr,t.popup=Dr,t.rectangle=ti,t.setOptions=g,t.stamp=l,t.svg=Qr,t.svgOverlay=Rr,t.tileLayer=Kr,t.tooltip=Nr,t.transformation=X,t.version=i,t.videoOverlay=Or;var ci=e.L;t.noConflict=function(){return e.L=ci,this},e.L=t}(t)}("undefined"===typeof window?void 0:window,"undefined"===typeof document?void 0:document,"undefined"===typeof navigator?void 0:navigator)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),o=n(6037),a=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),o=n(4957),a=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),o=n(9186),a=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),o=n(1596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},2854:function(e,t,n){var r=n(8384),i=n(511),o=n(835),a=n(707),s=n(8832),u=n(5077);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},3665:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4550:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},9055:function(e,t,n){var r=n(4842);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},2683:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},7538:function(e,t,n){var r=n(6478),i=n(4963),o=n(3629),a=n(5174),s=n(6800),u=n(9102),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),h=!n&&!c&&a(e),f=!n&&!c&&!h&&u(e),d=n||c||h||f,p=d?r(e.length,String):[],v=p.length;for(var g in e)!t&&!l.call(e,g)||d&&("length"==g||h&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},8002:function(e,t,n){var r=n(2526),i=n(9231);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},8463:function(e,t,n){var r=n(2526),i=n(9231),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5763:function(e,t,n){var r=n(8092),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1468:function(e,t,n){var r=n(692),i=n(9055),o=n(2683),a=n(8950),s=n(6194),u=n(75);e.exports=function(e,t,n,l){var c=-1,h=i,f=!0,d=e.length,p=[],v=t.length;if(!d)return p;n&&(t=a(t,s(n))),l?(h=o,f=!1):t.length>=200&&(h=u,f=!1,t=new r(t));e:for(;++c<d;){var g=e[c],m=null==n?g:n(g);if(g=l||0!==g?g:0,f&&m===m){for(var y=v;y--;)if(t[y]===m)continue e;p.push(g)}else h(t,m,l)||p.push(g)}return p}},7927:function(e,t,n){var r=n(5358),i=n(7056)(r);e.exports=i},2045:function(e){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},9066:function(e,t,n){var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},4842:function(e,t,n){var r=n(2045),i=n(505),o=n(7167);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},505:function(e){e.exports=function(e){return e!==e}},6703:function(e,t,n){var r=n(4786),i=n(257),o=n(8092),a=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,h=l.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8664:function(e,t,n){var r=n(8092),i=n(2936),o=n(4221),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},4173:function(e,t,n){var r=n(2854),i=n(8002),o=n(5099),a=n(9216),s=n(8092),u=n(3961),l=n(5906);e.exports=function e(t,n,c,h,f){t!==n&&o(n,(function(o,u){if(f||(f=new r),s(o))a(t,n,u,c,e,h,f);else{var d=h?h(l(t,u),o,u+"",t,n,f):void 0;void 0===d&&(d=o),i(t,u,d)}}),u)}},9216:function(e,t,n){var r=n(8002),i=n(4523),o=n(613),a=n(291),s=n(548),u=n(4963),l=n(3629),c=n(6279),h=n(5174),f=n(4786),d=n(8092),p=n(3977),v=n(9102),g=n(5906),m=n(6576);e.exports=function(e,t,n,y,b,_,w){var E=g(e,n),S=g(t,n),x=w.get(S);if(x)r(e,n,x);else{var M=_?_(E,S,n+"",e,t,w):void 0,k=void 0===M;if(k){var A=l(S),T=!A&&h(S),P=!A&&!T&&v(S);M=S,A||T||P?l(E)?M=E:c(E)?M=a(E):T?(k=!1,M=i(S,!0)):P?(k=!1,M=o(S,!0)):M=[]:p(S)||u(S)?(M=E,u(E)?M=m(E):d(E)&&!f(E)||(M=s(S))):k=!1}k&&(w.set(S,M),b(M,S,y,_,w),w.delete(S)),r(e,n,M)}}},8794:function(e,t,n){var r=n(2100),i=n(4262),o=n(9156);e.exports=function(e,t){return o(i(e,t,r),e+"")}},7532:function(e,t,n){var r=n(1547),i=n(8528),o=n(2100),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},821:function(e,t,n){var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},3410:function(e,t,n){var r=n(2100);e.exports=function(e){return"function"==typeof e?e:r}},7010:function(e,t,n){var r=n(6219);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},4523:function(e,t,n){e=n.nmd(e);var r=n(7009),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},613:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},291:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},4503:function(e,t,n){var r=n(8463),i=n(2526);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=o?o(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),a?i(n,l,c):r(n,l,c)}return n}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},9934:function(e,t,n){var r=n(8794),i=n(3195);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}},7056:function(e,t,n){var r=n(1473);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1137:function(e,t,n){var r=n(2709)(Object.getPrototypeOf,Object);e.exports=r},1587:function(e,t,n){var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},8383:function(e,t,n){var r=n(908),i=n(5797),o=n(8319),a=n(3924),s=n(7091),u=n(9066),l=n(7907),c="[object Map]",h="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",v=l(r),g=l(i),m=l(o),y=l(a),b=l(s),_=u;(r&&_(new r(new ArrayBuffer(1)))!=p||i&&_(new i)!=c||o&&_(o.resolve())!=h||a&&_(new a)!=f||s&&_(new s)!=d)&&(_=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return p;case g:return c;case m:return h;case y:return f;case b:return d}return t}),e.exports=_},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},548:function(e,t,n){var r=n(5763),i=n(1137),o=n(2936);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3195:function(e,t,n){var r=n(9231),i=n(1473),o=n(6800),a=n(8092);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),o=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},4221:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},4262:function(e,t,n){var r=n(3665),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=n(u),r(e,this,l)}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},5906:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},9156:function(e,t,n){var r=n(7532),i=n(3197)(r);e.exports=i},3197:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),o=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},7167:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},1547:function(e){e.exports=function(e){return function(){return e}}},8573:function(e,t,n){var r=n(8092),i=n(72),o=n(2582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,l,c,h,f,d,p=0,v=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=l;return u=l=void 0,p=t,h=e.apply(r,n)}function b(e){var n=e-d;return void 0===d||n>=t||n<0||g&&e-p>=c}function _(){var e=i();if(b(e))return w(e);f=setTimeout(_,function(e){var n=t-(e-d);return g?s(n,c-(e-p)):n}(e))}function w(e){return f=void 0,m&&u?y(e):(u=l=void 0,h)}function E(){var e=i(),n=b(e);if(u=arguments,l=this,d=e,n){if(void 0===f)return function(e){return p=e,f=setTimeout(_,t),v?y(e):h}(d);if(g)return clearTimeout(f),f=setTimeout(_,t),y(d)}return void 0===f&&(f=setTimeout(_,t)),h}return t=o(t)||0,r(n)&&(v=!!n.leading,c=(g="maxWait"in n)?a(o(n.maxWait)||0,t):c,m="trailing"in n?!!n.trailing:m),E.cancel=function(){void 0!==f&&clearTimeout(f),p=0,u=d=l=f=void 0},E.flush=function(){return void 0===f?h:w(i())},E}},9430:function(e,t,n){e.exports=n(6514)},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},6514:function(e,t,n){var r=n(4550),i=n(7927),o=n(3410),a=n(3629);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6279:function(e,t,n){var r=n(1473),i=n(3141);e.exports=function(e){return i(e)&&r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},6364:function(e,t,n){var r=n(3654),i=n(8383),o=n(4963),a=n(3629),s=n(1473),u=n(5174),l=n(2936),c=n(9102),h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||c(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}},109:function(e,t,n){var r=n(7009).isFinite;e.exports=function(e){return"number"==typeof e&&r(e)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},298:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3977:function(e,t,n){var r=n(9066),i=n(1137),o=n(3141),a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),o=n(9494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),o=n(1473);e.exports=function(e){return o(e)?r(e):i(e)}},3961:function(e,t,n){var r=n(7538),i=n(8664),o=n(1473);e.exports=function(e){return o(e)?r(e,!0):i(e)}},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,h=128,f=256,d=1/0,p=9007199254740991,v=NaN,g=4294967295,m=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",f]],y="[object Arguments]",b="[object Array]",_="[object Boolean]",w="[object Date]",E="[object Error]",S="[object Function]",x="[object GeneratorFunction]",M="[object Map]",k="[object Number]",A="[object Object]",T="[object Promise]",P="[object RegExp]",O="[object Set]",C="[object String]",R="[object Symbol]",L="[object WeakMap]",I="[object ArrayBuffer]",D="[object DataView]",j="[object Float32Array]",N="[object Float64Array]",B="[object Int8Array]",z="[object Int16Array]",Z="[object Int32Array]",F="[object Uint8Array]",U="[object Uint8ClampedArray]",K="[object Uint16Array]",V="[object Uint32Array]",H=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,X=RegExp(q.source),$=RegExp(Y.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,he=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ee=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,xe="\\ud800-\\udfff",Me="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Pe="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="['\u2019]",Re="["+xe+"]",Le="["+Oe+"]",Ie="["+Me+"]",De="\\d+",je="["+ke+"]",Ne="["+Ae+"]",Be="[^"+xe+Oe+De+ke+Ae+Te+"]",ze="\\ud83c[\\udffb-\\udfff]",Ze="[^"+xe+"]",Fe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Ke="["+Te+"]",Ve="\\u200d",He="(?:"+Ne+"|"+Be+")",We="(?:"+Ke+"|"+Be+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Ie+"|"+ze+")"+"?",Xe="["+Pe+"]?",$e=Xe+Ye+("(?:"+Ve+"(?:"+[Ze,Fe,Ue].join("|")+")"+Xe+Ye+")*"),Je="(?:"+[je,Fe,Ue].join("|")+")"+$e,Qe="(?:"+[Ze+Ie+"?",Ie,Fe,Ue,Re].join("|")+")",et=RegExp(Ce,"g"),tt=RegExp(Ie,"g"),nt=RegExp(ze+"(?="+ze+")|"+Qe+$e,"g"),rt=RegExp([Ke+"?"+Ne+"+"+Ge+"(?="+[Le,Ke,"$"].join("|")+")",We+"+"+qe+"(?="+[Le,Ke+He,"$"].join("|")+")",Ke+"?"+He+"+"+Ge,Ke+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Je].join("|"),"g"),it=RegExp("["+Ve+xe+Me+Pe+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ut={};ut[j]=ut[N]=ut[B]=ut[z]=ut[Z]=ut[F]=ut[U]=ut[K]=ut[V]=!0,ut[y]=ut[b]=ut[I]=ut[_]=ut[D]=ut[w]=ut[E]=ut[S]=ut[M]=ut[k]=ut[A]=ut[P]=ut[O]=ut[C]=ut[L]=!1;var lt={};lt[y]=lt[b]=lt[I]=lt[D]=lt[_]=lt[w]=lt[j]=lt[N]=lt[B]=lt[z]=lt[Z]=lt[M]=lt[k]=lt[A]=lt[P]=lt[O]=lt[C]=lt[R]=lt[F]=lt[U]=lt[K]=lt[V]=!0,lt[E]=lt[S]=lt[L]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ht=parseFloat,ft=parseInt,dt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,vt=dt||pt||Function("return this")(),gt=t&&!t.nodeType&&t,mt=gt&&e&&!e.nodeType&&e,yt=mt&&mt.exports===gt,bt=yt&&dt.process,_t=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),wt=_t&&_t.isArrayBuffer,Et=_t&&_t.isDate,St=_t&&_t.isMap,xt=_t&&_t.isRegExp,Mt=_t&&_t.isSet,kt=_t&&_t.isTypedArray;function At(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Lt(e,t){return!!(null==e?0:e.length)&&Kt(e,t,0)>-1}function It(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function jt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Nt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Bt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Zt=Gt("length");function Ft(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ut(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Kt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Ht,n)}function Vt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ht(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:v}function Gt(e){return function(t){return null==t?i:t[e]}}function qt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Xt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function en(e,t){return Dt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Kt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Kt(t,e[n],0)>-1;);return n}var on=qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ct[e]}function un(e){return it.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function hn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return un(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Zt(e)}function vn(e){return un(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var mn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?vt:yn.defaults(vt.Object(),t,yn.pick(vt,at))).Array,r=t.Date,se=t.Error,xe=t.Function,Me=t.Math,ke=t.Object,Ae=t.RegExp,Te=t.String,Pe=t.TypeError,Oe=n.prototype,Ce=xe.prototype,Re=ke.prototype,Le=t["__core-js_shared__"],Ie=Ce.toString,De=Re.hasOwnProperty,je=0,Ne=function(){var e=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Be=Re.toString,ze=Ie.call(ke),Ze=vt._,Fe=Ae("^"+Ie.call(De).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=yt?t.Buffer:i,Ke=t.Symbol,Ve=t.Uint8Array,He=Ue?Ue.allocUnsafe:i,We=cn(ke.getPrototypeOf,ke),Ge=ke.create,qe=Re.propertyIsEnumerable,Ye=Oe.splice,Xe=Ke?Ke.isConcatSpreadable:i,$e=Ke?Ke.iterator:i,Je=Ke?Ke.toStringTag:i,Qe=function(){try{var e=ho(ke,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,it=r&&r.now!==vt.Date.now&&r.now,ct=t.setTimeout!==vt.setTimeout&&t.setTimeout,dt=Me.ceil,pt=Me.floor,gt=ke.getOwnPropertySymbols,mt=Ue?Ue.isBuffer:i,bt=t.isFinite,_t=Oe.join,Zt=cn(ke.keys,ke),qt=Me.max,bn=Me.min,_n=r.now,wn=t.parseInt,En=Me.random,Sn=Oe.reverse,xn=ho(t,"DataView"),Mn=ho(t,"Map"),kn=ho(t,"Promise"),An=ho(t,"Set"),Tn=ho(t,"WeakMap"),Pn=ho(ke,"create"),On=Tn&&new Tn,Cn={},Rn=Bo(xn),Ln=Bo(Mn),In=Bo(kn),Dn=Bo(An),jn=Bo(Tn),Nn=Ke?Ke.prototype:i,Bn=Nn?Nn.valueOf:i,zn=Nn?Nn.toString:i;function Zn(e){if(ts(e)&&!Va(e)&&!(e instanceof Vn)){if(e instanceof Kn)return e;if(De.call(e,"__wrapped__"))return zo(e)}return new Kn(e)}var Fn=function(){function e(){}return function(t){if(!es(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Un(){}function Kn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Xn(e,t){var n=Va(e),r=!n&&Ka(e),i=!n&&!r&&qa(e),o=!n&&!r&&!i&&ls(e),a=n||r||i||o,s=a?$t(e.length,Te):[],u=s.length;for(var l in e)!t&&!De.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bo(l,u))||s.push(l);return s}function $n(e){var t=e.length;return t?e[qr(0,t-1)]:i}function Jn(e,t){return Do(Pi(e),sr(t,0,e.length))}function Qn(e){return Do(Pi(e))}function er(e,t,n){(n!==i&&!Za(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function tr(e,t,n){var r=e[t];De.call(e,t)&&Za(r,n)&&(n!==i||t in e)||or(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Za(e[n][0],t))return n;return-1}function rr(e,t,n,r){return fr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ir(e,t){return e&&Oi(t,Cs(t),e)}function or(e,t,n){"__proto__"==t&&Qe?Qe(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:ks(e,t[r]);return a}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function ur(e,t,n,r,o,a){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!es(e))return e;var h=Va(e);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Pi(e,s)}else{var f=vo(e),d=f==S||f==x;if(qa(e))return Si(e,u);if(f==A||f==y||d&&!o){if(s=l||d?{}:mo(e),!u)return l?function(e,t){return Oi(e,po(e),t)}(e,function(e,t){return e&&Oi(t,Rs(t),e)}(s,e)):function(e,t){return Oi(e,fo(e),t)}(e,ir(s,e))}else{if(!lt[f])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case I:return xi(e);case _:case w:return new r(+e);case D:return function(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case j:case N:case B:case z:case Z:case F:case U:case K:case V:return Mi(e,n);case M:return new r;case k:case C:return new r(e);case P:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new r;case R:return i=e,Bn?ke(Bn.call(i)):{}}var i}(e,f,u)}}a||(a=new Yn);var p=a.get(e);if(p)return p;a.set(e,s),as(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,a))})):ns(e)&&e.forEach((function(r,i){s.set(i,ur(r,t,n,i,e,a))}));var v=h?i:(c?l?io:ro:l?Rs:Cs)(e);return Pt(v||e,(function(r,i){v&&(r=e[i=r]),tr(s,i,ur(r,t,n,i,e,a))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=ke(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Pe(o);return Co((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,o=Lt,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Dt(t,Qt(n))),r?(o=It,a=!1):t.length>=200&&(o=tn,a=!1,t=new qn(t));e:for(;++i<s;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,a&&h===h){for(var f=l;f--;)if(t[f]===h)continue e;u.push(c)}else o(t,h,r)||u.push(c)}return u}Zn.templateSettings={escape:J,evaluate:Q,interpolate:ee,variable:"",imports:{_:Zn}},Zn.prototype=Un.prototype,Zn.prototype.constructor=Zn,Kn.prototype=Fn(Un.prototype),Kn.prototype.constructor=Kn,Vn.prototype=Fn(Un.prototype),Vn.prototype.constructor=Vn,Hn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===a?i:n}return De.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==i:De.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===i?a:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},Wn.prototype.has=function(e){return nr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Mn||Wn),string:new Hn}},Gn.prototype.delete=function(e){var t=lo(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return lo(this,e).get(e)},Gn.prototype.has=function(e){return lo(this,e).has(e)},Gn.prototype.set=function(e,t){var n=lo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,a),this},qn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Mn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var fr=Li(_r),dr=Li(wr,!0);function pr(e,t){var n=!0;return fr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s===s&&!us(s):n(s,u)))var u=s,l=a}return l}function gr(e,t){var n=[];return fr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=yo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?mr(s,t-1,n,r,i):jt(i,s):r||(i[i.length]=s)}return i}var yr=Ii(),br=Ii(!0);function _r(e,t){return e&&yr(e,t,Cs)}function wr(e,t){return e&&br(e,t,Cs)}function Er(e,t){return Rt(t,(function(t){return $a(e[t])}))}function Sr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[No(t[n++])];return n&&n==r?e:i}function xr(e,t,n){var r=t(e);return Va(e)?r:jt(r,n(e))}function Mr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in ke(e)?function(e){var t=De.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(a){}var o=Be.call(e);r&&(t?e[Je]=n:delete e[Je]);return o}(e):function(e){return Be.call(e)}(e)}function kr(e,t){return e>t}function Ar(e,t){return null!=e&&De.call(e,t)}function Tr(e,t){return null!=e&&t in ke(e)}function Pr(e,t,r){for(var o=r?It:Lt,a=e[0].length,s=e.length,u=s,l=n(s),c=1/0,h=[];u--;){var f=e[u];u&&t&&(f=Dt(f,Qt(t))),c=bn(f.length,c),l[u]=!r&&(t||a>=120&&f.length>=120)?new qn(u&&f):i}f=e[0];var d=-1,p=l[0];e:for(;++d<a&&h.length<c;){var v=f[d],g=t?t(v):v;if(v=r||0!==v?v:0,!(p?tn(p,g):o(h,g,r))){for(u=s;--u;){var m=l[u];if(!(m?tn(m,g):o(e[u],g,r)))continue e}p&&p.push(g),h.push(v)}}return h}function Or(e,t,n){var r=null==(e=To(e,t=bi(t,e)))?e:e[No(Xo(t))];return null==r?i:At(r,e,n)}function Cr(e){return ts(e)&&Mr(e)==y}function Rr(e,t,n,r,o){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,n,r,o,a){var s=Va(e),u=Va(t),l=s?b:vo(e),c=u?b:vo(t),h=(l=l==y?A:l)==A,f=(c=c==y?A:c)==A,d=l==c;if(d&&qa(e)){if(!qa(t))return!1;s=!0,h=!1}if(d&&!h)return a||(a=new Yn),s||ls(e)?to(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case _:case w:case k:return Za(+e,+t);case E:return e.name==t.name&&e.message==t.message;case P:case C:return e==t+"";case M:var s=ln;case O:var u=1&r;if(s||(s=fn),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=to(s(e),s(t),r,i,o,a);return a.delete(e),c;case R:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,l,n,r,o,a);if(!(1&n)){var p=h&&De.call(e,"__wrapped__"),v=f&&De.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,m=v?t.value():t;return a||(a=new Yn),o(g,m,n,r,a)}}if(!d)return!1;return a||(a=new Yn),function(e,t,n,r,o,a){var s=1&n,u=ro(e),l=u.length,c=ro(t),h=c.length;if(l!=h&&!s)return!1;var f=l;for(;f--;){var d=u[f];if(!(s?d in t:De.call(t,d)))return!1}var p=a.get(e),v=a.get(t);if(p&&v)return p==t&&v==e;var g=!0;a.set(e,t),a.set(t,e);var m=s;for(;++f<l;){var y=e[d=u[f]],b=t[d];if(r)var _=s?r(b,y,d,t,e,a):r(y,b,d,e,t,a);if(!(_===i?y===b||o(y,b,n,r,a):_)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var w=e.constructor,E=t.constructor;w==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,o,a)}(e,t,n,r,Rr,o))}function Lr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=ke(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var l=(u=n[o])[0],c=e[l],h=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var f=new Yn;if(r)var d=r(c,h,l,e,t,f);if(!(d===i?Rr(h,c,3,r,f):d))return!1}}return!0}function Ir(e){return!(!es(e)||(t=e,Ne&&Ne in t))&&($a(e)?Fe:ye).test(Bo(e));var t}function Dr(e){return"function"==typeof e?e:null==e?ru:"object"==typeof e?Va(e)?Fr(e[0],e[1]):Zr(e):fu(e)}function jr(e){if(!xo(e))return Zt(e);var t=[];for(var n in ke(e))De.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=xo(e),n=[];for(var r in e)("constructor"!=r||!t&&De.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function zr(e,t){var r=-1,i=Wa(e)?n(e.length):[];return fr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Zr(e){var t=co(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(n){return n===e||Lr(n,e,t)}}function Fr(e,t){return wo(e)&&Mo(t)?ko(No(e),t):function(n){var r=ks(n,e);return r===i&&r===t?As(n,e):Rr(t,r,3)}}function Ur(e,t,n,r,o){e!==t&&yr(t,(function(a,s){if(o||(o=new Yn),es(a))!function(e,t,n,r,o,a,s){var u=Po(e,n),l=Po(t,n),c=s.get(l);if(c)return void er(e,n,c);var h=a?a(u,l,n+"",e,t,s):i,f=h===i;if(f){var d=Va(l),p=!d&&qa(l),v=!d&&!p&&ls(l);h=l,d||p||v?Va(u)?h=u:Ga(u)?h=Pi(u):p?(f=!1,h=Si(l,!0)):v?(f=!1,h=Mi(l,!0)):h=[]:is(l)||Ka(l)?(h=u,Ka(u)?h=ms(u):es(u)&&!$a(u)||(h=mo(l))):f=!1}f&&(s.set(l,h),o(h,l,r,a,s),s.delete(l));er(e,n,h)}(e,t,s,n,Ur,r,o);else{var u=r?r(Po(e,s),a,s+"",e,t,o):i;u===i&&(u=a),er(e,s,u)}}),Rs)}function Kr(e,t){var n=e.length;if(n)return bo(t+=t<0?n:0,n)?e[t]:i}function Vr(e,t,n){t=t.length?Dt(t,(function(e){return Va(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[ru];var r=-1;t=Dt(t,Qt(uo()));var i=zr(e,(function(e,n,i){var o=Dt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=ki(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Sr(e,a);n(s,a)&&Qr(o,bi(a,e),s)}return o}function Wr(e,t,n,r){var i=r?Vt:Kt,o=-1,a=t.length,s=e;for(e===t&&(t=Pi(t)),n&&(s=Dt(e,Qt(n)));++o<a;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&Ye.call(s,u,1),Ye.call(e,u,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?Ye.call(e,i,1):hi(e,i)}}return e}function qr(e,t){return e+pt(En()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Ro(Ao(e,t,ru),e+"")}function $r(e){return $n(Zs(e))}function Jr(e,t){var n=Zs(e);return Do(n,sr(t,0,n.length))}function Qr(e,t,n,r){if(!es(e))return e;for(var o=-1,a=(t=bi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var l=No(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var h=u[l];(c=r?r(h,l,u):i)===i&&(c=es(h)?h:bo(t[o+1])?[]:{})}tr(u,l,c),u=u[l]}return e}var ei=On?function(e,t){return On.set(e,t),e}:ru,ti=Qe?function(e,t){return Qe(e,"toString",{configurable:!0,enumerable:!1,value:eu(t),writable:!0})}:ru;function ni(e){return Do(Zs(e))}function ri(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function ii(e,t){var n;return fr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!us(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ai(e,t,ru,n)}function ai(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,l=us(t),c=t===i;o<a;){var h=pt((o+a)/2),f=n(e[h]),d=f!==i,p=null===f,v=f===f,g=us(f);if(s)var m=r||v;else m=c?v&&(r||d):u?v&&d&&(r||!p):l?v&&d&&!p&&(r||!g):!p&&!g&&(r?f<=t:f<t);m?o=h+1:a=h}return bn(a,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Za(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:us(e)?v:+e}function li(e){if("string"==typeof e)return e;if(Va(e))return Dt(e,li)+"";if(us(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,n){var r=-1,i=Lt,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=It;else if(o>=200){var l=t?null:Yi(e);if(l)return fn(l);a=!1,i=tn,u=new qn}else u=t?[]:s;e:for(;++r<o;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,a&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue e;t&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}function hi(e,t){return null==(e=To(e,t=bi(t,e)))||delete e[No(Xo(t))]}function fi(e,t,n,r){return Qr(e,t,n(Sr(e,t)),r)}function di(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ri(e,r?0:o,r?o+1:i):ri(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Nt(t,(function(e,t){return t.func.apply(t.thisArg,jt([e],t.args))}),n)}function vi(e,t,r){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=hr(a[o]||s,e[u],t,r));return ci(mr(a,1),t,r)}function gi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function mi(e){return Ga(e)?e:[]}function yi(e){return"function"==typeof e?e:ru}function bi(e,t){return Va(e)?e:wo(e,t)?[e]:jo(ys(e))}var _i=Xr;function wi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var Ei=nt||function(e){return vt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function xi(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Mi(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=us(e),s=t!==i,u=null===t,l=t===t,c=us(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!c&&e<t||c&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}function Ai(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,l=t.length,c=qt(a-s,0),h=n(l+c),f=!i;++u<l;)h[u]=t[u];for(;++o<s;)(f||o<a)&&(h[r[o]]=e[o]);for(;c--;)h[u++]=e[o++];return h}function Ti(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,l=-1,c=t.length,h=qt(a-u,0),f=n(h+c),d=!i;++o<h;)f[o]=e[o];for(var p=o;++l<c;)f[p+l]=t[l];for(;++s<u;)(d||o<a)&&(f[p+r[s]]=e[o++]);return f}function Pi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Oi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),o?or(n,u,l):tr(n,u,l)}return n}function Ci(e,t){return function(n,r){var i=Va(n)?Tt:rr,o=t?t():{};return i(n,e,uo(r,2),o)}}function Ri(e){return Xr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&_o(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=ke(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Li(e,t){return function(n,r){if(null==n)return n;if(!Wa(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=ke(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ii(e){return function(t,n,r){for(var i=-1,o=ke(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Di(e){return function(t){var n=un(t=ys(t))?vn(t):i,r=n?n[0]:t.charAt(0),o=n?wi(n,1).join(""):t.slice(1);return r[e]()+o}}function ji(e){return function(t){return Nt($s(Ks(t).replace(et,"")),e,"")}}function Ni(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return es(r)?r:n}}function Bi(e){return function(t,n,r){var o=ke(t);if(!Wa(t)){var a=uo(n,3);t=Cs(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function zi(e){return no((function(t){var n=t.length,r=n,a=Kn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Pe(o);if(a&&!u&&"wrapper"==ao(s))var u=new Kn([],!0)}for(r=u?r:n;++r<n;){var l=ao(s=t[r]),c="wrapper"==l?oo(s):i;u=c&&Eo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ao(c[0])].apply(u,c[3]):1==s.length&&Eo(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Va(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Zi(e,t,r,o,a,s,u,l,c,f){var d=t&h,p=1&t,v=2&t,g=24&t,m=512&t,y=v?i:Ni(e);return function h(){for(var b=arguments.length,_=n(b),w=b;w--;)_[w]=arguments[w];if(g)var E=so(h),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,E);if(o&&(_=Ai(_,o,a,g)),s&&(_=Ti(_,s,u,g)),b-=S,g&&b<f){var x=hn(_,E);return Gi(e,t,Zi,h.placeholder,r,_,x,l,c,f-b)}var M=p?r:this,k=v?M[e]:e;return b=_.length,l?_=function(e,t){var n=e.length,r=bn(t.length,n),o=Pi(e);for(;r--;){var a=t[r];e[r]=bo(a,n)?o[a]:i}return e}(_,l):m&&b>1&&_.reverse(),d&&c<b&&(_.length=c),this&&this!==vt&&this instanceof h&&(k=y||Ni(k)),k.apply(M,_)}}function Fi(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ui(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ui(n),r=ui(r)),o=e(n,r)}return o}}function Ki(e){return no((function(t){return t=Dt(t,Qt(uo())),Xr((function(n){var r=this;return e(t,(function(e){return At(e,r,n)}))}))}))}function Vi(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,dt(e/pn(t)));return un(t)?wi(vn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,r,o){return o&&"number"!=typeof o&&_o(t,r,o)&&(r=o=i),t=ds(t),r===i?(r=t,t=0):r=ds(r),function(e,t,r,i){for(var o=-1,a=qt(dt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:ds(o),e)}}function Wi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gs(t),n=gs(n)),e(t,n)}}function Gi(e,t,n,r,o,a,s,u,h,f){var d=8&t;t|=d?l:c,4&(t&=~(d?c:l))||(t&=-4);var p=[e,t,o,d?a:i,d?s:i,d?i:a,d?i:s,u,h,f],v=n.apply(i,p);return Eo(e)&&Oo(v,p),v.placeholder=r,Lo(v,e,t)}function qi(e){var t=Me[e];return function(e,n){if(e=gs(e),(n=null==n?0:bn(ps(n),292))&&bt(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=An&&1/fn(new An([,-0]))[1]==d?function(e){return new An(e)}:uu;function Xi(e){return function(t){var n=vo(t);return n==M?ln(t):n==O?dn(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,r,a,d,p,v,g){var m=2&t;if(!m&&"function"!=typeof e)throw new Pe(o);var y=a?a.length:0;if(y||(t&=-97,a=d=i),v=v===i?v:qt(ps(v),0),g=g===i?g:ps(g),y-=d?d.length:0,t&c){var b=a,_=d;a=d=i}var w=m?i:oo(e),E=[e,t,r,a,d,b,_,p,v,g];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==h&&8==n||r==h&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Ai(l,u,t[4]):u,e[4]=l?hn(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ti(l,u,t[6]):u,e[6]=l?hn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&h&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(E,w),e=E[0],t=E[1],r=E[2],a=E[3],d=E[4],!(g=E[9]=E[9]===i?m?0:e.length:qt(E[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==u?function(e,t,r){var o=Ni(e);return function a(){for(var s=arguments.length,u=n(s),l=s,c=so(a);l--;)u[l]=arguments[l];var h=s<3&&u[0]!==c&&u[s-1]!==c?[]:hn(u,c);return(s-=h.length)<r?Gi(e,t,Zi,a.placeholder,i,u,h,i,i,r-s):At(this&&this!==vt&&this instanceof a?o:e,this,u)}}(e,t,g):t!=l&&33!=t||d.length?Zi.apply(i,E):function(e,t,r,i){var o=1&t,a=Ni(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,h=n(c+u),f=this&&this!==vt&&this instanceof t?a:e;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++s];return At(f,o?r:this,h)}}(e,t,r,a);else var S=function(e,t,n){var r=1&t,i=Ni(e);return function t(){return(this&&this!==vt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Lo((w?ei:Oo)(S,E),e,t)}function Ji(e,t,n,r){return e===i||Za(e,Re[n])&&!De.call(r,n)?t:e}function Qi(e,t,n,r,o,a){return es(e)&&es(t)&&(a.set(t,e),Ur(e,t,i,Qi,a),a.delete(t)),e}function eo(e){return is(e)?i:e}function to(e,t,n,r,o,a){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),h=a.get(t);if(c&&h)return c==t&&h==e;var f=-1,d=!0,p=2&n?new qn:i;for(a.set(e,t),a.set(t,e);++f<u;){var v=e[f],g=t[f];if(r)var m=s?r(g,v,f,t,e,a):r(v,g,f,e,t,a);if(m!==i){if(m)continue;d=!1;break}if(p){if(!zt(t,(function(e,t){if(!tn(p,t)&&(v===e||o(v,e,n,r,a)))return p.push(t)}))){d=!1;break}}else if(v!==g&&!o(v,g,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function no(e){return Ro(Ao(e,i,Ho),e+"")}function ro(e){return xr(e,Cs,fo)}function io(e){return xr(e,Rs,po)}var oo=On?function(e){return On.get(e)}:uu;function ao(e){for(var t=e.name+"",n=Cn[t],r=De.call(Cn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function so(e){return(De.call(Zn,"placeholder")?Zn:e).placeholder}function uo(){var e=Zn.iteratee||iu;return e=e===iu?Dr:e,arguments.length?e(arguments[0],arguments[1]):e}function lo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function co(e){for(var t=Cs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Mo(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Ir(n)?n:i}var fo=gt?function(e){return null==e?[]:(e=ke(e),Rt(gt(e),(function(t){return qe.call(e,t)})))}:vu,po=gt?function(e){for(var t=[];e;)jt(t,fo(e)),e=We(e);return t}:vu,vo=Mr;function go(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var a=No(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Qa(i)&&bo(a,i)&&(Va(e)||Ka(e))}function mo(e){return"function"!=typeof e.constructor||xo(e)?{}:Fn(We(e))}function yo(e){return Va(e)||Ka(e)||!!(Xe&&e&&e[Xe])}function bo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function _o(e,t,n){if(!es(n))return!1;var r=typeof t;return!!("number"==r?Wa(n)&&bo(t,n.length):"string"==r&&t in n)&&Za(n[t],e)}function wo(e,t){if(Va(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in ke(t))}function Eo(e){var t=ao(e),n=Zn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=oo(n);return!!r&&e===r[0]}(xn&&vo(new xn(new ArrayBuffer(1)))!=D||Mn&&vo(new Mn)!=M||kn&&vo(kn.resolve())!=T||An&&vo(new An)!=O||Tn&&vo(new Tn)!=L)&&(vo=function(e){var t=Mr(e),n=t==A?e.constructor:i,r=n?Bo(n):"";if(r)switch(r){case Rn:return D;case Ln:return M;case In:return T;case Dn:return O;case jn:return L}return t});var So=Le?$a:gu;function xo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function Mo(e){return e===e&&!es(e)}function ko(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in ke(n)))}}function Ao(e,t,r){return t=qt(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=qt(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),At(e,this,u)}}function To(e,t){return t.length<2?e:Sr(e,ri(t,0,-1))}function Po(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Oo=Io(ei),Co=ct||function(e,t){return vt.setTimeout(e,t)},Ro=Io(ti);function Lo(e,t,n){var r=t+"";return Ro(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Pt(m,(function(n){var r="_."+n[0];t&n[1]&&!Lt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Io(e){var t=0,n=0;return function(){var r=_n(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Do(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=qr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var jo=function(e){var t=Ia(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function No(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bo(e){if(null!=e){try{return Ie.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function zo(e){if(e instanceof Vn)return e.clone();var t=new Kn(e.__wrapped__,e.__chain__);return t.__actions__=Pi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Zo=Xr((function(e,t){return Ga(e)?hr(e,mr(t,1,Ga,!0)):[]})),Fo=Xr((function(e,t){var n=Xo(t);return Ga(n)&&(n=i),Ga(e)?hr(e,mr(t,1,Ga,!0),uo(n,2)):[]})),Uo=Xr((function(e,t){var n=Xo(t);return Ga(n)&&(n=i),Ga(e)?hr(e,mr(t,1,Ga,!0),i,n):[]}));function Ko(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=qt(r+i,0)),Ut(e,uo(t,3),i)}function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ps(n),o=n<0?qt(r+o,0):bn(o,r-1)),Ut(e,uo(t,3),o,!0)}function Ho(e){return(null==e?0:e.length)?mr(e,1):[]}function Wo(e){return e&&e.length?e[0]:i}var Go=Xr((function(e){var t=Dt(e,mi);return t.length&&t[0]===e[0]?Pr(t):[]})),qo=Xr((function(e){var t=Xo(e),n=Dt(e,mi);return t===Xo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Pr(n,uo(t,2)):[]})),Yo=Xr((function(e){var t=Xo(e),n=Dt(e,mi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Pr(n,i,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $o=Xr(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var Qo=no((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Gr(e,Dt(t,(function(e){return bo(e,n)?+e:e})).sort(ki)),r}));function ea(e){return null==e?e:Sn.call(e)}var ta=Xr((function(e){return ci(mr(e,1,Ga,!0))})),na=Xr((function(e){var t=Xo(e);return Ga(t)&&(t=i),ci(mr(e,1,Ga,!0),uo(t,2))})),ra=Xr((function(e){var t=Xo(e);return t="function"==typeof t?t:i,ci(mr(e,1,Ga,!0),i,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Ga(e))return t=qt(e.length,t),!0})),$t(t,(function(t){return Dt(e,Gt(t))}))}function oa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:Dt(n,(function(e){return At(t,i,e)}))}var aa=Xr((function(e,t){return Ga(e)?hr(e,t):[]})),sa=Xr((function(e){return vi(Rt(e,Ga))})),ua=Xr((function(e){var t=Xo(e);return Ga(t)&&(t=i),vi(Rt(e,Ga),uo(t,2))})),la=Xr((function(e){var t=Xo(e);return t="function"==typeof t?t:i,vi(Rt(e,Ga),i,t)})),ca=Xr(ia);var ha=Xr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oa(e,n)}));function fa(e){var t=Zn(e);return t.__chain__=!0,t}function da(e,t){return t(e)}var pa=no((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&bo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:da,args:[o],thisArg:i}),new Kn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var va=Ci((function(e,t,n){De.call(e,n)?++e[n]:or(e,n,1)}));var ga=Bi(Ko),ma=Bi(Vo);function ya(e,t){return(Va(e)?Pt:fr)(e,uo(t,3))}function ba(e,t){return(Va(e)?Ot:dr)(e,uo(t,3))}var _a=Ci((function(e,t,n){De.call(e,n)?e[n].push(t):or(e,n,[t])}));var wa=Xr((function(e,t,r){var i=-1,o="function"==typeof t,a=Wa(e)?n(e.length):[];return fr(e,(function(e){a[++i]=o?At(t,e,r):Or(e,t,r)})),a})),Ea=Ci((function(e,t,n){or(e,n,t)}));function Sa(e,t){return(Va(e)?Dt:zr)(e,uo(t,3))}var xa=Ci((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ma=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_o(e,t[0],t[1])?t=[]:n>2&&_o(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,mr(t,1),[])})),ka=it||function(){return vt.Date.now()};function Aa(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,$i(e,h,i,i,i,i,t)}function Ta(e,t){var n;if("function"!=typeof t)throw new Pe(o);return e=ps(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Pa=Xr((function(e,t,n){var r=1;if(n.length){var i=hn(n,so(Pa));r|=l}return $i(e,r,t,n,i)})),Oa=Xr((function(e,t,n){var r=3;if(n.length){var i=hn(n,so(Oa));r|=l}return $i(t,r,e,n,i)}));function Ca(e,t,n){var r,a,s,u,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new Pe(o);function v(t){var n=r,o=a;return r=a=i,h=t,u=e.apply(o,n)}function g(e){var n=e-c;return c===i||n>=t||n<0||d&&e-h>=s}function m(){var e=ka();if(g(e))return y(e);l=Co(m,function(e){var n=t-(e-c);return d?bn(n,s-(e-h)):n}(e))}function y(e){return l=i,p&&r?v(e):(r=a=i,u)}function b(){var e=ka(),n=g(e);if(r=arguments,a=this,c=e,n){if(l===i)return function(e){return h=e,l=Co(m,t),f?v(e):u}(c);if(d)return Ei(l),l=Co(m,t),v(c)}return l===i&&(l=Co(m,t)),u}return t=gs(t)||0,es(n)&&(f=!!n.leading,s=(d="maxWait"in n)?qt(gs(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==i&&Ei(l),h=0,r=c=a=l=i},b.flush=function(){return l===i?u:y(ka())},b}var Ra=Xr((function(e,t){return cr(e,1,t)})),La=Xr((function(e,t,n){return cr(e,gs(t)||0,n)}));function Ia(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(o);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ia.Cache||Gn),n}function Da(e){if("function"!=typeof e)throw new Pe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ia.Cache=Gn;var ja=_i((function(e,t){var n=(t=1==t.length&&Va(t[0])?Dt(t[0],Qt(uo())):Dt(mr(t,1),Qt(uo()))).length;return Xr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return At(e,this,r)}))})),Na=Xr((function(e,t){var n=hn(t,so(Na));return $i(e,l,i,t,n)})),Ba=Xr((function(e,t){var n=hn(t,so(Ba));return $i(e,c,i,t,n)})),za=no((function(e,t){return $i(e,f,i,i,i,t)}));function Za(e,t){return e===t||e!==e&&t!==t}var Fa=Wi(kr),Ua=Wi((function(e,t){return e>=t})),Ka=Cr(function(){return arguments}())?Cr:function(e){return ts(e)&&De.call(e,"callee")&&!qe.call(e,"callee")},Va=n.isArray,Ha=wt?Qt(wt):function(e){return ts(e)&&Mr(e)==I};function Wa(e){return null!=e&&Qa(e.length)&&!$a(e)}function Ga(e){return ts(e)&&Wa(e)}var qa=mt||gu,Ya=Et?Qt(Et):function(e){return ts(e)&&Mr(e)==w};function Xa(e){if(!ts(e))return!1;var t=Mr(e);return t==E||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function $a(e){if(!es(e))return!1;var t=Mr(e);return t==S||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ja(e){return"number"==typeof e&&e==ps(e)}function Qa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var ns=St?Qt(St):function(e){return ts(e)&&vo(e)==M};function rs(e){return"number"==typeof e||ts(e)&&Mr(e)==k}function is(e){if(!ts(e)||Mr(e)!=A)return!1;var t=We(e);if(null===t)return!0;var n=De.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ie.call(n)==ze}var os=xt?Qt(xt):function(e){return ts(e)&&Mr(e)==P};var as=Mt?Qt(Mt):function(e){return ts(e)&&vo(e)==O};function ss(e){return"string"==typeof e||!Va(e)&&ts(e)&&Mr(e)==C}function us(e){return"symbol"==typeof e||ts(e)&&Mr(e)==R}var ls=kt?Qt(kt):function(e){return ts(e)&&Qa(e.length)&&!!ut[Mr(e)]};var cs=Wi(Br),hs=Wi((function(e,t){return e<=t}));function fs(e){if(!e)return[];if(Wa(e))return ss(e)?vn(e):Pi(e);if($e&&e[$e])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[$e]());var t=vo(e);return(t==M?ln:t==O?fn:Zs)(e)}function ds(e){return e?(e=gs(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ps(e){var t=ds(e),n=t%1;return t===t?n?t-n:t:0}function vs(e){return e?sr(ps(e),0,g):0}function gs(e){if("number"==typeof e)return e;if(us(e))return v;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=me.test(e);return n||be.test(e)?ft(e.slice(2),n?2:8):ge.test(e)?v:+e}function ms(e){return Oi(e,Rs(e))}function ys(e){return null==e?"":li(e)}var bs=Ri((function(e,t){if(xo(t)||Wa(t))Oi(t,Cs(t),e);else for(var n in t)De.call(t,n)&&tr(e,n,t[n])})),_s=Ri((function(e,t){Oi(t,Rs(t),e)})),ws=Ri((function(e,t,n,r){Oi(t,Rs(t),e,r)})),Es=Ri((function(e,t,n,r){Oi(t,Cs(t),e,r)})),Ss=no(ar);var xs=Xr((function(e,t){e=ke(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&_o(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Rs(a),u=-1,l=s.length;++u<l;){var c=s[u],h=e[c];(h===i||Za(h,Re[c])&&!De.call(e,c))&&(e[c]=a[c])}return e})),Ms=Xr((function(e){return e.push(i,Qi),At(Is,i,e)}));function ks(e,t,n){var r=null==e?i:Sr(e,t);return r===i?n:r}function As(e,t){return null!=e&&go(e,t,Tr)}var Ts=Fi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=n}),eu(ru)),Ps=Fi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),De.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Os=Xr(Or);function Cs(e){return Wa(e)?Xn(e):jr(e)}function Rs(e){return Wa(e)?Xn(e,!0):Nr(e)}var Ls=Ri((function(e,t,n){Ur(e,t,n)})),Is=Ri((function(e,t,n,r){Ur(e,t,n,r)})),Ds=no((function(e,t){var n={};if(null==e)return n;var r=!1;t=Dt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Oi(e,io(e),n),r&&(n=ur(n,7,eo));for(var i=t.length;i--;)hi(n,t[i]);return n}));var js=no((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function Ns(e,t){if(null==e)return{};var n=Dt(io(e),(function(e){return[e]}));return t=uo(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Bs=Xi(Cs),zs=Xi(Rs);function Zs(e){return null==e?[]:en(e,Cs(e))}var Fs=ji((function(e,t,n){return t=t.toLowerCase(),e+(n?Us(t):t)}));function Us(e){return Xs(ys(e).toLowerCase())}function Ks(e){return(e=ys(e))&&e.replace(we,on).replace(tt,"")}var Vs=ji((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hs=ji((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ws=Di("toLowerCase");var Gs=ji((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var qs=ji((function(e,t,n){return e+(n?" ":"")+Xs(t)}));var Ys=ji((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xs=Di("toUpperCase");function $s(e,t,n){return e=ys(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(he)||[]}(e):e.match(t)||[]}var Js=Xr((function(e,t){try{return At(e,i,t)}catch(n){return Xa(n)?n:new se(n)}})),Qs=no((function(e,t){return Pt(t,(function(t){t=No(t),or(e,t,Pa(e[t],e))})),e}));function eu(e){return function(){return e}}var tu=zi(),nu=zi(!0);function ru(e){return e}function iu(e){return Dr("function"==typeof e?e:ur(e,1))}var ou=Xr((function(e,t){return function(n){return Or(n,e,t)}})),au=Xr((function(e,t){return function(n){return Or(e,n,t)}}));function su(e,t,n){var r=Cs(t),i=Er(t,r);null!=n||es(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Er(t,Cs(t)));var o=!(es(n)&&"chain"in n)||!!n.chain,a=$a(e);return Pt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Pi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,jt([this.value()],arguments))})})),e}function uu(){}var lu=Ki(Dt),cu=Ki(Ct),hu=Ki(zt);function fu(e){return wo(e)?Gt(No(e)):function(e){return function(t){return Sr(t,e)}}(e)}var du=Hi(),pu=Hi(!0);function vu(){return[]}function gu(){return!1}var mu=Ui((function(e,t){return e+t}),0),yu=qi("ceil"),bu=Ui((function(e,t){return e/t}),1),_u=qi("floor");var wu=Ui((function(e,t){return e*t}),1),Eu=qi("round"),Su=Ui((function(e,t){return e-t}),0);return Zn.after=function(e,t){if("function"!=typeof t)throw new Pe(o);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Zn.ary=Aa,Zn.assign=bs,Zn.assignIn=_s,Zn.assignInWith=ws,Zn.assignWith=Es,Zn.at=Ss,Zn.before=Ta,Zn.bind=Pa,Zn.bindAll=Qs,Zn.bindKey=Oa,Zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},Zn.chain=fa,Zn.chunk=function(e,t,r){t=(r?_o(e,t,r):t===i)?1:qt(ps(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=n(dt(o/t));a<o;)u[s++]=ri(e,a,a+=t);return u},Zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return jt(Va(r)?Pi(r):[r],mr(t,1))},Zn.cond=function(e){var t=null==e?0:e.length,n=uo();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new Pe(o);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if(At(i[0],this,n))return At(i[1],this,n)}}))},Zn.conforms=function(e){return function(e){var t=Cs(e);return function(n){return lr(n,e,t)}}(ur(e,1))},Zn.constant=eu,Zn.countBy=va,Zn.create=function(e,t){var n=Fn(e);return null==t?n:ir(n,t)},Zn.curry=function e(t,n,r){var o=$i(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Zn.curryRight=function e(t,n,r){var o=$i(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Zn.debounce=Ca,Zn.defaults=xs,Zn.defaultsDeep=Ms,Zn.defer=Ra,Zn.delay=La,Zn.difference=Zo,Zn.differenceBy=Fo,Zn.differenceWith=Uo,Zn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:ps(t))<0?0:t,r):[]},Zn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:ps(t)))<0?0:t):[]},Zn.dropRightWhile=function(e,t){return e&&e.length?di(e,uo(t,3),!0,!0):[]},Zn.dropWhile=function(e,t){return e&&e.length?di(e,uo(t,3),!0):[]},Zn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&_o(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ps(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ps(r))<0&&(r+=o),r=n>r?0:vs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Zn.filter=function(e,t){return(Va(e)?Rt:gr)(e,uo(t,3))},Zn.flatMap=function(e,t){return mr(Sa(e,t),1)},Zn.flatMapDeep=function(e,t){return mr(Sa(e,t),d)},Zn.flatMapDepth=function(e,t,n){return n=n===i?1:ps(n),mr(Sa(e,t),n)},Zn.flatten=Ho,Zn.flattenDeep=function(e){return(null==e?0:e.length)?mr(e,d):[]},Zn.flattenDepth=function(e,t){return(null==e?0:e.length)?mr(e,t=t===i?1:ps(t)):[]},Zn.flip=function(e){return $i(e,512)},Zn.flow=tu,Zn.flowRight=nu,Zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Zn.functions=function(e){return null==e?[]:Er(e,Cs(e))},Zn.functionsIn=function(e){return null==e?[]:Er(e,Rs(e))},Zn.groupBy=_a,Zn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Zn.intersection=Go,Zn.intersectionBy=qo,Zn.intersectionWith=Yo,Zn.invert=Ts,Zn.invertBy=Ps,Zn.invokeMap=wa,Zn.iteratee=iu,Zn.keyBy=Ea,Zn.keys=Cs,Zn.keysIn=Rs,Zn.map=Sa,Zn.mapKeys=function(e,t){var n={};return t=uo(t,3),_r(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Zn.mapValues=function(e,t){var n={};return t=uo(t,3),_r(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Zn.matches=function(e){return Zr(ur(e,1))},Zn.matchesProperty=function(e,t){return Fr(e,ur(t,1))},Zn.memoize=Ia,Zn.merge=Ls,Zn.mergeWith=Is,Zn.method=ou,Zn.methodOf=au,Zn.mixin=su,Zn.negate=Da,Zn.nthArg=function(e){return e=ps(e),Xr((function(t){return Kr(t,e)}))},Zn.omit=Ds,Zn.omitBy=function(e,t){return Ns(e,Da(uo(t)))},Zn.once=function(e){return Ta(2,e)},Zn.orderBy=function(e,t,n,r){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(n=r?i:n)||(n=null==n?[]:[n]),Vr(e,t,n))},Zn.over=lu,Zn.overArgs=ja,Zn.overEvery=cu,Zn.overSome=hu,Zn.partial=Na,Zn.partialRight=Ba,Zn.partition=xa,Zn.pick=js,Zn.pickBy=Ns,Zn.property=fu,Zn.propertyOf=function(e){return function(t){return null==e?i:Sr(e,t)}},Zn.pull=$o,Zn.pullAll=Jo,Zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,uo(n,2)):e},Zn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,i,n):e},Zn.pullAt=Qo,Zn.range=du,Zn.rangeRight=pu,Zn.rearg=za,Zn.reject=function(e,t){return(Va(e)?Rt:gr)(e,Da(uo(t,3)))},Zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=uo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Gr(e,i),n},Zn.rest=function(e,t){if("function"!=typeof e)throw new Pe(o);return Xr(e,t=t===i?t:ps(t))},Zn.reverse=ea,Zn.sampleSize=function(e,t,n){return t=(n?_o(e,t,n):t===i)?1:ps(t),(Va(e)?Jn:Jr)(e,t)},Zn.set=function(e,t,n){return null==e?e:Qr(e,t,n)},Zn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Qr(e,t,n,r)},Zn.shuffle=function(e){return(Va(e)?Qn:ni)(e)},Zn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&_o(e,t,n)?(t=0,n=r):(t=null==t?0:ps(t),n=n===i?r:ps(n)),ri(e,t,n)):[]},Zn.sortBy=Ma,Zn.sortedUniq=function(e){return e&&e.length?si(e):[]},Zn.sortedUniqBy=function(e,t){return e&&e.length?si(e,uo(t,2)):[]},Zn.split=function(e,t,n){return n&&"number"!=typeof n&&_o(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=li(t))&&un(e)?wi(vn(e),0,n):e.split(t,n):[]},Zn.spread=function(e,t){if("function"!=typeof e)throw new Pe(o);return t=null==t?0:qt(ps(t),0),Xr((function(n){var r=n[t],i=wi(n,0,t);return r&&jt(i,r),At(e,this,i)}))},Zn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Zn.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:ps(t))<0?0:t):[]},Zn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:ps(t)))<0?0:t,r):[]},Zn.takeRightWhile=function(e,t){return e&&e.length?di(e,uo(t,3),!1,!0):[]},Zn.takeWhile=function(e,t){return e&&e.length?di(e,uo(t,3)):[]},Zn.tap=function(e,t){return t(e),e},Zn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Pe(o);return es(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ca(e,t,{leading:r,maxWait:t,trailing:i})},Zn.thru=da,Zn.toArray=fs,Zn.toPairs=Bs,Zn.toPairsIn=zs,Zn.toPath=function(e){return Va(e)?Dt(e,No):us(e)?[e]:Pi(jo(ys(e)))},Zn.toPlainObject=ms,Zn.transform=function(e,t,n){var r=Va(e),i=r||qa(e)||ls(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:es(e)&&$a(o)?Fn(We(e)):{}}return(i?Pt:_r)(e,(function(e,r,i){return t(n,e,r,i)})),n},Zn.unary=function(e){return Aa(e,1)},Zn.union=ta,Zn.unionBy=na,Zn.unionWith=ra,Zn.uniq=function(e){return e&&e.length?ci(e):[]},Zn.uniqBy=function(e,t){return e&&e.length?ci(e,uo(t,2)):[]},Zn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},Zn.unset=function(e,t){return null==e||hi(e,t)},Zn.unzip=ia,Zn.unzipWith=oa,Zn.update=function(e,t,n){return null==e?e:fi(e,t,yi(n))},Zn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:fi(e,t,yi(n),r)},Zn.values=Zs,Zn.valuesIn=function(e){return null==e?[]:en(e,Rs(e))},Zn.without=aa,Zn.words=$s,Zn.wrap=function(e,t){return Na(yi(t),e)},Zn.xor=sa,Zn.xorBy=ua,Zn.xorWith=la,Zn.zip=ca,Zn.zipObject=function(e,t){return gi(e||[],t||[],tr)},Zn.zipObjectDeep=function(e,t){return gi(e||[],t||[],Qr)},Zn.zipWith=ha,Zn.entries=Bs,Zn.entriesIn=zs,Zn.extend=_s,Zn.extendWith=ws,su(Zn,Zn),Zn.add=mu,Zn.attempt=Js,Zn.camelCase=Fs,Zn.capitalize=Us,Zn.ceil=yu,Zn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=gs(n))===n?n:0),t!==i&&(t=(t=gs(t))===t?t:0),sr(gs(e),t,n)},Zn.clone=function(e){return ur(e,4)},Zn.cloneDeep=function(e){return ur(e,5)},Zn.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:i)},Zn.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:i)},Zn.conformsTo=function(e,t){return null==t||lr(e,t,Cs(t))},Zn.deburr=Ks,Zn.defaultTo=function(e,t){return null==e||e!==e?t:e},Zn.divide=bu,Zn.endsWith=function(e,t,n){e=ys(e),t=li(t);var r=e.length,o=n=n===i?r:sr(ps(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Zn.eq=Za,Zn.escape=function(e){return(e=ys(e))&&$.test(e)?e.replace(Y,an):e},Zn.escapeRegExp=function(e){return(e=ys(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Zn.every=function(e,t,n){var r=Va(e)?Ct:pr;return n&&_o(e,t,n)&&(t=i),r(e,uo(t,3))},Zn.find=ga,Zn.findIndex=Ko,Zn.findKey=function(e,t){return Ft(e,uo(t,3),_r)},Zn.findLast=ma,Zn.findLastIndex=Vo,Zn.findLastKey=function(e,t){return Ft(e,uo(t,3),wr)},Zn.floor=_u,Zn.forEach=ya,Zn.forEachRight=ba,Zn.forIn=function(e,t){return null==e?e:yr(e,uo(t,3),Rs)},Zn.forInRight=function(e,t){return null==e?e:br(e,uo(t,3),Rs)},Zn.forOwn=function(e,t){return e&&_r(e,uo(t,3))},Zn.forOwnRight=function(e,t){return e&&wr(e,uo(t,3))},Zn.get=ks,Zn.gt=Fa,Zn.gte=Ua,Zn.has=function(e,t){return null!=e&&go(e,t,Ar)},Zn.hasIn=As,Zn.head=Wo,Zn.identity=ru,Zn.includes=function(e,t,n,r){e=Wa(e)?e:Zs(e),n=n&&!r?ps(n):0;var i=e.length;return n<0&&(n=qt(i+n,0)),ss(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Kt(e,t,n)>-1},Zn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=qt(r+i,0)),Kt(e,t,i)},Zn.inRange=function(e,t,n){return t=ds(t),n===i?(n=t,t=0):n=ds(n),function(e,t,n){return e>=bn(t,n)&&e<qt(t,n)}(e=gs(e),t,n)},Zn.invoke=Os,Zn.isArguments=Ka,Zn.isArray=Va,Zn.isArrayBuffer=Ha,Zn.isArrayLike=Wa,Zn.isArrayLikeObject=Ga,Zn.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Mr(e)==_},Zn.isBuffer=qa,Zn.isDate=Ya,Zn.isElement=function(e){return ts(e)&&1===e.nodeType&&!is(e)},Zn.isEmpty=function(e){if(null==e)return!0;if(Wa(e)&&(Va(e)||"string"==typeof e||"function"==typeof e.splice||qa(e)||ls(e)||Ka(e)))return!e.length;var t=vo(e);if(t==M||t==O)return!e.size;if(xo(e))return!jr(e).length;for(var n in e)if(De.call(e,n))return!1;return!0},Zn.isEqual=function(e,t){return Rr(e,t)},Zn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},Zn.isError=Xa,Zn.isFinite=function(e){return"number"==typeof e&&bt(e)},Zn.isFunction=$a,Zn.isInteger=Ja,Zn.isLength=Qa,Zn.isMap=ns,Zn.isMatch=function(e,t){return e===t||Lr(e,t,co(t))},Zn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Lr(e,t,co(t),n)},Zn.isNaN=function(e){return rs(e)&&e!=+e},Zn.isNative=function(e){if(So(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ir(e)},Zn.isNil=function(e){return null==e},Zn.isNull=function(e){return null===e},Zn.isNumber=rs,Zn.isObject=es,Zn.isObjectLike=ts,Zn.isPlainObject=is,Zn.isRegExp=os,Zn.isSafeInteger=function(e){return Ja(e)&&e>=-9007199254740991&&e<=p},Zn.isSet=as,Zn.isString=ss,Zn.isSymbol=us,Zn.isTypedArray=ls,Zn.isUndefined=function(e){return e===i},Zn.isWeakMap=function(e){return ts(e)&&vo(e)==L},Zn.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Mr(e)},Zn.join=function(e,t){return null==e?"":_t.call(e,t)},Zn.kebabCase=Vs,Zn.last=Xo,Zn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ps(n))<0?qt(r+o,0):bn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ut(e,Ht,o,!0)},Zn.lowerCase=Hs,Zn.lowerFirst=Ws,Zn.lt=cs,Zn.lte=hs,Zn.max=function(e){return e&&e.length?vr(e,ru,kr):i},Zn.maxBy=function(e,t){return e&&e.length?vr(e,uo(t,2),kr):i},Zn.mean=function(e){return Wt(e,ru)},Zn.meanBy=function(e,t){return Wt(e,uo(t,2))},Zn.min=function(e){return e&&e.length?vr(e,ru,Br):i},Zn.minBy=function(e,t){return e&&e.length?vr(e,uo(t,2),Br):i},Zn.stubArray=vu,Zn.stubFalse=gu,Zn.stubObject=function(){return{}},Zn.stubString=function(){return""},Zn.stubTrue=function(){return!0},Zn.multiply=wu,Zn.nth=function(e,t){return e&&e.length?Kr(e,ps(t)):i},Zn.noConflict=function(){return vt._===this&&(vt._=Ze),this},Zn.noop=uu,Zn.now=ka,Zn.pad=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Vi(pt(i),n)+e+Vi(dt(i),n)},Zn.padEnd=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?e+Vi(t-r,n):e},Zn.padStart=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?Vi(t-r,n)+e:e},Zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(ys(e).replace(ae,""),t||0)},Zn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&_o(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ds(e),t===i?(t=e,e=0):t=ds(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=En();return bn(e+o*(t-e+ht("1e-"+((o+"").length-1))),t)}return qr(e,t)},Zn.reduce=function(e,t,n){var r=Va(e)?Nt:Yt,i=arguments.length<3;return r(e,uo(t,4),n,i,fr)},Zn.reduceRight=function(e,t,n){var r=Va(e)?Bt:Yt,i=arguments.length<3;return r(e,uo(t,4),n,i,dr)},Zn.repeat=function(e,t,n){return t=(n?_o(e,t,n):t===i)?1:ps(t),Yr(ys(e),t)},Zn.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Zn.result=function(e,t,n){var r=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[No(t[r])];a===i&&(r=o,a=n),e=$a(a)?a.call(e):a}return e},Zn.round=Eu,Zn.runInContext=e,Zn.sample=function(e){return(Va(e)?$n:$r)(e)},Zn.size=function(e){if(null==e)return 0;if(Wa(e))return ss(e)?pn(e):e.length;var t=vo(e);return t==M||t==O?e.size:jr(e).length},Zn.snakeCase=Gs,Zn.some=function(e,t,n){var r=Va(e)?zt:ii;return n&&_o(e,t,n)&&(t=i),r(e,uo(t,3))},Zn.sortedIndex=function(e,t){return oi(e,t)},Zn.sortedIndexBy=function(e,t,n){return ai(e,t,uo(n,2))},Zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Za(e[r],t))return r}return-1},Zn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Zn.sortedLastIndexBy=function(e,t,n){return ai(e,t,uo(n,2),!0)},Zn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(Za(e[n],t))return n}return-1},Zn.startCase=qs,Zn.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:sr(ps(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Zn.subtract=Su,Zn.sum=function(e){return e&&e.length?Xt(e,ru):0},Zn.sumBy=function(e,t){return e&&e.length?Xt(e,uo(t,2)):0},Zn.template=function(e,t,n){var r=Zn.templateSettings;n&&_o(e,t,n)&&(t=i),e=ys(e),t=ws({},t,r,Ji);var o,a,s=ws({},t.imports,r.imports,Ji),u=Cs(s),l=en(s,u),c=0,h=t.interpolate||Ee,f="__p += '",d=Ae((t.escape||Ee).source+"|"+h.source+"|"+(h===ee?pe:Ee).source+"|"+(t.evaluate||Ee).source+"|$","g"),p="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(d,(function(t,n,r,i,s,u){return r||(r=i),f+=e.slice(c,u).replace(Se,sn),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var v=De.call(t,"variable")&&t.variable;if(v){if(fe.test(v))throw new se("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(H,""):f).replace(W,"$1").replace(G,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Js((function(){return xe(u,p+"return "+f).apply(i,l)}));if(g.source=f,Xa(g))throw g;return g},Zn.times=function(e,t){if((e=ps(e))<1||e>p)return[];var n=g,r=bn(e,g);t=uo(t),e-=g;for(var i=$t(r,t);++n<e;)t(n);return i},Zn.toFinite=ds,Zn.toInteger=ps,Zn.toLength=vs,Zn.toLower=function(e){return ys(e).toLowerCase()},Zn.toNumber=gs,Zn.toSafeInteger=function(e){return e?sr(ps(e),-9007199254740991,p):0===e?e:0},Zn.toString=ys,Zn.toUpper=function(e){return ys(e).toUpperCase()},Zn.trim=function(e,t,n){if((e=ys(e))&&(n||t===i))return Jt(e);if(!e||!(t=li(t)))return e;var r=vn(e),o=vn(t);return wi(r,nn(r,o),rn(r,o)+1).join("")},Zn.trimEnd=function(e,t,n){if((e=ys(e))&&(n||t===i))return e.slice(0,gn(e)+1);if(!e||!(t=li(t)))return e;var r=vn(e);return wi(r,0,rn(r,vn(t))+1).join("")},Zn.trimStart=function(e,t,n){if((e=ys(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=li(t)))return e;var r=vn(e);return wi(r,nn(r,vn(t))).join("")},Zn.truncate=function(e,t){var n=30,r="...";if(es(t)){var o="separator"in t?t.separator:o;n="length"in t?ps(t.length):n,r="omission"in t?li(t.omission):r}var a=(e=ys(e)).length;if(un(e)){var s=vn(e);a=s.length}if(n>=a)return e;var u=n-pn(r);if(u<1)return r;var l=s?wi(s,0,u).join(""):e.slice(0,u);if(o===i)return l+r;if(s&&(u+=l.length-u),os(o)){if(e.slice(u).search(o)){var c,h=l;for(o.global||(o=Ae(o.source,ys(ve.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var f=c.index;l=l.slice(0,f===i?u:f)}}else if(e.indexOf(li(o),u)!=u){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+r},Zn.unescape=function(e){return(e=ys(e))&&X.test(e)?e.replace(q,mn):e},Zn.uniqueId=function(e){var t=++je;return ys(e)+t},Zn.upperCase=Ys,Zn.upperFirst=Xs,Zn.each=ya,Zn.eachRight=ba,Zn.first=Wo,su(Zn,function(){var e={};return _r(Zn,(function(t,n){De.call(Zn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Zn.VERSION="4.17.21",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Zn[e].placeholder=Zn})),Pt(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===i?1:qt(ps(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Pt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Pt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Pt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(ru)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Or(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Da(uo(e)))},Vn.prototype.slice=function(e,t){e=ps(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ps(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(g)},_r(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Zn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Zn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Vn,l=s[0],c=u||Va(t),h=function(e){var t=o.apply(Zn,jt([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=a&&!f,v=u&&!d;if(!a&&c){t=v?t:new Vn(this);var g=e.apply(t,s);return g.__actions__.push({func:da,args:[h],thisArg:i}),new Kn(g,f)}return p&&v?e.apply(this,s):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),Pt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Zn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Va(i)?i:[],e)}return this[n]((function(n){return t.apply(Va(n)?n:[],e)}))}})),_r(Vn.prototype,(function(e,t){var n=Zn[t];if(n){var r=n.name+"";De.call(Cn,r)||(Cn[r]=[]),Cn[r].push({name:t,func:n})}})),Cn[Zi(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Pi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pi(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=qt(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,f=0,d=bn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return pi(e,this.__actions__);var p=[];e:for(;u--&&f<d;){for(var v=-1,g=e[l+=t];++v<h;){var m=c[v],y=m.iteratee,b=m.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}p[f++]=g}return p},Zn.prototype.at=pa,Zn.prototype.chain=function(){return fa(this)},Zn.prototype.commit=function(){return new Kn(this.value(),this.__chain__)},Zn.prototype.next=function(){this.__values__===i&&(this.__values__=fs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Zn.prototype.plant=function(e){for(var t,n=this;n instanceof Un;){var r=zo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Zn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:da,args:[ea],thisArg:i}),new Kn(t,this.__chain__)}return this.thru(ea)},Zn.prototype.toJSON=Zn.prototype.valueOf=Zn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Zn.prototype.first=Zn.prototype.head,$e&&(Zn.prototype[$e]=function(){return this}),Zn}();vt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},9286:function(e,t,n){var r=n(4173),i=n(9934)((function(e,t,n){r(e,t,n)}));e.exports=i},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},9488:function(e){e.exports=function(){return!1}},3038:function(e,t,n){var r=n(8573),i=n(8092);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},2582:function(e,t,n){var r=n(821),i=n(8092),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},6576:function(e,t,n){var r=n(4503),i=n(3961);e.exports=function(e){return r(e,i(e))}},1761:function(e,t,n){var r=n(1468),i=n(8794),o=n(6279),a=i((function(e,t){return o(e)?r(e,t):[]}));e.exports=a},8437:function(e,t,n){"use strict";var r=n(2534),i=n(6266),o=n(2543).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function l(e,t,n,r,i,o,a){return u(e+(t&n|~t&r)+i+o|0,a)+t|0}function c(e,t,n,r,i,o,a){return u(e+(t&r|n&~r)+i+o|0,a)+t|0}function h(e,t,n,r,i,o,a){return u(e+(t^n^r)+i+o|0,a)+t|0}function f(e,t,n,r,i,o,a){return u(e+(n^(t|~r))+i+o|0,a)+t|0}r(s,i),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,o=this._d;n=l(n,r,i,o,e[0],3614090360,7),o=l(o,n,r,i,e[1],3905402710,12),i=l(i,o,n,r,e[2],606105819,17),r=l(r,i,o,n,e[3],3250441966,22),n=l(n,r,i,o,e[4],4118548399,7),o=l(o,n,r,i,e[5],1200080426,12),i=l(i,o,n,r,e[6],2821735955,17),r=l(r,i,o,n,e[7],4249261313,22),n=l(n,r,i,o,e[8],1770035416,7),o=l(o,n,r,i,e[9],2336552879,12),i=l(i,o,n,r,e[10],4294925233,17),r=l(r,i,o,n,e[11],2304563134,22),n=l(n,r,i,o,e[12],1804603682,7),o=l(o,n,r,i,e[13],4254626195,12),i=l(i,o,n,r,e[14],2792965006,17),n=c(n,r=l(r,i,o,n,e[15],1236535329,22),i,o,e[1],4129170786,5),o=c(o,n,r,i,e[6],3225465664,9),i=c(i,o,n,r,e[11],643717713,14),r=c(r,i,o,n,e[0],3921069994,20),n=c(n,r,i,o,e[5],3593408605,5),o=c(o,n,r,i,e[10],38016083,9),i=c(i,o,n,r,e[15],3634488961,14),r=c(r,i,o,n,e[4],3889429448,20),n=c(n,r,i,o,e[9],568446438,5),o=c(o,n,r,i,e[14],3275163606,9),i=c(i,o,n,r,e[3],4107603335,14),r=c(r,i,o,n,e[8],1163531501,20),n=c(n,r,i,o,e[13],2850285829,5),o=c(o,n,r,i,e[2],4243563512,9),i=c(i,o,n,r,e[7],1735328473,14),n=h(n,r=c(r,i,o,n,e[12],2368359562,20),i,o,e[5],4294588738,4),o=h(o,n,r,i,e[8],2272392833,11),i=h(i,o,n,r,e[11],1839030562,16),r=h(r,i,o,n,e[14],4259657740,23),n=h(n,r,i,o,e[1],2763975236,4),o=h(o,n,r,i,e[4],1272893353,11),i=h(i,o,n,r,e[7],4139469664,16),r=h(r,i,o,n,e[10],3200236656,23),n=h(n,r,i,o,e[13],681279174,4),o=h(o,n,r,i,e[0],3936430074,11),i=h(i,o,n,r,e[3],3572445317,16),r=h(r,i,o,n,e[6],76029189,23),n=h(n,r,i,o,e[9],3654602809,4),o=h(o,n,r,i,e[12],3873151461,11),i=h(i,o,n,r,e[15],530742520,16),n=f(n,r=h(r,i,o,n,e[2],3299628645,23),i,o,e[0],4096336452,6),o=f(o,n,r,i,e[7],1126891415,10),i=f(i,o,n,r,e[14],2878612391,15),r=f(r,i,o,n,e[5],4237533241,21),n=f(n,r,i,o,e[12],1700485571,6),o=f(o,n,r,i,e[3],2399980690,10),i=f(i,o,n,r,e[10],4293915773,15),r=f(r,i,o,n,e[1],2240044497,21),n=f(n,r,i,o,e[8],1873313359,6),o=f(o,n,r,i,e[15],4264355552,10),i=f(i,o,n,r,e[6],2734768916,15),r=f(r,i,o,n,e[13],1309151649,21),n=f(n,r,i,o,e[4],4149444226,6),o=f(o,n,r,i,e[11],3174756917,10),i=f(i,o,n,r,e[2],718787259,15),r=f(r,i,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},5408:function(e){e.exports=function(){"use strict";var e={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},t=Array.prototype.slice;function n(e){var n=e.length;return n?1===n?[e[0]]:2===n?[e[0],e[1]]:3===n?[e[0],e[1],e[2]]:t.call(e,0):[]}function r(t){var n={};for(var r in t)e[r]||(n[r]=t[r]);return n}function i(e){return"function"===typeof e&&e.isMemoized}function o(e,t){return e===t||e!==e&&t!==t}function a(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}var s=function(){function e(e){this.keys=[],this.values=[],this.options=e;var t="function"===typeof e.isMatchingKey;t?this.getKeyIndex=this._getKeyIndexFromMatchingKey:e.maxSize>1?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey="function"===typeof e.transformKey,this.shouldCloneArguments=this.canTransformKey||t,this.shouldUpdateOnAdd="function"===typeof e.onCacheAdd,this.shouldUpdateOnChange="function"===typeof e.onCacheChange,this.shouldUpdateOnHit="function"===typeof e.onCacheHit}return Object.defineProperty(e.prototype,"size",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"snapshot",{get:function(){return{keys:n(this.keys),size:this.size,values:n(this.values)}},enumerable:!1,configurable:!0}),e.prototype._getKeyIndexFromMatchingKey=function(e){var t=this.options,n=t.isMatchingKey,r=t.maxSize,i=this.keys,o=i.length;if(!o)return-1;if(n(i[0],e))return 0;if(r>1)for(var a=1;a<o;a++)if(n(i[a],e))return a;return-1},e.prototype._getKeyIndexForMany=function(e){var t=this.options.isEqual,n=this.keys,r=n.length;if(!r)return-1;if(1===r)return this._getKeyIndexForSingle(e);var i,o,a=e.length;if(a>1){for(var s=0;s<r;s++)if((i=n[s]).length===a){for(o=0;o<a&&t(i[o],e[o]);o++);if(o===a)return s}}else for(s=0;s<r;s++)if((i=n[s]).length===a&&t(i[0],e[0]))return s;return-1},e.prototype._getKeyIndexForSingle=function(e){var t=this.keys;if(!t.length)return-1;var n=t[0],r=n.length;if(e.length!==r)return-1;var i=this.options.isEqual;if(r>1){for(var o=0;o<r;o++)if(!i(n[o],e[o]))return-1;return 0}return i(n[0],e[0])?0:-1},e.prototype.orderByLru=function(e,t,n){for(var r=this.keys,i=this.values,o=r.length,a=n;a--;)r[a+1]=r[a],i[a+1]=i[a];r[0]=e,i[0]=t;var s=this.options.maxSize;o===s&&n===o?(r.pop(),i.pop()):n>=s&&(r.length=i.length=s)},e.prototype.updateAsyncCache=function(e){var t=this,n=this.options,r=n.onCacheChange,i=n.onCacheHit,o=this.keys[0],a=this.values[0];this.values[0]=a.then((function(n){return t.shouldUpdateOnHit&&i(t,t.options,e),t.shouldUpdateOnChange&&r(t,t.options,e),n}),(function(e){var n=t.getKeyIndex(o);throw-1!==n&&(t.keys.splice(n,1),t.values.splice(n,1)),e}))},e}();function u(e,t){if(void 0===t&&(t={}),i(e))return u(e.fn,a(e.options,t));if("function"!==typeof e)throw new TypeError("You must pass a function to `memoize`.");var l=t.isEqual,c=void 0===l?o:l,h=t.isMatchingKey,f=t.isPromise,d=void 0!==f&&f,p=t.maxSize,v=void 0===p?1:p,g=t.onCacheAdd,m=t.onCacheChange,y=t.onCacheHit,b=t.transformKey,_=a({isEqual:c,isMatchingKey:h,isPromise:d,maxSize:v,onCacheAdd:g,onCacheChange:m,onCacheHit:y,transformKey:b},r(t)),w=new s(_),E=w.keys,S=w.values,x=w.canTransformKey,M=w.shouldCloneArguments,k=w.shouldUpdateOnAdd,A=w.shouldUpdateOnChange,T=w.shouldUpdateOnHit,P=function t(){var r=M?n(arguments):arguments;x&&(r=b(r));var i=E.length?w.getKeyIndex(r):-1;if(-1!==i)T&&y(w,_,t),i&&(w.orderByLru(E[i],S[i],i),A&&m(w,_,t));else{var o=e.apply(this,arguments),a=M?r:n(arguments);w.orderByLru(a,o,E.length),d&&w.updateAsyncCache(t),k&&g(w,_,t),A&&m(w,_,t)}return S[0]};return P.cache=w,P.fn=e,P.isMemoized=!0,P.options=_,P}return u}()},1595:function(e,t,n){var r=n(7942),i=n(6084);function o(e){this.rand=e||new i.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},o.prototype.test=function(e,t,n){var i=e.bitLength(),o=r.mont(e),a=new r(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),u=0;!s.testn(u);u++);for(var l=e.shrn(u),c=s.toRed(o);t>0;t--){var h=this._randrange(new r(2),s);n&&n(h);var f=h.toRed(o).redPow(l);if(0!==f.cmp(a)&&0!==f.cmp(c)){for(var d=1;d<u;d++){if(0===(f=f.redSqr()).cmp(a))return!1;if(0===f.cmp(c))break}if(d===u)return!1}}return!0},o.prototype.getDivisor=function(e,t){var n=e.bitLength(),i=r.mont(e),o=new r(1).toRed(i);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var u=e.shrn(s),l=a.toRed(i);t>0;t--){var c=this._randrange(new r(2),a),h=e.gcd(c);if(0!==h.cmpn(1))return h;var f=c.toRed(i).redPow(u);if(0!==f.cmp(o)&&0!==f.cmp(l)){for(var d=1;d<s;d++){if(0===(f=f.redSqr()).cmp(o))return f.fromRed().subn(1).gcd(e);if(0===f.cmp(l))break}if(d===s)return(f=f.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},7942:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(6619).Buffer}catch(M){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function l(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,f=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=f;d++){var p=l-d|0;c+=(a=(i=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],d=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var v=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?v+n:c[l-v.length]+v+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!==typeof a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,l=new e(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,l=0,c=0|a[0],h=8191&c,f=c>>>13,d=0|a[1],p=8191&d,v=d>>>13,g=0|a[2],m=8191&g,y=g>>>13,b=0|a[3],_=8191&b,w=b>>>13,E=0|a[4],S=8191&E,x=E>>>13,M=0|a[5],k=8191&M,A=M>>>13,T=0|a[6],P=8191&T,O=T>>>13,C=0|a[7],R=8191&C,L=C>>>13,I=0|a[8],D=8191&I,j=I>>>13,N=0|a[9],B=8191&N,z=N>>>13,Z=0|s[0],F=8191&Z,U=Z>>>13,K=0|s[1],V=8191&K,H=K>>>13,W=0|s[2],G=8191&W,q=W>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,fe=ce>>>13,de=0|s[9],pe=8191&de,ve=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(l+(r=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,U))+Math.imul(f,F)|0))<<13)|0;l=((o=Math.imul(f,U))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,U))+Math.imul(v,F)|0,o=Math.imul(v,U);var me=(l+(r=r+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,F),i=(i=Math.imul(m,U))+Math.imul(y,F)|0,o=Math.imul(y,U),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,H)|0;var ye=(l+(r=r+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,G)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(_,F),i=(i=Math.imul(_,U))+Math.imul(w,F)|0,o=Math.imul(w,U),r=r+Math.imul(m,V)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,H)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,q)|0;var be=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,F),i=(i=Math.imul(S,U))+Math.imul(x,F)|0,o=Math.imul(x,U),r=r+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,H)|0,r=r+Math.imul(m,G)|0,i=(i=i+Math.imul(m,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,$)|0;var _e=(l+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(k,F),i=(i=Math.imul(k,U))+Math.imul(A,F)|0,o=Math.imul(A,U),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,r=r+Math.imul(_,G)|0,i=(i=i+Math.imul(_,q)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,q)|0,r=r+Math.imul(m,X)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0;var we=(l+(r=r+Math.imul(h,ne)|0)|0)+((8191&(i=(i=i+Math.imul(h,re)|0)+Math.imul(f,ne)|0))<<13)|0;l=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,F),i=(i=Math.imul(P,U))+Math.imul(O,F)|0,o=Math.imul(O,U),r=r+Math.imul(k,V)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,H)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,q)|0,r=r+Math.imul(_,X)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,$)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0;var Ee=(l+(r=r+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;l=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(R,F),i=(i=Math.imul(R,U))+Math.imul(L,F)|0,o=Math.imul(L,U),r=r+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0;var Se=(l+(r=r+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,le)|0)+Math.imul(f,ue)|0))<<13)|0;l=((o=o+Math.imul(f,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,F),i=(i=Math.imul(D,U))+Math.imul(j,F)|0,o=Math.imul(j,U),r=r+Math.imul(R,V)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,H)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,q)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,$)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,le)|0;var xe=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;l=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(B,F),i=(i=Math.imul(B,U))+Math.imul(z,F)|0,o=Math.imul(z,U),r=r+Math.imul(D,V)|0,i=(i=i+Math.imul(D,H)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,H)|0,r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,q)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,le)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,le)|0,r=r+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(v,he)|0,o=o+Math.imul(v,fe)|0;var Me=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ve)|0)+Math.imul(f,pe)|0))<<13)|0;l=((o=o+Math.imul(f,ve)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(B,V),i=(i=Math.imul(B,H))+Math.imul(z,V)|0,o=Math.imul(z,H),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,q)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,$)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,r=r+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(m,he)|0,i=(i=i+Math.imul(m,fe)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,fe)|0;var ke=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;l=((o=o+Math.imul(v,ve)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,q))+Math.imul(z,G)|0,o=Math.imul(z,q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(O,ne)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,r=r+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,le)|0,r=r+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,fe)|0;var Ae=(l+(r=r+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ve)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,ve)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,X),i=(i=Math.imul(B,$))+Math.imul(z,X)|0,o=Math.imul(z,$),r=r+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,le)|0,r=r+Math.imul(S,he)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Te=(l+(r=r+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ve)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,ve)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,ee))+Math.imul(z,Q)|0,o=Math.imul(z,ee),r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(k,he)|0,i=(i=i+Math.imul(k,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Pe=(l+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(x,pe)|0))<<13)|0;l=((o=o+Math.imul(x,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(B,ne),i=(i=Math.imul(B,re))+Math.imul(z,ne)|0,o=Math.imul(z,re),r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ae)|0,r=r+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,le)|0,r=r+Math.imul(P,he)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,fe)|0;var Oe=(l+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ve)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,oe),i=(i=Math.imul(B,ae))+Math.imul(z,oe)|0,o=Math.imul(z,ae),r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,le)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,le)|0,r=r+Math.imul(R,he)|0,i=(i=i+Math.imul(R,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Ce=(l+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,ue),i=(i=Math.imul(B,le))+Math.imul(z,ue)|0,o=Math.imul(z,le),r=r+Math.imul(D,he)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(j,he)|0,o=o+Math.imul(j,fe)|0;var Re=(l+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ve)|0)+Math.imul(L,pe)|0))<<13)|0;l=((o=o+Math.imul(L,ve)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(B,he),i=(i=Math.imul(B,fe))+Math.imul(z,he)|0,o=Math.imul(z,fe);var Le=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,ve)|0)+Math.imul(j,pe)|0))<<13)|0;l=((o=o+Math.imul(j,ve)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ie=(l+(r=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ve))+Math.imul(z,pe)|0))<<13)|0;return l=((o=Math.imul(z,ve))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=ge,u[1]=me,u[2]=ye,u[3]=be,u[4]=_e,u[5]=we,u[6]=Ee,u[7]=Se,u[8]=xe,u[9]=Me,u[10]=ke,u[11]=Ae,u[12]=Te,u[13]=Pe,u[14]=Oe,u[15]=Ce,u[16]=Re,u[17]=Le,u[18]=Ie,0!==l&&(u[19]=l,n.length++),n};function v(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?p(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,h=(0|e.words[c])*(0|t.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):v(this,e,t),n},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},g.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},g.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var h=u,f=l,d=0;d<a;d++){var p=n[c+d],v=r[c+d],g=n[c+d+a],m=r[c+d+a],y=h*g-f*m;m=h*m+f*g,g=y,n[c+d]=p+g,r[c+d]=v+m,n[c+d+a]=p-g,r[c+d+a]=v-m,d!==s&&(y=u*h-l*f,f=u*f+l*h,h=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},g.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,h,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,h);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0===(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(n.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0===(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(b,y),b.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,y),i(w,y),i(E,y),E.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return m[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=a;0!==d.cmp(s);){for(var v=d,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));f=f.redMul(m),h=m.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new x(e)},i(x,S),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},2325:function(e){function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},4034:function(e,t){"use strict";var n=t;function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!==typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},n.zero2=r,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}},2086:function(e,t,n){e.exports=function(e,t){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var i={isDeepEqual:!1,isPromise:!1,isReact:!1,isSerialized:!1,isShallowEqual:!1,matchesArg:void 0,matchesKey:void 0,maxAge:void 0,maxArgs:void 0,maxSize:1,onExpire:void 0,profileName:void 0,serializer:void 0,updateCacheForKey:void 0,transformArgs:void 0,updateExpire:!1};function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return"function"===typeof e?"function"===typeof t?function(){e.apply(this,arguments),t.apply(this,arguments)}:e:"function"===typeof t?t:void 0}))}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return"function"===typeof e?"function"===typeof t?function(){return e(t.apply(this,arguments))}:e:"function"===typeof t?t:void 0}))}function s(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return n;return-1}function u(e,t){var n="function"===typeof t?t:function(t,n){for(var r=0;r<n.length;r++)if(!e(t[r],n[r]))return!1;return!0};return function(e,t){for(var r=0;r<e.length;r++)if(e[r].length===t.length&&n(e[r],t))return r;return-1}}function l(e,t){return t&&t!==i?n({},e,t,{onCacheAdd:o(e.onCacheAdd,t.onCacheAdd),onCacheChange:o(e.onCacheChange,t.onCacheChange),onCacheHit:o(e.onCacheHit,t.onCacheHit),transformArgs:a(e.transformArgs,t.transformArgs)}):e}function c(e){return"function"===typeof e&&e.isMoized}function h(e,t,n){try{var r=n||t||"anonymous";Object.defineProperty(e,"name",{configurable:!0,enumerable:!1,value:"moized("+r+")",writable:!0})}catch(i){}}function f(e,t,n){var r=s(e,t);-1!==r&&(clearTimeout(e[r].timeoutId),n&&e.splice(r,1))}function d(e,t){var n=setTimeout(e,t);return"function"===typeof n.unref&&n.unref(),n}function p(e,t,n,r){var i=t.maxAge;return function o(a,l,c){var h=a.keys[0];if(-1===s(e,h)){var p=function(){var i=u(n,r)(a.keys,h),s=a.values[i];~i&&(a.keys.splice(i,1),a.values.splice(i,1),"function"===typeof t.onCacheChange&&t.onCacheChange(a,l,c)),f(e,h,!0),"function"===typeof t.onExpire&&!1===t.onExpire(h)&&(a.keys.unshift(h),a.values.unshift(s),o(a,l,c),"function"===typeof t.onCacheChange&&t.onCacheChange(a,l,c))};e.push({expirationMethod:p,key:h,timeoutId:d(p,i)})}}}function v(e,t){return function(n){var r=n.keys[0],i=s(e,r);~i&&(f(e,r,!1),e[i].timeoutId=d(e[i].expirationMethod,t.maxAge))}}function g(e,t,n,r){var i="number"===typeof t.maxAge&&isFinite(t.maxAge)?p(e,t,n,r):void 0;return{onCacheAdd:i,onCacheHit:i&&t.updateExpire?v(e,t):void 0}}var m={anonymousProfileNameCounter:1,isCollectingStats:!1,profiles:{}},y=!1;function b(e){e?delete m.profiles[e]:m.profiles={}}function _(e){void 0===e&&(e=!0),m.isCollectingStats=e}function w(e){var t=e.profileName;return function(){t&&!m.profiles[t]&&(m.profiles[t]={calls:0,hits:0}),m.profiles[t].calls++}}function E(e){return function(){var t=m.profiles,n=e.profileName;t[n]||(t[n]={calls:0,hits:0}),t[n].calls++,t[n].hits++}}function S(e){return e.displayName||e.name||"Anonymous "+m.anonymousProfileNameCounter++}function x(e,t){return e?(t/e*100).toFixed(4)+"%":"0.0000%"}function M(e){m.isCollectingStats||y||(console.warn('Stats are not currently being collected, please run "collectStats" to enable them.'),y=!0);var t=m.profiles;if(e){if(!t[e])return{calls:0,hits:0,usage:"0.0000%"};var r=t[e];return n({},r,{usage:x(r.calls,r.hits)})}var i=Object.keys(m.profiles).reduce((function(e,n){return e.calls+=t[n].calls,e.hits+=t[n].hits,e}),{calls:0,hits:0});return n({},i,{profiles:Object.keys(t).reduce((function(e,t){return e[t]=M(t),e}),{}),usage:x(i.calls,i.hits)})}function k(e){return m.isCollectingStats?{onCacheAdd:w(e),onCacheHit:E(e)}:{}}var A={arguments:!0,callee:!0,caller:!0,constructor:!0,length:!0,name:!0,prototype:!0};function T(e,t,n){void 0===n&&(n=[]),Object.getOwnPropertyNames(e).forEach((function(r){if(!A[r]&&-1===n.indexOf(r)){var i=Object.getOwnPropertyDescriptor(e,r);i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}}))}function P(e,t){var n=t.expirations,r=e.options,i=u(r.isEqual,r.isMatchingKey),o=e;o.clear=function(){var e=o._microMemoizeOptions.onCacheChange,t=o.cache;return t.keys.length=0,t.values.length=0,e&&e(t,o.options,o),!0},o.clearStats=function(){b(o.options.profileName)},o.get=function(e){var t=o._microMemoizeOptions.transformKey,n=o.cache,r=t?t(e):e;return-1!==i(n.keys,r)?o.apply(this,e):void 0},o.getStats=function(){return M(o.options.profileName)},o.has=function(e){var t=o._microMemoizeOptions.transformKey,n=t?t(e):e;return-1!==i(o.cache.keys,n)},o.keys=function(){return o.cacheSnapshot.keys},o.remove=function(e){var t=o._microMemoizeOptions,r=t.onCacheChange,a=t.transformKey,s=o.cache,u=i(s.keys,a?a(e):e);if(-1===u)return!1;var l=s.keys[u];return s.keys.splice(u,1),s.values.splice(u,1),r&&r(s,o.options,o),f(n,l,!0),!0},o.set=function(e,t){var n=o._microMemoizeOptions,r=o.cache,a=o.options,s=n.onCacheAdd,u=n.onCacheChange,l=n.transformKey,c=l?l(e):e,h=i(r.keys,c);if(-1===h){var f=a.maxSize-1;r.size>f&&(r.keys.length=f,r.values.length=f),r.keys.unshift(c),r.values.unshift(t),a.isPromise&&r.updateAsyncCache(o),s&&s(r,a,o),u&&u(r,a,o)}else{var d=r.keys[h];r.values[h]=t,h>0&&r.orderByLru(d,t,h),a.isPromise&&r.updateAsyncCache(o),"function"===typeof u&&u(r,a,o)}},o.values=function(){return o.cacheSnapshot.values}}function O(e,t){var n=t.expirations,r=t.options,i=t.originalFunction,o=e.options;Object.defineProperties(e,{_microMemoizeOptions:{configurable:!0,get:function(){return o}},cacheSnapshot:{configurable:!0,get:function(){var t=e.cache;return{keys:t.keys.slice(0),size:t.size,values:t.values.slice(0)}}},expirations:{configurable:!0,get:function(){return n}},expirationsSnapshot:{configurable:!0,get:function(){return n.slice(0)}},isMoized:{configurable:!0,get:function(){return!0}},options:{configurable:!0,get:function(){return r}},originalFunction:{configurable:!0,get:function(){return i}}}),T(i,e)}function C(e,t){return P(e,t),O(e,t),e}var R="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function L(e,t,r){var i=e(n({maxArgs:2,isShallowEqual:!0},r,{isReact:!1}));function o(e,n,r){this.props=e,this.context=n,this.updater=r,this.MoizedComponent=i(t)}return t.displayName||(t.displayName=t.name||"Component"),o.prototype.isReactComponent={},o.prototype.render=function(){return{$$typeof:R,type:this.MoizedComponent,props:this.props,ref:null,key:null,_owner:null}},T(t,o,["contextType","contextTypes"]),o.displayName="Moized("+(t.displayName||t.name||"Component")+")",h(o,t.name,r.profileName),o}function I(e){return function(t){if(e>=t.length)return t;if(0===e)return[];if(1===e)return[t[0]];if(2===e)return[t[0],t[1]];if(3===e)return[t[0],t[1],t[2]];for(var n=[],r=0;r<e;r++)n[r]=t[r];return n}}function D(e,t){for(var n=e.length,r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function j(){var e=[],t=[];return function(n,r){var i=typeof r;if("function"===i||"symbol"===i)return r.toString();if("object"===typeof r){if(e.length){var o=D(e,this);0===o?e[e.length]=this:(e.splice(o),t.splice(o)),t[t.length]=n;var a=D(e,r);if(0!==a)return"[ref="+(t.slice(0,a).join(".")||".")+"]"}else e[0]=r,t[0]=n;return r}return""+r}}function N(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?e:JSON.stringify(e,j())}function B(e){for(var t="|",n=0;n<e.length;n++)t+=N(e[n])+"|";return[t]}function z(e){return"function"===typeof e.serializer?e.serializer:B}function Z(e,t){return e[0]===t[0]}function F(e){if("function"===typeof e)return function(t,n,r){return e(r.cache,r.options,r)}}function U(e){return e.matchesArg||e.isDeepEqual&&t.deepEqual||e.isShallowEqual&&t.shallowEqual||t.sameValueZeroEqual}function K(e){return e.matchesKey||e.isSerialized&&Z||void 0}function V(e){return a(e.isSerialized&&z(e),"function"===typeof e.transformArgs&&e.transformArgs,"number"===typeof e.maxArgs&&I(e.maxArgs))}function H(e){var t=e.options.updateCacheForKey,n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!t(r))return e.apply(this,r);var o=e.fn.apply(this,r);return e.set(r,o),o};return T(e,n),n}var W=["matchesArg","isDeepEqual","isPromise","isReact","isSerialized","isShallowEqual","matchesKey","maxAge","maxArgs","maxSize","onCacheAdd","onCacheChange","onCacheHit","onExpire","profileName","serializer","updateCacheForKey","transformArgs","updateExpire"],G=function t(a,s){var u=s||i;if(c(a)){var f=a.originalFunction,d=l(a.options,u);return t(f,d)}if("object"===typeof a)return function(e,n){if("function"===typeof e){var r=l(a,n);return t(e,r)}var i=l(a,e);return t(i)};if(u.isReact)return L(t,a,u);var p=n({},i,u,{maxAge:"number"===typeof u.maxAge&&u.maxAge>=0?u.maxAge:i.maxAge,maxArgs:"number"===typeof u.maxArgs&&u.maxArgs>=0?u.maxArgs:i.maxArgs,maxSize:"number"===typeof u.maxSize&&u.maxSize>=0?u.maxSize:i.maxSize,profileName:u.profileName||S(a)}),v=[];p.matchesArg,p.isDeepEqual;var m=p.isPromise;p.isReact,p.isSerialized,p.isShallowEqual,p.matchesKey,p.maxAge,p.maxArgs;var y=p.maxSize,b=p.onCacheAdd,_=p.onCacheChange,w=p.onCacheHit;p.onExpire,p.profileName,p.serializer;var E=p.updateCacheForKey;p.transformArgs,p.updateExpire;var x=r(p,W),M=U(p),A=K(p),T=g(v,p,M,A),P=k(p),O=V(p),R=n({},x,{isEqual:M,isMatchingKey:A,isPromise:m,maxSize:y,onCacheAdd:F(o(b,T.onCacheAdd,P.onCacheAdd)),onCacheChange:F(_),onCacheHit:F(o(w,T.onCacheHit,P.onCacheHit)),transformKey:O}),I=C(e(a,R),{expirations:v,options:p,originalFunction:a});return E&&(I=H(I)),h(I,a.name,u.profileName),I};function q(e,t){if(!0===t)return G({maxAge:e,updateExpire:t});if("object"===typeof t){var n=t.onExpire,r=t.updateExpire;return G({maxAge:e,onExpire:n,updateExpire:r})}return G("function"===typeof t?{maxAge:e,onExpire:t,updateExpire:!0}:{maxAge:e})}return G.clearStats=b,G.collectStats=_,G.compose=function(){return a.apply(void 0,arguments)||G},G.deep=G({isDeepEqual:!0}),G.getStats=M,G.infinite=G({maxSize:1/0}),G.isCollectingStats=function(){return m.isCollectingStats},G.isMoized=function(e){return"function"===typeof e&&!!e.isMoized},G.matchesArg=function(e){return G({matchesArg:e})},G.matchesKey=function(e){return G({matchesKey:e})},G.maxAge=q,G.maxArgs=function(e){return G({maxArgs:e})},G.maxSize=function(e){return G({maxSize:e})},G.profile=function(e){return G({profileName:e})},G.promise=G({isPromise:!0,updateExpire:!0}),G.react=G({isReact:!0}),G.serialize=G({isSerialized:!0}),G.serializeWith=function(e){return G({isSerialized:!0,serializer:e})},G.shallow=G({isShallowEqual:!0}),G.transformArgs=function(e){return G({transformArgs:e})},G.updateCacheForKey=function(e){return G({updateCacheForKey:e})},Object.defineProperty(G,"default",{configurable:!1,enumerable:!1,value:G,writable:!1}),G}(n(5408),n(5244))},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return qn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=v()),e._pf}function m(e){if(null==e._isValid){var t=g(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function y(e){var t=p(NaN);return null!=e?d(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],_=!1;function w(e,t){var n,r,i,o=b.length;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=g(t)),l(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)l(i=t[r=b[n]])||(e[r]=i);return e}function E(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,r.updateOffset(this),_=!1)}function S(e){return e instanceof E||null!=e&&null!=e._isAMomentObject}function x(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function M(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,a,u=[],l=arguments.length;for(o=0;o<l;o++){if(i="","object"===typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];u.push(i)}x(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var k,A={};function T(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),A[e]||(x(t),A[e]=!0)}function P(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)s(e,n)&&(P(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(e,t){var n,r=d({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=d({},r[n]));return r}function R(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var L={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function I(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return P(r)?r.call(t,n):r}function D(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var j=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},z={};function Z(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(z[e]=i),t&&(z[t[0]]=function(){return D(i.apply(this,arguments),t[1],t[2])}),n&&(z[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function F(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e){var t,n,r=e.match(j);for(t=0,n=r.length;t<n;t++)z[r[t]]?r[t]=z[r[t]]:r[t]=F(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=P(r[i])?r[i].call(t,e):r[i];return o}}function K(e,t){return e.isValid()?(t=V(t,e.localeData()),B[t]=B[t]||U(t),B[t](e)):e.localeData().invalidDate()}function V(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(N.lastIndex=0;n>=0&&N.test(e);)e=e.replace(N,r),N.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function W(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(j).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var G="Invalid date";function q(){return this._invalidDate}var Y="%d",X=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(e,t,n,r){var i=this._relativeTime[n];return P(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return P(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var oe={};function ae(e,t){oe[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function le(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=le(t)),n}function he(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):fe(this,e)}}function fe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=ce(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Qe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return P(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(P(this[e=re(e)]))return this[e](t);return this}var ge,me=/\d/,ye=/\d\d/,be=/\d{3}/,_e=/\d{4}/,we=/[+-]?\d{6}/,Ee=/\d\d?/,Se=/\d\d\d\d?/,xe=/\d\d\d\d\d\d?/,Me=/\d{1,3}/,ke=/\d{1,4}/,Ae=/[+-]?\d{1,6}/,Te=/\d+/,Pe=/[+-]?\d+/,Oe=/Z|[+-]\d\d:?\d\d/gi,Ce=/Z|[+-]\d\d(?::?\d\d)?/gi,Re=/[+-]?\d+(\.\d{1,3})?/,Le=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ie(e,t,n){ge[e]=P(t)?t:function(e,r){return e&&n?n:t}}function De(e,t){return s(ge,e)?ge[e](t._strict,t._locale):new RegExp(je(e))}function je(e){return Ne(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Ne(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ge={};var Be={};function ze(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),c(t)&&(i=function(e,n){n[t]=ce(e)}),r=e.length,n=0;n<r;n++)Be[e[n]]=i}function Ze(e,t){ze(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Fe(e,t,n){null!=t&&s(Be,e)&&Be[e](t,n._a,n,e)}var Ue,Ke=0,Ve=1,He=2,We=3,Ge=4,qe=5,Ye=6,Xe=7,$e=8;function Je(e,t){return(e%t+t)%t}function Qe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}Ue=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Z("M",["MM",2],"Mo",(function(){return this.month()+1})),Z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),Z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),ae("month",8),Ie("M",Ee),Ie("MM",Ee,ye),Ie("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ie("MMMM",(function(e,t){return t.monthsRegex(e)})),ze(["M","MM"],(function(e,t){t[Ve]=ce(e)-1})),ze(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Ve]=i:g(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Le,it=Le;function ot(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function at(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ue.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ue.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ue.call(this._shortMonthsParse,a))||-1!==(i=Ue.call(this._longMonthsParse,a))?i:null:-1!==(i=Ue.call(this._longMonthsParse,a))||-1!==(i=Ue.call(this._shortMonthsParse,a))?i:null}function ut(e,t,n){var r,i,o;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function lt(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Qe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ct(e){return null!=e?(lt(this,e),r.updateOffset(this,!0),this):fe(this,"Month")}function ht(){return Qe(this.year(),this.month())}function ft(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=Ne(r[t]),i[t]=Ne(i[t]);for(t=0;t<24;t++)o[t]=Ne(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}Z("Y",0,0,(function(){var e=this.year();return e<=9999?D(e,4):"+"+e})),Z(0,["YY",2],0,(function(){return this.year()%100})),Z(0,["YYYY",4],0,"year"),Z(0,["YYYYY",5],0,"year"),Z(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),ae("year",1),Ie("Y",Pe),Ie("YY",Ee,ye),Ie("YYYY",ke,_e),Ie("YYYYY",Ae,we),Ie("YYYYYY",Ae,we),ze(["YYYYY","YYYYYY"],Ke),ze("YYYY",(function(e,t){t[Ke]=2===e.length?r.parseTwoDigitYear(e):ce(e)})),ze("YY",(function(e,t){t[Ke]=r.parseTwoDigitYear(e)})),ze("Y",(function(e,t){t[Ke]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var gt=he("FullYear",!0);function mt(){return ue(this.year())}function yt(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function _t(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+_t(e,r,i);return s<=0?a=vt(o=e-1)+s:s>vt(e)?(o=e+1,a=s-vt(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Et(e,t,n){var r,i,o=_t(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+St(i=e.year()-1,t,n):a>St(e.year(),t,n)?(r=a-St(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function St(e,t,n){var r=_t(e,t,n),i=_t(e+1,t,n);return(vt(e)-r+i)/7}function xt(e){return Et(e,this._week.dow,this._week.doy).week}Z("w",["ww",2],"wo","week"),Z("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),ae("week",5),ae("isoWeek",5),Ie("w",Ee),Ie("ww",Ee,ye),Ie("W",Ee),Ie("WW",Ee,ye),Ze(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ce(e)}));var Mt={dow:0,doy:6};function kt(){return this._week.dow}function At(){return this._week.doy}function Tt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Pt(e){var t=Et(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ot(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ct(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Rt(e,t){return e.slice(t,7).concat(e.slice(0,t))}Z("d",0,"do","day"),Z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),Z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),Z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),Z("e",0,0,"weekday"),Z("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),ae("day",11),ae("weekday",11),ae("isoWeekday",11),Ie("d",Ee),Ie("e",Ee),Ie("E",Ee),Ie("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ie("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ie("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ze(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e})),Ze(["d","e","E"],(function(e,t,n,r){t[r]=ce(e)}));var Lt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),It="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),jt=Le,Nt=Le,Bt=Le;function zt(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Rt(n,this._week.dow):e?n[e.day()]:n}function Zt(e){return!0===e?Rt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ft(e){return!0===e?Rt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ut(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ue.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ue.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ue.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ue.call(this._weekdaysParse,a))||-1!==(i=Ue.call(this._shortWeekdaysParse,a))||-1!==(i=Ue.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ue.call(this._shortWeekdaysParse,a))||-1!==(i=Ue.call(this._weekdaysParse,a))||-1!==(i=Ue.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ue.call(this._minWeekdaysParse,a))||-1!==(i=Ue.call(this._weekdaysParse,a))||-1!==(i=Ue.call(this._shortWeekdaysParse,a))?i:null}function Kt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ut.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Vt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ot(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Wt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ct(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Gt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=jt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Nt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Xt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Ne(this.weekdaysMin(n,"")),i=Ne(this.weekdaysShort(n,"")),o=Ne(this.weekdays(n,"")),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);a.sort(e),s.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function $t(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Qt(e,t){Z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}Z("H",["HH",2],0,"hour"),Z("h",["hh",2],0,$t),Z("k",["kk",2],0,Jt),Z("hmm",0,0,(function(){return""+$t.apply(this)+D(this.minutes(),2)})),Z("hmmss",0,0,(function(){return""+$t.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),Z("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),Z("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),Qt("a",!0),Qt("A",!1),ne("hour","h"),ae("hour",13),Ie("a",en),Ie("A",en),Ie("H",Ee),Ie("h",Ee),Ie("k",Ee),Ie("HH",Ee,ye),Ie("hh",Ee,ye),Ie("kk",Ee,ye),Ie("hmm",Se),Ie("hmmss",xe),Ie("Hmm",Se),Ie("Hmmss",xe),ze(["H","HH"],We),ze(["k","kk"],(function(e,t,n){var r=ce(e);t[We]=24===r?0:r})),ze(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ze(["h","hh"],(function(e,t,n){t[We]=ce(e),g(n).bigHour=!0})),ze("hmm",(function(e,t,n){var r=e.length-2;t[We]=ce(e.substr(0,r)),t[Ge]=ce(e.substr(r)),g(n).bigHour=!0})),ze("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[We]=ce(e.substr(0,r)),t[Ge]=ce(e.substr(r,2)),t[qe]=ce(e.substr(i)),g(n).bigHour=!0})),ze("Hmm",(function(e,t,n){var r=e.length-2;t[We]=ce(e.substr(0,r)),t[Ge]=ce(e.substr(r))})),ze("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[We]=ce(e.substr(0,r)),t[Ge]=ce(e.substr(r,2)),t[qe]=ce(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=he("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:L,longDateFormat:H,invalidDate:G,ordinal:Y,dayOfMonthOrdinalParse:X,relativeTime:J,months:et,monthsShort:tt,week:Mt,weekdays:Lt,weekdaysMin:Dt,weekdaysShort:It,meridiemParse:nn},un={},ln={};function cn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function hn(e){return e?e.toLowerCase().replace("_","-"):e}function fn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=hn(e[o]).split("-")).length,n=(n=hn(e[o+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cn(i,n)>=t-1)break;t--}o++}return an}function dn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports&&dn(t))try{n=an._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){un[t]=null}return un[t]}function vn(e,t){var n;return e&&((n=l(t)?yn(e):gn(e,t))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function gn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return ln[t.parentLocale]||(ln[t.parentLocale]=[]),ln[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new R(C(r,t)),ln[e]&&ln[e].forEach((function(e){gn(e.name,e.config)})),vn(e),un[e]}return delete un[e],null}function mn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(C(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=C(i,t),null==r&&(t.abbr=e),(n=new R(t)).parentLocale=un[e],un[e]=n),vn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===vn()&&vn(e)):null!=un[e]&&delete un[e]);return un[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!o(e)){if(t=pn(e))return t;e=[e]}return fn(e)}function bn(){return k(un)}function _n(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[Ve]<0||n[Ve]>11?Ve:n[He]<1||n[He]>Qe(n[Ke],n[Ve])?He:n[We]<0||n[We]>24||24===n[We]&&(0!==n[Ge]||0!==n[qe]||0!==n[Ye])?We:n[Ge]<0||n[Ge]>59?Ge:n[qe]<0||n[qe]>59?qe:n[Ye]<0||n[Ye]>999?Ye:-1,g(e)._overflowDayOfYear&&(t<Ke||t>He)&&(t=He),g(e)._overflowWeeks&&-1===t&&(t=Xe),g(e)._overflowWeekday&&-1===t&&(t=$e),g(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/Z|[+-]\d\d(?::?\d\d)?/,xn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Mn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kn=/^\/?Date\((-?\d+)/i,An=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Tn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pn(e){var t,n,r,i,o,a,s=e._i,u=wn.exec(s)||En.exec(s),l=xn.length,c=Mn.length;if(u){for(g(e).iso=!0,t=0,n=l;t<n;t++)if(xn[t][1].exec(u[1])){i=xn[t][0],r=!1!==xn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=c;t<n;t++)if(Mn[t][1].exec(u[3])){o=(u[2]||" ")+Mn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!Sn.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Fn(e)}else e._isValid=!1}function On(e,t,n,r,i,o){var a=[Cn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function Cn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Rn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ln(e,t,n){return!e||It.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function In(e,t,n){if(e)return Tn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Dn(e){var t,n=An.exec(Rn(e._i));if(n){if(t=On(n[4],n[3],n[2],n[5],n[6],n[7]),!Ln(n[1],t,e))return;e._a=t,e._tzm=In(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function jn(e){var t=kn.exec(e._i);null===t?(Pn(e),!1===e._isValid&&(delete e._isValid,Dn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Nn(e,t,n){return null!=e?e:null!=t?t:n}function Bn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function zn(e){var t,n,r,i,o,a=[];if(!e._d){for(r=Bn(e),e._w&&null==e._a[He]&&null==e._a[Ve]&&Zn(e),null!=e._dayOfYear&&(o=Nn(e._a[Ke],r[Ke]),(e._dayOfYear>vt(o)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=bt(o,0,e._dayOfYear),e._a[Ve]=n.getUTCMonth(),e._a[He]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[We]&&0===e._a[Ge]&&0===e._a[qe]&&0===e._a[Ye]&&(e._nextDay=!0,e._a[We]=0),e._d=(e._useUTC?bt:yt).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[We]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}function Zn(e){var t,n,r,i,o,a,s,u,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=Nn(t.GG,e._a[Ke],Et(Yn(),1,4).year),r=Nn(t.W,1),((i=Nn(t.E,1))<1||i>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,l=Et(Yn(),o,a),n=Nn(t.gg,e._a[Ke],l.year),r=Nn(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),r<1||r>St(n,o,a)?g(e)._overflowWeeks=!0:null!=u?g(e)._overflowWeekday=!0:(s=wt(n,r,i,o,a),e._a[Ke]=s.year,e._dayOfYear=s.dayOfYear)}function Fn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,i,o,a,s,u,l=""+e._i,c=l.length,h=0;for(u=(i=V(e._f,e._locale).match(j)||[]).length,t=0;t<u;t++)o=i[t],(n=(l.match(De(o,e))||[])[0])&&((a=l.substr(0,l.indexOf(n))).length>0&&g(e).unusedInput.push(a),l=l.slice(l.indexOf(n)+n.length),h+=n.length),z[o]?(n?g(e).empty=!1:g(e).unusedTokens.push(o),Fe(o,n,e)):e._strict&&!n&&g(e).unusedTokens.push(o);g(e).charsLeftOver=c-h,l.length>0&&g(e).unusedInput.push(l),e._a[We]<=12&&!0===g(e).bigHour&&e._a[We]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[We]=Un(e._locale,e._a[We],e._meridiem),null!==(s=g(e).era)&&(e._a[Ke]=e._locale.erasConvertYear(s,e._a[Ke])),zn(e),_n(e)}else Dn(e);else Pn(e)}function Un(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Kn(e){var t,n,r,i,o,a,s=!1,u=e._f.length;if(0===u)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)o=0,a=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Fn(t),m(t)&&(a=!0),o+=g(t).charsLeftOver,o+=10*g(t).unusedTokens.length,g(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));d(e,n||t)}function Vn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=f([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),zn(e)}}function Hn(e){var t=new E(_n(Wn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Wn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new E(_n(t)):(h(t)?e._d=t:o(n)?Kn(e):n?Fn(e):Gn(e),m(e)||(e._d=null),e))}function Gn(e){var t=e._i;l(t)?e._d=new Date(r.now()):h(t)?e._d=new Date(t.valueOf()):"string"===typeof t?jn(e):o(t)?(e._a=f(t.slice(0),(function(e){return parseInt(e,10)})),zn(e)):a(t)?Vn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function qn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&u(e)||o(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Hn(s)}function Yn(e,t,n,r){return qn(e,t,n,r,!1)}r.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Xn=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),$n=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Jn(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Yn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Qn(){return Jn("isBefore",[].slice.call(arguments,0))}function er(){return Jn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===Ue.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==ce(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function or(){return Tr(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function sr(e){return e instanceof ar}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function lr(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&ce(e[r])!==ce(t[r]))&&a++;return a+o}function cr(e,t){Z(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+D(~~(e/60),2)+t+D(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),Ie("Z",Ce),Ie("ZZ",Ce),ze(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(Ce,e)}));var hr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(hr)||["-",0,0])[1]+ce(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(S(e)||h(e)?e.valueOf():Yn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Yn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(Ce,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Lr(this,Tr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:pr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function _r(e){return!!this.isValid()&&(e=e?Yn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Er(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Wn(t))._a?(e=t._isUTC?p(t._a):Yn(t._a),this._isDSTShifted=this.isValid()&&lr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Sr(){return!!this.isValid()&&!this._isUTC}function xr(){return!!this.isValid()&&this._isUTC}function Mr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var kr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ar=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tr(e,t){var n,r,i,o=e,a=null;return sr(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(a=kr.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:ce(a[He])*n,h:ce(a[We])*n,m:ce(a[Ge])*n,s:ce(a[qe])*n,ms:ce(ur(1e3*a[Ye]))*n}):(a=Ar.exec(e))?(n="-"===a[1]?-1:1,o={y:Pr(a[2],n),M:Pr(a[3],n),w:Pr(a[4],n),d:Pr(a[5],n),h:Pr(a[6],n),m:Pr(a[7],n),s:Pr(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Cr(Yn(o.from),Yn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new ar(o),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Pr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Or(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Cr(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Or(e,t):((n=Or(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Rr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Lr(this,Tr(n,r),e),this}}function Lr(e,t,n,i){var o=t._milliseconds,a=ur(t._days),s=ur(t._months);e.isValid()&&(i=null==i||i,s&&lt(e,fe(e,"Month")+s*n),a&&de(e,"Date",fe(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Tr.fn=ar.prototype,Tr.invalid=or;var Ir=Rr(1,"add"),Dr=Rr(-1,"subtract");function jr(e){return"string"===typeof e||e instanceof String}function Nr(e){return S(e)||h(e)||jr(e)||c(e)||zr(e)||Br(e)||null===e||void 0===e}function Br(e){var t,n,r=a(e)&&!u(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l=o.length;for(t=0;t<l;t+=1)n=o[t],i=i||s(e,n);return r&&i}function zr(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&jr(e)})).length),t&&n}function Zr(e){var t,n,r=a(e)&&!u(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||s(e,n);return r&&i}function Fr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ur(e,t){1===arguments.length&&(arguments[0]?Nr(arguments[0])?(e=arguments[0],t=void 0):Zr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Yn(),i=dr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(P(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Yn(n)))}function Kr(){return new E(this)}function Vr(e,t){var n=S(e)?e:Yn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Hr(e,t){var n=S(e)?e:Yn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Wr(e,t,n,r){var i=S(e)?e:Yn(e),o=S(t)?t:Yn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Gr(e,t){var n,r=S(e)?e:Yn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function qr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Yr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Xr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":o=$r(this,r)/12;break;case"month":o=$r(this,r);break;case"quarter":o=$r(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:le(o)}function $r(e,t){if(e.date()<t.date())return-$r(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?K(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",K(n,"Z")):K(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=K(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(S(e)&&e.isValid()||Yn(e).isValid())?Tr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Yn(),e)}function ii(e,t){return this.isValid()&&(S(e)&&e.isValid()||Yn(e).isValid())?Tr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oi(e){return this.to(Yn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var li=1e3,ci=60*li,hi=60*ci,fi=3506328*hi;function di(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function gi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*ci),hi);break;case"minute":t=this._d.valueOf(),t-=di(t,ci);break;case"second":t=this._d.valueOf(),t-=di(t,li)}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=hi-di(t+(this._isUTC?0:this.utcOffset()*ci),hi)-1;break;case"minute":t=this._d.valueOf(),t+=ci-di(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=li-di(t,li)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function bi(){return Math.floor(this.valueOf()/1e3)}function _i(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ei(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Si(){return this.isValid()?this.toISOString():null}function xi(){return m(this)}function Mi(){return d({},g(this))}function ki(){return g(this).overflow}function Ai(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ti(e,t){var n,i,o,a=this._eras||yn("en")._eras;for(n=0,i=a.length;n<i;++n)switch("string"===typeof a[n].since&&(o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a}function Pi(e,t,n){var r,i,o,a,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),a=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[r];break;case"NNNN":if(o===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([o,a,s].indexOf(e)>=0)return u[r]}function Oi(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ci(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Li(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ii(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function Di(e){return s(this,"_erasNameRegex")||Ui.call(this),e?this._erasNameRegex:this._erasRegex}function ji(e){return s(this,"_erasAbbrRegex")||Ui.call(this),e?this._erasAbbrRegex:this._erasRegex}function Ni(e){return s(this,"_erasNarrowRegex")||Ui.call(this),e?this._erasNarrowRegex:this._erasRegex}function Bi(e,t){return t.erasAbbrRegex(e)}function zi(e,t){return t.erasNameRegex(e)}function Zi(e,t){return t.erasNarrowRegex(e)}function Fi(e,t){return t._eraYearOrdinalRegex||Te}function Ui(){var e,t,n=[],r=[],i=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(Ne(a[e].name)),n.push(Ne(a[e].abbr)),i.push(Ne(a[e].narrow)),o.push(Ne(a[e].name)),o.push(Ne(a[e].abbr)),o.push(Ne(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Ki(e,t){Z(0,[e,e.length],0,t)}function Vi(e){return Xi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Hi(e){return Xi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wi(){return St(this.year(),1,4)}function Gi(){return St(this.isoWeekYear(),1,4)}function qi(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Yi(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function Xi(e,t,n,r,i){var o;return null==e?Et(this,r,i).year:(t>(o=St(e,r,i))&&(t=o),$i.call(this,e,t,n,r,i))}function $i(e,t,n,r,i){var o=wt(e,t,n,r,i),a=bt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}Z("N",0,0,"eraAbbr"),Z("NN",0,0,"eraAbbr"),Z("NNN",0,0,"eraAbbr"),Z("NNNN",0,0,"eraName"),Z("NNNNN",0,0,"eraNarrow"),Z("y",["y",1],"yo","eraYear"),Z("y",["yy",2],0,"eraYear"),Z("y",["yyy",3],0,"eraYear"),Z("y",["yyyy",4],0,"eraYear"),Ie("N",Bi),Ie("NN",Bi),Ie("NNN",Bi),Ie("NNNN",zi),Ie("NNNNN",Zi),ze(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?g(n).era=i:g(n).invalidEra=e})),Ie("y",Te),Ie("yy",Te),Ie("yyy",Te),Ie("yyyy",Te),Ie("yo",Fi),ze(["y","yy","yyy","yyyy"],Ke),ze(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ke]=n._locale.eraYearOrdinalParse(e,i):t[Ke]=parseInt(e,10)})),Z(0,["gg",2],0,(function(){return this.weekYear()%100})),Z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ki("gggg","weekYear"),Ki("ggggg","weekYear"),Ki("GGGG","isoWeekYear"),Ki("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),ae("weekYear",1),ae("isoWeekYear",1),Ie("G",Pe),Ie("g",Pe),Ie("GG",Ee,ye),Ie("gg",Ee,ye),Ie("GGGG",ke,_e),Ie("gggg",ke,_e),Ie("GGGGG",Ae,we),Ie("ggggg",Ae,we),Ze(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ce(e)})),Ze(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),Z("Q",0,"Qo","quarter"),ne("quarter","Q"),ae("quarter",7),Ie("Q",me),ze("Q",(function(e,t){t[Ve]=3*(ce(e)-1)})),Z("D",["DD",2],"Do","date"),ne("date","D"),ae("date",9),Ie("D",Ee),Ie("DD",Ee,ye),Ie("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ze(["D","DD"],He),ze("Do",(function(e,t){t[He]=ce(e.match(Ee)[0])}));var Qi=he("Date",!0);function eo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}Z("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),ae("dayOfYear",4),Ie("DDD",Me),Ie("DDDD",be),ze(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ce(e)})),Z("m",["mm",2],0,"minute"),ne("minute","m"),ae("minute",14),Ie("m",Ee),Ie("mm",Ee,ye),ze(["m","mm"],Ge);var to=he("Minutes",!1);Z("s",["ss",2],0,"second"),ne("second","s"),ae("second",15),Ie("s",Ee),Ie("ss",Ee,ye),ze(["s","ss"],qe);var no,ro,io=he("Seconds",!1);for(Z("S",0,0,(function(){return~~(this.millisecond()/100)})),Z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Z(0,["SSS",3],0,"millisecond"),Z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),ae("millisecond",16),Ie("S",Me,me),Ie("SS",Me,ye),Ie("SSS",Me,be),no="SSSS";no.length<=9;no+="S")Ie(no,Te);function oo(e,t){t[Ye]=ce(1e3*("0."+e))}for(no="S";no.length<=9;no+="S")ze(no,oo);function ao(){return this._isUTC?"UTC":""}function so(){return this._isUTC?"Coordinated Universal Time":""}ro=he("Milliseconds",!1),Z("z",0,0,"zoneAbbr"),Z("zz",0,0,"zoneName");var uo=E.prototype;function lo(e){return Yn(1e3*e)}function co(){return Yn.apply(null,arguments).parseZone()}function ho(e){return e}uo.add=Ir,uo.calendar=Ur,uo.clone=Kr,uo.diff=Xr,uo.endOf=mi,uo.format=ti,uo.from=ni,uo.fromNow=ri,uo.to=ii,uo.toNow=oi,uo.get=pe,uo.invalidAt=ki,uo.isAfter=Vr,uo.isBefore=Hr,uo.isBetween=Wr,uo.isSame=Gr,uo.isSameOrAfter=qr,uo.isSameOrBefore=Yr,uo.isValid=xi,uo.lang=si,uo.locale=ai,uo.localeData=ui,uo.max=$n,uo.min=Xn,uo.parsingFlags=Mi,uo.set=ve,uo.startOf=gi,uo.subtract=Dr,uo.toArray=wi,uo.toObject=Ei,uo.toDate=_i,uo.toISOString=Qr,uo.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(uo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),uo.toJSON=Si,uo.toString=Jr,uo.unix=bi,uo.valueOf=yi,uo.creationData=Ai,uo.eraName=Ci,uo.eraNarrow=Ri,uo.eraAbbr=Li,uo.eraYear=Ii,uo.year=gt,uo.isLeapYear=mt,uo.weekYear=Vi,uo.isoWeekYear=Hi,uo.quarter=uo.quarters=Ji,uo.month=ct,uo.daysInMonth=ht,uo.week=uo.weeks=Tt,uo.isoWeek=uo.isoWeeks=Pt,uo.weeksInYear=qi,uo.weeksInWeekYear=Yi,uo.isoWeeksInYear=Wi,uo.isoWeeksInISOWeekYear=Gi,uo.date=Qi,uo.day=uo.days=Vt,uo.weekday=Ht,uo.isoWeekday=Wt,uo.dayOfYear=eo,uo.hour=uo.hours=rn,uo.minute=uo.minutes=to,uo.second=uo.seconds=io,uo.millisecond=uo.milliseconds=ro,uo.utcOffset=vr,uo.utc=mr,uo.local=yr,uo.parseZone=br,uo.hasAlignedHourOffset=_r,uo.isDST=wr,uo.isLocal=Sr,uo.isUtcOffset=xr,uo.isUtc=Mr,uo.isUTC=Mr,uo.zoneAbbr=ao,uo.zoneName=so,uo.dates=M("dates accessor is deprecated. Use date instead.",Qi),uo.months=M("months accessor is deprecated. Use month instead",ct),uo.years=M("years accessor is deprecated. Use year instead",gt),uo.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),uo.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Er);var fo=R.prototype;function po(e,t,n,r){var i=yn(),o=p().set(r,t);return i[n](o,e)}function vo(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return po(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=po(e,r,n,"month");return i}function go(e,t,n,r){"boolean"===typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,o=yn(),a=e?o._week.dow:0,s=[];if(null!=n)return po(t,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=po(t,(i+a)%7,r,"day");return s}function mo(e,t){return vo(e,t,"months")}function yo(e,t){return vo(e,t,"monthsShort")}function bo(e,t,n){return go(e,t,n,"weekdays")}function _o(e,t,n){return go(e,t,n,"weekdaysShort")}function wo(e,t,n){return go(e,t,n,"weekdaysMin")}fo.calendar=I,fo.longDateFormat=W,fo.invalidDate=q,fo.ordinal=$,fo.preparse=ho,fo.postformat=ho,fo.relativeTime=Q,fo.pastFuture=ee,fo.set=O,fo.eras=Ti,fo.erasParse=Pi,fo.erasConvertYear=Oi,fo.erasAbbrRegex=ji,fo.erasNameRegex=Di,fo.erasNarrowRegex=Ni,fo.months=ot,fo.monthsShort=at,fo.monthsParse=ut,fo.monthsRegex=dt,fo.monthsShortRegex=ft,fo.week=xt,fo.firstDayOfYear=At,fo.firstDayOfWeek=kt,fo.weekdays=zt,fo.weekdaysMin=Ft,fo.weekdaysShort=Zt,fo.weekdaysParse=Kt,fo.weekdaysRegex=Gt,fo.weekdaysShortRegex=qt,fo.weekdaysMinRegex=Yt,fo.isPM=tn,fo.meridiem=on,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=M("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=M("moment.langData is deprecated. Use moment.localeData instead.",yn);var Eo=Math.abs;function So(){var e=this._data;return this._milliseconds=Eo(this._milliseconds),this._days=Eo(this._days),this._months=Eo(this._months),e.milliseconds=Eo(e.milliseconds),e.seconds=Eo(e.seconds),e.minutes=Eo(e.minutes),e.hours=Eo(e.hours),e.months=Eo(e.months),e.years=Eo(e.years),this}function xo(e,t,n,r){var i=Tr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Mo(e,t){return xo(this,e,t,1)}function ko(e,t){return xo(this,e,t,-1)}function Ao(e){return e<0?Math.floor(e):Math.ceil(e)}function To(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Ao(Oo(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=le(o/1e3),u.seconds=e%60,t=le(e/60),u.minutes=t%60,n=le(t/60),u.hours=n%24,a+=le(n/24),s+=i=le(Po(a)),a-=Ao(Oo(i)),r=le(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Po(e){return 4800*e/146097}function Oo(e){return 146097*e/4800}function Co(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Po(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Oo(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ro(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ce(this._months/12):NaN}function Lo(e){return function(){return this.as(e)}}var Io=Lo("ms"),Do=Lo("s"),jo=Lo("m"),No=Lo("h"),Bo=Lo("d"),zo=Lo("w"),Zo=Lo("M"),Fo=Lo("Q"),Uo=Lo("y");function Ko(){return Tr(this)}function Vo(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Ho(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wo=Ho("milliseconds"),Go=Ho("seconds"),qo=Ho("minutes"),Yo=Ho("hours"),Xo=Ho("days"),$o=Ho("months"),Jo=Ho("years");function Qo(){return le(this.days()/7)}var ea=Math.round,ta={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function na(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ra(e,t,n,r){var i=Tr(e).abs(),o=ea(i.as("s")),a=ea(i.as("m")),s=ea(i.as("h")),u=ea(i.as("d")),l=ea(i.as("M")),c=ea(i.as("w")),h=ea(i.as("y")),f=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(f=f||c<=1&&["w"]||c<n.w&&["ww",c]),(f=f||l<=1&&["M"]||l<n.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=t,f[3]=+e>0,f[4]=r,na.apply(null,f)}function ia(e){return void 0===e?ea:"function"===typeof e&&(ea=e,!0)}function oa(e,t){return void 0!==ta[e]&&(void 0===t?ta[e]:(ta[e]=t,"s"===e&&(ta.ss=t-1),!0))}function aa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ta;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},ta,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=ra(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var sa=Math.abs;function ua(e){return(e>0)-(e<0)||+e}function la(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,a,s,u=sa(this._milliseconds)/1e3,l=sa(this._days),c=sa(this._months),h=this.asSeconds();return h?(e=le(u/60),t=le(e/60),u%=60,e%=60,n=le(c/12),c%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=ua(this._months)!==ua(h)?"-":"",a=ua(this._days)!==ua(h)?"-":"",s=ua(this._milliseconds)!==ua(h)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(l?a+l+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var ca=ar.prototype;return ca.isValid=ir,ca.abs=So,ca.add=Mo,ca.subtract=ko,ca.as=Co,ca.asMilliseconds=Io,ca.asSeconds=Do,ca.asMinutes=jo,ca.asHours=No,ca.asDays=Bo,ca.asWeeks=zo,ca.asMonths=Zo,ca.asQuarters=Fo,ca.asYears=Uo,ca.valueOf=Ro,ca._bubble=To,ca.clone=Ko,ca.get=Vo,ca.milliseconds=Wo,ca.seconds=Go,ca.minutes=qo,ca.hours=Yo,ca.days=Xo,ca.weeks=Qo,ca.months=$o,ca.years=Jo,ca.humanize=aa,ca.toISOString=la,ca.toString=la,ca.toJSON=la,ca.locale=ai,ca.localeData=ui,ca.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",la),ca.lang=si,Z("X",0,0,"unix"),Z("x",0,0,"valueOf"),Ie("x",Pe),Ie("X",Re),ze("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ze("x",(function(e,t,n){n._d=new Date(ce(e))})),r.version="2.29.4",i(Yn),r.fn=uo,r.min=Qn,r.max=er,r.now=tr,r.utc=p,r.unix=lo,r.months=mo,r.isDate=h,r.locale=vn,r.invalid=y,r.duration=Tr,r.isMoment=S,r.weekdays=bo,r.parseZone=co,r.localeData=yn,r.isDuration=sr,r.monthsShort=yo,r.weekdaysMin=wo,r.defineLocale=gn,r.updateLocale=mn,r.locales=bn,r.weekdaysShort=_o,r.normalizeUnits=re,r.relativeTimeRounding=ia,r.relativeTimeThreshold=oa,r.calendarFormat=Fr,r.prototype=uo,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in o=Object(arguments[u]))n.call(o,l)&&(s[l]=o[l]);if(t){a=t(o);for(var c=0;c<a.length;c++)r.call(o,a[c])&&(s[a[c]]=o[a[c]])}}return s}},1842:function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!==typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!==typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},3465:function(e,t,n){"use strict";var r=n(6522);t.certificate=n(8799);var i=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var o=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));t.PublicKey=a;var s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=u;var l=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=l;var c=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=c,t.DSAparam=r.define("DSAparam",(function(){this.int()}));var h=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=h;var f=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},8799:function(e,t,n){"use strict";var r=n(6522),i=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),u=r.define("RelativeDistinguishedName",(function(){this.setof(o)})),l=r.define("RDNSequence",(function(){this.seqof(u)})),c=r.define("Name",(function(){this.choice({rdnSequence:this.use(l)})})),h=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),f=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(c),this.key("validity").use(h),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=p},722:function(e,t,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=n(8462),s=n(3525),u=n(2543).Buffer;e.exports=function(e,t){var n,l=e.toString(),c=l.match(r);if(c){var h="aes"+c[1],f=u.from(c[2],"hex"),d=u.from(c[3].replace(/[\r\n]/g,""),"base64"),p=a(t,f.slice(0,8),parseInt(c[1],10)).key,v=[],g=s.createDecipheriv(h,p,f);v.push(g.update(d)),v.push(g.final()),n=u.concat(v)}else{var m=l.match(o);n=u.from(m[2].replace(/[\r\n]/g,""),"base64")}return{tag:l.match(i)[1],data:n}}},7510:function(e,t,n){var r=n(3465),i=n(2562),o=n(722),a=n(3525),s=n(5896),u=n(2543).Buffer;function l(e){var t;"object"!==typeof e||u.isBuffer(e)||(t=e.passphrase,e=e.key),"string"===typeof e&&(e=u.from(e));var n,l,c=o(e,t),h=c.tag,f=c.data;switch(h){case"CERTIFICATE":l=r.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(l||(l=r.PublicKey.decode(f,"der")),n=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return l.subjectPrivateKey=l.subjectPublicKey,{type:"ec",data:l};case"1.2.840.10040.4.1":return l.algorithm.params.pub_key=r.DSAparam.decode(l.subjectPublicKey.data,"der"),{type:"dsa",data:l.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":f=function(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],l=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,h=parseInt(o.split("-")[1],10)/8,f=s.pbkdf2Sync(t,n,r,h,"sha1"),d=a.createDecipheriv(o,f,l),p=[];return p.push(d.update(c)),p.push(d.final()),u.concat(p)}(f=r.EncryptedPrivateKey.decode(f,"der"),t);case"PRIVATE KEY":switch(n=(l=r.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:l.algorithm.curve,privateKey:r.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return l.algorithm.params.priv_key=r.DSAparam.decode(l.subjectPrivateKey,"der"),{type:"dsa",params:l.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=r.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+h)}}e.exports=l,l.signature=r.signature},7643:function(e,t,n){"use strict";var r=n(1426),i="win32"===r.platform,o=n(9639);function a(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];i&&"."!==i&&(".."===i?n.length&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(i))}return n}function s(e){for(var t=e.length-1,n=0;n<=t&&!e[n];n++);for(var r=t;r>=0&&!e[r];r--);return 0===n&&r===t?e:n>r?[]:e.slice(n,r+1)}var u=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,l=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,c={};function h(e){var t=u.exec(e),n=(t[1]||"")+(t[2]||""),r=t[3]||"",i=l.exec(r);return[n,i[1],i[2],i[3]]}function f(e){var t=u.exec(e),n=t[1]||"",r=!!n&&":"!==n[1];return{device:n,isUnc:r,isAbsolute:r||!!t[2],tail:t[3]}}function d(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}c.resolve=function(){for(var e="",t="",n=!1,i=arguments.length-1;i>=-1;i--){var s;if(i>=0?s=arguments[i]:e?(s={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}["="+e])&&s.substr(0,3).toLowerCase()===e.toLowerCase()+"\\"||(s=e+"\\"):s=r.cwd(),!o.isString(s))throw new TypeError("Arguments to path.resolve must be strings");if(s){var u=f(s),l=u.device,c=u.isUnc,h=u.isAbsolute,p=u.tail;if((!l||!e||l.toLowerCase()===e.toLowerCase())&&(e||(e=l),n||(t=p+"\\"+t,n=h),e&&n))break}}return c&&(e=d(e)),e+(n?"\\":"")+(t=a(t.split(/[\\\/]+/),!n).join("\\"))||"."},c.normalize=function(e){var t=f(e),n=t.device,r=t.isUnc,i=t.isAbsolute,o=t.tail,s=/[\\\/]$/.test(o);return(o=a(o.split(/[\\\/]+/),!i).join("\\"))||i||(o="."),o&&s&&(o+="\\"),r&&(n=d(n)),n+(i?"\\":"")+o},c.isAbsolute=function(e){return f(e).isAbsolute},c.join=function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(!o.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&e.push(n)}var r=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(r=r.replace(/^[\\\/]{2,}/,"\\")),c.normalize(r)},c.relative=function(e,t){e=c.resolve(e),t=c.resolve(t);for(var n=e.toLowerCase(),r=t.toLowerCase(),i=s(t.split("\\")),o=s(n.split("\\")),a=s(r.split("\\")),u=Math.min(o.length,a.length),l=u,h=0;h<u;h++)if(o[h]!==a[h]){l=h;break}if(0==l)return t;var f=[];for(h=l;h<o.length;h++)f.push("..");return(f=f.concat(i.slice(l))).join("\\")},c._makeLong=function(e){if(!o.isString(e))return e;if(!e)return"";var t=c.resolve(e);return/^[a-zA-Z]\:\\/.test(t)?"\\\\?\\"+t:/^\\\\[^?.]/.test(t)?"\\\\?\\UNC\\"+t.substring(2):e},c.dirname=function(e){var t=h(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},c.basename=function(e,t){var n=h(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},c.extname=function(e){return h(e)[3]},c.format=function(e){if(!o.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!o.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var n=e.dir,r=e.base||"";return n?n[n.length-1]===c.sep?n+r:n+c.sep+r:r},c.parse=function(e){if(!o.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=h(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},c.sep="\\",c.delimiter=";";var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,v={};function g(e){return p.exec(e).slice(1)}v.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var i=n>=0?arguments[n]:r.cwd();if(!o.isString(i))throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,t="/"===i[0])}return(t?"/":"")+(e=a(e.split("/"),!t).join("/"))||"."},v.normalize=function(e){var t=v.isAbsolute(e),n=e&&"/"===e[e.length-1];return(e=a(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},v.isAbsolute=function(e){return"/"===e.charAt(0)},v.join=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(!o.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(e+=e?"/"+n:n)}return v.normalize(e)},v.relative=function(e,t){e=v.resolve(e).substr(1),t=v.resolve(t).substr(1);for(var n=s(e.split("/")),r=s(t.split("/")),i=Math.min(n.length,r.length),o=i,a=0;a<i;a++)if(n[a]!==r[a]){o=a;break}var u=[];for(a=o;a<n.length;a++)u.push("..");return(u=u.concat(r.slice(o))).join("/")},v._makeLong=function(e){return e},v.dirname=function(e){var t=g(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},v.basename=function(e,t){var n=g(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},v.extname=function(e){return g(e)[3]},v.format=function(e){if(!o.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!o.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+v.sep:"")+(e.base||"")},v.parse=function(e){if(!o.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=g(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},v.sep="/",v.delimiter=":",e.exports=i?c:v,e.exports.posix=v,e.exports.win32=c},7386:function(e,t,n){"use strict";e.exports=i;var r=n(4038);function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o=4294967296,a=1/o,s="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");function u(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function l(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function c(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function h(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function b(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function _(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function w(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function E(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=_(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=E(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=_(this.buf,this.pos)+_(this.buf,this.pos+4)*o;return this.pos+=8,e},readSFixed64:function(){var e=_(this.buf,this.pos)+E(this.buf,this.pos+4)*o;return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return l(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&s?function(e,t,n){return s.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){var r="",i=t;for(;i<n;){var o,a,s,u=e[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128===(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==i.Bytes)return e.push(this.readVarint(t));var n=u(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==i.Bytes)return e.push(this.readSVarint());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==i.Bytes)return e.push(this.readBoolean());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==i.Bytes)return e.push(this.readFloat());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==i.Bytes)return e.push(this.readDouble());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed32());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed32());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed64());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed64());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)for(;this.buf[this.pos++]>127;);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else{if(t!==i.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),w(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),w(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),w(this.buf,-1&e,this.pos),w(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),w(this.buf,-1&e,this.pos),w(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&c(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&c(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,i.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,v,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,y,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,b,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},5896:function(e,t,n){t.pbkdf2=n(6770),t.pbkdf2Sync=n(8017)},6770:function(e,t,n){var r,i,o=n(2543).Buffer,a=n(6048),s=n(4404),u=n(8017),l=n(2734),c=n.g.crypto&&n.g.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(){return i||(i=n.g.process&&n.g.process.nextTick?n.g.process.nextTick:n.g.queueMicrotask?n.g.queueMicrotask:n.g.setImmediate?n.g.setImmediate:n.g.setTimeout)}function p(e,t,n,r,i){return c.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return c.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,r<<3)})).then((function(e){return o.from(e)}))}e.exports=function(e,t,i,v,g,m){"function"===typeof g&&(m=g,g=void 0);var y=h[(g=g||"sha1").toLowerCase()];if(y&&"function"===typeof n.g.Promise){if(a(i,v),e=l(e,s,"Password"),t=l(t,s,"Salt"),"function"!==typeof m)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){d()((function(){t(null,e)}))}),(function(e){d()((function(){t(e)}))}))}(function(e){if(n.g.process&&!n.g.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==f[e])return f[e];var t=p(r=r||o.alloc(8),r,10,128,e).then((function(){return!0})).catch((function(){return!1}));return f[e]=t,t}(y).then((function(n){return n?p(e,t,i,v,y):u(e,t,i,v,g)})),m)}else d()((function(){var n;try{n=u(e,t,i,v,g)}catch(r){return m(r)}m(null,n)}))}},4404:function(e,t,n){var r,i=n(1426);if(n.g.process&&n.g.process.browser)r="utf-8";else if(n.g.process&&n.g.process.version){r=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else r="utf-8";e.exports=r},6048:function(e){var t=Math.pow(2,30)-1;e.exports=function(e,n){if("number"!==typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!==typeof n)throw new TypeError("Key length not a number");if(n<0||n>t||n!==n)throw new TypeError("Bad key length")}},8017:function(e,t,n){var r=n(5378),i=n(3375),o=n(997),a=n(2543).Buffer,s=n(6048),u=n(4404),l=n(2734),c=a.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(e,t,n){var s=function(e){function t(t){return o(e).update(t).digest()}function n(e){return(new i).update(e).digest()}return"rmd160"===e||"ripemd160"===e?n:"md5"===e?r:t}(e),u="sha512"===e||"sha384"===e?128:64;t.length>u?t=s(t):t.length<u&&(t=a.concat([t,c],u));for(var l=a.allocUnsafe(u+h[e]),f=a.allocUnsafe(u+h[e]),d=0;d<u;d++)l[d]=54^t[d],f[d]=92^t[d];var p=a.allocUnsafe(u+n+4);l.copy(p,0,0,u),this.ipad1=p,this.ipad2=l,this.opad=f,this.alg=e,this.blocksize=u,this.hash=s,this.size=h[e]}f.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,r,i){s(n,r);var o=new f(i=i||"sha1",e=l(e,u,"Password"),(t=l(t,u,"Salt")).length),c=a.allocUnsafe(r),d=a.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var p=0,v=h[i],g=Math.ceil(r/v),m=1;m<=g;m++){d.writeUInt32BE(m,t.length);for(var y=o.run(d,o.ipad1),b=y,_=1;_<n;_++){b=o.run(b,o.ipad2);for(var w=0;w<v;w++)y[w]^=b[w]}y.copy(c,p),p+=v}return c}},2734:function(e,t,n){var r=n(2543).Buffer;e.exports=function(e,t,n){if(r.isBuffer(e))return e;if("string"===typeof e)return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},1426:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,u=[],l=!1,c=-1;function h(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length&&f())}function f(){if(!l){var e=a(h);l=!0;for(var t=u.length;t;){for(s=u,u=[];++c<t;)s&&s[c].run();c=-1,t=u.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},12:function(e,t,n){t.publicEncrypt=n(2190),t.privateDecrypt=n(3936),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},7135:function(e,t,n){var r=n(3569),i=n(2543).Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var n,a=i.alloc(0),s=0;a.length<t;)n=o(s++),a=i.concat([a,r("sha1").update(e).update(n).digest()]);return a.slice(0,t)}},865:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(7108).Buffer}catch(M){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function l(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,f=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=f;d++){var p=l-d|0;c+=(a=(i=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&a}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],d=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var v=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?v+n:c[l-v.length]+v+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!==typeof a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,l=new e(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,l=0,c=0|a[0],h=8191&c,f=c>>>13,d=0|a[1],p=8191&d,v=d>>>13,g=0|a[2],m=8191&g,y=g>>>13,b=0|a[3],_=8191&b,w=b>>>13,E=0|a[4],S=8191&E,x=E>>>13,M=0|a[5],k=8191&M,A=M>>>13,T=0|a[6],P=8191&T,O=T>>>13,C=0|a[7],R=8191&C,L=C>>>13,I=0|a[8],D=8191&I,j=I>>>13,N=0|a[9],B=8191&N,z=N>>>13,Z=0|s[0],F=8191&Z,U=Z>>>13,K=0|s[1],V=8191&K,H=K>>>13,W=0|s[2],G=8191&W,q=W>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,fe=ce>>>13,de=0|s[9],pe=8191&de,ve=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(l+(r=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,U))+Math.imul(f,F)|0))<<13)|0;l=((o=Math.imul(f,U))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,U))+Math.imul(v,F)|0,o=Math.imul(v,U);var me=(l+(r=r+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,F),i=(i=Math.imul(m,U))+Math.imul(y,F)|0,o=Math.imul(y,U),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,H)|0;var ye=(l+(r=r+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,G)|0))<<13)|0;l=((o=o+Math.imul(f,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(_,F),i=(i=Math.imul(_,U))+Math.imul(w,F)|0,o=Math.imul(w,U),r=r+Math.imul(m,V)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,H)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,q)|0;var be=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,F),i=(i=Math.imul(S,U))+Math.imul(x,F)|0,o=Math.imul(x,U),r=r+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,H)|0,r=r+Math.imul(m,G)|0,i=(i=i+Math.imul(m,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,$)|0;var _e=(l+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(k,F),i=(i=Math.imul(k,U))+Math.imul(A,F)|0,o=Math.imul(A,U),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,r=r+Math.imul(_,G)|0,i=(i=i+Math.imul(_,q)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,q)|0,r=r+Math.imul(m,X)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0;var we=(l+(r=r+Math.imul(h,ne)|0)|0)+((8191&(i=(i=i+Math.imul(h,re)|0)+Math.imul(f,ne)|0))<<13)|0;l=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,F),i=(i=Math.imul(P,U))+Math.imul(O,F)|0,o=Math.imul(O,U),r=r+Math.imul(k,V)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,H)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,q)|0,r=r+Math.imul(_,X)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,$)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0;var Ee=(l+(r=r+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ae)|0)+Math.imul(f,oe)|0))<<13)|0;l=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(R,F),i=(i=Math.imul(R,U))+Math.imul(L,F)|0,o=Math.imul(L,U),r=r+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,q)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0;var Se=(l+(r=r+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,le)|0)+Math.imul(f,ue)|0))<<13)|0;l=((o=o+Math.imul(f,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,F),i=(i=Math.imul(D,U))+Math.imul(j,F)|0,o=Math.imul(j,U),r=r+Math.imul(R,V)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,H)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,q)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,$)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,le)|0;var xe=(l+(r=r+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;l=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(B,F),i=(i=Math.imul(B,U))+Math.imul(z,F)|0,o=Math.imul(z,U),r=r+Math.imul(D,V)|0,i=(i=i+Math.imul(D,H)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,H)|0,r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,q)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,le)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,le)|0,r=r+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(v,he)|0,o=o+Math.imul(v,fe)|0;var Me=(l+(r=r+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ve)|0)+Math.imul(f,pe)|0))<<13)|0;l=((o=o+Math.imul(f,ve)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(B,V),i=(i=Math.imul(B,H))+Math.imul(z,V)|0,o=Math.imul(z,H),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,q)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,q)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,$)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,r=r+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(m,he)|0,i=(i=i+Math.imul(m,fe)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,fe)|0;var ke=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;l=((o=o+Math.imul(v,ve)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,q))+Math.imul(z,G)|0,o=Math.imul(z,q),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(O,ne)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,r=r+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,le)|0,r=r+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,fe)|0;var Ae=(l+(r=r+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ve)|0)+Math.imul(y,pe)|0))<<13)|0;l=((o=o+Math.imul(y,ve)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,X),i=(i=Math.imul(B,$))+Math.imul(z,X)|0,o=Math.imul(z,$),r=r+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,le)|0,r=r+Math.imul(S,he)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Te=(l+(r=r+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ve)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,ve)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,ee))+Math.imul(z,Q)|0,o=Math.imul(z,ee),r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(k,he)|0,i=(i=i+Math.imul(k,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Pe=(l+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(x,pe)|0))<<13)|0;l=((o=o+Math.imul(x,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(B,ne),i=(i=Math.imul(B,re))+Math.imul(z,ne)|0,o=Math.imul(z,re),r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ae)|0,r=r+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,le)|0,r=r+Math.imul(P,he)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,fe)|0;var Oe=(l+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ve)|0)+Math.imul(A,pe)|0))<<13)|0;l=((o=o+Math.imul(A,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,oe),i=(i=Math.imul(B,ae))+Math.imul(z,oe)|0,o=Math.imul(z,ae),r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,le)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,le)|0,r=r+Math.imul(R,he)|0,i=(i=i+Math.imul(R,fe)|0)+Math.imul(L,he)|0,o=o+Math.imul(L,fe)|0;var Ce=(l+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,ue),i=(i=Math.imul(B,le))+Math.imul(z,ue)|0,o=Math.imul(z,le),r=r+Math.imul(D,he)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(j,he)|0,o=o+Math.imul(j,fe)|0;var Re=(l+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ve)|0)+Math.imul(L,pe)|0))<<13)|0;l=((o=o+Math.imul(L,ve)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(B,he),i=(i=Math.imul(B,fe))+Math.imul(z,he)|0,o=Math.imul(z,fe);var Le=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,ve)|0)+Math.imul(j,pe)|0))<<13)|0;l=((o=o+Math.imul(j,ve)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ie=(l+(r=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ve))+Math.imul(z,pe)|0))<<13)|0;return l=((o=Math.imul(z,ve))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=ge,u[1]=me,u[2]=ye,u[3]=be,u[4]=_e,u[5]=we,u[6]=Ee,u[7]=Se,u[8]=xe,u[9]=Me,u[10]=ke,u[11]=Ae,u[12]=Te,u[13]=Pe,u[14]=Oe,u[15]=Ce,u[16]=Re,u[17]=Le,u[18]=Ie,0!==l&&(u[19]=l,n.length++),n};function v(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?p(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,h=(0|e.words[c])*(0|t.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):v(this,e,t),n},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},g.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},g.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var h=u,f=l,d=0;d<a;d++){var p=n[c+d],v=r[c+d],g=n[c+d+a],m=r[c+d+a],y=h*g-f*m;m=h*m+f*g,g=y,n[c+d]=p+g,r[c+d]=v+m,n[c+d+a]=p-g,r[c+d+a]=v-m,d!==s&&(y=u*h-l*f,f=u*f+l*h,h=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},g.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,h,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,h);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0===(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(n.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0===(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(b,y),b.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,y),i(w,y),i(E,y),E.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return m[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=a;0!==d.cmp(s);){for(var v=d,g=0;0!==v.cmp(s);g++)v=v.redSqr();r(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));f=f.redMul(m),h=m.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new x(e)},i(x,S),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},3936:function(e,t,n){var r=n(7510),i=n(7135),o=n(1214),a=n(865),s=n(1330),u=n(3569),l=n(4383),c=n(2543).Buffer;e.exports=function(e,t,n){var h;h=e.padding?e.padding:n?1:4;var f,d=r(e),p=d.modulus.byteLength();if(t.length>p||new a(t).cmp(d.modulus)>=0)throw new Error("decryption error");f=n?l(new a(t),d):s(t,d);var v=c.alloc(p-f.length);if(f=c.concat([v,f],p),4===h)return function(e,t){var n=e.modulus.byteLength(),r=u("sha1").update(c.alloc(0)).digest(),a=r.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),l=t.slice(a+1),h=o(s,i(l,a)),f=o(l,i(h,n-a-1));if(function(e,t){e=c.from(e),t=c.from(t);var n=0,r=e.length;e.length!==t.length&&(n++,r=Math.min(e.length,t.length));var i=-1;for(;++i<r;)n+=e[i]^t[i];return n}(r,f.slice(0,a)))throw new Error("decryption error");var d=a;for(;0===f[d];)d++;if(1!==f[d++])throw new Error("decryption error");return f.slice(d)}(d,f);if(1===h)return function(e,t,n){var r=t.slice(0,2),i=2,o=0;for(;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(i)}(0,f,n);if(3===h)return f;throw new Error("unknown padding")}},2190:function(e,t,n){var r=n(7510),i=n(2525),o=n(3569),a=n(7135),s=n(1214),u=n(865),l=n(4383),c=n(1330),h=n(2543).Buffer;e.exports=function(e,t,n){var f;f=e.padding?e.padding:n?1:4;var d,p=r(e);if(4===f)d=function(e,t){var n=e.modulus.byteLength(),r=t.length,l=o("sha1").update(h.alloc(0)).digest(),c=l.length,f=2*c;if(r>n-f-2)throw new Error("message too long");var d=h.alloc(n-r-f-2),p=n-c-1,v=i(c),g=s(h.concat([l,d,h.alloc(1,1),t],p),a(v,p)),m=s(v,a(g,c));return new u(h.concat([h.alloc(1),m,g],n))}(p,t);else if(1===f)d=function(e,t,n){var r,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");r=n?h.alloc(a-o-3,255):function(e){var t,n=h.allocUnsafe(e),r=0,o=i(2*e),a=0;for(;r<e;)a===o.length&&(o=i(2*e),a=0),(t=o[a++])&&(n[r++]=t);return n}(a-o-3);return new u(h.concat([h.from([0,n?1:2]),r,h.alloc(1),t],a))}(p,t,n);else{if(3!==f)throw new Error("unknown padding");if((d=new u(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?c(d,p):l(d,p)}},4383:function(e,t,n){var r=n(865),i=n(2543).Buffer;e.exports=function(e,t){return i.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},1214:function(e){e.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},4245:function(e,t,n){"use strict";var r=n(7424).default,i=n(4704).default,o=n(861).default,a=n(499),s=n(9412),u=n(845),l=n(3791);function c(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function h(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function f(e,t){return t.decode?s(e):e}function d(e){return Array.isArray(e)?e.sort():"object"===typeof e?d(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function p(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function v(e){var t=(e=p(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function g(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var i="string"===typeof n&&n.includes(e.arrayFormatSeparator),o="string"===typeof n&&!i&&f(n,e).includes(e.arrayFormatSeparator);n=o?f(n,e):n;var a=i||o?n.split(e.arrayFormatSeparator).map((function(t){return f(t,e)})):null===n?n:f(n,e);r[t]=a};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),o=Object.create(null);if("string"!==typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;var a,s=i(e.split("&"));try{for(s.s();!(a=s.n()).done;){var l=a.value;if(""!==l){var h=u(t.decode?l.replace(/\+/g," "):l,"="),p=r(h,2),v=p[0],m=p[1];m=void 0===m?null:["comma","separator"].includes(t.arrayFormat)?m:f(m,t),n(f(v,t),m,o)}}}catch(M){s.e(M)}finally{s.f()}for(var y=0,b=Object.keys(o);y<b.length;y++){var _=b[y],w=o[_];if("object"===typeof w&&null!==w)for(var E=0,S=Object.keys(w);E<S.length;E++){var x=S[E];w[x]=g(w[x],t)}else o[_]=g(w,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var n=o[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=d(n):e[t]=n,e}),Object.create(null))}t.extract=v,t.parse=m,t.stringify=function(e,t){if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var n=function(n){return t.skipNull&&(null===(r=e[n])||void 0===r)||t.skipEmptyString&&""===e[n];var r},r=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[h(t,e),"[",i,"]"].join("")]:[[h(t,e),"[",h(i,e),"]=",h(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[h(t,e),"[]"].join("")]:[[h(t,e),"[]=",h(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null===r||void 0===r||0===r.length?n:0===n.length?[[h(t,e),"=",h(r,e)].join("")]:[[n,h(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[h(t,e)]:[[h(t,e),"=",h(r,e)].join("")])}}}}(t),i={},a=0,s=Object.keys(e);a<s.length;a++){var u=s[a];n(u)||(i[u]=e[u])}var l=Object.keys(i);return!1!==t.sort&&l.sort(t.sort),l.map((function(n){var i=e[n];return void 0===i?"":null===i?h(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):h(n,t)+"="+h(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=u(e,"#"),i=r(n,2),o=i[0],a=i[1];return Object.assign({url:o.split("?")[0]||"",query:m(v(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:f(a,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign({encode:!0,strict:!0},n);var r=p(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query),s=t.stringify(a,n);s&&(s="?".concat(s));var u=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u="#".concat(h(e.fragmentIdentifier,n))),"".concat(r).concat(s).concat(u)},t.pick=function(e,n,r){r=Object.assign({parseFragmentIdentifier:!0},r);var i=t.parseUrl(e,r),o=i.url,a=i.query,s=i.fragmentIdentifier;return t.stringifyUrl({url:o,query:l(a,n),fragmentIdentifier:s},r)},t.exclude=function(e,n,r){var i=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,i,r)}},2525:function(e,t,n){"use strict";var r=n(1426),i=65536,o=4294967295;var a=n(2543).Buffer,s=n.g.crypto||n.g.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>o)throw new RangeError("requested too many random bytes");var n=a.allocUnsafe(e);if(e>0)if(e>i)for(var u=0;u<e;u+=i)s.getRandomValues(n.slice(u,u+i));else s.getRandomValues(n);if("function"===typeof t)return r.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},394:function(e,t,n){"use strict";var r=n(1426);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(2543),a=n(2525),s=o.Buffer,u=o.kMaxLength,l=n.g.crypto||n.g.msCrypto,c=Math.pow(2,32)-1;function h(e,t){if("number"!==typeof e||e!==e)throw new TypeError("offset must be a number");if(e>c||e<0)throw new TypeError("offset must be a uint32");if(e>u||e>t)throw new RangeError("offset out of range")}function f(e,t,n){if("number"!==typeof e||e!==e)throw new TypeError("size must be a number");if(e>c||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>u)throw new RangeError("buffer too small")}function d(e,t,n,i){if(r.browser){var o=e.buffer,s=new Uint8Array(o,t,n);return l.getRandomValues(s),i?void r.nextTick((function(){i(null,e)})):e}if(!i)return a(n).copy(e,t),e;a(n,(function(n,r){if(n)return i(n);r.copy(e,t),i(null,e)}))}l&&l.getRandomValues||!r.browser?(t.randomFill=function(e,t,r,i){if(!s.isBuffer(e)&&!(e instanceof n.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof t)i=t,t=0,r=e.length;else if("function"===typeof r)i=r,r=e.length-t;else if("function"!==typeof i)throw new TypeError('"cb" argument must be a function');return h(t,e.length),f(r,t,e.length),d(e,t,r,i)},t.randomFillSync=function(e,t,r){"undefined"===typeof t&&(t=0);if(!s.isBuffer(e)&&!(e instanceof n.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');h(t,e.length),void 0===r&&(r=e.length-t);return f(r,t,e.length),d(e,t,r)}):(t.randomFill=i,t.randomFillSync=i)},774:function(e){e.exports=function(){"use strict";function e(e,r,i,o,a){!function e(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);e(n,r,Math.max(i,Math.floor(r-u*c/s+h)),Math.min(o,Math.floor(r+(s-u)*c/s+h)),a)}var f=n[r],d=i,p=o;for(t(n,i,r),a(n[o],f)>0&&t(n,i,o);d<p;){for(t(n,d,p),d++,p--;a(n[d],f)<0;)d++;for(;a(n[p],f)>0;)p--}0===a(n[i],f)?t(n,i,p):t(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}(e,r,i||0,o||e.length-1,a||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,r,i){i||(i=p(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<n;o++){var a=e.children[o];s(i,e.leaf?r(a):a)}return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function l(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;e(t,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!d(e,t))return n;for(var r=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?r(a):a;d(e,s)&&(t.leaf?n.push(a):f(e,s)?this._all(a,n):i.push(a))}t=i.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!d(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var i=t.children[r],o=t.leaf?this.toBBox(i):i;if(d(e,o)){if(t.leaf||f(e,o))return!0;n.push(i)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,o,a=this.data,s=this.toBBox(e),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),a.leaf){var c=i(e,a.children,t);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}o||a.leaf||!f(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var i,a=n-t+1,s=this._maxEntries;if(a<=s)return o(i=p(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=p([])).leaf=!1,i.height=r;var u=Math.ceil(a/s),l=u*Math.ceil(Math.sqrt(s));v(e,t,n,l,this.compareMinX);for(var c=t;c<=n;c+=l){var h=Math.min(c+l-1,n);v(e,c,h,u,this.compareMinY);for(var f=c;f<=h;f+=u){var d=Math.min(f+u-1,h);i.children.push(this._build(e,f,d,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var u=t.children[s],l=c(u),h=(f=e,d=u,(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-l);h<o?(o=h,i=l<i?l:i,a=u):h===o&&l<i&&(i=l,a=u)}t=a||t.children[0]}var f,d;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),s(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=p(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,i,o,s,u,l,h,f=1/0,d=1/0,p=t;p<=n-t;p++){var v=a(e,0,p,this.toBBox),g=a(e,p,n,this.toBBox),m=(i=v,o=g,s=void 0,u=void 0,l=void 0,h=void 0,s=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),l=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,l-s)*Math.max(0,h-u)),y=c(v)+c(g);m<f?(f=m,r=p,d=y<d?y:d):m===f&&y<d&&(d=y,r=p)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:u,i=e.leaf?this.compareMinY:l;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=this.toBBox,o=a(e,0,t,i),u=a(e,n-t,n,i),l=h(o)+h(u),c=t;c<n-t;c++){var f=e.children[c];s(o,e.leaf?i(f):f),l+=h(o)}for(var d=n-t-1;d>=t;d--){var p=e.children[d];s(u,e.leaf?i(p):p),l+=h(u)}return l},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},r}()},2012:function(e,t,n){!function(e,t){"use strict";function n(e){return"string"===typeof e||"number"===typeof e}var r=function(){function e(){this._cache={}}var t=e.prototype;return t.set=function(e,t){this._cache[e]=t},t.get=function(e){return this._cache[e]},t.remove=function(e){delete this._cache[e]},t.clear=function(){this._cache={}},t.isValidCacheKey=function(e){return n(e)},e}(),i=r,o=function(){return!0};function a(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e,r){if(r)throw new Error('[re-reselect] "options" as second argument is not supported anymore. Please provide an option object as single argument.');var a="function"===typeof e?{keySelector:e}:Object.assign({},e),s=0,u=n.pop(),l=Array.isArray(n[0])?n[0]:[].concat(n),c=function(){return s++,u.apply(void 0,arguments)};n.push(c);var h=a.cacheObject||new i,f=a.selectorCreator||t.createSelector,d=h.isValidCacheKey||o;a.keySelectorCreator&&(a.keySelector=a.keySelectorCreator({keySelector:a.keySelector,inputSelectors:l,resultFunc:u}));var p=function(){var e=a.keySelector.apply(a,arguments);if(d(e)){var t=h.get(e);return void 0===t&&(t=f.apply(void 0,n),h.set(e,t)),t.apply(void 0,arguments)}console.warn('[re-reselect] Invalid cache key "'+e+'" has been returned by keySelector function.')};return p.getMatchingSelector=function(){var e=a.keySelector.apply(a,arguments);return h.get(e)},p.removeMatchingSelector=function(){var e=a.keySelector.apply(a,arguments);h.remove(e)},p.clearCache=function(){h.clear()},p.resultFunc=u,p.dependencies=l,p.cache=h,p.recomputations=function(){return s},p.resetRecomputations=function(){return s=0},p.keySelector=a.keySelector,p}}function s(e){return t.createStructuredSelector(e,a)}function u(e){if(void 0===e)throw new Error('Missing the required property "cacheSize".');if(!Number.isInteger(e)||e<=0)throw new Error('The "cacheSize" property must be a positive integer value.')}var l=function(){function e(e){var t=(void 0===e?{}:e).cacheSize;u(t),this._cache={},this._cacheOrdering=[],this._cacheSize=t}var t=e.prototype;return t.set=function(e,t){if(this._cache[e]=t,this._cacheOrdering.push(e),this._cacheOrdering.length>this._cacheSize){var n=this._cacheOrdering[0];this.remove(n)}},t.get=function(e){return this._cache[e]},t.remove=function(e){var t=this._cacheOrdering.indexOf(e);t>-1&&this._cacheOrdering.splice(t,1),delete this._cache[e]},t.clear=function(){this._cache={},this._cacheOrdering=[]},t.isValidCacheKey=function(e){return n(e)},e}(),c=function(){function e(e){var t=(void 0===e?{}:e).cacheSize;u(t),this._cache={},this._cacheOrdering=[],this._cacheSize=t}var t=e.prototype;return t.set=function(e,t){if(this._cache[e]=t,this._registerCacheHit(e),this._cacheOrdering.length>this._cacheSize){var n=this._cacheOrdering[0];this.remove(n)}},t.get=function(e){return this._registerCacheHit(e),this._cache[e]},t.remove=function(e){this._deleteCacheHit(e),delete this._cache[e]},t.clear=function(){this._cache={},this._cacheOrdering=[]},t._registerCacheHit=function(e){this._deleteCacheHit(e),this._cacheOrdering.push(e)},t._deleteCacheHit=function(e){var t=this._cacheOrdering.indexOf(e);t>-1&&this._cacheOrdering.splice(t,1)},t.isValidCacheKey=function(e){return n(e)},e}(),h=function(){function e(){this._cache=new Map}var t=e.prototype;return t.set=function(e,t){this._cache.set(e,t)},t.get=function(e){return this._cache.get(e)},t.remove=function(e){this._cache.delete(e)},t.clear=function(){this._cache.clear()},e}(),f=function(){function e(e){var t=(void 0===e?{}:e).cacheSize;u(t),this._cache=new Map,this._cacheSize=t}var t=e.prototype;return t.set=function(e,t){if(this._cache.set(e,t),this._cache.size>this._cacheSize){var n=this._cache.keys().next().value;this.remove(n)}},t.get=function(e){return this._cache.get(e)},t.remove=function(e){this._cache.delete(e)},t.clear=function(){this._cache.clear()},e}(),d=function(){function e(e){var t=(void 0===e?{}:e).cacheSize;u(t),this._cache=new Map,this._cacheSize=t}var t=e.prototype;return t.set=function(e,t){if(this._cache.set(e,t),this._cache.size>this._cacheSize){var n=this._cache.keys().next().value;this.remove(n)}},t.get=function(e){var t=this._cache.get(e);return this._cache.has(e)&&(this.remove(e),this._cache.set(e,t)),t},t.remove=function(e){this._cache.delete(e)},t.clear=function(){this._cache.clear()},e}();e.FifoMapCache=f,e.FifoObjectCache=l,e.FlatMapCache=h,e.FlatObjectCache=r,e.LruMapCache=d,e.LruObjectCache=c,e.createCachedSelector=a,e.createStructuredCachedSelector=s,e.default=a,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(6916))},2355:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(2791)),u=n(791),l=a(n(8959)),c={width:"auto",height:"auto"},h=l.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),f=l.default((function(e,t){return Math.round(e/t)*t})),d=l.default((function(e,t){return new RegExp(e,"i").test(t)})),p=l.default((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[r]-e);return 0===n||i<n?t[r]:e})),v=l.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),g=l.default((function(e){return"auto"===(e=e.toString())||v(e,"px")||v(e,"%")||v(e,"vh")||v(e,"vw")||v(e,"vmax")||v(e,"vmin")?e:e+"px"})),m=l.default((function(e,t,n,r,i){if(t&&"string"===typeof t&&v(t,"%")){var o=Number(t.replace("%",""))/100;t=e.width*o}if(n&&"string"===typeof n&&v(n,"%")){o=Number(n.replace("%",""))/100;n=e.height*o}if(r&&"string"===typeof r&&v(r,"%")){o=Number(r.replace("%",""))/100;r=e.width*o}if(i&&"string"===typeof i&&v(i,"%")){o=Number(i.replace("%",""))/100;i=e.height*o}return{maxWidth:"undefined"===typeof t?void 0:Number(t),maxHeight:"undefined"===typeof n?void 0:Number(n),minWidth:"undefined"===typeof r?void 0:Number(r),minHeight:"undefined"===typeof i?void 0:Number(i)}})),y=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],b="__resizable_base__",_=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.extendsProps={},n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.state={isResizing:!1,resizeCursor:"auto",width:"undefined"===typeof(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:"undefined"===typeof(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0}},n.updateExtendsProps(t),n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),"undefined"!==typeof window&&(window.addEventListener("mouseup",n.onMouseUp),window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("mouseleave",n.onMouseUp),window.addEventListener("touchmove",n.onMouseMove),window.addEventListener("touchend",n.onMouseUp)),n}return r(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||c},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var r=n[t];if(r instanceof HTMLElement&&r.classList.contains(b))return r}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if("undefined"!==typeof window&&this.resizable){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if("undefined"===typeof e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&v(e.propsSize[t].toString(),"%")){if(v(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return g(e.state[t])};return{width:t&&"undefined"!==typeof t.width&&!this.state.isResizing?g(t.width):n("width"),height:t&&"undefined"!==typeof t.height&&!this.state.isResizing?g(t.height):n("height")}},enumerable:!0,configurable:!0}),t.prototype.updateExtendsProps=function(e){this.extendsProps=Object.keys(e).reduce((function(t,n){return-1!==y.indexOf(n)||(t[n]=e[n]),t}),{})},t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var r={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,r},t.prototype.componentDidMount=function(){this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height});var e=this.parentNode;if(e instanceof HTMLElement&&!this.base){var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add(b):t.className+=b,e.appendChild(t)}},t.prototype.componentWillReceiveProps=function(e){this.updateExtendsProps(e)},t.prototype.componentWillUnmount=function(){if("undefined"!==typeof window){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp);var e=this.parentNode;if(!this.base||!e)return;if(!(e instanceof HTMLElement)||!(this.base instanceof Node))return;e.removeChild(this.base)}},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||"undefined"!==typeof n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var r=n.offsetWidth+(this.parentLeft-this.resizableLeft),i=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<i?t:i}}else if("window"===this.props.bounds){if("undefined"!==typeof window){r=window.innerWidth-this.resizableLeft,i=window.innerHeight-this.resizableTop;e=e&&e<r?e:r,t=t&&t<i?t:i}}else if(this.props.bounds instanceof HTMLElement){r=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),i=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<i?t:i}return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,i=this.state,o=i.direction,a=i.original,s=this.props,u=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,c=s.lockAspectRatioExtraWidth,h=a.width,f=a.height,p=l||0,v=c||0;return d("right",o)&&(h=a.width+(e-a.x)*r/n,u&&(f=(h-v)/this.ratio+p)),d("left",o)&&(h=a.width-(e-a.x)*r/n,u&&(f=(h-v)/this.ratio+p)),d("bottom",o)&&(f=a.height+(t-a.y)*r/n,u&&(h=(f-p)*this.ratio+v)),d("top",o)&&(f=a.height-(t-a.y)*r/n,u&&(h=(f-p)*this.ratio+v)),{newWidth:h,newHeight:f}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,o=i.lockAspectRatio,a=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,u="undefined"===typeof r.width?10:r.width,l="undefined"===typeof n.width||n.width<0?e:n.width,c="undefined"===typeof r.height?10:r.height,f="undefined"===typeof n.height||n.height<0?t:n.height,d=a||0,p=s||0;if(o){var v=(c-d)*this.ratio+p,g=(f-d)*this.ratio+p,m=(u-p)/this.ratio+d,y=(l-p)/this.ratio+d,b=Math.max(u,v),_=Math.min(l,g),w=Math.max(c,m),E=Math.min(f,y);e=h(e,b,_),t=h(t,w,E)}else e=h(e,u,l),t=h(t,c,f);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e instanceof HTMLElement){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,o=r.top;this.resizableLeft=i,this.resizableTop=o}},t.prototype.onResizeStart=function(e,t){var n=0,r=0;if(e.nativeEvent instanceof MouseEvent){if(n=e.nativeEvent.clientX,r=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(n=e.nativeEvent.touches[0].clientX,r=e.nativeEvent.touches[0].clientY);this.props.onResizeStart&&this.resizable&&this.props.onResizeStart(e,t,this.resizable),this.props.size&&("undefined"!==typeof this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),"undefined"!==typeof this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"===typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height,this.setBoundingClientRect(),this.setState({original:{x:n,y:r,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(e.target).cursor||"auto",direction:t})},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable){var t=this.props,n=t.maxWidth,r=t.maxHeight,i=t.minWidth,o=t.minHeight,a=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,s=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,u=this.state,l=u.direction,c=u.original,h=u.width,d=u.height,g=this.getParentSize(),y=m(g,n,r,i,o);n=y.maxWidth,r=y.maxHeight,i=y.minWidth,o=y.minHeight;var b=this.calculateNewSizeFromDirection(a,s),_=b.newHeight,w=b.newWidth,E=this.calculateNewMaxFromBoundary(n,r),S=this.calculateNewSizeFromAspectRatio(w,_,{width:E.maxWidth,height:E.maxHeight},{width:i,height:o});if(w=S.newWidth,_=S.newHeight,this.props.grid){var x=f(w,this.props.grid[0]),M=f(_,this.props.grid[1]),k=this.props.snapGap||0;w=0===k||Math.abs(x-w)<=k?x:w,_=0===k||Math.abs(M-_)<=k?M:_}this.props.snap&&this.props.snap.x&&(w=p(w,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(_=p(_,this.props.snap.y,this.props.snapGap));var A={width:w-c.width,height:_-c.height};if(h&&"string"===typeof h)if(v(h,"%"))w=w/g.width*100+"%";else if(v(h,"vw")){w=w/window.innerWidth*100+"vw"}else if(v(h,"vh")){w=w/window.innerHeight*100+"vh"}if(d&&"string"===typeof d)if(v(d,"%"))_=_/g.height*100+"%";else if(v(d,"vw")){_=_/window.innerWidth*100+"vw"}else if(v(d,"vh")){_=_/window.innerHeight*100+"vh"}this.setState({width:this.createSizeForCssProperty(w,"width"),height:this.createSizeForCssProperty(_,"height")}),this.props.onResize&&this.props.onResize(e,l,this.resizable,A)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,i=t.original;if(n&&this.resizable){var o={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,o),this.props.size&&this.setState(this.props.size),this.setState({isResizing:!1,resizeCursor:"auto"})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,i=t.handleClasses,o=t.handleWrapperStyle,a=t.handleWrapperClass,l=t.handleComponent;if(!n)return null;var c=Object.keys(n).map((function(t){return!1!==n[t]?s.createElement(u.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:i&&i[t]},l&&l[t]?l[t]:null):null}));return s.createElement("span",{className:a,style:o},c)},t.prototype.render=function(){var e=this;return s.createElement("div",i({ref:function(t){t&&(e.resizable=t)},style:i({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box"}),className:this.props.className},this.extendsProps),this.state.isResizing&&s.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())},t.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(s.Component);t.Resizable=_},791:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(2791)),a={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}};t.Resizer=function(e){return o.createElement("div",{className:e.className||"",style:r({position:"absolute",userSelect:"none"},a[e.direction],e.replaceStyles||{}),onMouseDown:function(t){e.onResizeStart(t,e.direction)},onTouchStart:function(t){e.onResizeStart(t,e.direction)}},e.children)}},1071:function(e,t,n){"use strict";var r=n(2791);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=Object.prototype.hasOwnProperty,a=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s={},u={};function l(e){return!!o.call(u,e)||!o.call(s,e)&&(a.test(e)?u[e]=!0:(s[e]=!0,!1))}function c(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){h[e]=new c(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];h[t]=new c(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){h[e]=new c(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){h[e]=new c(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){h[e]=new c(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){h[e]=new c(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){h[e]=new c(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){h[e]=new c(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){h[e]=new c(e,5,!1,e.toLowerCase(),null,!1,!1)}));var f=/[\-:]([a-z])/g;function d(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(f,d);h[t]=new c(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(f,d);h[t]=new c(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(f,d);h[t]=new c(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){h[e]=new c(e,1,!1,e.toLowerCase(),null,!1,!1)})),h.xlinkHref=new c("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){h[e]=new c(e,1,!1,e.toLowerCase(),null,!0,!0)}));var p={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v=["Webkit","ms","Moz","O"];Object.keys(p).forEach((function(e){v.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),p[t]=p[e]}))}));var g=/["'&<>]/;function m(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=g.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var y=/([A-Z])/g,b=/^ms-/,_=Array.isArray;function w(e,t){return{insertionMode:e,selectedValue:t}}var E=new Map;function S(e,t,n){if("object"!==typeof n)throw Error(i(62));for(var r in t=!0,n)if(o.call(n,r)){var a=n[r];if(null!=a&&"boolean"!==typeof a&&""!==a){if(0===r.indexOf("--")){var s=m(r);a=m((""+a).trim())}else{s=r;var u=E.get(s);void 0!==u||(u=m(s.replace(y,"-$1").toLowerCase().replace(b,"-ms-")),E.set(s,u)),s=u,a="number"===typeof a?0===a||o.call(p,r)?""+a:a+"px":m((""+a).trim())}t?(t=!1,e.push(' style="',s,":",a)):e.push(";",s,":",a)}}t||e.push('"')}function x(e,t,n,r){switch(n){case"style":return void S(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=h.hasOwnProperty(n)?h[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:!0===r?e.push(" ",n,'=""'):!1!==r&&e.push(" ",n,'="',m(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',m(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',m(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',m(r),'"')}}else if(l(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',m(r),'"')}}function M(e,t,n){if(null!=t){if(null!=n)throw Error(i(60));if("object"!==typeof t||!("__html"in t))throw Error(i(61));null!==(t=t.__html)&&void 0!==t&&e.push(""+t)}}function k(e,t,n,r){e.push(P(n));var i,a=n=null;for(i in t)if(o.call(t,i)){var s=t[i];if(null!=s)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":a=s;break;default:x(e,r,i,s)}}return e.push(">"),M(e,a,n),"string"===typeof n?(e.push(m(n)),null):n}var A=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,T=new Map;function P(e){var t=T.get(e);if(void 0===t){if(!A.test(e))throw Error(i(65,e));t="<"+e,T.set(e,t)}return t}function O(e,t,n,a,s){switch(t){case"select":e.push(P("select"));var u=null,c=null;for(p in n)if(o.call(n,p)){var h=n[p];if(null!=h)switch(p){case"children":u=h;break;case"dangerouslySetInnerHTML":c=h;break;case"defaultValue":case"value":break;default:x(e,a,p,h)}}return e.push(">"),M(e,c,u),u;case"option":c=s.selectedValue,e.push(P("option"));var f=h=null,d=null,p=null;for(u in n)if(o.call(n,u)){var v=n[u];if(null!=v)switch(u){case"children":h=v;break;case"selected":d=v;break;case"dangerouslySetInnerHTML":p=v;break;case"value":f=v;default:x(e,a,u,v)}}if(null!=c)if(n=null!==f?""+f:function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(h),_(c)){for(a=0;a<c.length;a++)if(""+c[a]===n){e.push(' selected=""');break}}else""+c===n&&e.push(' selected=""');else d&&e.push(' selected=""');return e.push(">"),M(e,p,h),h;case"textarea":for(h in e.push(P("textarea")),p=c=u=null,n)if(o.call(n,h)&&null!=(f=n[h]))switch(h){case"children":p=f;break;case"value":u=f;break;case"defaultValue":c=f;break;case"dangerouslySetInnerHTML":throw Error(i(91));default:x(e,a,h,f)}if(null===u&&null!==c&&(u=c),e.push(">"),null!=p){if(null!=u)throw Error(i(92));if(_(p)&&1<p.length)throw Error(i(93));u=""+p}return"string"===typeof u&&"\n"===u[0]&&e.push("\n"),null!==u&&e.push(m(""+u)),null;case"input":for(c in e.push(P("input")),f=p=h=u=null,n)if(o.call(n,c)&&null!=(d=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(i(399,"input"));case"defaultChecked":f=d;break;case"defaultValue":h=d;break;case"checked":p=d;break;case"value":u=d;break;default:x(e,a,c,d)}return null!==p?x(e,a,"checked",p):null!==f&&x(e,a,"checked",f),null!==u?x(e,a,"value",u):null!==h&&x(e,a,"value",h),e.push("/>"),null;case"menuitem":for(var g in e.push(P("menuitem")),n)if(o.call(n,g)&&null!=(u=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(i(400));default:x(e,a,g,u)}return e.push(">"),null;case"title":for(v in e.push(P("title")),u=null,n)if(o.call(n,v)&&null!=(c=n[v]))switch(v){case"children":u=c;break;case"dangerouslySetInnerHTML":throw Error(i(434));default:x(e,a,v,c)}return e.push(">"),u;case"listing":case"pre":for(f in e.push(P(t)),c=u=null,n)if(o.call(n,f)&&null!=(h=n[f]))switch(f){case"children":u=h;break;case"dangerouslySetInnerHTML":c=h;break;default:x(e,a,f,h)}if(e.push(">"),null!=c){if(null!=u)throw Error(i(60));if("object"!==typeof c||!("__html"in c))throw Error(i(61));null!==(n=c.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push("\n",n):e.push(""+n))}return"string"===typeof u&&"\n"===u[0]&&e.push("\n"),u;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var y in e.push(P(t)),n)if(o.call(n,y)&&null!=(u=n[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(i(399,t));default:x(e,a,y,u)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return k(e,n,t,a);case"html":return 0===s.insertionMode&&e.push("<!DOCTYPE html>"),k(e,n,t,a);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return k(e,n,t,a);for(d in e.push(P(t)),c=u=null,n)if(o.call(n,d)&&null!=(h=n[d]))switch(d){case"children":u=h;break;case"dangerouslySetInnerHTML":c=h;break;case"style":S(e,a,h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:l(d)&&"function"!==typeof h&&"symbol"!==typeof h&&e.push(" ",d,'="',m(h),'"')}return e.push(">"),M(e,c,u),u}}function C(e,t,n){if(e.push('\x3c!--$?--\x3e<template id="'),null===n)throw Error(i(395));return e.push(n),e.push('"></template>')}var R=/[<\u2028\u2029]/g;function L(e){return JSON.stringify(e).replace(R,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function I(e,t,n,r){return n.generateStaticMarkup?(e.push(m(t)),!1):(""===t?e=r:(r&&e.push("\x3c!-- --\x3e"),e.push(m(t)),e=!0),e)}var D=Object.assign,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),q=Symbol.for("react.scope"),Y=Symbol.for("react.debug_trace_mode"),X=Symbol.for("react.legacy_hidden"),$=Symbol.for("react.default_value"),J=Symbol.iterator;function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case B:return"Fragment";case N:return"Portal";case Z:return"Profiler";case z:return"StrictMode";case V:return"Suspense";case H:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case U:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case K:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case W:return null!==(t=e.displayName||null)?t:Q(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}var ee={};function te(e,t){if(!(e=e.contextTypes))return ee;var n,r={};for(n in e)r[n]=t[n];return r}var ne=null;function re(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(i(401))}else{if(null===n)throw Error(i(401));re(e,n)}t.context._currentValue2=t.value}}function ie(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&ie(e)}function oe(e){var t=e.parent;null!==t&&oe(t),e.context._currentValue2=e.value}function ae(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(i(402));e.depth===t.depth?re(e,t):ae(e,t)}function se(e,t){var n=t.parent;if(null===n)throw Error(i(402));e.depth===n.depth?re(e,n):se(e,n),t.context._currentValue2=t.value}function ue(e){var t=ne;t!==e&&(null===t?oe(e):null===e?ie(t):t.depth===e.depth?re(t,e):t.depth>e.depth?ae(t,e):se(t,e),ne=e)}var le={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ce(e,t,n,r){var i=void 0!==e.state?e.state:null;e.updater=le,e.props=n,e.state=i;var o={queue:[],replace:!1};e._reactInternals=o;var a=t.contextType;if(e.context="object"===typeof a&&null!==a?a._currentValue2:r,"function"===typeof(a=t.getDerivedStateFromProps)&&(i=null===(a=a(n,i))||void 0===a?i:D({},i,a),e.state=i),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&le.enqueueReplaceState(e,e.state,null),null!==o.queue&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&1===t.length)e.state=t[0];else{for(o=a?t[0]:e.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];null!=(s="function"===typeof s?s.call(e,o,n,r):s)&&(i?(i=!1,o=D({},o,s)):D(o,s))}e.state=o}else o.queue=null}var he={id:1,overflow:""};function fe(e,t,n){var r=e.id;e=e.overflow;var i=32-de(r)-1;r&=~(1<<i),n+=1;var o=32-de(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-de(t)+i|n<<i|r,overflow:o+e}}return{id:1<<o|n<<i|r,overflow:e}}var de=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/ve|0)|0},pe=Math.log,ve=Math.LN2;var ge="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},me=null,ye=null,be=null,_e=null,we=!1,Ee=!1,Se=0,xe=null,Me=0;function ke(){if(null===me)throw Error(i(321));return me}function Ae(){if(0<Me)throw Error(i(312));return{memoizedState:null,queue:null,next:null}}function Te(){return null===_e?null===be?(we=!1,be=_e=Ae()):(we=!0,_e=be):null===_e.next?(we=!1,_e=_e.next=Ae()):(we=!0,_e=_e.next),_e}function Pe(){ye=me=null,Ee=!1,be=null,Me=0,_e=xe=null}function Oe(e,t){return"function"===typeof t?t(e):t}function Ce(e,t,n){if(me=ke(),_e=Te(),we){var r=_e.queue;if(t=r.dispatch,null!==xe&&void 0!==(n=xe.get(r))){xe.delete(r),r=_e.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return _e.memoizedState=r,[r,t]}return[_e.memoizedState,t]}return e=e===Oe?"function"===typeof t?t():t:void 0!==n?n(t):t,_e.memoizedState=e,e=(e=_e.queue={last:null,dispatch:null}).dispatch=Le.bind(null,me,e),[_e.memoizedState,e]}function Re(e,t){if(me=ke(),t=void 0===t?null:t,null!==(_e=Te())){var n=_e.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!ge(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),_e.memoizedState=[e,t],e}function Le(e,t,n){if(25<=Me)throw Error(i(301));if(e===me)if(Ee=!0,e={action:n,next:null},null===xe&&(xe=new Map),void 0===(n=xe.get(t)))xe.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function Ie(){throw Error(i(394))}function De(){}var je={readContext:function(e){return e._currentValue2},useContext:function(e){return ke(),e._currentValue2},useMemo:Re,useReducer:Ce,useRef:function(e){me=ke();var t=(_e=Te()).memoizedState;return null===t?(e={current:e},_e.memoizedState=e):t},useState:function(e){return Ce(Oe,e)},useInsertionEffect:De,useLayoutEffect:function(){},useCallback:function(e,t){return Re((function(){return e}),t)},useImperativeHandle:De,useEffect:De,useDebugValue:De,useDeferredValue:function(e){return ke(),e},useTransition:function(){return ke(),[!1,Ie]},useId:function(){var e=ye.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-de(e)-1)).toString(32)+t;var n=Ne;if(null===n)throw Error(i(404));return t=Se++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return ke(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(i(407));return n()}},Ne=null,Be=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function ze(e){return console.error(e),null}function Ze(){}function Fe(e,t,n,r,i,o,a,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var u={node:t,ping:function(){var t=e.pingedTasks;t.push(u),1===t.length&&nt(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(u),u}function Ue(e,t,n,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:o}}function Ke(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Ve(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function He(e,t,n,r,i){for(me={},ye=t,Se=0,e=n(r,i);Ee;)Ee=!1,Se=0,Me+=1,_e=null,e=n(r,i);return Pe(),e}function We(e,t,n,r){var o=n.render(),a=r.childContextTypes;if(null!==a&&void 0!==a){var s=t.legacyContext;if("function"!==typeof n.getChildContext)r=s;else{for(var u in n=n.getChildContext())if(!(u in a))throw Error(i(108,Q(r)||"Unknown",u));r=D({},s,n)}t.legacyContext=r,Ye(e,t,o),t.legacyContext=s}else Ye(e,t,o)}function Ge(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function qe(e,t,n,r,o){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){o=te(n,t.legacyContext);var a=n.contextType;ce(a=new n(r,"object"===typeof a&&null!==a?a._currentValue2:o),n,r,o),We(e,t,a,n)}else{o=He(e,t,n,r,a=te(n,t.legacyContext));var s=0!==Se;if("object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof)ce(o,n,r,a),We(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=fe(r,1,0);try{Ye(e,t,o)}finally{t.treeContext=r}}else Ye(e,t,o)}else{if("string"!==typeof n){switch(n){case X:case Y:case z:case Z:case B:case H:return void Ye(e,t,r.children);case q:throw Error(i(343));case V:e:{n=t.blockedBoundary,o=t.blockedSegment,a=r.fallback,r=r.children;var u={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},l=Ue(0,o.chunks.length,u,o.formatContext,!1,!1);o.children.push(l),o.lastPushedText=!1;var c=Ue(0,0,null,o.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=u,t.blockedSegment=c;try{if($e(e,t,r),e.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("\x3c!-- --\x3e"),c.status=1,et(u,c),0===u.pendingTasks)break e}catch(h){c.status=4,u.forceClientRender=!0,u.errorDigest=Ke(e,h)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=Fe(e,a,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case K:if(r=He(e,t,n.render,r,o),0!==Se){n=t.treeContext,t.treeContext=fe(n,1,0);try{Ye(e,t,r)}finally{t.treeContext=n}}else Ye(e,t,r);return;case W:return void qe(e,t,n=n.type,r=Ge(n,r),o);case F:if(o=r.children,n=n._context,r=r.value,a=n._currentValue2,n._currentValue2=r,ne=r={parent:s=ne,depth:null===s?0:s.depth+1,context:n,parentValue:a,value:r},t.context=r,Ye(e,t,o),null===(e=ne))throw Error(i(403));return r=e.parentValue,e.context._currentValue2=r===$?e.context._defaultValue:r,e=ne=e.parent,void(t.context=e);case U:return void Ye(e,t,r=(r=r.children)(n._currentValue2));case G:return void qe(e,t,n=(o=n._init)(n._payload),r=Ge(n,r),void 0)}throw Error(i(130,null==n?n:typeof n,""))}switch(a=O((o=t.blockedSegment).chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=function(e,t,n){switch(t){case"select":return w(1,null!=n.value?n.value:n.defaultValue);case"svg":return w(2,null);case"math":return w(3,null);case"foreignObject":return w(1,null);case"table":return w(4,null);case"thead":case"tbody":case"tfoot":return w(5,null);case"colgroup":return w(7,null);case"tr":return w(6,null)}return 4<=e.insertionMode||0===e.insertionMode?w(1,null):e}(s,n,r),$e(e,t,a),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}}function Ye(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case j:return void qe(e,t,n.type,n.props,n.ref);case N:throw Error(i(257));case G:var r=n._init;return void Ye(e,t,n=r(n._payload))}if(_(n))return void Xe(e,t,n);if(null===n||"object"!==typeof n?r=null:r="function"===typeof(r=J&&n[J]||n["@@iterator"])?r:null,r&&(r=r.call(n))){if(!(n=r.next()).done){var o=[];do{o.push(n.value),n=r.next()}while(!n.done);Xe(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(r=t.blockedSegment).lastPushedText=I(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText):"number"===typeof n&&((r=t.blockedSegment).lastPushedText=I(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Xe(e,t,n){for(var r=n.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=fe(o,r,i);try{$e(e,t,n[i])}finally{t.treeContext=o}}}function $e(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return Ye(e,t,n)}catch(u){if(Pe(),"object"!==typeof u||null===u||"function"!==typeof u.then)throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,ue(o),u;n=u;var a=t.blockedSegment,s=Ue(0,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,e=Fe(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,ue(o)}}function Je(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,tt(this,t,e)}function Qe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,null===r?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=void 0===n?Error(i(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach((function(e){return Qe(e,t,n)})),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(r=t.onAllReady)())}function et(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&et(e,n)}else e.completedSegments.push(t)}function tt(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(i(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=Ze,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&et(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Je,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(et(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function nt(e){if(2!==e.status){var t=ne,n=Be.current;Be.current=je;var r=Ne;Ne=e.responseState;try{var i,o=e.pingedTasks;for(i=0;i<o.length;i++){var a=o[i],s=e,u=a.blockedSegment;if(0===u.status){ue(a.context);try{Ye(s,a,a.node),s.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("\x3c!-- --\x3e"),a.abortSet.delete(a),u.status=1,tt(s,a.blockedBoundary,u)}catch(d){if(Pe(),"object"===typeof d&&null!==d&&"function"===typeof d.then){var l=a.ping;d.then(l,l)}else{a.abortSet.delete(a),u.status=4;var c=a.blockedBoundary,h=d,f=Ke(s,h);if(null===c?Ve(s,h):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=f,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}o.splice(0,i),null!==e.destination&&ut(e,e.destination)}catch(d){Ke(e,d),Ve(e,d)}finally{Ne=r,Be.current=n,n===je&&ue(t)}}}function rt(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var a=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];a<o.index;a++)t.push(r[a]);o=it(e,t,o)}for(;a<r.length-1;a++)t.push(r[a]);return a<r.length&&(o=t.push(r[a])),o;default:throw Error(i(390))}}function it(e,t,n){var r=n.boundary;if(null===r)return rt(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),r&&(t.push(' data-dgst="'),r=m(r),t.push(r),t.push('"')),t.push("></template>")),rt(e,t,n),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,a=o.nextSuspenseID++;return o=o.boundaryPrefix+a.toString(16),r=r.id=o,C(t,e.responseState,r),rt(e,t,n),t.push("\x3c!--/$--\x3e")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),C(t,e.responseState,r.id),rt(e,t,n),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(n=r.completedSegments).length)throw Error(i(391));return it(e,t,n[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function ot(e,t,n){return function(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(i(397))}}(t,e.responseState,n.formatContext,n.id),it(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(i(397))}}(t,n.formatContext)}function at(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)st(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===r)throw Error(i(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function st(e,t,n,r){if(2===r.status)return!0;var o=r.id;if(-1===o){if(-1===(r.id=n.rootSegmentID))throw Error(i(392));return ot(e,t,r)}return ot(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function ut(e,t){try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){it(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o,a=e.clientRenderedBoundaries;for(o=0;o<a.length;o++){var s=a[o];r=t;var u=e.responseState,l=s.id,c=s.errorDigest,h=s.errorMessage,f=s.errorComponentStack;if(r.push(u.startInlineScript),u.sentClientRenderFunction?r.push('$RX("'):(u.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===l)throw Error(i(395));if(r.push(l),r.push('"'),c||h||f){r.push(",");var d=L(c||"");r.push(d)}if(h||f){r.push(",");var p=L(h||"");r.push(p)}if(f){r.push(",");var v=L(f);r.push(v)}if(!r.push(")<\/script>"))return e.destination=null,o++,void a.splice(0,o)}a.splice(0,o);var g=e.completedBoundaries;for(o=0;o<g.length;o++)if(!at(e,t,g[o]))return e.destination=null,o++,void g.splice(0,o);g.splice(0,o);var m=e.partialBoundaries;for(o=0;o<m.length;o++){var y=m[o];e:{a=e,s=t;var b=y.completedSegments;for(u=0;u<b.length;u++)if(!st(a,s,y,b[u])){u++,b.splice(0,u);var _=!1;break e}b.splice(0,u),_=!0}if(!_)return e.destination=null,o++,void m.splice(0,o)}m.splice(0,o);var w=e.completedBoundaries;for(o=0;o<w.length;o++)if(!at(e,t,w[o]))return e.destination=null,o++,void w.splice(0,o);w.splice(0,o)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function lt(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return Qe(n,e,t)})),n.clear(),null!==e.destination&&ut(e,e.destination)}catch(r){Ke(e,r),Ve(e,r)}}function ct(){}function ht(e,t,n,r){var o=!1,a=null,s="",u={push:function(e){return null!==e&&(s+=e),!0},destroy:function(e){o=!0,a=e}},l=!1;if(e=function(e,t,n,r,i,o,a,s,u){var l=[],c=new Set;return(n=Ue(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:l,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?ze:i,onAllReady:void 0===o?Ze:o,onShellReady:void 0===a?Ze:a,onShellError:void 0===s?Ze:s,onFatalError:void 0===u?Ze:u},0,null,n,!1,!1)).parentFlushed=!0,e=Fe(t,e,null,n,c,ee,null,he),l.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ct,void 0,(function(){l=!0}),void 0,void 0),nt(e),lt(e,r),1===e.status)e.status=2,u.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=u;try{ut(e,u)}catch(c){Ke(e,c),Ve(e,c)}}if(o)throw a;if(!l)throw Error(i(426));return s}t.renderToNodeStream=function(){throw Error(i(207))},t.renderToStaticMarkup=function(e,t){return ht(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.renderToStaticNodeStream=function(){throw Error(i(208))},t.renderToString=function(e,t){return ht(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.version="18.2.0"},4424:function(e,t,n){"use strict";var r=n(2791);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=null,a=0;function s(e,t){if(0!==t.length)if(512<t.length)0<a&&(e.enqueue(new Uint8Array(o.buffer,0,a)),o=new Uint8Array(512),a=0),e.enqueue(t);else{var n=o.length-a;n<t.length&&(0===n?e.enqueue(o):(o.set(t.subarray(0,n),a),e.enqueue(o),t=t.subarray(n)),o=new Uint8Array(512),a=0),o.set(t,a),a+=t.length}}function u(e,t){return s(e,t),!0}function l(e){o&&0<a&&(e.enqueue(new Uint8Array(o.buffer,0,a)),o=null,a=0)}var c=new TextEncoder;function h(e){return c.encode(e)}function f(e){return c.encode(e)}function d(e,t){"function"===typeof e.error?e.error(t):e.close()}var p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function y(e){return!!p.call(m,e)||!p.call(g,e)&&(v.test(e)?m[e]=!0:(g[e]=!0,!1))}function b(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new b(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new b(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new b(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_[e]=new b(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_[e]=new b(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_[e]=new b(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var w=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(w,E);_[t]=new b(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(w,E);_[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(w,E);_[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)})),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x=["Webkit","ms","Moz","O"];Object.keys(S).forEach((function(e){x.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),S[t]=S[e]}))}));var M=/["'&<>]/;function k(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=M.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var A=/([A-Z])/g,T=/^ms-/,P=Array.isArray,O=f("<script>"),C=f("<\/script>"),R=f('<script src="'),L=f('<script type="module" src="'),I=f('" async=""><\/script>'),D=/(<\/|<)(s)(cript)/gi;function j(e,t,n,r){return t+("s"===n?"\\u0073":"\\u0053")+r}function N(e,t){return{insertionMode:e,selectedValue:t}}var B=f("\x3c!-- --\x3e");function z(e,t,n,r){return""===t?r:(r&&e.push(B),e.push(h(k(t))),!0)}var Z=new Map,F=f(' style="'),U=f(":"),K=f(";");function V(e,t,n){if("object"!==typeof n)throw Error(i(62));for(var r in t=!0,n)if(p.call(n,r)){var o=n[r];if(null!=o&&"boolean"!==typeof o&&""!==o){if(0===r.indexOf("--")){var a=h(k(r));o=h(k((""+o).trim()))}else{a=r;var s=Z.get(a);void 0!==s||(s=f(k(a.replace(A,"-$1").toLowerCase().replace(T,"-ms-"))),Z.set(a,s)),a=s,o="number"===typeof o?0===o||p.call(S,r)?h(""+o):h(o+"px"):h(k((""+o).trim()))}t?(t=!1,e.push(F,a,U,o)):e.push(K,a,U,o)}}t||e.push(G)}var H=f(" "),W=f('="'),G=f('"'),q=f('=""');function Y(e,t,n,r){switch(n){case"style":return void V(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=_.hasOwnProperty(n)?_[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=h(t.attributeName),t.type){case 3:r&&e.push(H,n,q);break;case 4:!0===r?e.push(H,n,q):!1!==r&&e.push(H,n,W,h(k(r)),G);break;case 5:isNaN(r)||e.push(H,n,W,h(k(r)),G);break;case 6:!isNaN(r)&&1<=r&&e.push(H,n,W,h(k(r)),G);break;default:t.sanitizeURL&&(r=""+r),e.push(H,n,W,h(k(r)),G)}}else if(y(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(H,h(n),W,h(k(r)),G)}}var X=f(">"),$=f("/>");function J(e,t,n){if(null!=t){if(null!=n)throw Error(i(60));if("object"!==typeof t||!("__html"in t))throw Error(i(61));null!==(t=t.__html)&&void 0!==t&&e.push(h(""+t))}}var Q=f(' selected=""');function ee(e,t,n,r){e.push(ie(n));var i,o=n=null;for(i in t)if(p.call(t,i)){var a=t[i];if(null!=a)switch(i){case"children":n=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Y(e,r,i,a)}}return e.push(X),J(e,o,n),"string"===typeof n?(e.push(h(k(n))),null):n}var te=f("\n"),ne=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,re=new Map;function ie(e){var t=re.get(e);if(void 0===t){if(!ne.test(e))throw Error(i(65,e));t=f("<"+e),re.set(e,t)}return t}var oe=f("<!DOCTYPE html>");function ae(e,t,n,o,a){switch(t){case"select":e.push(ie("select"));var s=null,u=null;for(d in n)if(p.call(n,d)){var l=n[d];if(null!=l)switch(d){case"children":s=l;break;case"dangerouslySetInnerHTML":u=l;break;case"defaultValue":case"value":break;default:Y(e,o,d,l)}}return e.push(X),J(e,u,s),s;case"option":u=a.selectedValue,e.push(ie("option"));var c=l=null,f=null,d=null;for(s in n)if(p.call(n,s)){var v=n[s];if(null!=v)switch(s){case"children":l=v;break;case"selected":f=v;break;case"dangerouslySetInnerHTML":d=v;break;case"value":c=v;default:Y(e,o,s,v)}}if(null!=u)if(n=null!==c?""+c:function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(l),P(u)){for(o=0;o<u.length;o++)if(""+u[o]===n){e.push(Q);break}}else""+u===n&&e.push(Q);else f&&e.push(Q);return e.push(X),J(e,d,l),l;case"textarea":for(l in e.push(ie("textarea")),d=u=s=null,n)if(p.call(n,l)&&null!=(c=n[l]))switch(l){case"children":d=c;break;case"value":s=c;break;case"defaultValue":u=c;break;case"dangerouslySetInnerHTML":throw Error(i(91));default:Y(e,o,l,c)}if(null===s&&null!==u&&(s=u),e.push(X),null!=d){if(null!=s)throw Error(i(92));if(P(d)&&1<d.length)throw Error(i(93));s=""+d}return"string"===typeof s&&"\n"===s[0]&&e.push(te),null!==s&&e.push(h(k(""+s))),null;case"input":for(u in e.push(ie("input")),c=d=l=s=null,n)if(p.call(n,u)&&null!=(f=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(399,"input"));case"defaultChecked":c=f;break;case"defaultValue":l=f;break;case"checked":d=f;break;case"value":s=f;break;default:Y(e,o,u,f)}return null!==d?Y(e,o,"checked",d):null!==c&&Y(e,o,"checked",c),null!==s?Y(e,o,"value",s):null!==l&&Y(e,o,"value",l),e.push($),null;case"menuitem":for(var g in e.push(ie("menuitem")),n)if(p.call(n,g)&&null!=(s=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(i(400));default:Y(e,o,g,s)}return e.push(X),null;case"title":for(v in e.push(ie("title")),s=null,n)if(p.call(n,v)&&null!=(u=n[v]))switch(v){case"children":s=u;break;case"dangerouslySetInnerHTML":throw Error(i(434));default:Y(e,o,v,u)}return e.push(X),s;case"listing":case"pre":for(c in e.push(ie(t)),u=s=null,n)if(p.call(n,c)&&null!=(l=n[c]))switch(c){case"children":s=l;break;case"dangerouslySetInnerHTML":u=l;break;default:Y(e,o,c,l)}if(e.push(X),null!=u){if(null!=s)throw Error(i(60));if("object"!==typeof u||!("__html"in u))throw Error(i(61));null!==(n=u.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push(te,h(n)):e.push(h(""+n)))}return"string"===typeof s&&"\n"===s[0]&&e.push(te),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var m in e.push(ie(t)),n)if(p.call(n,m)&&null!=(s=n[m]))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(i(399,t));default:Y(e,o,m,s)}return e.push($),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ee(e,n,t,o);case"html":return 0===a.insertionMode&&e.push(oe),ee(e,n,t,o);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return ee(e,n,t,o);for(f in e.push(ie(t)),u=s=null,n)if(p.call(n,f)&&null!=(l=n[f]))switch(f){case"children":s=l;break;case"dangerouslySetInnerHTML":u=l;break;case"style":V(e,o,l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:y(f)&&"function"!==typeof l&&"symbol"!==typeof l&&e.push(H,h(f),W,h(k(l)),G)}return e.push(X),J(e,u,s),s}}var se=f("</"),ue=f(">"),le=f('<template id="'),ce=f('"></template>'),he=f("\x3c!--$--\x3e"),fe=f('\x3c!--$?--\x3e<template id="'),de=f('"></template>'),pe=f("\x3c!--$!--\x3e"),ve=f("\x3c!--/$--\x3e"),ge=f("<template"),me=f('"'),ye=f(' data-dgst="');f(' data-msg="'),f(' data-stck="');var be=f("></template>");function _e(e,t,n){if(s(e,fe),null===n)throw Error(i(395));return s(e,n),u(e,de)}var we=f('<div hidden id="'),Ee=f('">'),Se=f("</div>"),xe=f('<svg aria-hidden="true" style="display:none" id="'),Me=f('">'),ke=f("</svg>"),Ae=f('<math aria-hidden="true" style="display:none" id="'),Te=f('">'),Pe=f("</math>"),Oe=f('<table hidden id="'),Ce=f('">'),Re=f("</table>"),Le=f('<table hidden><tbody id="'),Ie=f('">'),De=f("</tbody></table>"),je=f('<table hidden><tr id="'),Ne=f('">'),Be=f("</tr></table>"),ze=f('<table hidden><colgroup id="'),Ze=f('">'),Fe=f("</colgroup></table>");var Ue=f('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Ke=f('$RS("'),Ve=f('","'),He=f('")<\/script>'),We=f('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Ge=f('$RC("'),qe=f('","'),Ye=f('")<\/script>'),Xe=f('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),$e=f('$RX("'),Je=f('"'),Qe=f(")<\/script>"),et=f(","),tt=/[<\u2028\u2029]/g;function nt(e){return JSON.stringify(e).replace(tt,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var rt=Object.assign,it=Symbol.for("react.element"),ot=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),lt=Symbol.for("react.provider"),ct=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),pt=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),gt=Symbol.for("react.scope"),mt=Symbol.for("react.debug_trace_mode"),yt=Symbol.for("react.legacy_hidden"),bt=Symbol.for("react.default_value"),_t=Symbol.iterator;function wt(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case at:return"Fragment";case ot:return"Portal";case ut:return"Profiler";case st:return"StrictMode";case ft:return"Suspense";case dt:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ct:return(e.displayName||"Context")+".Consumer";case lt:return(e._context.displayName||"Context")+".Provider";case ht:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case pt:return null!==(t=e.displayName||null)?t:wt(e.type)||"Memo";case vt:t=e._payload,e=e._init;try{return wt(e(t))}catch(n){}}return null}var Et={};function St(e,t){if(!(e=e.contextTypes))return Et;var n,r={};for(n in e)r[n]=t[n];return r}var xt=null;function Mt(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(i(401))}else{if(null===n)throw Error(i(401));Mt(e,n)}t.context._currentValue=t.value}}function kt(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&kt(e)}function At(e){var t=e.parent;null!==t&&At(t),e.context._currentValue=e.value}function Tt(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(i(402));e.depth===t.depth?Mt(e,t):Tt(e,t)}function Pt(e,t){var n=t.parent;if(null===n)throw Error(i(402));e.depth===n.depth?Mt(e,n):Pt(e,n),t.context._currentValue=t.value}function Ot(e){var t=xt;t!==e&&(null===t?At(e):null===e?kt(t):t.depth===e.depth?Mt(t,e):t.depth>e.depth?Tt(t,e):Pt(t,e),xt=e)}var Ct={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Rt(e,t,n,r){var i=void 0!==e.state?e.state:null;e.updater=Ct,e.props=n,e.state=i;var o={queue:[],replace:!1};e._reactInternals=o;var a=t.contextType;if(e.context="object"===typeof a&&null!==a?a._currentValue:r,"function"===typeof(a=t.getDerivedStateFromProps)&&(i=null===(a=a(n,i))||void 0===a?i:rt({},i,a),e.state=i),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&Ct.enqueueReplaceState(e,e.state,null),null!==o.queue&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&1===t.length)e.state=t[0];else{for(o=a?t[0]:e.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];null!=(s="function"===typeof s?s.call(e,o,n,r):s)&&(i?(i=!1,o=rt({},o,s)):rt(o,s))}e.state=o}else o.queue=null}var Lt={id:1,overflow:""};function It(e,t,n){var r=e.id;e=e.overflow;var i=32-Dt(r)-1;r&=~(1<<i),n+=1;var o=32-Dt(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-Dt(t)+i|n<<i|r,overflow:o+e}}return{id:1<<o|n<<i|r,overflow:e}}var Dt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(jt(e)/Nt|0)|0},jt=Math.log,Nt=Math.LN2;var Bt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},zt=null,Zt=null,Ft=null,Ut=null,Kt=!1,Vt=!1,Ht=0,Wt=null,Gt=0;function qt(){if(null===zt)throw Error(i(321));return zt}function Yt(){if(0<Gt)throw Error(i(312));return{memoizedState:null,queue:null,next:null}}function Xt(){return null===Ut?null===Ft?(Kt=!1,Ft=Ut=Yt()):(Kt=!0,Ut=Ft):null===Ut.next?(Kt=!1,Ut=Ut.next=Yt()):(Kt=!0,Ut=Ut.next),Ut}function $t(){Zt=zt=null,Vt=!1,Ft=null,Gt=0,Ut=Wt=null}function Jt(e,t){return"function"===typeof t?t(e):t}function Qt(e,t,n){if(zt=qt(),Ut=Xt(),Kt){var r=Ut.queue;if(t=r.dispatch,null!==Wt&&void 0!==(n=Wt.get(r))){Wt.delete(r),r=Ut.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return Ut.memoizedState=r,[r,t]}return[Ut.memoizedState,t]}return e=e===Jt?"function"===typeof t?t():t:void 0!==n?n(t):t,Ut.memoizedState=e,e=(e=Ut.queue={last:null,dispatch:null}).dispatch=tn.bind(null,zt,e),[Ut.memoizedState,e]}function en(e,t){if(zt=qt(),t=void 0===t?null:t,null!==(Ut=Xt())){var n=Ut.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!Bt(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Ut.memoizedState=[e,t],e}function tn(e,t,n){if(25<=Gt)throw Error(i(301));if(e===zt)if(Vt=!0,e={action:n,next:null},null===Wt&&(Wt=new Map),void 0===(n=Wt.get(t)))Wt.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function nn(){throw Error(i(394))}function rn(){}var on={readContext:function(e){return e._currentValue},useContext:function(e){return qt(),e._currentValue},useMemo:en,useReducer:Qt,useRef:function(e){zt=qt();var t=(Ut=Xt()).memoizedState;return null===t?(e={current:e},Ut.memoizedState=e):t},useState:function(e){return Qt(Jt,e)},useInsertionEffect:rn,useLayoutEffect:function(){},useCallback:function(e,t){return en((function(){return e}),t)},useImperativeHandle:rn,useEffect:rn,useDebugValue:rn,useDeferredValue:function(e){return qt(),e},useTransition:function(){return qt(),[!1,nn]},useId:function(){var e=Zt.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-Dt(e)-1)).toString(32)+t;var n=an;if(null===n)throw Error(i(404));return t=Ht++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return qt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(i(407));return n()}},an=null,sn=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function un(e){return console.error(e),null}function ln(){}function cn(e,t,n,r,i,o,a,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var u={node:t,ping:function(){var t=e.pingedTasks;t.push(u),1===t.length&&Mn(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(u),u}function hn(e,t,n,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:o}}function fn(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function dn(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,d(e.destination,t)):(e.status=1,e.fatalError=t)}function pn(e,t,n,r,i){for(zt={},Zt=t,Ht=0,e=n(r,i);Vt;)Vt=!1,Ht=0,Gt+=1,Ut=null,e=n(r,i);return $t(),e}function vn(e,t,n,r){var o=n.render(),a=r.childContextTypes;if(null!==a&&void 0!==a){var s=t.legacyContext;if("function"!==typeof n.getChildContext)r=s;else{for(var u in n=n.getChildContext())if(!(u in a))throw Error(i(108,wt(r)||"Unknown",u));r=rt({},s,n)}t.legacyContext=r,yn(e,t,o),t.legacyContext=s}else yn(e,t,o)}function gn(e,t){if(e&&e.defaultProps){for(var n in t=rt({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function mn(e,t,n,r,o){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){o=St(n,t.legacyContext);var a=n.contextType;Rt(a=new n(r,"object"===typeof a&&null!==a?a._currentValue:o),n,r,o),vn(e,t,a,n)}else{o=pn(e,t,n,r,a=St(n,t.legacyContext));var s=0!==Ht;if("object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof)Rt(o,n,r,a),vn(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=It(r,1,0);try{yn(e,t,o)}finally{t.treeContext=r}}else yn(e,t,o)}else{if("string"!==typeof n){switch(n){case yt:case mt:case st:case ut:case at:case dt:return void yn(e,t,r.children);case gt:throw Error(i(343));case ft:e:{n=t.blockedBoundary,o=t.blockedSegment,a=r.fallback,r=r.children;var u={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},l=hn(0,o.chunks.length,u,o.formatContext,!1,!1);o.children.push(l),o.lastPushedText=!1;var c=hn(0,0,null,o.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=u,t.blockedSegment=c;try{if(_n(e,t,r),c.lastPushedText&&c.textEmbedded&&c.chunks.push(B),c.status=1,Sn(u,c),0===u.pendingTasks)break e}catch(f){c.status=4,u.forceClientRender=!0,u.errorDigest=fn(e,f)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=cn(e,a,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case ht:if(r=pn(e,t,n.render,r,o),0!==Ht){n=t.treeContext,t.treeContext=It(n,1,0);try{yn(e,t,r)}finally{t.treeContext=n}}else yn(e,t,r);return;case pt:return void mn(e,t,n=n.type,r=gn(n,r),o);case lt:if(o=r.children,n=n._context,r=r.value,a=n._currentValue,n._currentValue=r,xt=r={parent:s=xt,depth:null===s?0:s.depth+1,context:n,parentValue:a,value:r},t.context=r,yn(e,t,o),null===(e=xt))throw Error(i(403));return r=e.parentValue,e.context._currentValue=r===bt?e.context._defaultValue:r,e=xt=e.parent,void(t.context=e);case ct:return void yn(e,t,r=(r=r.children)(n._currentValue));case vt:return void mn(e,t,n=(o=n._init)(n._payload),r=gn(n,r),void 0)}throw Error(i(130,null==n?n:typeof n,""))}switch(a=ae((o=t.blockedSegment).chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=function(e,t,n){switch(t){case"select":return N(1,null!=n.value?n.value:n.defaultValue);case"svg":return N(2,null);case"math":return N(3,null);case"foreignObject":return N(1,null);case"table":return N(4,null);case"thead":case"tbody":case"tfoot":return N(5,null);case"colgroup":return N(7,null);case"tr":return N(6,null)}return 4<=e.insertionMode||0===e.insertionMode?N(1,null):e}(s,n,r),_n(e,t,a),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(se,h(n),ue)}o.lastPushedText=!1}}function yn(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case it:return void mn(e,t,n.type,n.props,n.ref);case ot:throw Error(i(257));case vt:var r=n._init;return void yn(e,t,n=r(n._payload))}if(P(n))return void bn(e,t,n);if(null===n||"object"!==typeof n?r=null:r="function"===typeof(r=_t&&n[_t]||n["@@iterator"])?r:null,r&&(r=r.call(n))){if(!(n=r.next()).done){var o=[];do{o.push(n.value),n=r.next()}while(!n.done);bn(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(r=t.blockedSegment).lastPushedText=z(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText):"number"===typeof n&&((r=t.blockedSegment).lastPushedText=z(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function bn(e,t,n){for(var r=n.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=It(o,r,i);try{_n(e,t,n[i])}finally{t.treeContext=o}}}function _n(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return yn(e,t,n)}catch(u){if($t(),"object"!==typeof u||null===u||"function"!==typeof u.then)throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,Ot(o),u;n=u;var a=t.blockedSegment,s=hn(0,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,e=cn(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,Ot(o)}}function wn(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,xn(this,t,e)}function En(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,null===r?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=void 0===n?Error(i(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach((function(e){return En(e,t,n)})),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(r=t.onAllReady)())}function Sn(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&Sn(e,n)}else e.completedSegments.push(t)}function xn(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(i(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=ln,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&Sn(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(wn,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(Sn(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function Mn(e){if(2!==e.status){var t=xt,n=sn.current;sn.current=on;var r=an;an=e.responseState;try{var i,o=e.pingedTasks;for(i=0;i<o.length;i++){var a=o[i],s=e,u=a.blockedSegment;if(0===u.status){Ot(a.context);try{yn(s,a,a.node),u.lastPushedText&&u.textEmbedded&&u.chunks.push(B),a.abortSet.delete(a),u.status=1,xn(s,a.blockedBoundary,u)}catch(d){if($t(),"object"===typeof d&&null!==d&&"function"===typeof d.then){var l=a.ping;d.then(l,l)}else{a.abortSet.delete(a),u.status=4;var c=a.blockedBoundary,h=d,f=fn(s,h);if(null===c?dn(s,h):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=f,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}o.splice(0,i),null!==e.destination&&Cn(e,e.destination)}catch(d){fn(e,d),dn(e,d)}finally{an=r,sn.current=n,n===on&&Ot(t)}}}function kn(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,s(t,le),s(t,e.placeholderPrefix),s(t,e=h(r.toString(16))),u(t,ce);case 1:n.status=2;var o=!0;r=n.chunks;var a=0;n=n.children;for(var l=0;l<n.length;l++){for(o=n[l];a<o.index;a++)s(t,r[a]);o=An(e,t,o)}for(;a<r.length-1;a++)s(t,r[a]);return a<r.length&&(o=u(t,r[a])),o;default:throw Error(i(390))}}function An(e,t,n){var r=n.boundary;if(null===r)return kn(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,u(t,pe),s(t,ge),r&&(s(t,ye),s(t,h(k(r))),s(t,me)),u(t,be),kn(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,a=o.nextSuspenseID++;o=f(o.boundaryPrefix+a.toString(16)),r=r.id=o,_e(t,e.responseState,r),kn(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),_e(t,e.responseState,r.id),kn(e,t,n);else{if(u(t,he),1!==(n=r.completedSegments).length)throw Error(i(391));An(e,t,n[0])}return u(t,ve)}function Tn(e,t,n){return function(e,t,n,r){switch(n.insertionMode){case 0:case 1:return s(e,we),s(e,t.segmentPrefix),s(e,h(r.toString(16))),u(e,Ee);case 2:return s(e,xe),s(e,t.segmentPrefix),s(e,h(r.toString(16))),u(e,Me);case 3:return s(e,Ae),s(e,t.segmentPrefix),s(e,h(r.toString(16))),u(e,Te);case 4:return s(e,Oe),s(e,t.segmentPrefix),s(e,h(r.toString(16))),u(e,Ce);case 5:return s(e,Le),s(e,t.segmentPrefix),s(e,h(r.toString(16))),u(e,Ie);case 6:return s(e,je),s(e,t.segmentPrefix),s(e,h(r.toString(16))),u(e,Ne);case 7:return s(e,ze),s(e,t.segmentPrefix),s(e,h(r.toString(16))),u(e,Ze);default:throw Error(i(397))}}(t,e.responseState,n.formatContext,n.id),An(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return u(e,Se);case 2:return u(e,ke);case 3:return u(e,Pe);case 4:return u(e,Re);case 5:return u(e,De);case 6:return u(e,Be);case 7:return u(e,Fe);default:throw Error(i(397))}}(t,n.formatContext)}function Pn(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)On(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,s(t,e.startInlineScript),e.sentCompleteBoundaryFunction?s(t,Ge):(e.sentCompleteBoundaryFunction=!0,s(t,We)),null===r)throw Error(i(395));return n=h(n.toString(16)),s(t,r),s(t,qe),s(t,e.segmentPrefix),s(t,n),u(t,Ye)}function On(e,t,n,r){if(2===r.status)return!0;var o=r.id;if(-1===o){if(-1===(r.id=n.rootSegmentID))throw Error(i(392));return Tn(e,t,r)}return Tn(e,t,r),s(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?s(t,Ke):(e.sentCompleteSegmentFunction=!0,s(t,Ue)),s(t,e.segmentPrefix),s(t,o=h(o.toString(16))),s(t,Ve),s(t,e.placeholderPrefix),s(t,o),u(t,He)}function Cn(e,t){o=new Uint8Array(512),a=0;try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){An(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)s(t,r[n]);n<r.length&&u(t,r[n])}var c,f=e.clientRenderedBoundaries;for(c=0;c<f.length;c++){var d=f[c];r=t;var p=e.responseState,v=d.id,g=d.errorDigest,m=d.errorMessage,y=d.errorComponentStack;if(s(r,p.startInlineScript),p.sentClientRenderFunction?s(r,$e):(p.sentClientRenderFunction=!0,s(r,Xe)),null===v)throw Error(i(395));if(s(r,v),s(r,Je),(g||m||y)&&(s(r,et),s(r,h(nt(g||"")))),(m||y)&&(s(r,et),s(r,h(nt(m||"")))),y&&(s(r,et),s(r,h(nt(y)))),!u(r,Qe))return e.destination=null,c++,void f.splice(0,c)}f.splice(0,c);var b=e.completedBoundaries;for(c=0;c<b.length;c++)if(!Pn(e,t,b[c]))return e.destination=null,c++,void b.splice(0,c);b.splice(0,c),l(t),o=new Uint8Array(512),a=0;var _=e.partialBoundaries;for(c=0;c<_.length;c++){var w=_[c];e:{f=e,d=t;var E=w.completedSegments;for(p=0;p<E.length;p++)if(!On(f,d,w,E[p])){p++,E.splice(0,p);var S=!1;break e}E.splice(0,p),S=!0}if(!S)return e.destination=null,c++,void _.splice(0,c)}_.splice(0,c);var x=e.completedBoundaries;for(c=0;c<x.length;c++)if(!Pn(e,t,x[c]))return e.destination=null,c++,void x.splice(0,c);x.splice(0,c)}finally{l(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function Rn(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return En(n,e,t)})),n.clear(),null!==e.destination&&Cn(e,e.destination)}catch(r){fn(e,r),dn(e,r)}}t.renderToReadableStream=function(e,t){return new Promise((function(n,r){var i,o,a=new Promise((function(e,t){o=e,i=t})),s=function(e,t,n,r,i,o,a,s,u){var l=[],c=new Set;return(n=hn(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:l,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?un:i,onAllReady:void 0===o?ln:o,onShellReady:void 0===a?ln:a,onShellError:void 0===s?ln:s,onFatalError:void 0===u?ln:u},0,null,n,!1,!1)).parentFlushed=!0,e=cn(t,e,null,n,c,Et,null,Lt),l.push(e),t}(e,function(e,t,n,r,i){e=void 0===e?"":e,t=void 0===t?O:f('<script nonce="'+k(t)+'">');var o=[];if(void 0!==n&&o.push(t,h((""+n).replace(D,j)),C),void 0!==r)for(n=0;n<r.length;n++)o.push(R,h(k(r[n])),I);if(void 0!==i)for(r=0;r<i.length;r++)o.push(L,h(k(i[r])),I);return{bootstrapChunks:o,startInlineScript:t,placeholderPrefix:f(e+"P:"),segmentPrefix:f(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return N("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,o,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===s.status)s.status=2,d(e,s.fatalError);else if(2!==s.status&&null===s.destination){s.destination=e;try{Cn(s,e)}catch(t){fn(s,t),dn(s,t)}}},cancel:function(){Rn(s)}},{highWaterMark:0});e.allReady=a,n(e)}),(function(e){a.catch((function(){})),r(e)}),i);if(t&&t.signal){var u=t.signal;u.addEventListener("abort",(function e(){Rn(s,u.reason),u.removeEventListener("abort",e)}))}Mn(s)}))},t.version="18.2.0"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var j,N=Object.assign;function B(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var z=!1;function Z(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function F(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1);case 11:return e=Z(e.type.render,!1);case 1:return e=Z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case M:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,xe=null;function Me(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function ke(e){Se?xe?xe.push(e):xe=[e]:Se=e}function Ae(){if(Se){var e=Se,t=xe;if(xe=Se=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Te(e,t){return e(t)}function Pe(){}var Oe=!1;function Ce(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Te(e,t,n)}finally{Oe=!1,(null!==Se||null!==xe)&&(Pe(),Ae())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){Le=!1}function De(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var je=!1,Ne=null,Be=!1,ze=null,Ze={onError:function(e){je=!0,Ne=e}};function Fe(e,t,n,r,i,o,a,s,u){je=!1,Ne=null,De.apply(Ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ve(i),e;if(a===r)return Ve(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,St,xt,Mt,kt=!1,At=[],Tt=null,Pt=null,Ot=null,Ct=new Map,Rt=new Map,Lt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function jt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void Mt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function zt(e,t,n){Bt(e)&&n.delete(t)}function Zt(){kt=!1,null!==Tt&&Bt(Tt)&&(Tt=null),null!==Pt&&Bt(Pt)&&(Pt=null),null!==Ot&&Bt(Ot)&&(Ot=null),Ct.forEach(zt),Rt.forEach(zt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<At.length){Ft(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ft(Tt,e),null!==Pt&&Ft(Pt,e),null!==Ot&&Ft(Ot,e),Ct.forEach(t),Rt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Lt.shift()}var Kt=_.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var i=bt,o=Kt.transition;Kt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Kt.transition=o}}function Wt(e,t,n,r){var i=bt,o=Kt.transition;Kt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Kt.transition=o}}function Gt(e,t,n,r){if(Vt){var i=Yt(e,t,n,r);if(null===i)Vr(e,t,r,qt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=jt(Tt,e,t,n,r,i),!0;case"dragenter":return Pt=jt(Pt,e,t,n,r,i),!0;case"mouseover":return Ot=jt(Ot,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ct.set(o,jt(Ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,jt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Yt(e,t,n,r))&&Vr(e,t,r,qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var qt=null;function Yt(e,t,n,r){if(qt=null,null!==(e=yi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),hn=N({},ln,{view:0,detail:0}),fn=on(hn),dn=N({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),vn=on(N({},dn,{dataTransfer:0})),gn=on(N({},hn,{relatedTarget:0})),mn=on(N({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=N({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),_n=on(N({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Mn(){return xn}var kn=N({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=on(kn),Tn=on(N({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(N({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),On=on(N({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=N({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Cn),Ln=[9,13,27,32],In=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var jn=c&&"TextEvent"in window&&!Dn,Nn=c&&(!In||Dn&&8<Dn&&11>=Dn),Bn=String.fromCharCode(32),zn=!1;function Zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function qn(e){Br(e,0)}function Yn(e){if(G(_i(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(c){var Jn;if(c){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Jn=Qn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Ce(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},xr={};function Mr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Sr[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=Mr("animationend"),Ar=Mr("animationiteration"),Tr=Mr("animationstart"),Pr=Mr("transitionend"),Or=new Map,Cr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Or.set(e,t),u(t,[e])}for(var Lr=0;Lr<Cr.length;Lr++){var Ir=Cr[Lr];Rr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Rr(kr,"onAnimationEnd"),Rr(Ar,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Pr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(Fe.apply(this,arguments),je){if(!je)throw Error(o(198));var c=Ne;je=!1,Ne=null,Be||(Be=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Nr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Nr(i,s,l),o=u}}}if(Be)throw e=ze,Be=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Kr(t,e,2,!1),n.add(r))}function Zr(e,t,n){var r=0;t&&(r|=4),Kr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Fr]){e[Fr]=!0,a.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Zr(t,!1,e),Zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Zr("selectionchange",!1,t))}}function Kr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Ce((function(){var r=o,i=we(n),a=[];e:{var s=Or.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case kr:case Ar:case Tr:u=mn;break;case Pr:u=On;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Re(p,f))&&c.push(Hr(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:_i(u),d=null==l?s:_i(l),(s=new c(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,yi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,v=c),h=v,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=f;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==u&&qr(a,s,u,c,!1),null!==l&&null!==h&&qr(a,h,l,c,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Xn;else if(Vn(s))if($n)g=ar;else{g=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?_i(r):window,e){case"focusin":(Vn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Un=!0)),0<(m=Wr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Fn(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!In&&Zn(e,t)?(e=en(),Qt=Jt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Br(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Re(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,o))&&a.unshift(Hr(n,u,s)):i||null!=(u=Re(n,o))&&a.push(Hr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Qr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,gi="__reactListeners$"+hi,mi="__reactHandles$"+hi;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var Ei=[],Si=-1;function xi(e){return{current:e}}function Mi(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function ki(e,t){Si++,Ei[Si]=e.current,e.current=t}var Ai={},Ti=xi(Ai),Pi=xi(!1),Oi=Ai;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Mi(Pi),Mi(Ti)}function Ii(e,t,n){if(Ti.current!==Ai)throw Error(o(168));ki(Ti,t),ki(Pi,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,K(e)||"Unknown",i));return N({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Oi=Ti.current,ki(Ti,e),ki(Pi,Pi.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Mi(Pi),Mi(Ti),ki(Ti,e)):Mi(Pi),ki(Pi,n)}var Bi=null,zi=!1,Zi=!1;function Fi(e){null===Bi?Bi=[e]:Bi.push(e)}function Ui(){if(!Zi&&null!==Bi){Zi=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,zi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ge(Qe,Ui),i}finally{bt=t,Zi=!1}}return null}var Ki=[],Vi=0,Hi=null,Wi=0,Gi=[],qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){Ki[Vi++]=Wi,Ki[Vi++]=Hi,Hi=e,Wi=t}function Qi(e,t,n){Gi[qi++]=Xi,Gi[qi++]=$i,Gi[qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Xi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Qi(e,1,0))}function to(e){for(;e===Hi;)Hi=Ki[--Vi],Ki[Vi]=null,Wi=Ki[--Vi],Ki[Vi]=null;for(;e===Yi;)Yi=Gi[--qi],Gi[qi]=null,$i=Gi[--qi],Gi[qi]=null,Xi=Gi[--qi],Gi[qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var go=_.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=xi(null),bo=null,_o=null,wo=null;function Eo(){wo=_o=bo=null}function So(e){var t=yo.current;Mi(yo),e._currentValue=t}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mo(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function ko(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Ao=null;function To(e){null===Ao?Ao=[e]:Ao.push(e)}function Po(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Co=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function jo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function No(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,r){var i=e.updateQueue;Co=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,c=l=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=N({},h,f);break e;case 2:Co=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Nu|=a,e.lanes=a,e.memoizedState=h}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Zo=(new r.Component).refs;function Fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Io(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(rl(t,e,i,r),jo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Io(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(rl(t,e,i,r),jo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Io(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Do(e,i,r))&&(rl(t,e,r,n),jo(t,e,r))}};function Ko(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Vo(e,t,n){var r=!1,i=Ai,o=t.contextType;return"object"===typeof o&&null!==o?o=ko(o):(i=Ri(t)?Oi:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Ai),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Zo,Ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ko(o):(o=Ri(t)?Oi:Ti.current,i.context=Ci(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Fo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Uo.enqueueReplaceState(i,i.state,null),Bo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Zo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Il(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=jl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case E:return(t=zl(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=jl(t,e.mode,n,null)).return=e,t;qo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);qo(t,r)}return null}function v(i,o,s,u){for(var l=null,c=null,h=o,v=o=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var m=d(i,h,s[v],u);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m,h=g}if(v===s.length)return n(i,h),io&&Ji(i,v),l;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(o=a(h,o,v),null===c?l=h:c.sibling=h,c=h);return io&&Ji(i,v),l}for(h=r(i,h);v<s.length;v++)null!==(g=p(h,i,v,s[v],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?v:g.key),o=a(g,o,v),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,v),l}function g(i,s,u,l){var c=D(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=d(i,v,y.value,l);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,g),null===h?c=b:h.sibling=b,h=b,v=m}if(y.done)return n(i,v),io&&Ji(i,g),c;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,l))&&(s=a(y,s,g),null===h?c=y:h.sibling=y,h=y);return io&&Ji(i,g),c}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=a(y,s,g),null===h?c=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===S){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Yo(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Go(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===S?((o=jl(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Dl(a.type,a.key,a.props,null,r.mode,u)).ref=Go(r,o,a),u.return=r,r=u)}return s(r);case E:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zl(a,r.mode,u)).return=r,r=o}return s(r);case R:return e(r,o,(c=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(D(a))return g(r,o,a,u);qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Bl(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var $o=Xo(!0),Jo=Xo(!1),Qo={},ea=xi(Qo),ta=xi(Qo),na=xi(Qo);function ra(e){if(e===Qo)throw Error(o(174));return e}function ia(e,t){switch(ki(na,t),ki(ta,e),ki(ea,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Mi(ea),ki(ea,t)}function oa(){Mi(ea),Mi(ta),Mi(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(ki(ta,e),ki(ea,n))}function sa(e){ta.current===e&&(Mi(ea),Mi(ta))}var ua=xi(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ha(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var fa=_.ReactCurrentDispatcher,da=_.ReactCurrentBatchConfig,pa=0,va=null,ga=null,ma=null,ya=!1,ba=!1,_a=0,wa=0;function Ea(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function xa(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,ma=ga=null,t.updateQueue=null,fa.current=ls,e=n(r,i)}while(ba)}if(fa.current=as,t=null!==ga&&null!==ga.next,pa=0,ma=ga=va=null,ya=!1,t)throw Error(o(300));return e}function Ma(){var e=0!==_a;return _a=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?va.memoizedState=ma=e:ma=ma.next=e,ma}function Aa(){if(null===ga){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ma?va.memoizedState:ma.next;if(null!==t)ma=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ma?va.memoizedState=ma=e:ma=ma.next=e}return ma}function Ta(e,t){return"function"===typeof t?t(e):t}function Pa(e){var t=Aa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var h=c.lane;if((pa&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,va.lanes|=h,Nu|=h}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Nu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oa(e){var t=Aa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ca(){}function Ra(e,t){var n=va,r=Aa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Va(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,za(9,Ia.bind(null,n,r,i,t),void 0,null),null===Ou)throw Error(o(349));0!==(30&pa)||La(n,t,i)}return i}function La(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,ja(t)&&Na(e)}function Da(e,t,n){return n((function(){ja(t)&&Na(e)}))}function ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Na(e){var t=Oo(e,1);null!==t&&rl(t,e,1,-1)}function Ba(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Za(){return Aa().memoizedState}function Fa(e,t,n,r){var i=ka();va.flags|=e,i.memoizedState=za(1|t,n,void 0,void 0===r?null:r)}function Ua(e,t,n,r){var i=Aa();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=za(t,n,o,r))}va.flags|=e,i.memoizedState=za(1|t,n,o,r)}function Ka(e,t){return Fa(8390656,8,e,t)}function Va(e,t){return Ua(2048,8,e,t)}function Ha(e,t){return Ua(4,2,e,t)}function Wa(e,t){return Ua(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4,4,Ga.bind(null,t,e),n)}function Ya(){}function Xa(e,t){var n=Aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Nu|=n,e.baseState=!0),t)}function Qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function es(){return Aa().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Po(e,t,n,r))){rl(n,e,r,tl()),os(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,To(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Po(e,t,i,r))&&(rl(n,e,r,i=tl()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:ko,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},ss={readContext:ko,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:Ka,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fa(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:Ba,useDebugValue:Ya,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=Ba(!1),t=e[0];return e=Qa.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=ka();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ou)throw Error(o(349));0!==(30&pa)||La(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ka(Da.bind(null,r,a,e),[e]),r.flags|=2048,za(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Ou.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:ko,useCallback:Xa,useContext:ko,useEffect:Va,useImperativeHandle:qa,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:$a,useReducer:Pa,useRef:Za,useState:function(){return Pa(Ta)},useDebugValue:Ya,useDeferredValue:function(e){return Ja(Aa(),ga.memoizedState,e)},useTransition:function(){return[Pa(Ta)[0],Aa().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1},ls={readContext:ko,useCallback:Xa,useContext:ko,useEffect:Va,useImperativeHandle:qa,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:$a,useReducer:Oa,useRef:Za,useState:function(){return Oa(Ta)},useDebugValue:Ya,useDeferredValue:function(e){var t=Aa();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[Oa(Ta)[0],Aa().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Io(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),fs(0,t)},n}function vs(e,t,n){(n=Io(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kl.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Io(-1,1)).tag=2,Do(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Jo(t,null,n,r):$o(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var o=t.ref;return Mo(t,i),r=xa(e,t,n,r,o,i),n=Ma(),null===e||_s?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ll(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xs(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Il(o,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return As(e,t,n,r,i)}function Ms(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Iu,Lu),Lu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Iu,Lu),Lu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Iu,Lu),Lu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(Iu,Lu),Lu|=r;return ws(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,i){var o=Ri(n)?Oi:Ti.current;return o=Ci(t,o),Mo(t,i),n=xa(e,t,n,r,o,i),r=Ma(),null===e||_s?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Ri(n)){var o=!0;ji(t)}else o=!1;if(Mo(t,i),null===t.stateNode)Vs(e,t),Vo(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ko(l):l=Ci(t,l=Ri(n)?Oi:Ti.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Ho(t,a,r,l),Co=!1;var f=t.memoizedState;a.state=f,Bo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Pi.current||Co?("function"===typeof c&&(Fo(t,n,c,r),u=t.memoizedState),(s=Co||Ko(t,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Lo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:mo(t.type,s),a.props=l,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ko(u):u=Ci(t,u=Ri(n)?Oi:Ti.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&Ho(t,a,r,u),Co=!1,f=t.memoizedState,a.state=f,Bo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Pi.current||Co?("function"===typeof d&&(Fo(t,n,d,r),p=t.memoizedState),(l=Co||Ko(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,o,i)}function Ps(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ni(t,n,!1),Hs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),ia(e,t.containerInfo)}function Cs(e,t,n,r,i){return po(),vo(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Ls,Is,Ds,js={dehydrated:null,treeContext:null,retryLane:0};function Ns(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(ua,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Nl(u,i,0,null),e=jl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ns(n),t.memoizedState=js,e):zs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Zs(e,t,s,r=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Nl({mode:"visible",children:r.children},i,0,null),(a=jl(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,s),t.child.memoizedState=Ns(s),t.memoizedState=js,a);if(0===(1&t.mode))return Zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Zs(e,t,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Ou)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Oo(e,i),rl(r,e,i,-1))}return gl(),Zs(e,t,s,r=hs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[qi++]=Xi,Gi[qi++]=$i,Gi[qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Il(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Il(r,s):(s=jl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ns(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=js,i}return e=(s=e.child).sibling,i=Il(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Nl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Zs(e,t,n,r){return null!==r&&vo(r),$o(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function Us(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ks(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,o);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Il(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Il(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ri(t.type)&&Li(),Gs(t),null;case 3:return r=t.stateNode,oa(),Mi(Pi),Mi(Ti),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),Ls(e,t),Gs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)zr(Dr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":X(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ie(r,a),zr("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&zr("scroll",r)}switch(n){case"input":W(r),Q(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)zr(Dr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&zr("scroll",e):null!=c&&b(e,a,c,u))}switch(n){case"input":W(e),Q(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Mi(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(sl(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Du&&(Du=3):gl())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return oa(),Ls(e,t),null===e&&Ur(t.stateNode.containerInfo),Gs(t),null;case 10:return So(t.type._context),Gs(t),null;case 19:if(Mi(ua),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ws(a,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=la(e))){for(t.flags|=128,Ws(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Ku&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Gs(t),null}else 2*$e()-a.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ua.current,ki(ua,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Lu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Mi(Pi),Mi(Ti),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Mi(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Mi(ua),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(){},Is=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&zr("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,$s=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ml(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ml(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var hu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||eu(n,t);case 6:var r=hu,i=fu;hu=null,du(e,t,n),fu=i,null!==(hu=r)&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ut(e)):ui(hu,n.stateNode));break;case 4:r=hu,i=fu,hu=n.stateNode.containerInfo,fu=!0,du(e,t,n),hu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,t,a),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!$s&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ml(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,du(e,t,n),$s=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Pl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,fu=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===hu)throw Error(o(160));pu(a,s,i),hu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Ml(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(g){Ml(e,e.return,g)}try{ru(5,e,e.return)}catch(g){Ml(e,e.return,g)}}break;case 1:gu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(gu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Ml(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&$(i,a),be(u,s);var c=be(u,a);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?ge(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,c)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(g){Ml(e,e.return,g)}}break;case 6:if(gu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ml(e,e.return,g)}}break;case 3:if(gu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Ml(e,e.return,g)}break;case 4:default:gu(t,e),yu(e);break;case 13:gu(t,e),yu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Uu=$e())),4&r&&vu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||h,gu(t,e),$s=c):gu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Qs=e,h=e.child;null!==h;){for(f=Qs=h;null!==Qs;){switch(p=(d=Qs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ml(r,n,g)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){Eu(f);continue}}null!==p?(p.return=d,Qs=p):Eu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(g){Ml(e,e.return,g)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Ml(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;lu(e,uu(e),a);break;default:throw Error(o(161))}}catch(s){Ml(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Qs=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Xs;var l=$s;if(Xs=a,($s=u)&&!l)for(Qs=i;null!==Qs;)u=(a=Qs).child,22===a.tag&&null!==a.memoizedState?Su(i):null!==u?(u.return=a,Qs=u):Su(i);for(;null!==o;)Qs=o,_u(o,t,n),o=o.sibling;Qs=i,Xs=s,$s=l}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):wu(e)}}function wu(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&zo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(o(163))}$s||512&t.flags&&ou(t)}catch(d){Ml(t,t.return,d)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function Eu(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function Su(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ml(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ml(t,i,u)}}var o=t.return;try{ou(t)}catch(u){Ml(t,o,u)}break;case 5:var a=t.return;try{ou(t)}catch(u){Ml(t,a,u)}}}catch(u){Ml(t,t.return,u)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var xu,Mu=Math.ceil,ku=_.ReactCurrentDispatcher,Au=_.ReactCurrentOwner,Tu=_.ReactCurrentBatchConfig,Pu=0,Ou=null,Cu=null,Ru=0,Lu=0,Iu=xi(0),Du=0,ju=null,Nu=0,Bu=0,zu=0,Zu=null,Fu=null,Uu=0,Ku=1/0,Vu=null,Hu=!1,Wu=null,Gu=null,qu=!1,Yu=null,Xu=0,$u=0,Ju=null,Qu=-1,el=0;function tl(){return 0!==(6&Pu)?$e():-1!==Qu?Qu:Qu=$e()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Pu)&&0!==Ru?Ru&-Ru:null!==go.transition?(0===el&&(el=vt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rl(e,t,n,r){if(50<$u)throw $u=0,Ju=null,Error(o(185));mt(e,n,r),0!==(2&Pu)&&e===Ou||(e===Ou&&(0===(2&Pu)&&(Bu|=n),4===Du&&ul(e,Ru)),il(e,r),1===n&&0===Pu&&0===(1&t.mode)&&(Ku=$e()+500,zi&&Ui()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Ou?Ru:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){zi=!0,Fi(e)}(ll.bind(null,e)):Fi(ll.bind(null,e)),ai((function(){0===(6&Pu)&&Ui()})),n=null;else{switch(_t(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ol(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Qu=-1,el=0,0!==(6&Pu))throw Error(o(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=ft(e,e===Ou?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Pu;Pu|=2;var a=vl();for(Ou===e&&Ru===t||(Vu=null,Ku=$e()+500,dl(e,t));;)try{bl();break}catch(u){pl(e,u)}Eo(),ku.current=a,Pu=i,null!==Cu?t=0:(Ou=null,Ru=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=ju,dl(e,0),ul(e,r),il(e,$e()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(a=pt(e))&&(r=a,t=al(e,a))),1===t))throw n=ju,dl(e,0),ul(e,r),il(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:El(e,Fu,Vu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Uu+500-$e())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(El.bind(null,e,Fu,Vu),t);break}El(e,Fu,Vu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mu(r/1960))-r)){e.timeoutHandle=ri(El.bind(null,e,Fu,Vu),r);break}El(e,Fu,Vu);break;default:throw Error(o(329))}}}return il(e,$e()),e.callbackNode===n?ol.bind(null,e):null}function al(e,t){var n=Zu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Fu,Fu=n,null!==t&&sl(t)),e}function sl(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function ul(e,t){for(t&=~zu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Pu))throw Error(o(327));Sl();var t=ft(e,0);if(0===(1&t))return il(e,$e()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=ju,dl(e,0),ul(e,t),il(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,Fu,Vu),il(e,$e()),null}function cl(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Ku=$e()+500,zi&&Ui())}}function hl(e){null!==Yu&&0===Yu.tag&&0===(6&Pu)&&Sl();var t=Pu;Pu|=1;var n=Tu.transition,r=bt;try{if(Tu.transition=null,bt=1,e)return e()}finally{bt=r,Tu.transition=n,0===(6&(Pu=t))&&Ui()}}function fl(){Lu=Iu.current,Mi(Iu)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Cu)for(n=Cu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:oa(),Mi(Pi),Mi(Ti),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Mi(ua);break;case 10:So(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Ou=e,Cu=e=Il(e.current,null),Ru=Lu=t,Du=0,ju=null,zu=Bu=Nu=0,Fu=Zu=null,null!==Ao){for(t=0;t<Ao.length;t++)if(null!==(r=(n=Ao[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ao=null}return e}function pl(e,t){for(;;){var n=Cu;try{if(Eo(),fa.current=as,ya){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ma=ga=va=null,ba=!1,_a=0,Au.current=null,null===n||null===n.return){Du=1,ju=t,Cu=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Ru,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&gs(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}if(0===(1&t)){gs(a,c,t),gl();break e}l=Error(o(426))}else if(io&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ys(m,s,u,0,t),vo(cs(l,u));break e}}a=l=cs(l,u),4!==Du&&(Du=2),null===Zu?Zu=[a]:Zu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,No(a,ps(0,l,t));break e;case 1:u=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,No(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}wl(n)}catch(_){t=_,Cu===n&&null!==n&&(Cu=n=n.return);continue}break}}function vl(){var e=ku.current;return ku.current=as,null===e?as:e}function gl(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Ou||0===(268435455&Nu)&&0===(268435455&Bu)||ul(Ou,Ru)}function ml(e,t){var n=Pu;Pu|=2;var r=vl();for(Ou===e&&Ru===t||(Vu=null,dl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(Eo(),Pu=n,ku.current=r,null!==Cu)throw Error(o(261));return Ou=null,Ru=0,Du}function yl(){for(;null!==Cu;)_l(Cu)}function bl(){for(;null!==Cu&&!Ye();)_l(Cu)}function _l(e){var t=xu(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?wl(e):Cu=t,Au.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Lu)))return void(Cu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Cu=n);if(null===e)return Du=6,void(Cu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cu=t);Cu=t=e}while(null!==t);0===Du&&(Du=5)}function El(e,t,n){var r=bt,i=Tu.transition;try{Tu.transition=null,bt=1,function(e,t,n,r){do{Sl()}while(null!==Yu);if(0!==(6&Pu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ou&&(Cu=Ou=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qu||(qu=!0,Ol(tt,(function(){return Sl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tu.transition,Tu.transition=null;var s=bt;bt=1;var u=Pu;Pu|=4,Au.current=null,function(e,t){if(ei=Vt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(u=s),d===a&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:mo(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){Ml(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}v=nu,nu=!1}(e,n),mu(n,e),pr(ti),Vt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Xe(),Pu=u,bt=s,Tu.transition=a}else e.current=n;if(qu&&(qu=!1,Yu=e,Xu=i),a=e.pendingLanes,0===a&&(Gu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Xu)&&0!==e.tag&&Sl(),a=e.pendingLanes,0!==(1&a)?e===Ju?$u++:($u=0,Ju=e):$u=0,Ui()}(e,t,n,r)}finally{Tu.transition=i,bt=r}return null}function Sl(){if(null!==Yu){var e=_t(Xu),t=Tu.transition,n=bt;try{if(Tu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Xu=0,0!==(6&Pu))throw Error(o(331));var i=Pu;for(Pu|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Qs=c;null!==Qs;){var h=Qs;switch(h.tag){case 0:case 11:case 15:ru(8,h,a)}var f=h.child;if(null!==f)f.return=h,Qs=f;else for(;null!==Qs;){var d=(h=Qs).sibling,p=h.return;if(au(h),h===c){Qs=null;break}if(null!==d){d.return=p,Qs=d;break}Qs=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Qs=y;break e}Qs=a.return}}var b=e.current;for(Qs=b;null!==Qs;){var _=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Qs=_;else e:for(s=b;null!==Qs;){if(0!==(2048&(u=Qs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(E){Ml(u,u.return,E)}if(u===s){Qs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Qs=w;break e}Qs=u.return}}if(Pu=i,Ui(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Tu.transition=t}}return!1}function xl(e,t,n){e=Do(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(mt(e,1,t),il(e,t))}function Ml(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Do(t,e=vs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(mt(t,1,e),il(t,e));break}}t=t.return}}function kl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Ru&n)===n&&(4===Du||3===Du&&(130023424&Ru)===Ru&&500>$e()-Uu?dl(e,0):zu|=n),il(e,t)}function Al(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Oo(e,t))&&(mt(e,t,n),il(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Al(e,n)}function Pl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Al(e,n)}function Ol(e,t){return Ge(e,t)}function Cl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Cl(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Il(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ll(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return jl(n.children,i,a,t);case x:s=8,i|=8;break;case M:return(e=Rl(12,n,t,2|i)).elementType=M,e.lanes=a,e;case P:return(e=Rl(13,n,t,i)).elementType=P,e.lanes=a,e;case O:return(e=Rl(19,n,t,i)).elementType=O,e.lanes=a,e;case L:return Nl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case A:s=9;break e;case T:s=11;break e;case C:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function jl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Nl(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Bl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function zl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fl(e,t,n,r,i,o,a,s,u){return e=new Zl(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Rl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function Ul(e){if(!e)return Ai;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Di(e,n,t)}return t}function Kl(e,t,n,r,i,o,a,s,u){return(e=Fl(n,r,!0,e,0,o,0,s,u)).context=Ul(null),n=e.current,(o=Io(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Do(n,o,i),e.current.lanes=i,mt(e,i,r),il(e,r),e}function Vl(e,t,n,r){var i=t.current,o=tl(),a=nl(i);return n=Ul(n),null===t.context?t.context=n:t.pendingContext=n,(t=Io(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Do(i,t,a))&&(rl(e,i,a,o),jo(e,i,a)),a}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Os(t),po();break;case 5:aa(t);break;case 1:Ri(t.type)&&ji(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(ki(ua,1&ua.current),null!==(e=Hs(e,t,n))?e.sibling:null);ki(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ks(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ms(e,t,n)}return Hs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,io&&0!==(1048576&t.flags)&&Qi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=Ci(t,Ti.current);Mo(t,n),i=xa(null,t,r,e,i,n);var a=Ma();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,ji(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(t),i.updater=Uo,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Ps(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ll(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===C)return 14}return 2}(r),e=mo(r,e),i){case 0:t=As(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Lo(e,t),Bo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Cs(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Cs(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Bs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ki(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Pi.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Io(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xo(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Mo(t,n),r=r(i=ko(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),Ss(e,t,r,i=mo(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),Vs(e,t),t.tag=1,Ri(r)?(e=!0,ji(t)):e=!1,Mo(t,n),Vo(t,r,i),Wo(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Ks(e,t,n);case 22:return Ms(e,t,n)}throw Error(o(156,t.tag))};var ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Xl(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ql(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hl(a);s.call(e)}}Vl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hl(a);o.call(e)}}var a=Kl(t,r,e,0,null,!1,0,"",Ql);return e._reactRootContainer=a,e[pi]=a.current,Ur(8===e.nodeType?e.parentNode:e),hl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hl(u);s.call(e)}}var u=Fl(e,0,!1,null,0,!1,0,"",Ql);return e._reactRootContainer=u,e[pi]=u.current,Ur(8===e.nodeType?e.parentNode:e),hl((function(){Vl(t,u,n,r)})),u}(n,t,e,i,r);return Hl(a)}Xl.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vl(e,t,null,null)},Xl.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){Vl(null,e,null,null)})),t[pi]=null}},Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Nt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,$e()),0===(6&Pu)&&(Ku=$e()+500,Ui()))}break;case 13:hl((function(){var t=Oo(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Gl(e,1)}},Et=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)rl(t,e,134217728,tl());Gl(e,134217728)}},St=function(e){if(13===e.tag){var t=nl(e),n=Oo(e,t);if(null!==n)rl(n,e,t,tl());Gl(e,t)}},xt=function(){return bt},Mt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cl,Pe=hl;var tc={usingClientEntryPoint:!1,Events:[bi,_i,wi,ke,Ae,cl]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$l(e))throw Error(o(299));var n=!1,r="",i=ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Kl(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(o(40));return!!e._reactRootContainer&&(hl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8340:function(e,t,n){"use strict";var r,i;r=n(1071),i=n(4424),t.version=r.version,t.renderToString=r.renderToString,t.renderToStaticMarkup=r.renderToStaticMarkup,t.renderToNodeStream=r.renderToNodeStream,t.renderToStaticNodeStream=r.renderToStaticNodeStream,t.renderToReadableStream=i.renderToReadableStream},1677:function(e,t,n){e.exports=function(e,t){"use strict";function n(e,t){return e(t={exports:{}},t.exports),t.exports}function r(e){return function(){return e}}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e};var o=i,a=function(e){};function s(e,t,n,r,i,o,s,u){if(a(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,u],h=0;(l=new Error(t.replace(/%s/g,(function(){return c[h++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}a=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")};var u=s,l=o,c=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!==typeof console&&console.error(o);try{throw new Error(o)}catch(a){}};l=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];c.apply(void 0,[t].concat(r))}};var h=l,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function v(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function g(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}var m=g()?Object.assign:function(e,t){for(var n,r,i=v(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))d.call(n,a)&&(i[a]=n[a]);if(f){r=f(n);for(var s=0;s<r.length;s++)p.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},y="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",b=u,_=h,w=y,E={};function S(e,t,n,r,i){for(var o in e)if(e.hasOwnProperty(o)){var a;try{b("function"===typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,o,typeof e[o]),a=e[o](t,o,r,n,null,w)}catch(u){a=u}if(_(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof a),a instanceof Error&&!(a.message in E)){E[a.message]=!0;var s=i?i():"";_(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}}var x=S,M=function(e,t){var n="function"===typeof Symbol&&Symbol.iterator,r="@@iterator";function i(e){var t=e&&(n&&e[n]||e[r]);if("function"===typeof t)return t}var a="<<anonymous>>",s={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:p(),arrayOf:v,element:g(),instanceOf:b,node:S(),objectOf:w,oneOf:_,oneOfType:E,shape:M,exact:k};function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function c(e){this.message=e,this.stack=""}function f(e){var n={},r=0;function i(i,o,s,l,f,d,p){if(l=l||a,d=d||s,p!==y)if(t)u(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!==typeof console){var v=l+":"+s;!n[v]&&r<3&&(h(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,l),n[v]=!0,r++)}return null==o[s]?i?null===o[s]?new c("The "+f+" `"+d+"` is marked as required in `"+l+"`, but its value is `null`."):new c("The "+f+" `"+d+"` is marked as required in `"+l+"`, but its value is `undefined`."):null:e(o,s,l,f,d)}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}function d(e){function t(t,n,r,i,o,a){var s=t[n];return P(s)!==e?new c("Invalid "+i+" `"+o+"` of type `"+O(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return f(t)}function p(){return f(o.thatReturnsNull)}function v(e){function t(t,n,r,i,o){if("function"!==typeof e)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new c("Invalid "+i+" `"+o+"` of type `"+P(a)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<a.length;s++){var u=e(a,s,r,i,o+"["+s+"]",y);if(u instanceof Error)return u}return null}return f(t)}function g(){function t(t,n,r,i,o){var a=t[n];return e(a)?null:new c("Invalid "+i+" `"+o+"` of type `"+P(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return f(t)}function b(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var s=e.name||a;return new c("Invalid "+i+" `"+o+"` of type `"+R(t[n])+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}return null}return f(t)}function _(e){if(!Array.isArray(e))return h(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull;function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(l(a,e[s]))return null;return new c("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return f(t)}function w(e){function t(t,n,r,i,o){if("function"!==typeof e)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],s=P(a);if("object"!==s)return new c("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var u in a)if(a.hasOwnProperty(u)){var l=e(a,u,r,i,o+"."+u,y);if(l instanceof Error)return l}return null}return f(t)}function E(e){if(!Array.isArray(e))return h(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)return h(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",C(n),t),o.thatReturnsNull}function r(t,n,r,i,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,r,i,o,y))return null;return new c("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}return f(r)}function S(){function e(e,t,n,r,i){return A(e[t])?null:new c("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return f(e)}function M(e){function t(t,n,r,i,o){var a=t[n],s=P(a);if("object"!==s)return new c("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var l=e[u];if(l){var h=l(a,u,r,i,o+"."+u,y);if(h)return h}}return null}return f(t)}function k(e){function t(t,n,r,i,o){var a=t[n],s=P(a);if("object"!==s)return new c("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");var u=m({},t[n],e);for(var l in u){var h=e[l];if(!h)return new c("Invalid "+i+" `"+o+"` key `"+l+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=h(a,l,r,i,o+"."+l,y);if(f)return f}return null}return f(t)}function A(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(A);if(null===t||e(t))return!0;var n=i(t);if(!n)return!1;var r,o=n.call(t);if(n!==t.entries){for(;!(r=o.next()).done;)if(!A(r.value))return!1}else for(;!(r=o.next()).done;){var a=r.value;if(a&&!A(a[1]))return!1}return!0;default:return!1}}function T(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol}function P(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":T(t,e)?"symbol":t}function O(e){if("undefined"===typeof e||null===e)return""+e;var t=P(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function C(e){var t=O(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function R(e){return e.constructor&&e.constructor.name?e.constructor.name:a}return c.prototype=Error.prototype,s.checkPropTypes=x,s.PropTypes=s,s},k=n((function(e){var t="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,n=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===t},r=!0;e.exports=M(n,r)})),A=n((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(n.apply(null,i));else if("object"===o)for(var a in i)t.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=n:window.classNames=n}()}));function T(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function P(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)}function O(e){return"number"===typeof e&&!isNaN(e)}function C(e){return parseInt(e,10)}function R(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}var L=["Moz","Webkit","O","ms"];function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window||"undefined"===typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<L.length;n++)if(D(e,L[n])in t)return L[n];return""}function D(e,t){return t?""+t+j(e):e}function j(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}var N=I(),B=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Z=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},K=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},V=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),H="";function W(e,t){return H||(H=T(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return P(e[t])}))),!!P(e[H])&&e[H](t)}function G(e,t,n){var r=e;do{if(W(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function q(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function Y(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function X(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=C(n.borderTopWidth),t+=C(n.borderBottomWidth)}function $(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=C(n.borderLeftWidth),t+=C(n.borderRightWidth)}function J(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=C(n.paddingTop),t-=C(n.paddingBottom)}function Q(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=C(n.paddingLeft),t-=C(n.paddingRight)}function ee(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}function te(e,t){var n=re(e,t,"px");return Z({},D("transform",N),n)}function ne(e,t){return re(e,t,"")}function re(e,t,n){var r="translate("+e.x+n+","+e.y+n+")";return t&&(r="translate("+("string"===typeof t.x?t.x:t.x+n)+", "+("string"===typeof t.y?t.y:t.y+n)+")"+r),r}function ie(e,t){return e.targetTouches&&T(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&T(e.changedTouches,(function(e){return t===e.identifier}))}function oe(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function ae(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&le(e.body,"react-draggable-transparent-selection")}}function se(e){try{e&&e.body&&ce(e.body,"react-draggable-transparent-selection"),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(t){}}function ue(){return F({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function le(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(e.className+=" "+t)}function ce(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}function he(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"===typeof r?r:ye(r);var i=be(e);if("string"===typeof r){var o=i.ownerDocument,a=o.defaultView,s=void 0;if(!((s="parent"===r?i.parentNode:o.querySelector(r))instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=a.getComputedStyle(i),l=a.getComputedStyle(s);r={left:-i.offsetLeft+C(l.paddingLeft)+C(u.marginLeft),top:-i.offsetTop+C(l.paddingTop)+C(u.marginTop),right:Q(s)-$(i)-i.offsetLeft+C(l.paddingRight)-C(u.marginRight),bottom:J(s)-X(i)-i.offsetTop+C(l.paddingBottom)-C(u.marginBottom)}}return O(r.right)&&(t=Math.min(t,r.right)),O(r.bottom)&&(n=Math.min(n,r.bottom)),O(r.left)&&(t=Math.max(t,r.left)),O(r.top)&&(n=Math.max(n,r.top)),[t,n]}function fe(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function de(e){return"both"===e.props.axis||"x"===e.props.axis}function pe(e){return"both"===e.props.axis||"y"===e.props.axis}function ve(e,t,n){var r="number"===typeof t?ie(e,t):null;if("number"===typeof t&&!r)return null;var i=be(n);return ee(r||e,n.props.offsetParent||i.offsetParent||i.ownerDocument.body)}function ge(e,t,n){var r=e.state,i=!O(r.lastX),o=be(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function me(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function ye(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function be(t){var n=e.findDOMNode(t);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}function _e(){}var we={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Ee=we.mouse,Se=function(n){function r(){var t,n,i;B(this,r);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=K(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(a))),i.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},i.handleDragStart=function(t){if(i.props.onMouseDown(t),!i.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode(i);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(i.props.disabled||!(t.target instanceof r.defaultView.Node)||i.props.handle&&!G(t.target,i.props.handle,n)||i.props.cancel&&G(t.target,i.props.cancel,n))){var o=oe(t);i.setState({touchIdentifier:o});var a=ve(t,o,i);if(null!=a){var s=a.x,u=a.y,l=ge(i,s,u);_e("calling",i.props.onStart),!1!==i.props.onStart(t,l)&&(i.props.enableUserSelectHack&&ae(r),i.setState({dragging:!0,lastX:s,lastY:u}),q(r,Ee.move,i.handleDrag),q(r,Ee.stop,i.handleDragStop))}}},i.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=ve(e,i.state.touchIdentifier,i);if(null!=t){var n=t.x,r=t.y;if(Array.isArray(i.props.grid)){var o=n-i.state.lastX,a=r-i.state.lastY,s=fe(i.props.grid,o,a),u=V(s,2);if(o=u[0],a=u[1],!o&&!a)return;n=i.state.lastX+o,r=i.state.lastY+a}var l=ge(i,n,r);if(!1!==i.props.onDrag(e,l))i.setState({lastX:n,lastY:r});else try{i.handleDragStop(new MouseEvent("mouseup"))}catch(h){var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(c)}}},i.handleDragStop=function(t){if(i.state.dragging){var n=ve(t,i.state.touchIdentifier,i);if(null!=n){var r=n.x,o=n.y,a=ge(i,r,o),s=e.findDOMNode(i);s&&i.props.enableUserSelectHack&&se(s.ownerDocument),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),i.props.onStop(t,a),s&&(Y(s.ownerDocument,Ee.move,i.handleDrag),Y(s.ownerDocument,Ee.stop,i.handleDragStop))}}},i.onMouseDown=function(e){return Ee=we.mouse,i.handleDragStart(e)},i.onMouseUp=function(e){return Ee=we.mouse,i.handleDragStop(e)},i.onTouchStart=function(e){return Ee=we.touch,i.handleDragStart(e)},i.onTouchEnd=function(e){return Ee=we.touch,i.handleDragStop(e)},K(i,n)}return U(r,n),z(r,[{key:"componentWillUnmount",value:function(){var t=e.findDOMNode(this);if(t){var n=t.ownerDocument;Y(n,we.mouse.move,this.handleDrag),Y(n,we.touch.move,this.handleDrag),Y(n,we.mouse.stop,this.handleDragStop),Y(n,we.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&se(n)}}},{key:"render",value:function(){return t.cloneElement(t.Children.only(this.props.children),{style:ue(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(t.Component);Se.displayName="DraggableCore",Se.propTypes={allowAnyClick:k.bool,disabled:k.bool,enableUserSelectHack:k.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:k.arrayOf(k.number),scale:k.number,handle:k.string,cancel:k.string,onStart:k.func,onDrag:k.func,onStop:k.func,onMouseDown:k.func,className:R,style:R,transform:R},Se.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var xe=function(n){function r(e){B(this,r);var t=K(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.onDragStart=function(e,n){if(!1===t.props.onStart(e,me(t,n)))return!1;t.setState({dragging:!0,dragged:!0})},t.onDrag=function(e,n){if(!t.state.dragging)return!1;var r=me(t,n),i={x:r.x,y:r.y};if(t.props.bounds){var o=i.x,a=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var s=he(t,i.x,i.y),u=V(s,2),l=u[0],c=u[1];i.x=l,i.y=c,i.slackX=t.state.slackX+(o-i.x),i.slackY=t.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-t.state.x,r.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(i)},t.onDragStop=function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,me(t,n)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,o=i.x,a=i.y;r.x=o,r.y=a}t.setState(r)},t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},t}return U(r,n),z(r,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&e.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,n={},r=null,i=!Boolean(this.props.position)||this.state.dragging,o=this.props.position||this.props.defaultPosition,a={x:de(this)&&i?this.state.x:o.x,y:pe(this)&&i?this.state.y:o.y};this.state.isElementSVG?r=ne(a,this.props.positionOffset):n=te(a,this.props.positionOffset);var s=this.props,u=s.defaultClassName,l=s.defaultClassNameDragging,c=s.defaultClassNameDragged,h=t.Children.only(this.props.children),f=A(h.props.className||"",u,(Z(e={},l,this.state.dragging),Z(e,c,this.state.dragged),e));return t.createElement(Se,F({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(h,{className:f,style:F({},h.props.style,n),transform:r}))}}]),r}(t.Component);return xe.displayName="Draggable",xe.propTypes=F({},Se.propTypes,{axis:k.oneOf(["both","x","y","none"]),bounds:k.oneOfType([k.shape({left:k.number,right:k.number,top:k.number,bottom:k.number}),k.string,k.oneOf([!1])]),defaultClassName:k.string,defaultClassNameDragging:k.string,defaultClassNameDragged:k.string,defaultPosition:k.shape({x:k.number,y:k.number}),positionOffset:k.shape({x:k.oneOfType([k.number,k.string]),y:k.oneOfType([k.number,k.string])}),position:k.shape({x:k.number,y:k.number}),className:R,style:R,transform:R}),xe.defaultProps=F({},Se.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),xe.default=xe,xe.DraggableCore=Se,xe}(n(4164),n(2791))},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,u,l,c;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(u=s;0!==u--;)if(!o(e[u],a[u]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(c=e.entries();!(u=c.next()).done;)if(!a.has(u.value[0]))return!1;for(c=e.entries();!(u=c.next()).done;)if(!o(u.value[1],a.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(c=e.entries();!(u=c.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(u=s;0!==u--;)if(e[u]!==a[u])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof a.toString)return e.toString()===a.toString();if((s=(l=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(a,l[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==l[u]&&"__v"!==l[u]&&"__o"!==l[u]||!e.$$typeof)&&!o(e[l[u]],a[l[u]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case f:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case h:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return m(e)===l},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===a||e===f||e===d||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===u||e.$$typeof===l||e.$$typeof===h||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=m},7441:function(e,t,n){"use strict";e.exports=n(1372)},9475:function(e,t,n){"use strict";var r,i=n(2791),o=(r=i)&&"object"===typeof r&&"default"in r?r.default:r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var u,l=[];function c(){u=e(l.map((function(e){return e.props}))),h.canUseDOM?t(u):n&&(u=n(u))}var h=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return u},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=u;return u=void 0,l=[],e};var a=i.prototype;return a.UNSAFE_componentWillMount=function(){l.push(this),c()},a.componentDidUpdate=function(){c()},a.componentWillUnmount=function(){var e=l.indexOf(this);l.splice(e,1),c()},a.render=function(){return o.createElement(r,this.props)},i}(i.PureComponent);return a(h,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),a(h,"canUseDOM",s),h}}},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var _=b.prototype=new y;_.constructor=b,v(_,m.prototype),_.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+T(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),P(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var l=0;l<e.length;l++){var c=o+T(s=e[l],l);u+=P(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,c=o+T(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},L={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)E.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},4003:function(e){"use strict";var t={};function n(e,n,r){r||(r=Error);var i=function(e){var t,r;function i(t,r,i){return e.call(this,function(e,t,r){return"string"===typeof n?n:n(e,t,r)}(t,r,i))||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i}(r);i.prototype.name=r.name,i.prototype.code=e,t[e]=i}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var i,o,a,s;if("string"===typeof t&&(o="not ",t.substr(!a||a<0?0:+a,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(r(t,"type"));else{var u=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(r(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},8749:function(e,t,n){"use strict";var r=n(1426),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=c;var o=n(6978),a=n(1704);n(2534)(c,o);for(var s=i(a.prototype),u=0;u<s.length;u++){var l=s[u];c.prototype[l]||(c.prototype[l]=a.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},5627:function(e,t,n){"use strict";e.exports=i;var r=n(4784);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(2534)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},6978:function(e,t,n){"use strict";var r,i=n(1426);e.exports=M,M.ReadableState=x;n(7465).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=n(6184),s=n(9778).Buffer,u=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var l,c=n(4616);l=c&&c.debuglog?c.debuglog("stream"):function(){};var h,f,d,p=n(5566),v=n(2644),g=n(5730).getHighWaterMark,m=n(4003).q,y=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,_=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(2534)(M,a);var E=v.errorOrDestroy,S=["error","close","destroy","pause","resume"];function x(e,t,i){r=r||n(8749),e=e||{},"boolean"!==typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=n(5948).s),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function M(e){if(r=r||n(8749),!(this instanceof M))return new M(e);var t=this instanceof r;this._readableState=new x(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function k(e,t,n,r,i){l("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}(e,a);else if(i||(o=function(e,t){var n;r=t,s.isBuffer(r)||r instanceof u||"string"===typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(a,t)),o)E(e,o);else if(a.objectMode||t&&t.length>0)if("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)a.endEmitted?E(e,new w):A(e,a,t,!0);else if(a.ended)E(e,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?A(e,a,t,!1):R(e,a)):A(e,a,t,!1)}else r||(a.reading=!1,R(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function A(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),R(e,t)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),M.prototype.destroy=v.destroy,M.prototype._undestroy=v.undestroy,M.prototype._destroy=function(e,t){t(e)},M.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),k(this,e,t,!1,n)},M.prototype.unshift=function(e){return k(this,e,null,!0,!1)},M.prototype.isPaused=function(){return!1===this._readableState.flowing},M.prototype.setEncoding=function(e){h||(h=n(5948).s);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(C,e))}function C(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function R(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(L,e,t))}function L(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function D(e){l("readable nexttick read 0"),e.read(0)}function j(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function z(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(Z,t,e))}function Z(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}M.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):O(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(n,t))),null===(r=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},M.prototype._read=function(e){E(this,new _("_read()"))},M.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,l("pipe count=%d opts=%j",r.pipesCount,t);var a=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?u:g;function s(t,i){l("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,l("cleanup"),e.removeListener("close",p),e.removeListener("finish",v),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",g),n.removeListener("data",f),h=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function u(){l("onend"),e.end()}r.endEmitted?i.nextTick(a):n.once("end",a),e.on("unpipe",s);var c=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,N(e))}}(n);e.on("drain",c);var h=!1;function f(t){l("ondata");var i=e.write(t);l("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==F(r.pipes,e))&&!h&&(l("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function d(t){l("onerror",t),g(),e.removeListener("error",d),0===o(e,"error")&&E(e,t)}function p(){e.removeListener("finish",v),g()}function v(){l("onfinish"),e.removeListener("close",p),g()}function g(){l("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",d),e.once("close",p),e.once("finish",v),e.emit("pipe",n),r.flowing||(l("pipe resume"),n.resume()),e},M.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=F(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},M.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,l("on readable",r.length,r.reading),r.length?O(this):r.reading||i.nextTick(D,this))),n},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(I,this),n},M.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(I,this),t},M.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(j,e,t))}(this,e)),e.paused=!1,this},M.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},M.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(M.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(9150)),f(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),M._fromList=B,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(M.from=function(e,t){return void 0===d&&(d=n(4886)),d(M,e,t)})},4784:function(e,t,n){"use strict";e.exports=c;var r=n(4003).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(8749);function l(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(2534)(c,u),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,n){n(new i("_transform()"))},c.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},1704:function(e,t,n){"use strict";var r,i=n(1426);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=M,M.WritableState=x;var a={deprecate:n(9515)},s=n(6184),u=n(9778).Buffer,l=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var c,h=n(2644),f=n(5730).getHighWaterMark,d=n(4003).q,p=d.ERR_INVALID_ARG_TYPE,v=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,_=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,E=h.errorOrDestroy;function S(){}function x(e,t,a){r=r||n(8749),e=e||{},"boolean"!==typeof a&&(a=t instanceof r),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if("function"!==typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(C,e,t),e._writableState.errorEmitted=!0,E(e,r)):(o(r),e._writableState.errorEmitted=!0,E(e,r),C(e,t))}(e,n,r,t,o);else{var a=P(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),r?i.nextTick(A,e,n,a,o):A(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function M(e){var t=this instanceof(r=r||n(8749));if(!t&&!c.call(M,this))return new M(e);this._writableState=new x(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),s.call(this)}function k(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),C(e,t)}function T(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,k(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,h=n.callback;if(k(e,t,!1,t.objectMode?1:l.length,l,c,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(n){t.pendingcb--,n&&E(e,n),t.prefinished=!0,e.emit("prefinish"),C(e,t)}))}function C(e,t){var n=P(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(2534)(M,s),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===M&&(e&&e._writableState instanceof x)}})):c=function(e){return e instanceof this},M.prototype.pipe=function(){E(this,new m)},M.prototype.write=function(e,t,n){var r,o=this._writableState,a=!1,s=!o.objectMode&&(r=e,u.isBuffer(r)||r instanceof l);return s&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!==typeof n&&(n=S),o.ending?function(e,t){var n=new _;E(e,n),i.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var o;return null===n?o=new b:"string"===typeof n||t.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(E(e,o),i.nextTick(r,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=u.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,s,r,i,o);return l}(this,o,s,e,t,n)),a},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},M.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(e,t,n){n(new v("_write()"))},M.prototype._writev=null,M.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,C(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),M.prototype.destroy=h.destroy,M.prototype._undestroy=h.undestroy,M.prototype._destroy=function(e,t){t(e)}},9150:function(e,t,n){"use strict";var r,i=n(1426);function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(5762),s=Symbol("lastResolve"),u=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function v(e){var t=e[s];if(null!==t){var n=e[d].read();null!==n&&(e[h]=null,e[s]=null,e[u]=null,t(p(n,!1)))}}function g(e){i.nextTick(v,e)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((o(r={get stream(){return this[d]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(t,n){i.nextTick((function(){e[l]?n(e[l]):t(p(void 0,!0))}))}));var n,r=this[h];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(p(void 0,!0)):t[f](n,r)}),r)}}(r,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[f])}return this[h]=n,n}},Symbol.asyncIterator,(function(){return this})),o(r,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),r),m);e.exports=function(e){var t,n=Object.create(y,(o(t={},d,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,l,{value:null,writable:!0}),o(t,c,{value:e._readableState.endEmitted,writable:!0}),o(t,f,{value:function(e,t){var r=n[d].read();r?(n[h]=null,n[s]=null,n[u]=null,e(p(r,!1))):(n[s]=e,n[u]=t)},writable:!0}),t));return n[h]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[u];return null!==t&&(n[h]=null,n[s]=null,n[u]=null,t(e)),void(n[l]=e)}var r=n[s];null!==r&&(n[h]=null,n[s]=null,n[u]=null,r(p(void 0,!0))),n[c]=!0})),e.on("readable",g.bind(null,n)),n}},5566:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var u=n(9778).Buffer,l=n(2361).inspect,c=l&&l.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,r;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return u.alloc(0);for(var t,n,r,i=u.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=i,r=a,u.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=u.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return l(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},2644:function(e,t,n){"use strict";var r=n(1426);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(a,this,e)):r.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?r.nextTick(o,n):(n._writableState.errorEmitted=!0,r.nextTick(i,n,e)):r.nextTick(i,n,e):t?(r.nextTick(o,n),t(e)):r.nextTick(o,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},5762:function(e,t,n){"use strict";var r=n(4003).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"===typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||c()},l=t._writableState&&t._writableState.finished,c=function(){s=!1,l=!0,a||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,h=!0,s||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return a&&!h?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!l?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},v=function(){t.req.on("finish",c)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",c),t.on("abort",p),t.req?v():t.on("request",v)),t.on("end",f),t.on("finish",c),!1!==n.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}},4886:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},4541:function(e,t,n){"use strict";var r;var i=n(4003).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e){e()}function l(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var c,h=function(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var f=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(5762)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}(e,o,i>0,(function(e){c||(c=e),e&&f.forEach(u),o||(f.forEach(u),h(c))}))}));return t.reduce(l)}},5730:function(e,t,n){"use strict";var r=n(4003).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},6184:function(e,t,n){e.exports=n(7465).EventEmitter},723:function(e,t,n){(t=e.exports=n(6978)).Stream=t,t.Readable=t,t.Writable=n(1704),t.Duplex=n(8749),t.Transform=n(4784),t.PassThrough=n(5627),t.finished=n(5762),t.pipeline=n(4541)},6896:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function l(e){var t="undefined"==typeof e?"undefined":O(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function c(e,t,n,r,h,f,d){d=d||[];var p=(h=h||[]).slice(0);if("undefined"!=typeof f){if(r){if("function"==typeof r&&r(p,f))return;if("object"===("undefined"==typeof r?"undefined":O(r))){if(r.prefilter&&r.prefilter(p,f))return;if(r.normalize){var v=r.normalize(p,f,e,t);v&&(e=v[0],t=v[1])}}}p.push(f)}"regexp"===l(e)&&"regexp"===l(t)&&(e=e.toString(),t=t.toString());var g="undefined"==typeof e?"undefined":O(e),m="undefined"==typeof t?"undefined":O(t),y="undefined"!==g||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(f),b="undefined"!==m||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(f);if(!y&&b)n(new o(p,t));else if(!b&&y)n(new a(p,e));else if(l(e)!==l(t))n(new i(p,e,t));else if("date"===l(e)&&e-t!==0)n(new i(p,e,t));else if("object"===g&&null!==e&&null!==t)if(d.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var _;for(e.length,_=0;_<e.length;_++)_>=t.length?n(new s(p,_,new a(void 0,e[_]))):c(e[_],t[_],n,r,p,_,d);for(;_<t.length;)n(new s(p,_,new o(void 0,t[_++])))}else{var w=Object.keys(e),E=Object.keys(t);w.forEach((function(i,o){var a=E.indexOf(i);a>=0?(c(e[i],t[i],n,r,p,i,d),E=u(E,a)):c(e[i],void 0,n,r,p,i,d)})),E.forEach((function(e){c(void 0,t[e],n,r,p,e,d)}))}d.length=d.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function h(e,t,n,r){return r=r||[],c(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function f(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":f(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":f(e[t],n.index,n.item);break;case"D":e=u(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,o=n.path?n.path.length-1:0;++i<o;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":f(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=u(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,i,o=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":p(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}}function g(e,t,n){e&&t&&c(e,t,(function(r){n&&!n(e,t,r)||d(e,t,r)}))}function m(e){return"color: "+L[e].color+"; font-weight: bold"}function y(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,o=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}function b(e,t,n,r){var i=h(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=y(e);n.log.apply(n,["%c "+L[t].text,m(t)].concat(C(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function _(e,t,n,r){switch("undefined"==typeof e?"undefined":O(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,C(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}function E(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,o=void 0===i?w(t):i,a=t.collapsed,s=t.colors,u=t.level,l=t.diff,c="undefined"==typeof t.titleFormatter;e.forEach((function(i,h){var f=i.started,d=i.startedTime,p=i.action,v=i.prevState,g=i.error,m=i.took,y=i.nextState,w=e[h+1];w&&(y=w.prevState,m=w.started-f);var E=r(p),S="function"==typeof a?a((function(){return y}),p,i):a,x=T(d),M=s.title?"color: "+s.title(E)+";":"",k=["color: gray; font-weight: lighter;"];k.push(M),t.timestamp&&k.push("color: gray; font-weight: lighter;"),t.duration&&k.push("color: gray; font-weight: lighter;");var A=o(E,x,m);try{S?s.title&&c?n.groupCollapsed.apply(n,["%c "+A].concat(k)):n.groupCollapsed(A):s.title&&c?n.group.apply(n,["%c "+A].concat(k)):n.group(A)}catch(e){n.log(A)}var P=_(u,E,[v],"prevState"),O=_(u,E,[E],"action"),C=_(u,E,[g,v],"error"),R=_(u,E,[y],"nextState");if(P)if(s.prevState){var L="color: "+s.prevState(v)+"; font-weight: bold";n[P]("%c prev state",L,v)}else n[P]("prev state",v);if(O)if(s.action){var I="color: "+s.action(E)+"; font-weight: bold";n[O]("%c action    ",I,E)}else n[O]("action    ",E);if(g&&C)if(s.error){var D="color: "+s.error(g,v)+"; font-weight: bold;";n[C]("%c error     ",D,g)}else n[C]("error     ",g);if(R)if(s.nextState){var j="color: "+s.nextState(y)+"; font-weight: bold";n[R]("%c next state",j,y)}else n[R]("next state",y);l&&b(v,y,n,S);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},I,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,o=t.predicate,a=t.logErrors,s=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var u=[];return function(e){var n=e.getState;return function(e){return function(l){if("function"==typeof o&&!o(n,l))return e(l);var c={};u.push(c),c.started=P.now(),c.startedTime=new Date,c.prevState=r(n()),c.action=l;var h=void 0;if(a)try{h=e(l)}catch(e){c.error=i(e)}else h=e(l);c.took=P.now()-c.started,c.nextState=r(n());var f=t.diff&&"function"==typeof s?s(n,l):t.diff;if(E(u,Object.assign({},t,{diff:f})),u.length=0,c.error)throw c.error;return h}}}}var x,M,k=function(e,t){return new Array(t+1).join(e)},A=function(e,t){return k("0",t-e.toString().length)+e},T=function(e){return A(e.getHours(),2)+":"+A(e.getMinutes(),2)+":"+A(e.getSeconds(),2)+"."+A(e.getMilliseconds(),3)},P="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},R=[];x="object"===("undefined"==typeof n.g?"undefined":O(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(M=x.DeepDiff)&&R.push((function(){"undefined"!=typeof M&&x.DeepDiff===h&&(x.DeepDiff=M,M=void 0)})),t(i,r),t(o,r),t(a,r),t(s,r),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:g,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof M},enumerable:!0},noConflict:{value:function(){return R&&(R.forEach((function(e){e()})),R=null),h},enumerable:!0}});var L={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},I={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?S()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=I,e.createLogger=S,e.logger=D,e.default=D,Object.defineProperty(e,"__esModule",{value:!0})}(t)},6916:function(e,t,n){"use strict";n.r(t),n.d(t,{createSelector:function(){return s},createSelectorCreator:function(){return a},createStructuredSelector:function(){return u},defaultEqualityCheck:function(){return i},defaultMemoize:function(){return o}});var r="NOT_FOUND";var i=function(e,t){return e===t};function o(e,t){var n="object"===typeof t?t:{equalityCheck:t},o=n.equalityCheck,a=void 0===o?i:o,s=n.maxSize,u=void 0===s?1:s,l=n.resultEqualityCheck,c=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(a),h=1===u?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:r},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(c):function(e,t){var n=[];function i(e){var i=n.findIndex((function(n){return t(e,n.key)}));if(i>-1){var o=n[i];return i>0&&(n.splice(i,1),n.unshift(o)),o.value}return r}return{get:i,put:function(t,o){i(t)===r&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(u,c);function f(){var t=h.get(arguments);if(t===r){if(t=e.apply(null,arguments),l){var n=h.getEntries().find((function(e){return l(e.value,t)}));n&&(t=n.value)}h.put(arguments,t)}return t}return f.clearCache=function(){return h.clear()},f}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,a=0,s={memoizeOptions:void 0},u=r.pop();if("object"===typeof u&&(s=u,u=r.pop()),"function"!==typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var l=s.memoizeOptions,c=void 0===l?n:l,h=Array.isArray(c)?c:[c],f=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),d=e.apply(void 0,[function(){return a++,u.apply(null,arguments)}].concat(h)),p=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return o=d.apply(null,e)}));return Object.assign(p,{resultFunc:u,memoizedResultFunc:d,dependencies:f,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),p}}var s=a(o),u=function(e,t){if(void 0===t&&(t=s),"object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r}},3375:function(e,t,n){"use strict";var r=n(9778).Buffer,i=n(2534),o=n(6266),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function v(e,t,n,r,i,o,a,s){return p(e+(t^n^r)+o+a|0,s)+i|0}function g(e,t,n,r,i,o,a,s){return p(e+(t&n|~t&r)+o+a|0,s)+i|0}function m(e,t,n,r,i,o,a,s){return p(e+((t|~n)^r)+o+a|0,s)+i|0}function y(e,t,n,r,i,o,a,s){return p(e+(t&r|n&~r)+o+a|0,s)+i|0}function b(e,t,n,r,i,o,a,s){return p(e+(t^(n|~r))+o+a|0,s)+i|0}i(d,o),d.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,d=0|this._e,_=0|this._a,w=0|this._b,E=0|this._c,S=0|this._d,x=0|this._e,M=0;M<80;M+=1){var k,A;M<16?(k=v(n,r,i,o,d,e[s[M]],h[0],l[M]),A=b(_,w,E,S,x,e[u[M]],f[0],c[M])):M<32?(k=g(n,r,i,o,d,e[s[M]],h[1],l[M]),A=y(_,w,E,S,x,e[u[M]],f[1],c[M])):M<48?(k=m(n,r,i,o,d,e[s[M]],h[2],l[M]),A=m(_,w,E,S,x,e[u[M]],f[2],c[M])):M<64?(k=y(n,r,i,o,d,e[s[M]],h[3],l[M]),A=g(_,w,E,S,x,e[u[M]],f[3],c[M])):(k=b(n,r,i,o,d,e[s[M]],h[4],l[M]),A=v(_,w,E,S,x,e[u[M]],f[4],c[M])),n=d,d=o,o=p(i,10),i=r,r=k,_=x,x=S,S=p(E,10),E=w,w=A}var T=this._b+i+S|0;this._b=this._c+o+x|0,this._c=this._d+d+_|0,this._d=this._e+n+w|0,this._e=this._a+r+E|0,this._a=T},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},2543:function(e,t,n){var r=n(9778),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},9138:function(e,t,n){"use strict";var r,i=n(1426),o=n(9778),a=o.Buffer,s={};for(r in o)o.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(s[r]=o[r]);var u=s.Buffer={};for(r in a)a.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(u[r]=a[r]);if(s.Buffer.prototype=a.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(e,t,n){if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&"undefined"===typeof e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return a(e,t,n)}),u.alloc||(u.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=a(e);return t&&0!==t.length?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r}),!s.kStringMaxLength)try{s.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch(l){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>o(u,n))l<i&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(g=!1,_(e),!v)if(null!==r(l))v=!0,L(E);else{var t=r(c);null!==t&&I(w,t.startTime-e)}}function E(e,n){v=!1,g&&(g=!1,y(k),k=-1),p=!0;var o=d;try{for(_(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!P());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),_(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&I(w,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,x=!1,M=null,k=-1,A=5,T=-1;function P(){return!(t.unstable_now()-T<A)}function O(){if(null!==M){var e=t.unstable_now();T=e;var n=!0;try{n=M(!0,e)}finally{n?S():(x=!1,M=null)}}else x=!1}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,R=C.port2;C.port1.onmessage=O,S=function(){R.postMessage(null)}}else S=function(){m(O,0)};function L(e){M=e,x||(x=!0,S())}function I(e,n){k=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(g?(y(k),k=-1):g=!0,I(w,o-a))):(e.sortIndex=s,n(l,e),v||p||(v=!0,L(E))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},4454:function(e,t,n){var r=n(2543).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var u=a%i,l=Math.min(o-s,i-u),c=0;c<l;c++)n[u+c]=e[s+c];s+=l,(a+=l)%i===0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},997:function(e,t,n){var r=e.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};r.sha=n(9940),r.sha1=n(7453),r.sha224=n(8633),r.sha256=n(7101),r.sha384=n(713),r.sha512=n(3884)},9940:function(e,t,n){var r=n(2534),i=n(4454),o=n(2543).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function l(e){return e<<30|e>>>2}function c(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,h=0;h<16;++h)n[h]=e.readInt32BE(4*h);for(;h<80;++h)n[h]=n[h-3]^n[h-8]^n[h-14]^n[h-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((t=r)<<5|t>>>27)+c(d,i,o,s)+u+n[f]+a[d];u=s,s=o,o=l(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},7453:function(e,t,n){var r=n(2534),i=n(4454),o=n(2543).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function l(e){return e<<5|e>>>27}function c(e){return e<<30|e>>>2}function h(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=(t=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|t>>>31;for(var d=0;d<80;++d){var p=~~(d/20),v=l(r)+h(p,i,o,s)+u+n[d]+a[p]|0;u=s,s=o,o=c(i),i=r,r=v}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},8633:function(e,t,n){var r=n(2534),i=n(7101),o=n(4454),a=n(2543).Buffer,s=new Array(64);function u(){this.init(),this._w=s,o.call(this,64,56)}r(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},7101:function(e,t,n){var r=n(2534),i=n(4454),o=n(2543).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function u(){this.init(),this._w=s,i.call(this,64,56)}function l(e,t,n){return n^e&(t^n)}function c(e,t,n){return e&t|n&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,p=0|this._f,v=0|this._g,g=0|this._h,m=0;m<16;++m)n[m]=e.readInt32BE(4*m);for(;m<64;++m)n[m]=0|(((t=n[m-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[m-7]+d(n[m-15])+n[m-16];for(var y=0;y<64;++y){var b=g+f(u)+l(u,p,v)+a[y]+n[y]|0,_=h(r)+c(r,i,o)|0;g=v,v=p,p=u,u=s+b|0,s=o,o=i,i=r,r=b+_|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=v+this._g|0,this._h=g+this._h|0},u.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},713:function(e,t,n){var r=n(2534),i=n(3884),o=n(4454),a=n(2543).Buffer,s=new Array(160);function u(){this.init(),this._w=s,o.call(this,128,112)}r(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},3884:function(e,t,n){var r=n(2534),i=n(4454),o=n(2543).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function u(){this.init(),this._w=s,i.call(this,128,112)}function l(e,t,n){return n^e&(t^n)}function c(e,t,n){return e&t|n&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function v(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function m(e,t){return e>>>0<t>>>0?1:0}r(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,u=0|this._fh,y=0|this._gh,b=0|this._hh,_=0|this._al,w=0|this._bl,E=0|this._cl,S=0|this._dl,x=0|this._el,M=0|this._fl,k=0|this._gl,A=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var P=t[T-30],O=t[T-30+1],C=d(P,O),R=p(O,P),L=v(P=t[T-4],O=t[T-4+1]),I=g(O,P),D=t[T-14],j=t[T-14+1],N=t[T-32],B=t[T-32+1],z=R+j|0,Z=C+D+m(z,R)|0;Z=(Z=Z+L+m(z=z+I|0,I)|0)+N+m(z=z+B|0,B)|0,t[T]=Z,t[T+1]=z}for(var F=0;F<160;F+=2){Z=t[F],z=t[F+1];var U=c(n,r,i),K=c(_,w,E),V=h(n,_),H=h(_,n),W=f(s,x),G=f(x,s),q=a[F],Y=a[F+1],X=l(s,u,y),$=l(x,M,k),J=A+G|0,Q=b+W+m(J,A)|0;Q=(Q=(Q=Q+X+m(J=J+$|0,$)|0)+q+m(J=J+Y|0,Y)|0)+Z+m(J=J+z|0,z)|0;var ee=H+K|0,te=V+U+m(ee,H)|0;b=y,A=k,y=u,k=M,u=s,M=x,s=o+Q+m(x=S+J|0,S)|0,o=i,S=E,i=r,E=w,r=n,w=_,n=Q+te+m(_=J+ee|0,J)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+E|0,this._dl=this._dl+S|0,this._el=this._el+x|0,this._fl=this._fl+M|0,this._gl=this._gl+k|0,this._hl=this._hl+A|0,this._ah=this._ah+n+m(this._al,_)|0,this._bh=this._bh+r+m(this._bl,w)|0,this._ch=this._ch+i+m(this._cl,E)|0,this._dh=this._dh+o+m(this._dl,S)|0,this._eh=this._eh+s+m(this._el,x)|0,this._fh=this._fh+u+m(this._fl,M)|0,this._gh=this._gh+y+m(this._gl,k)|0,this._hh=this._hh+b+m(this._hl,A)|0},u.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],h=t[l];if(!1===(i=n?n.call(r,c,h,l):void 0)||void 0===i&&c!==h)return!1}return!0}},845:function(e){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},1064:function(e,t,n){e.exports=i;var r=n(7465).EventEmitter;function i(){r.call(this)}n(2534)(i,r),i.Readable=n(6978),i.Writable=n(1704),i.Duplex=n(8749),i.Transform=n(4784),i.PassThrough=n(5627),i.finished=n(5762),i.pipeline=n(4541),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function l(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",l),e.on("error",l),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},499:function(e){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},5948:function(e,t,n){"use strict";var r=n(4331).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if(i=a(t[r]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if(i=a(t[r]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4331:function(e,t,n){var r=n(9778),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},9607:function(e){var t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i=Object.assign({},r,i),!e||"string"!==typeof e)return e;var o=e.trim();if(void 0!==i.skipLike&&i.skipLike.test(o))return e;if(i.hex&&t.test(o))return Number.parseInt(o,16);var a=n.exec(o);if(a){var s=a[1],u=a[2],l=function(e){if(e&&-1!==e.indexOf("."))return"."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e;return e}(a[3]),c=a[4]||a[6];if(!i.leadingZeros&&u.length>0&&s&&"."!==o[2])return e;if(!i.leadingZeros&&u.length>0&&!s&&"."!==o[1])return e;var h=Number(o),f=""+h;return-1!==f.search(/[eE]/)||c?i.eNotation?h:e:-1!==o.indexOf(".")?"0"===f&&""===l||f===l||s&&f==="-"+l?h:e:u?l===f||s+l===f?h:e:o===f||o===s+f?h:e}return e}},82:function(e,t,n){"use strict";n.r(t),n.d(t,{ServerStyleSheet:function(){return Ue},StyleSheetConsumer:function(){return ae},StyleSheetContext:function(){return oe},StyleSheetManager:function(){return fe},ThemeConsumer:function(){return Ie},ThemeContext:function(){return Le},ThemeProvider:function(){return De},__PRIVATE__:function(){return He},createGlobalStyle:function(){return Ze},css:function(){return Ee},default:function(){return We},isStyledComponent:function(){return E},keyframes:function(){return Fe},useTheme:function(){return Ve},version:function(){return x},withTheme:function(){return Ke}});var r=n(7441),i=n(2791),o=n(9613),a=n.n(o);var s=function(e){function t(e,r,u,l,f){for(var d,p,v,g,_,E=0,S=0,x=0,M=0,k=0,R=0,I=v=d=0,j=0,N=0,B=0,z=0,Z=u.length,F=Z-1,U="",K="",V="",H="";j<Z;){if(p=u.charCodeAt(j),j===F&&0!==S+M+x+E&&(0!==S&&(p=47===S?10:47),M=x=E=0,Z++,F++),0===S+M+x+E){if(j===F&&(0<N&&(U=U.replace(h,"")),0<U.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:U+=u.charAt(j)}p=59}switch(p){case 123:for(d=(U=U.trim()).charCodeAt(0),v=1,z=++j;j<Z;){switch(p=u.charCodeAt(j)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(j+1)){case 42:case 47:e:{for(I=j+1;I<F;++I)switch(u.charCodeAt(I)){case 47:if(42===p&&42===u.charCodeAt(I-1)&&j+2!==I){j=I+1;break e}break;case 10:if(47===p){j=I+1;break e}}j=I}}break;case 91:p++;case 40:p++;case 34:case 39:for(;j++<F&&u.charCodeAt(j)!==p;);}if(0===v)break;j++}if(v=u.substring(z,j),0===d&&(d=(U=U.replace(c,"").trim()).charCodeAt(0)),64===d){switch(0<N&&(U=U.replace(h,"")),p=U.charCodeAt(1)){case 100:case 109:case 115:case 45:N=r;break;default:N=C}if(z=(v=t(r,N,v,p,f+1)).length,0<L&&(_=s(3,v,N=n(C,U,B),r,T,A,z,p,f,l),U=N.join(""),void 0!==_&&0===(z=(v=_.trim()).length)&&(p=0,v="")),0<z)switch(p){case 115:U=U.replace(w,a);case 100:case 109:case 45:v=U+"{"+v+"}";break;case 107:v=(U=U.replace(m,"$1 $2"))+"{"+v+"}",v=1===O||2===O&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=U+v,112===l&&(K+=v,v="")}else v=""}else v=t(r,n(r,U,B),v,l,f+1);V+=v,v=B=N=I=d=0,U="",p=u.charCodeAt(++j);break;case 125:case 59:if(1<(z=(U=(0<N?U.replace(h,""):U).trim()).length))switch(0===I&&(d=U.charCodeAt(0),45===d||96<d&&123>d)&&(z=(U=U.replace(" ",":")).length),0<L&&void 0!==(_=s(1,U,r,e,T,A,K.length,l,f,l))&&0===(z=(U=_.trim()).length)&&(U="\0\0"),d=U.charCodeAt(0),p=U.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=U+u.charAt(j);break}default:58!==U.charCodeAt(z-1)&&(K+=i(U,d,p,U.charCodeAt(2)))}B=N=I=d=0,U="",p=u.charCodeAt(++j)}}switch(p){case 13:case 10:47===S?S=0:0===1+d&&107!==l&&0<U.length&&(N=1,U+="\0"),0<L*D&&s(0,U,r,e,T,A,K.length,l,f,l),A=1,T++;break;case 59:case 125:if(0===S+M+x+E){A++;break}default:switch(A++,g=u.charAt(j),p){case 9:case 32:if(0===M+E+S)switch(k){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===M+S+E&&(N=B=1,g="\f"+g);break;case 108:if(0===M+S+E+P&&0<I)switch(j-I){case 2:112===k&&58===u.charCodeAt(j-3)&&(P=k);case 8:111===R&&(P=R)}break;case 58:0===M+S+E&&(I=j);break;case 44:0===S+x+M+E&&(N=1,g+="\r");break;case 34:case 39:0===S&&(M=M===p?0:0===M?p:M);break;case 91:0===M+S+x&&E++;break;case 93:0===M+S+x&&E--;break;case 41:0===M+S+E&&x--;break;case 40:if(0===M+S+E){if(0===d)if(2*k+3*R===533);else d=1;x++}break;case 64:0===S+x+M+E+I+v&&(v=1);break;case 42:case 47:if(!(0<M+E+x))switch(S){case 0:switch(2*p+3*u.charCodeAt(j+1)){case 235:S=47;break;case 220:z=j,S=42}break;case 42:47===p&&42===k&&z+2!==j&&(33===u.charCodeAt(z+2)&&(K+=u.substring(z,j+1)),g="",S=0)}}0===S&&(U+=g)}R=k,k=p,j++}if(0<(z=K.length)){if(N=r,0<L&&(void 0!==(_=s(2,K,N,e,T,A,z,l,f,l))&&0===(K=_).length))return H+K+V;if(K=N.join(",")+"{"+K+"}",0!==O*P){switch(2!==O||o(K,2)||(P=0),P){case 111:K=K.replace(b,":-moz-$1")+K;break;case 112:K=K.replace(y,"::-webkit-input-$1")+K.replace(y,"::-moz-$1")+K.replace(y,":-ms-input-$1")+K}P=0}}return H+K+V}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var l=0;l<a;++l)t[u++]=r(e[l]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===O||2===O&&o(u,1)?"-webkit-"+u+u:u}if(0===O||2===O&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(k,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(_,"tb");break;case 232:u=a.replace(_,"tb-rl");break;case 220:u=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===M.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),I(2!==t?r:r.replace(x,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,c){for(var h,f=0,d=t;f<L;++f)switch(h=R[f].call(l,e,d,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(I=null,e?"function"!==typeof e?O=1:(O=2,I=e):O=0),u}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<L){var i=s(-1,n,r,r,T,A,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(C,r,n,0,0);return 0<L&&(void 0!==(i=s(-2,o,r,r,T,A,o.length,0,0,0))&&(o=i)),"",P=0,A=T=1,o}var c=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,S=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,M=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,A=1,T=1,P=0,O=1,C=[],R=[],L=0,I=null,D=0;return l.use=function e(t){switch(t){case void 0:case null:L=R.length=0;break;default:if("function"===typeof t)R[L++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},l.set=u,void 0!==e&&u(e),l},u={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function l(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,h=l((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),f=n(2110),d=n.n(f),p=n(1426);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},m=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,r.typeOf)(e)},y=Object.freeze([]),b=Object.freeze({});function _(e){return"function"==typeof e}function w(e){return e.displayName||e.name||"Component"}function E(e){return e&&"string"==typeof e.styledComponentId}var S="undefined"!=typeof p&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}&&({NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.SC_ATTR)||"data-styled",x="5.3.11",M="undefined"!=typeof window&&"HTMLElement"in window,k=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof p&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.SC_DISABLE_SPEEDY))),A={};function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var P=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&T(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),O=new Map,C=new Map,R=1,L=function(e){if(O.has(e))return O.get(e);for(;C.has(R);)R++;var t=R++;return O.set(e,t),C.set(t,e),t},I=function(e){return C.get(e)},D=function(e,t){t>=R&&(R=t+1),O.set(e,t),C.set(t,e)},j="style["+S+'][data-styled-version="5.3.11"]',N=new RegExp("^"+S+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),B=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},z=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(N);if(s){var u=0|parseInt(s[1],10),l=s[2];0!==u&&(D(l,u),B(e,l,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},Z=function(){return n.nc},F=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(S))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(S,"active"),r.setAttribute("data-styled-version","5.3.11");var a=Z();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},U=function(){function e(e){var t=this.element=F(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}T(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),K=function(){function e(e){var t=this.element=F(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),V=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),H=M,W={isServer:!M,useCSSOMInjection:!k},G=function(){function e(e,t,n){void 0===e&&(e=b),void 0===t&&(t={}),this.options=v({},W,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&M&&H&&(H=!1,function(e){for(var t=document.querySelectorAll(j),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(S)&&(z(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return L(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(v({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new V(i):r?new U(i):new K(i),new P(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(L(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(L(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(L(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=I(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var u=S+".g"+i+'[id="'+o+'"]',l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+s+u+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),q=/(a)(d)/gi,Y=function(e){return String.fromCharCode(e+(e>25?39:97))};function X(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Y(t%52)+n;return(Y(t%52)+n).replace(q,"$1-$2")}var $=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},J=function(e){return $(5381,e)};function Q(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(_(n)&&!E(n))return!1}return!0}var ee=J("5.3.11"),te=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Q(e),this.componentId=t,this.baseHash=$(ee,t),this.baseStyle=n,G.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=_e(this.rules,e,t,n).join(""),a=X($(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,l=$(this.baseHash,n.hash),c="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)c+=f;else if(f){var d=_e(f,e,t,n),p=Array.isArray(d)?d.join(""):d;l=$(l,p+h),c+=p}}if(c){var v=X(l>>>0);if(!t.hasNameForId(r,v)){var g=n(c,"."+v,void 0,r);t.insertRules(r,v,g)}i.push(v)}}return i.join(" ")},e}(),ne=/^\s*\/\/.*$/gm,re=[":","[",".","#"];function ie(e){var t,n,r,i,o=void 0===e?b:e,a=o.options,u=void 0===a?b:a,l=o.plugins,c=void 0===l?y:l,h=new s(u),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,l,c,h){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,o){return 0===r&&-1!==re.indexOf(o[n.length])||o.match(i)?e:"."+t};function v(e,o,a,s){void 0===s&&(s="&");var u=e.replace(ne,""),l=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),h(a||!o?"":o,l)}return h.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),v.hash=c.length?c.reduce((function(e,t){return t.name||T(15),$(e,t.name)}),5381).toString():"",v}var oe=i.createContext(),ae=oe.Consumer,se=i.createContext(),ue=(se.Consumer,new G),le=ie();function ce(){return(0,i.useContext)(oe)||ue}function he(){return(0,i.useContext)(se)||le}function fe(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],o=ce(),s=(0,i.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,i.useMemo)((function(){return ie({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){a()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(oe.Provider,{value:s},i.createElement(se.Provider,{value:u},e.children))}var de=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=le);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return T(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=le),this.name+e.hash},e}(),pe=/([A-Z])/,ve=/([A-Z])/g,ge=/^ms-/,me=function(e){return"-"+e.toLowerCase()};function ye(e){return pe.test(e)?e.replace(ve,me).replace(ge,"-ms-"):e}var be=function(e){return null==e||!1===e||""===e};function _e(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=_e(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return be(e)?"":E(e)?"."+e.styledComponentId:_(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:_e(e(t),t,n,r):e instanceof de?n?(e.inject(n,r),e.getName(r)):e:m(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!be(t[a])&&(Array.isArray(t[a])&&t[a].isCss||_(t[a])?o.push(ye(a)+":",t[a],";"):m(t[a])?o.push.apply(o,e(t[a],a)):o.push(ye(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in u||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var l}var we=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _(e)||m(e)?we(_e(g(y,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:we(_e(g(e,n)))}new Set;var Se=function(e,t,n){return void 0===n&&(n=b),e.theme!==n.theme&&e.theme||t||n.theme},xe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Me=/(^-|-$)/g;function ke(e){return e.replace(xe,"-").replace(Me,"")}var Ae=function(e){return X(J(e)>>>0)};function Te(e){return"string"==typeof e&&!0}var Pe=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Oe=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ce(e,t,n){var r=e[n];Pe(t)&&Pe(r)?Re(r,t):e[n]=t}function Re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Pe(a))for(var s in a)Oe(s)&&Ce(e,a[s],s)}return e}var Le=i.createContext(),Ie=Le.Consumer;function De(e){var t=(0,i.useContext)(Le),n=(0,i.useMemo)((function(){return function(e,t){return e?_(e)?e(t):Array.isArray(e)||"object"!=typeof e?T(8):t?v({},t,{},e):e:T(14)}(e.theme,t)}),[e.theme,t]);return e.children?i.createElement(Le.Provider,{value:n},e.children):null}var je={};function Ne(e,t,n){var r=E(e),o=!Te(e),a=t.attrs,s=void 0===a?y:a,u=t.componentId,l=void 0===u?function(e,t){var n="string"!=typeof e?"sc":ke(e);je[n]=(je[n]||0)+1;var r=n+"-"+Ae("5.3.11"+n+je[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,c=t.displayName,f=void 0===c?function(e){return Te(e)?"styled."+e:"Styled("+w(e)+")"}(e):c,p=t.displayName&&t.componentId?ke(t.displayName)+"-"+t.componentId:t.componentId||l,g=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,m=t.shouldForwardProp;r&&e.shouldForwardProp&&(m=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var S,x=new te(n,p,r?e.componentStyle:void 0),M=x.isStatic&&0===s.length,k=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,l=e.shouldForwardProp,c=e.styledComponentId,f=e.target,d=function(e,t,n){void 0===e&&(e=b);var r=v({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in _(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(Se(t,(0,i.useContext)(Le),s)||b,t,o),p=d[0],g=d[1],m=function(e,t,n,r){var i=ce(),o=he();return t?e.generateAndInjectStyles(b,i,o):e.generateAndInjectStyles(n,i,o)}(a,r,p),y=n,w=g.$as||t.$as||g.as||t.as||f,E=Te(w),S=g!==t?v({},t,{},g):t,x={};for(var M in S)"$"!==M[0]&&"as"!==M&&("forwardedAs"===M?x.as=S[M]:(l?l(M,h,w):!E||h(M))&&(x[M]=S[M]));return t.style&&g.style!==t.style&&(x.style=v({},t.style,{},g.style)),x.className=Array.prototype.concat(u,c,m!==c?m:null,t.className,g.className).filter(Boolean).join(" "),x.ref=y,(0,i.createElement)(w,x)}(S,e,t,M)};return k.displayName=f,(S=i.forwardRef(k)).attrs=g,S.componentStyle=x,S.displayName=f,S.shouldForwardProp=m,S.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):y,S.styledComponentId=p,S.target=r?e.target:e,S.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(Te(e)?e:ke(w(e)));return Ne(e,v({},i,{attrs:g,componentId:o}),n)},Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Re({},e.defaultProps,t):t}}),Object.defineProperty(S,"toString",{value:function(){return"."+S.styledComponentId}}),o&&d()(S,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),S}var Be=function(e){return function e(t,n,i){if(void 0===i&&(i=b),!(0,r.isValidElementType)(n))return T(1,String(n));var o=function(){return t(n,i,Ee.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,v({},i,{},r))},o.attrs=function(r){return e(t,n,v({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(Ne,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Be[e]=Be(e)}));var ze=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Q(e),G.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(_e(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&G.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Ee.apply(void 0,[e].concat(n)),a="sc-global-"+Ae(JSON.stringify(o)),s=new ze(o,a);function u(e){var t=ce(),n=he(),r=(0,i.useContext)(Le),o=(0,i.useRef)(t.allocateGSInstance(a)).current;return t.server&&l(o,e,t,r,n),(0,i.useLayoutEffect)((function(){if(!t.server)return l(o,e,t,r,n),function(){return s.removeStyles(o,t)}}),[o,e,t,r,n]),null}function l(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,A,n,i);else{var o=v({},t,{theme:Se(t,r,u.defaultProps)});s.renderStyles(e,o,n,i)}}return i.memo(u)}function Fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Ee.apply(void 0,[e].concat(n)).join(""),o=Ae(i);return new de(o,i)}var Ue=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Z();return"<style "+[n&&'nonce="'+n+'"',S+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?T(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return T(2);var n=((t={})[S]="",t["data-styled-version"]="5.3.11",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=Z();return r&&(n.nonce=r),[i.createElement("style",v({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new G({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?T(2):i.createElement(fe,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return T(3)},e}(),Ke=function(e){var t=i.forwardRef((function(t,n){var r=(0,i.useContext)(Le),o=e.defaultProps,a=Se(t,r,o);return i.createElement(e,v({},t,{theme:a,ref:n}))}));return d()(t,e),t.displayName="WithTheme("+w(e)+")",t},Ve=function(){return(0,i.useContext)(Le)},He={StyleSheet:G,masterSheet:ue},We=Be},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),a((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=s(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=l((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var d=a(e,h[0],h[1]);return u((function(){f.hasValue=!0,f.value=d}),[d]),c(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},9515:function(e,t,n){function r(e){try{if(!n.g.localStorage)return!1}catch(r){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},1513:function(e){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},6794:function(e){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},9639:function(e,t,n){var r=n(1426),i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])v(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(e,i){if(y(n.g.process))return function(){return t.deprecate(e,i).apply(this,arguments)};if(!0===r.noDeprecation)return e;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return m(i)||(i=c(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(n);if(0===a.length){if(S(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return h(n)}var l,_="",x=!1,M=["{","}"];(d(n)&&(x=!0,M=["[","]"]),S(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),E(n)&&(_=" "+h(n)),0!==a.length||x&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=x?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)A(t,String(a))?o.push(f(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return f(e,n,r,s,t,x)})),e.seen.pop(),function(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(r>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,_,M)):M[0]+_+M[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),A(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"===typeof e}function v(e){return null===e}function g(e){return"number"===typeof e}function m(e){return"string"===typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===x(e)}function _(e){return"object"===typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===x(e)}function E(e){return _(e)&&("[object Error]"===x(e)||e instanceof Error)}function S(e){return"function"===typeof e}function x(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(o)&&(o={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=m,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=E,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(6794);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(1513),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}},1288:function(e,t,n){"use strict";n.r(t),n.d(t,{DOMException:function(){return E},Headers:function(){return c},Request:function(){return m},Response:function(){return _},fetch:function(){return S}});var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof r&&r,i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function u(e){return"string"!==typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function d(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=h(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(d)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=u(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},c.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},c.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},i.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=function(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function y(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function b(e){var t=new c;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];_.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var E=r.DOMException;try{new E}catch(x){(E=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function S(e,t){return new Promise((function(n,o){var a=new m(e,t);if(a.signal&&a.signal.aborted)return o(new E("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:b(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;setTimeout((function(){n(new _(t,e))}),0)},s.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){o(new E("Aborted","AbortError"))}),0)},s.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&(i.blob?s.responseType="blob":i.arrayBuffer&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!t||"object"!==typeof t.headers||t.headers instanceof c?a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){s.setRequestHeader(e,u(t.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",l)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,r.fetch||(r.fetch=S,r.Headers=c,r.Request=m,r.Response=_)},950:function(){},6601:function(){},9214:function(){},8623:function(){},7748:function(){},6647:function(){},5568:function(){},6619:function(){},7108:function(){},2361:function(){},4616:function(){},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),o=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),o=n(6116),a=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),o=n(6116),a=n(2281);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},1501:function(e){e.exports=function(){"use strict";for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t=e,n=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},r={},i=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];i<o.length;i+=1){var a=o[i];r["[object "+a+"]"]=a.toLowerCase()}var s=function(e){return r[Object.prototype.toString.call(e)]||"object"},u=s,l=function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==u(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},c=s,h=function(e){if(e.length<2)return null;var t=e.length-1;return"string"==c(e[t])?e[t].toLowerCase():null},f=Math.PI,d={clip_rgb:n,limit:e,type:s,unpack:l,last:h,PI:f,TWOPI:2*f,PITHIRD:f/3,DEG2RAD:f/180,RAD2DEG:180/f},p={format:{},autodetect:[]},v=d.last,g=d.clip_rgb,m=d.type,y=p,b=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this;if("object"===m(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=v(e),i=!1;if(!r){i=!0,y.sorted||(y.autodetect=y.autodetect.sort((function(e,t){return t.p-e.p})),y.sorted=!0);for(var o=0,a=y.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,e))break}}if(!y.format[r])throw new Error("unknown format: "+e);var u=y.format[r].apply(null,i?e:e.slice(0,-1));n._rgb=g(u),3===n._rgb.length&&n._rgb.push(1)};b.prototype.toString=function(){return"function"==m(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var _=b,w=function e(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(e.Color,[null].concat(t)))};w.Color=_,w.version="2.4.2";var E=w,S=d.unpack,x=Math.max,M=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=S(e,"rgb"),r=n[0],i=n[1],o=n[2],a=1-x(r/=255,x(i/=255,o/=255)),s=a<1?1/(1-a):0;return[(1-r-a)*s,(1-i-a)*s,(1-o-a)*s,a]},k=M,A=d.unpack,T=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=A(e,"cmyk"))[0],r=e[1],i=e[2],o=e[3],a=e.length>4?e[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},P=T,O=E,C=_,R=p,L=d.unpack,I=d.type,D=k;C.prototype.cmyk=function(){return D(this._rgb)},O.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(C,[null].concat(e,["cmyk"])))},R.format.cmyk=P,R.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=L(e,"cmyk"),"array"===I(e)&&4===e.length)return"cmyk"}});var j=d.unpack,N=d.last,B=function(e){return Math.round(100*e)/100},z=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=j(e,"hsla"),r=N(e)||"lsa";return n[0]=B(n[0]||0),n[1]=B(100*n[1])+"%",n[2]=B(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},Z=z,F=d.unpack,U=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=F(e,"rgba"))[0],r=e[1],i=e[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),u=Math.max(n,r,i),l=(u+s)/2;return u===s?(o=0,a=Number.NaN):o=l<.5?(u-s)/(u+s):(u-s)/(2-u-s),n==u?a=(r-i)/(u-s):r==u?a=2+(i-n)/(u-s):i==u&&(a=4+(n-r)/(u-s)),(a*=60)<0&&(a+=360),e.length>3&&void 0!==e[3]?[a,o,l,e[3]]:[a,o,l]},K=U,V=d.unpack,H=d.last,W=Z,G=K,q=Math.round,Y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=V(e,"rgba"),r=H(e)||"rgb";return"hsl"==r.substr(0,3)?W(G(n),r):(n[0]=q(n[0]),n[1]=q(n[1]),n[2]=q(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},X=Y,$=d.unpack,J=Math.round,Q=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r,i,o,a=(t=$(t,"hsl"))[0],s=t[1],u=t[2];if(0===s)r=i=o=255*u;else{var l=[0,0,0],c=[0,0,0],h=u<.5?u*(1+s):u+s-u*s,f=2*u-h,d=a/360;l[0]=d+1/3,l[1]=d,l[2]=d-1/3;for(var p=0;p<3;p++)l[p]<0&&(l[p]+=1),l[p]>1&&(l[p]-=1),6*l[p]<1?c[p]=f+6*(h-f)*l[p]:2*l[p]<1?c[p]=h:3*l[p]<2?c[p]=f+(h-f)*(2/3-l[p])*6:c[p]=f;r=(e=[J(255*c[0]),J(255*c[1]),J(255*c[2])])[0],i=e[1],o=e[2]}return t.length>3?[r,i,o,t[3]]:[r,i,o,1]},ee=Q,te=ee,ne=p,re=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ie=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,oe=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ae=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,se=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ue=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,le=Math.round,ce=function(e){var t;if(e=e.toLowerCase().trim(),ne.format.named)try{return ne.format.named(e)}catch(p){}if(t=e.match(re)){for(var n=t.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match(ie)){for(var i=t.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(t=e.match(oe)){for(var a=t.slice(1,4),s=0;s<3;s++)a[s]=le(2.55*a[s]);return a[3]=1,a}if(t=e.match(ae)){for(var u=t.slice(1,5),l=0;l<3;l++)u[l]=le(2.55*u[l]);return u[3]=+u[3],u}if(t=e.match(se)){var c=t.slice(1,4);c[1]*=.01,c[2]*=.01;var h=te(c);return h[3]=1,h}if(t=e.match(ue)){var f=t.slice(1,4);f[1]*=.01,f[2]*=.01;var d=te(f);return d[3]=+t[4],d}};ce.test=function(e){return re.test(e)||ie.test(e)||oe.test(e)||ae.test(e)||se.test(e)||ue.test(e)};var he=ce,fe=E,de=_,pe=p,ve=d.type,ge=X,me=he;de.prototype.css=function(e){return ge(this._rgb,e)},fe.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(de,[null].concat(e,["css"])))},pe.format.css=me,pe.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===ve(e)&&me.test(e))return"css"}});var ye=_,be=E,_e=p,we=d.unpack;_e.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=we(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},be.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ye,[null].concat(e,["gl"])))},ye.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var Ee=d.unpack,Se=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=Ee(e,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),u=Math.max(i,o,a),l=u-s,c=100*l/255,h=s/(255-l)*100;return 0===l?n=Number.NaN:(i===u&&(n=(o-a)/l),o===u&&(n=2+(a-i)/l),a===u&&(n=4+(i-o)/l),(n*=60)<0&&(n+=360)),[n,c,h]},xe=Se,Me=d.unpack,ke=Math.floor,Ae=function(){for(var e,t,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var u,l,c,h=(a=Me(a,"hcg"))[0],f=a[1],d=a[2];d*=255;var p=255*f;if(0===f)u=l=c=d;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var v=ke(h/=60),g=h-v,m=d*(1-f),y=m+p*(1-g),b=m+p*g,_=m+p;switch(v){case 0:u=(e=[_,b,m])[0],l=e[1],c=e[2];break;case 1:u=(t=[y,_,m])[0],l=t[1],c=t[2];break;case 2:u=(n=[m,_,b])[0],l=n[1],c=n[2];break;case 3:u=(r=[m,y,_])[0],l=r[1],c=r[2];break;case 4:u=(i=[b,m,_])[0],l=i[1],c=i[2];break;case 5:u=(o=[_,m,y])[0],l=o[1],c=o[2]}}return[u,l,c,a.length>3?a[3]:1]},Te=Ae,Pe=d.unpack,Oe=d.type,Ce=E,Re=_,Le=p,Ie=xe;Re.prototype.hcg=function(){return Ie(this._rgb)},Ce.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Re,[null].concat(e,["hcg"])))},Le.format.hcg=Te,Le.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Pe(e,"hcg"),"array"===Oe(e)&&3===e.length)return"hcg"}});var De=d.unpack,je=d.last,Ne=Math.round,Be=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=De(e,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=je(e)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var u="000000"+((r=Ne(r))<<16|(i=Ne(i))<<8|(o=Ne(o))).toString(16);u=u.substr(u.length-6);var l="0"+Ne(255*a).toString(16);switch(l=l.substr(l.length-2),s.toLowerCase()){case"rgba":return"#"+u+l;case"argb":return"#"+l+u;default:return"#"+u}},ze=Be,Ze=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Fe=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ue=function(e){if(e.match(Ze)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(Fe)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+e)},Ke=E,Ve=_,He=d.type,We=p,Ge=ze;Ve.prototype.hex=function(e){return Ge(this._rgb,e)},Ke.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ve,[null].concat(e,["hex"])))},We.format.hex=Ue,We.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===He(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var qe=d.unpack,Ye=d.TWOPI,Xe=Math.min,$e=Math.sqrt,Je=Math.acos,Qe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=qe(e,"rgb"),i=r[0],o=r[1],a=r[2],s=Xe(i/=255,o/=255,a/=255),u=(i+o+a)/3,l=u>0?1-s/u:0;return 0===l?n=NaN:(n=(i-o+(i-a))/2,n/=$e((i-o)*(i-o)+(i-a)*(o-a)),n=Je(n),a>o&&(n=Ye-n),n/=Ye),[360*n,l,u]},et=Qe,tt=d.unpack,nt=d.limit,rt=d.TWOPI,it=d.PITHIRD,ot=Math.cos,at=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=tt(e,"hsi"))[0],a=e[1],s=e[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-a)/3)+(n=(1+a*ot(rt*o)/ot(it-rt*o))/3)):o<2/3?i=1-((n=(1-a)/3)+(r=(1+a*ot(rt*(o-=1/3))/ot(it-rt*o))/3)):n=1-((r=(1-a)/3)+(i=(1+a*ot(rt*(o-=2/3))/ot(it-rt*o))/3)),[255*(n=nt(s*n*3)),255*(r=nt(s*r*3)),255*(i=nt(s*i*3)),e.length>3?e[3]:1]},st=at,ut=d.unpack,lt=d.type,ct=E,ht=_,ft=p,dt=et;ht.prototype.hsi=function(){return dt(this._rgb)},ct.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ht,[null].concat(e,["hsi"])))},ft.format.hsi=st,ft.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ut(e,"hsi"),"array"===lt(e)&&3===e.length)return"hsi"}});var pt=d.unpack,vt=d.type,gt=E,mt=_,yt=p,bt=K;mt.prototype.hsl=function(){return bt(this._rgb)},gt.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(mt,[null].concat(e,["hsl"])))},yt.format.hsl=ee,yt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=pt(e,"hsl"),"array"===vt(e)&&3===e.length)return"hsl"}});var _t=d.unpack,wt=Math.min,Et=Math.max,St=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=_t(e,"rgb"))[0],a=e[1],s=e[2],u=wt(o,a,s),l=Et(o,a,s),c=l-u;return i=l/255,0===l?(n=Number.NaN,r=0):(r=c/l,o===l&&(n=(a-s)/c),a===l&&(n=2+(s-o)/c),s===l&&(n=4+(o-a)/c),(n*=60)<0&&(n+=360)),[n,r,i]},xt=St,Mt=d.unpack,kt=Math.floor,At=function(){for(var e,t,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var u,l,c,h=(a=Mt(a,"hsv"))[0],f=a[1],d=a[2];if(d*=255,0===f)u=l=c=d;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var p=kt(h/=60),v=h-p,g=d*(1-f),m=d*(1-f*v),y=d*(1-f*(1-v));switch(p){case 0:u=(e=[d,y,g])[0],l=e[1],c=e[2];break;case 1:u=(t=[m,d,g])[0],l=t[1],c=t[2];break;case 2:u=(n=[g,d,y])[0],l=n[1],c=n[2];break;case 3:u=(r=[g,m,d])[0],l=r[1],c=r[2];break;case 4:u=(i=[y,g,d])[0],l=i[1],c=i[2];break;case 5:u=(o=[d,g,m])[0],l=o[1],c=o[2]}}return[u,l,c,a.length>3?a[3]:1]},Tt=At,Pt=d.unpack,Ot=d.type,Ct=E,Rt=_,Lt=p,It=xt;Rt.prototype.hsv=function(){return It(this._rgb)},Ct.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Rt,[null].concat(e,["hsv"])))},Lt.format.hsv=Tt,Lt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Pt(e,"hsv"),"array"===Ot(e)&&3===e.length)return"hsv"}});var Dt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},jt=Dt,Nt=d.unpack,Bt=Math.pow,zt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Nt(e,"rgb"),r=n[0],i=n[1],o=n[2],a=Ut(r,i,o),s=a[0],u=a[1],l=116*u-16;return[l<0?0:l,500*(s-u),200*(u-a[2])]},Zt=function(e){return(e/=255)<=.04045?e/12.92:Bt((e+.055)/1.055,2.4)},Ft=function(e){return e>jt.t3?Bt(e,1/3):e/jt.t2+jt.t0},Ut=function(e,t,n){return e=Zt(e),t=Zt(t),n=Zt(n),[Ft((.4124564*e+.3575761*t+.1804375*n)/jt.Xn),Ft((.2126729*e+.7151522*t+.072175*n)/jt.Yn),Ft((.0193339*e+.119192*t+.9503041*n)/jt.Zn)]},Kt=zt,Vt=Dt,Ht=d.unpack,Wt=Math.pow,Gt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=Ht(e,"lab"))[0],a=e[1],s=e[2];return r=(o+16)/116,n=isNaN(a)?r:r+a/500,i=isNaN(s)?r:r-s/200,r=Vt.Yn*Yt(r),n=Vt.Xn*Yt(n),i=Vt.Zn*Yt(i),[qt(3.2404542*n-1.5371385*r-.4985314*i),qt(-.969266*n+1.8760108*r+.041556*i),qt(.0556434*n-.2040259*r+1.0572252*i),e.length>3?e[3]:1]},qt=function(e){return 255*(e<=.00304?12.92*e:1.055*Wt(e,1/2.4)-.055)},Yt=function(e){return e>Vt.t1?e*e*e:Vt.t2*(e-Vt.t0)},Xt=Gt,$t=d.unpack,Jt=d.type,Qt=E,en=_,tn=p,nn=Kt;en.prototype.lab=function(){return nn(this._rgb)},Qt.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(en,[null].concat(e,["lab"])))},tn.format.lab=Xt,tn.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=$t(e,"lab"),"array"===Jt(e)&&3===e.length)return"lab"}});var rn=d.unpack,on=d.RAD2DEG,an=Math.sqrt,sn=Math.atan2,un=Math.round,ln=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=rn(e,"lab"),r=n[0],i=n[1],o=n[2],a=an(i*i+o*o),s=(sn(o,i)*on+360)%360;return 0===un(1e4*a)&&(s=Number.NaN),[r,a,s]},cn=ln,hn=d.unpack,fn=Kt,dn=cn,pn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=hn(e,"rgb"),r=n[0],i=n[1],o=n[2],a=fn(r,i,o),s=a[0],u=a[1],l=a[2];return dn(s,u,l)},vn=pn,gn=d.unpack,mn=d.DEG2RAD,yn=Math.sin,bn=Math.cos,_n=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=gn(e,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,bn(o*=mn)*i,yn(o)*i]},wn=_n,En=d.unpack,Sn=wn,xn=Xt,Mn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=En(e,"lch"))[0],r=e[1],i=e[2],o=Sn(n,r,i),a=o[0],s=o[1],u=o[2],l=xn(a,s,u);return[l[0],l[1],l[2],e.length>3?e[3]:1]},kn=Mn,An=d.unpack,Tn=kn,Pn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=An(e,"hcl").reverse();return Tn.apply(void 0,n)},On=Pn,Cn=d.unpack,Rn=d.type,Ln=E,In=_,Dn=p,jn=vn;In.prototype.lch=function(){return jn(this._rgb)},In.prototype.hcl=function(){return jn(this._rgb).reverse()},Ln.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(In,[null].concat(e,["lch"])))},Ln.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(In,[null].concat(e,["hcl"])))},Dn.format.lch=kn,Dn.format.hcl=On,["lch","hcl"].forEach((function(e){return Dn.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Cn(t,e),"array"===Rn(t)&&3===t.length)return e}})}));var Nn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Bn=_,zn=p,Zn=d.type,Fn=Nn,Un=Ue,Kn=ze;Bn.prototype.name=function(){for(var e=Kn(this._rgb,"rgb"),t=0,n=Object.keys(Fn);t<n.length;t+=1){var r=n[t];if(Fn[r]===e)return r.toLowerCase()}return e},zn.format.named=function(e){if(e=e.toLowerCase(),Fn[e])return Un(Fn[e]);throw new Error("unknown color name: "+e)},zn.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===Zn(e)&&Fn[e.toLowerCase()])return"named"}});var Vn=d.unpack,Hn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Vn(e,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},Wn=Hn,Gn=d.type,qn=function(e){if("number"==Gn(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Yn=E,Xn=_,$n=p,Jn=d.type,Qn=Wn;Xn.prototype.num=function(){return Qn(this._rgb)},Yn.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Xn,[null].concat(e,["num"])))},$n.format.num=qn,$n.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Jn(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var er=E,tr=_,nr=p,rr=d.unpack,ir=d.type,or=Math.round;tr.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(or)},tr.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,n){return n<3?!1===e?t:or(t):t}))},er.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(tr,[null].concat(e,["rgb"])))},nr.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=rr(e,"rgba");return void 0===n[3]&&(n[3]=1),n},nr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=rr(e,"rgba"),"array"===ir(e)&&(3===e.length||4===e.length&&"number"==ir(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var ar=Math.log,sr=function(e){var t,n,r,i=e/100;return i<66?(t=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*ar(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*ar(r)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*ar(t),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*ar(n),r=255),[t,n,r,1]},ur=sr,lr=d.unpack,cr=Math.round,hr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,r=lr(e,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,u=.4;s-a>u;){var l=ur(n=.5*(s+a));l[2]/l[0]>=o/i?s=n:a=n}return cr(n)},fr=E,dr=_,pr=p,vr=hr;dr.prototype.temp=dr.prototype.kelvin=dr.prototype.temperature=function(){return vr(this._rgb)},fr.temp=fr.kelvin=fr.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(dr,[null].concat(e,["temp"])))},pr.format.temp=pr.format.kelvin=pr.format.temperature=sr;var gr=d.unpack,mr=Math.cbrt,yr=Math.pow,br=Math.sign,_r=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=gr(e,"rgb"),r=n[0],i=n[1],o=n[2],a=[Er(r/255),Er(i/255),Er(o/255)],s=a[0],u=a[1],l=a[2],c=mr(.4122214708*s+.5363325363*u+.0514459929*l),h=mr(.2119034982*s+.6806995451*u+.1073969566*l),f=mr(.0883024619*s+.2817188376*u+.6299787005*l);return[.2104542553*c+.793617785*h-.0040720468*f,1.9779984951*c-2.428592205*h+.4505937099*f,.0259040371*c+.7827717662*h-.808675766*f]},wr=_r;function Er(e){var t=Math.abs(e);return t<.04045?e/12.92:(br(e)||1)*yr((t+.055)/1.055,2.4)}var Sr=d.unpack,xr=Math.pow,Mr=Math.sign,kr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Sr(e,"lab"))[0],r=e[1],i=e[2],o=xr(n+.3963377774*r+.2158037573*i,3),a=xr(n-.1055613458*r-.0638541728*i,3),s=xr(n-.0894841775*r-1.291485548*i,3);return[255*Tr(4.0767416621*o-3.3077115913*a+.2309699292*s),255*Tr(-1.2684380046*o+2.6097574011*a-.3413193965*s),255*Tr(-.0041960863*o-.7034186147*a+1.707614701*s),e.length>3?e[3]:1]},Ar=kr;function Tr(e){var t=Math.abs(e);return t>.0031308?(Mr(e)||1)*(1.055*xr(t,1/2.4)-.055):12.92*e}var Pr=d.unpack,Or=d.type,Cr=E,Rr=_,Lr=p,Ir=wr;Rr.prototype.oklab=function(){return Ir(this._rgb)},Cr.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Rr,[null].concat(e,["oklab"])))},Lr.format.oklab=Ar,Lr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Pr(e,"oklab"),"array"===Or(e)&&3===e.length)return"oklab"}});var Dr=d.unpack,jr=wr,Nr=cn,Br=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Dr(e,"rgb"),r=n[0],i=n[1],o=n[2],a=jr(r,i,o),s=a[0],u=a[1],l=a[2];return Nr(s,u,l)},zr=Br,Zr=d.unpack,Fr=wn,Ur=Ar,Kr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=Zr(e,"lch"))[0],r=e[1],i=e[2],o=Fr(n,r,i),a=o[0],s=o[1],u=o[2],l=Ur(a,s,u);return[l[0],l[1],l[2],e.length>3?e[3]:1]},Vr=Kr,Hr=d.unpack,Wr=d.type,Gr=E,qr=_,Yr=p,Xr=zr;qr.prototype.oklch=function(){return Xr(this._rgb)},Gr.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(qr,[null].concat(e,["oklch"])))},Yr.format.oklch=Vr,Yr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Hr(e,"oklch"),"array"===Wr(e)&&3===e.length)return"oklch"}});var $r=_,Jr=d.type;$r.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Jr(e)?t?(this._rgb[3]=e,this):new $r([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},_.prototype.clipped=function(){return this._rgb._clipped||!1};var Qr=_,ei=Dt;Qr.prototype.darken=function(e){void 0===e&&(e=1);var t=this,n=t.lab();return n[0]-=ei.Kn*e,new Qr(n,"lab").alpha(t.alpha(),!0)},Qr.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},Qr.prototype.darker=Qr.prototype.darken,Qr.prototype.brighter=Qr.prototype.brighten,_.prototype.get=function(e){var t=e.split("."),n=t[0],r=t[1],i=this[n]();if(r){var o=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var ti=_,ni=d.type,ri=Math.pow,ii=1e-7,oi=20;ti.prototype.luminance=function(e){if(void 0!==e&&"number"===ni(e)){if(0===e)return new ti([0,0,0,this._rgb[3]],"rgb");if(1===e)return new ti([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n="rgb",r=oi,i=function t(i,o){var a=i.interpolate(o,.5,n),s=a.luminance();return Math.abs(e-s)<ii||!r--?a:s>e?t(i,a):t(a,o)},o=(t>e?i(new ti([0,0,0]),this):i(this,new ti([255,255,255]))).rgb();return new ti(o.concat([this._rgb[3]]))}return ai.apply(void 0,this._rgb.slice(0,3))};var ai=function(e,t,n){return.2126*(e=si(e))+.7152*(t=si(t))+.0722*(n=si(n))},si=function(e){return(e/=255)<=.03928?e/12.92:ri((e+.055)/1.055,2.4)},ui={},li=_,ci=d.type,hi=ui,fi=function(e,t,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(hi[o]||r.length||(o=Object.keys(hi)[0]),!hi[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==ci(e)&&(e=new li(e)),"object"!==ci(t)&&(t=new li(t)),hi[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))},di=_,pi=fi;di.prototype.mix=di.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return pi.apply(void 0,[this,e,t].concat(n))};var vi=_;vi.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new vi([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};var gi=_,mi=Dt;gi.prototype.saturate=function(e){void 0===e&&(e=1);var t=this,n=t.lch();return n[1]+=mi.Kn*e,n[1]<0&&(n[1]=0),new gi(n,"lch").alpha(t.alpha(),!0)},gi.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var yi=_,bi=d.type;yi.prototype.set=function(e,t,n){void 0===n&&(n=!1);var r=e.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o)-("ok"===i.substr(0,2)?2:0);if(s>-1){if("string"==bi(t))switch(t.charAt(0)){case"+":case"-":a[s]+=+t;break;case"*":a[s]*=+t.substr(1);break;case"/":a[s]/=+t.substr(1);break;default:a[s]=+t}else{if("number"!==bi(t))throw new Error("unsupported value for Color.set");a[s]=t}var u=new yi(a,i);return n?(this._rgb=u._rgb,this):u}throw new Error("unknown channel "+o+" in mode "+i)}return a};var _i=_,wi=function(e,t,n){var r=e._rgb,i=t._rgb;return new _i(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};ui.rgb=wi;var Ei=_,Si=Math.sqrt,xi=Math.pow,Mi=function(e,t,n){var r=e._rgb,i=r[0],o=r[1],a=r[2],s=t._rgb,u=s[0],l=s[1],c=s[2];return new Ei(Si(xi(i,2)*(1-n)+xi(u,2)*n),Si(xi(o,2)*(1-n)+xi(l,2)*n),Si(xi(a,2)*(1-n)+xi(c,2)*n),"rgb")};ui.lrgb=Mi;var ki=_,Ai=function(e,t,n){var r=e.lab(),i=t.lab();return new ki(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};ui.lab=Ai;var Ti=_,Pi=function(e,t,n,r){var i,o,a,s,u,l,c,h,f,d,p,v,g;return"hsl"===r?(a=e.hsl(),s=t.hsl()):"hsv"===r?(a=e.hsv(),s=t.hsv()):"hcg"===r?(a=e.hcg(),s=t.hcg()):"hsi"===r?(a=e.hsi(),s=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=e.hcl(),s=t.hcl()):"oklch"===r&&(a=e.oklch().reverse(),s=t.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(u=(i=a)[0],c=i[1],f=i[2],l=(o=s)[0],h=o[1],d=o[2]),isNaN(u)||isNaN(l)?isNaN(u)?isNaN(l)?v=Number.NaN:(v=l,1!=f&&0!=f||"hsv"==r||(p=h)):(v=u,1!=d&&0!=d||"hsv"==r||(p=c)):v=u+n*(l>u&&l-u>180?l-(u+360):l<u&&u-l>180?l+360-u:l-u),void 0===p&&(p=c+n*(h-c)),g=f+n*(d-f),new Ti("oklch"===r?[g,p,v]:[v,p,g],r)},Oi=Pi,Ci=function(e,t,n){return Oi(e,t,n,"lch")};ui.lch=Ci,ui.hcl=Ci;var Ri=_,Li=function(e,t,n){var r=e.num(),i=t.num();return new Ri(r+n*(i-r),"num")};ui.num=Li;var Ii=Pi,Di=function(e,t,n){return Ii(e,t,n,"hcg")};ui.hcg=Di;var ji=Pi,Ni=function(e,t,n){return ji(e,t,n,"hsi")};ui.hsi=Ni;var Bi=Pi,zi=function(e,t,n){return Bi(e,t,n,"hsl")};ui.hsl=zi;var Zi=Pi,Fi=function(e,t,n){return Zi(e,t,n,"hsv")};ui.hsv=Fi;var Ui=_,Ki=function(e,t,n){var r=e.oklab(),i=t.oklab();return new Ui(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};ui.oklab=Ki;var Vi=Pi,Hi=function(e,t,n){return Vi(e,t,n,"oklch")};ui.oklch=Hi;var Wi=_,Gi=d.clip_rgb,qi=Math.pow,Yi=Math.sqrt,Xi=Math.PI,$i=Math.cos,Ji=Math.sin,Qi=Math.atan2,eo=function(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var r=e.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(e,t){return e+t}));if(n.forEach((function(e,t){n[t]*=i})),e=e.map((function(e){return new Wi(e)})),"lrgb"===t)return to(e,n);for(var o=e.shift(),a=o.get(t),s=[],u=0,l=0,c=0;c<a.length;c++)if(a[c]=(a[c]||0)*n[0],s.push(isNaN(a[c])?0:n[0]),"h"===t.charAt(c)&&!isNaN(a[c])){var h=a[c]/180*Xi;u+=$i(h)*n[0],l+=Ji(h)*n[0]}var f=o.alpha()*n[0];e.forEach((function(e,r){var i=e.get(t);f+=e.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o]))if(s[o]+=n[r+1],"h"===t.charAt(o)){var c=i[o]/180*Xi;u+=$i(c)*n[r+1],l+=Ji(c)*n[r+1]}else a[o]+=i[o]*n[r+1]}));for(var d=0;d<a.length;d++)if("h"===t.charAt(d)){for(var p=Qi(l/s[d],u/s[d])/Xi*180;p<0;)p+=360;for(;p>=360;)p-=360;a[d]=p}else a[d]=a[d]/s[d];return f/=r,new Wi(a,t).alpha(f>.99999?1:f,!0)},to=function(e,t){for(var n=e.length,r=[0,0,0,0],i=0;i<e.length;i++){var o=e[i],a=t[i]/n,s=o._rgb;r[0]+=qi(s[0],2)*a,r[1]+=qi(s[1],2)*a,r[2]+=qi(s[2],2)*a,r[3]+=s[3]*a}return r[0]=Yi(r[0]),r[1]=Yi(r[1]),r[2]=Yi(r[2]),r[3]>.9999999&&(r[3]=1),new Wi(Gi(r))},no=E,ro=d.type,io=Math.pow,oo=function(e){var t="rgb",n=no("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,u=[],l=!1,c=0,h=1,f=!1,d={},p=!0,v=1,g=function(e){if((e=e||["#fff","#000"])&&"string"===ro(e)&&no.brewer&&no.brewer[e.toLowerCase()]&&(e=no.brewer[e.toLowerCase()]),"array"===ro(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=no(e[t]);o.length=0;for(var n=0;n<e.length;n++)o.push(n/(e.length-1))}return w(),u=e},m=function(e){if(null!=s){for(var t=s.length-1,n=0;n<t&&e>=s[n];)n++;return n-1}return 0},y=function(e){return e},b=function(e){return e},_=function(e,r){var i,l;if(null==r&&(r=!1),isNaN(e)||null===e)return n;l=r?e:s&&s.length>2?m(e)/(s.length-2):h!==c?(e-c)/(h-c):1,l=b(l),r||(l=y(l)),1!==v&&(l=io(l,v)),l=a[0]+l*(1-a[0]-a[1]),l=Math.min(1,Math.max(0,l));var f=Math.floor(1e4*l);if(p&&d[f])i=d[f];else{if("array"===ro(u))for(var g=0;g<o.length;g++){var _=o[g];if(l<=_){i=u[g];break}if(l>=_&&g===o.length-1){i=u[g];break}if(l>_&&l<o[g+1]){l=(l-_)/(o[g+1]-_),i=no.interpolate(u[g],u[g+1],l,t);break}}else"function"===ro(u)&&(i=u(l));p&&(d[f]=i)}return i},w=function(){return d={}};g(e);var E=function(e){var t=no(_(e));return l&&t[l]?t[l]():t};return E.classes=function(e){if(null!=e){if("array"===ro(e))s=e,i=[e[0],e[e.length-1]];else{var t=no.analyze(i);s=0===e?[t.min,t.max]:no.limits(t,"e",e)}return E}return s},E.domain=function(e){if(!arguments.length)return i;c=e[0],h=e[e.length-1],o=[];var t=u.length;if(e.length===t&&c!==h)for(var n=0,r=Array.from(e);n<r.length;n+=1){var a=r[n];o.push((a-c)/(h-c))}else{for(var s=0;s<t;s++)o.push(s/(t-1));if(e.length>2){var l=e.map((function(t,n){return n/(e.length-1)})),f=e.map((function(e){return(e-c)/(h-c)}));f.every((function(e,t){return l[t]===e}))||(b=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=f[t+1];)t++;var n=(e-f[t])/(f[t+1]-f[t]);return l[t]+n*(l[t+1]-l[t])})}}return i=[c,h],E},E.mode=function(e){return arguments.length?(t=e,w(),E):t},E.range=function(e,t){return g(e),E},E.out=function(e){return l=e,E},E.spread=function(e){return arguments.length?(r=e,E):r},E.correctLightness=function(e){return null==e&&(e=!0),f=e,w(),y=f?function(e){for(var t=_(0,!0).lab()[0],n=_(1,!0).lab()[0],r=t>n,i=_(e,!0).lab()[0],o=t+(n-t)*e,a=i-o,s=0,u=1,l=20;Math.abs(a)>.01&&l-- >0;)r&&(a*=-1),a<0?(s=e,e+=.5*(u-e)):(u=e,e+=.5*(s-e)),i=_(e,!0).lab()[0],a=i-o;return e}:function(e){return e},E},E.padding=function(e){return null!=e?("number"===ro(e)&&(e=[e,e]),a=e,E):a},E.colors=function(t,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=u.slice(0);else if(1===t)r=[E(.5)];else if(t>1){var o=i[0],a=i[1]-o;r=ao(0,t,!1).map((function(e){return E(o+e/(t-1)*a)}))}else{e=[];var l=[];if(s&&s.length>2)for(var c=1,h=s.length,f=1<=h;f?c<h:c>h;f?c++:c--)l.push(.5*(s[c-1]+s[c]));else l=i;r=l.map((function(e){return E(e)}))}return no[n]&&(r=r.map((function(e){return e[n]()}))),r},E.cache=function(e){return null!=e?(p=e,E):p},E.gamma=function(e){return null!=e?(v=e,E):v},E.nodata=function(e){return null!=e?(n=no(e),E):n},E};function ao(e,t,n){for(var r=[],i=e<t,o=n?i?t+1:t-1:t,a=e;i?a<o:a>o;i?a++:a--)r.push(a);return r}var so=_,uo=oo,lo=function(e){for(var t=[1,1],n=1;n<e;n++){for(var r=[1],i=1;i<=t.length;i++)r[i]=(t[i]||0)+t[i-1];t=r}return t},co=function(e){var t,n,r,i,o,a,s;if(2===(e=e.map((function(e){return new so(e)}))).length)t=e.map((function(e){return e.lab()})),o=t[0],a=t[1],i=function(e){var t=[0,1,2].map((function(t){return o[t]+e*(a[t]-o[t])}));return new so(t,"lab")};else if(3===e.length)n=e.map((function(e){return e.lab()})),o=n[0],a=n[1],s=n[2],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*s[t]}));return new so(t,"lab")};else if(4===e.length){var u;r=e.map((function(e){return e.lab()})),o=r[0],a=r[1],s=r[2],u=r[3],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*u[t]}));return new so(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var l,c,h;l=e.map((function(e){return e.lab()})),h=e.length-1,c=lo(h),i=function(e){var t=1-e,n=[0,1,2].map((function(n){return l.reduce((function(r,i,o){return r+c[o]*Math.pow(t,h-o)*Math.pow(e,o)*i[n]}),0)}));return new so(n,"lab")}}return i},ho=function(e){var t=co(e);return t.scale=function(){return uo(t)},t},fo=E,po=function e(t,n,r){if(!e[r])throw new Error("unknown blend mode "+r);return e[r](t,n)},vo=function(e){return function(t,n){var r=fo(n).rgb(),i=fo(t).rgb();return fo.rgb(e(r,i))}},go=function(e){return function(t,n){var r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r}},mo=function(e){return e},yo=function(e,t){return e*t/255},bo=function(e,t){return e>t?t:e},_o=function(e,t){return e>t?e:t},wo=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},Eo=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},So=function(e,t){return 255*(1-(1-t/255)/(e/255))},xo=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e};po.normal=vo(go(mo)),po.multiply=vo(go(yo)),po.screen=vo(go(wo)),po.overlay=vo(go(Eo)),po.darken=vo(go(bo)),po.lighten=vo(go(_o)),po.dodge=vo(go(xo)),po.burn=vo(go(So));for(var Mo=po,ko=d.type,Ao=d.clip_rgb,To=d.TWOPI,Po=Math.pow,Oo=Math.sin,Co=Math.cos,Ro=E,Lo=function(e,t,n,r,i){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===ko(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var u=To*((e+120)/360+t*s),l=Po(i[0]+o*s,r),c=(0!==a?n[0]+s*a:n)*l*(1-l)/2,h=Co(u),f=Oo(u);return Ro(Ao([255*(l+c*(-.14861*h+1.78277*f)),255*(l+c*(-.29227*h-.90649*f)),255*(l+c*(1.97294*h)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:("array"===ko(n=e)?0===(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(e){return null==e?i:("array"===ko(e)?(i=e,o=e[1]-e[0]):(i=[e,e],o=0),s)},s.scale=function(){return Ro.scale(s)},s.hue(n),s},Io=_,Do="0123456789abcdef",jo=Math.floor,No=Math.random,Bo=function(){for(var e="#",t=0;t<6;t++)e+=Do.charAt(jo(16*No()));return new Io(e,"hex")},zo=s,Zo=Math.log,Fo=Math.pow,Uo=Math.floor,Ko=Math.abs,Vo=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===zo(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===zo(e)&&(e=e[t]),void 0===e||null===e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(e,t){return Ho(n,e,t)},n},Ho=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==zo(e)&&(e=Vo(e));var r=e.min,i=e.max,o=e.values.sort((function(e,t){return e-t}));if(1===n)return[r,i];var a=[];if("c"===t.substr(0,1)&&(a.push(r),a.push(i)),"e"===t.substr(0,1)){a.push(r);for(var s=1;s<n;s++)a.push(r+s/n*(i-r));a.push(i)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var u=Math.LOG10E*Zo(r),l=Math.LOG10E*Zo(i);a.push(r);for(var c=1;c<n;c++)a.push(Fo(10,u+c/n*(l-u)));a.push(i)}else if("q"===t.substr(0,1)){a.push(r);for(var h=1;h<n;h++){var f=(o.length-1)*h/n,d=Uo(f);if(d===f)a.push(o[d]);else{var p=f-d;a.push(o[d]*(1-p)+o[d+1]*p)}}a.push(i)}else if("k"===t.substr(0,1)){var v,g=o.length,m=new Array(g),y=new Array(n),b=!0,_=0,w=null;(w=[]).push(r);for(var E=1;E<n;E++)w.push(r+E/n*(i-r));for(w.push(i);b;){for(var S=0;S<n;S++)y[S]=0;for(var x=0;x<g;x++)for(var M=o[x],k=Number.MAX_VALUE,A=void 0,T=0;T<n;T++){var P=Ko(w[T]-M);P<k&&(k=P,A=T),y[A]++,m[x]=A}for(var O=new Array(n),C=0;C<n;C++)O[C]=null;for(var R=0;R<g;R++)null===O[v=m[R]]?O[v]=o[R]:O[v]+=o[R];for(var L=0;L<n;L++)O[L]*=1/y[L];b=!1;for(var I=0;I<n;I++)if(O[I]!==w[I]){b=!0;break}w=O,++_>200&&(b=!1)}for(var D={},j=0;j<n;j++)D[j]=[];for(var N=0;N<g;N++)D[v=m[N]].push(o[N]);for(var B=[],z=0;z<n;z++)B.push(D[z][0]),B.push(D[z][D[z].length-1]);B=B.sort((function(e,t){return e-t})),a.push(B[0]);for(var Z=1;Z<B.length;Z+=2){var F=B[Z];isNaN(F)||-1!==a.indexOf(F)||a.push(F)}}return a},Wo={analyze:Vo,limits:Ho},Go=_,qo=function(e,t){e=new Go(e),t=new Go(t);var n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},Yo=_,Xo=Math.sqrt,$o=Math.pow,Jo=Math.min,Qo=Math.max,ea=Math.atan2,ta=Math.abs,na=Math.cos,ra=Math.sin,ia=Math.exp,oa=Math.PI,aa=function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);var o=function(e){return 360*e/(2*oa)},a=function(e){return 2*oa*e/360};e=new Yo(e),t=new Yo(t);var s=Array.from(e.lab()),u=s[0],l=s[1],c=s[2],h=Array.from(t.lab()),f=h[0],d=h[1],p=h[2],v=(u+f)/2,g=(Xo($o(l,2)+$o(c,2))+Xo($o(d,2)+$o(p,2)))/2,m=.5*(1-Xo($o(g,7)/($o(g,7)+$o(25,7)))),y=l*(1+m),b=d*(1+m),_=Xo($o(y,2)+$o(c,2)),w=Xo($o(b,2)+$o(p,2)),E=(_+w)/2,S=o(ea(c,y)),x=o(ea(p,b)),M=S>=0?S:S+360,k=x>=0?x:x+360,A=ta(M-k)>180?(M+k+360)/2:(M+k)/2,T=1-.17*na(a(A-30))+.24*na(a(2*A))+.32*na(a(3*A+6))-.2*na(a(4*A-63)),P=k-M;P=ta(P)<=180?P:k<=M?P+360:P-360,P=2*Xo(_*w)*ra(a(P)/2);var O=f-u,C=w-_,R=1+.015*$o(v-50,2)/Xo(20+$o(v-50,2)),L=1+.045*E,I=1+.015*E*T,D=30*ia(-$o((A-275)/25,2)),j=-2*Xo($o(E,7)/($o(E,7)+$o(25,7)))*ra(2*a(D)),N=Xo($o(O/(n*R),2)+$o(C/(r*L),2)+$o(P/(i*I),2)+j*(C/(r*L))*(P/(i*I)));return Qo(0,Jo(100,N))},sa=_,ua=function(e,t,n){void 0===n&&(n="lab"),e=new sa(e),t=new sa(t);var r=e.get(n),i=t.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},la=_,ca=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(la,[null].concat(e))),!0}catch(n){return!1}},ha=E,fa=oo,da={cool:function(){return fa([ha.hsl(180,1,.9),ha.hsl(250,.7,.4)])},hot:function(){return fa(["#000","#f00","#ff0","#fff"]).mode("rgb")}},pa={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},va=0,ga=Object.keys(pa);va<ga.length;va+=1){var ma=ga[va];pa[ma.toLowerCase()]=pa[ma]}var ya=pa,ba=E;return ba.average=eo,ba.bezier=ho,ba.blend=Mo,ba.cubehelix=Lo,ba.mix=ba.interpolate=fi,ba.random=Bo,ba.scale=oo,ba.analyze=Wo.analyze,ba.contrast=qo,ba.deltaE=aa,ba.distance=ua,ba.limits=Wo.limits,ba.valid=ca,ba.scales=da,ba.colors=Nn,ba.brewer=ya,ba}()},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},9388:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1120),i=n(8814),o=n(2963);function a(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1002),i=n(7326);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(9199),o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},4946:function(e){"use strict";e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},5207:function(e){"use strict";e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:function(e){"use strict";e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},9799:function(e){"use strict";e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},9968:function(e){"use strict";e.exports=JSON.parse('{"name":"dotenv","version":"16.2.0","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"types":"./lib/main.d.ts","require":"./lib/main.js","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","lint-readme":"standard-markdown","pretest":"npm run lint && npm run dts-check","test":"tap tests/*.js --100 -Rspec","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"funding":"https://github.com/motdotla/dotenv?sponsor=1","keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3","decache":"^4.6.1","sinon":"^14.0.1","standard":"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0","tap":"^16.3.0","tar":"^6.1.11","typescript":"^4.8.4"},"engines":{"node":">=12"},"browser":{"fs":false}}')},8597:function(e){"use strict";e.exports={i8:"6.5.4"}},2562:function(e){"use strict";e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{default:function(){return Nre}});var t=n(2791),r=n.t(t,2),i=n(1250),o=n(7248),a=n(327),s=n(4164);var u=function(e){e()},l=function(){return u},c=null;var h=new Proxy({},new Proxy({},{get:function(e,n){var r=(c||(c=(0,t.createContext)(null)),c);return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return Reflect[n].apply(Reflect,[r].concat(i))}}}));function f(e){if(Array.isArray(e))return e}var d=n(181);function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){return f(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(YJ){l=!0,i=YJ}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||(0,d.Z)(e,t)||p()}var g=n(3433);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var b=n(2110),_=n.n(b),w=n(7441),E=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function S(e,t,n,r,i){var o,a,s,u,l,c=i.areStatesEqual,h=i.areOwnPropsEqual,f=i.areStatePropsEqual,d=!1;function p(i,d){var p=!h(d,a),v=!c(i,o,d,a);return o=i,a=d,p&&v?(s=e(o,a),t.dependsOnOwnProps&&(u=t(r,a)),l=n(s,u,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(r,a)),l=n(s,u,a)):v?function(){var t=e(o,a),r=!f(t,s);return s=t,r&&(l=n(s,u,a)),l}():l}return function(i,c){return d?p(i,c):(s=e(o=i,a=c),u=t(r,a),l=n(s,u,a),d=!0,l)}}function x(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function M(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function k(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=M(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=M(i),i=r(t,n)),i},r}}function A(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function T(e,t,n){return m({},n,e,t)}var P={notify:function(){},get:function(){return[]}};function O(e,t){var n,r=P;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=l(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=P)},getListeners:function(){return r}};return a}var C=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;function R(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function L(e,t){if(R(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!R(e[n[i]],t[n[i]]))return!1;return!0}var I=["reactReduxForwardedRef"],D=function(){throw new Error("uSES not initialized!")},j=[null,null];function N(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function B(e,t){return e===t}var z=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(i.pure,i.areStatesEqual),a=void 0===o?B:o,s=i.areOwnPropsEqual,u=void 0===s?L:s,l=i.areStatePropsEqual,c=void 0===l?L:l,f=i.areMergedPropsEqual,d=void 0===f?L:f,p=i.forwardRef,b=void 0!==p&&p,M=i.context,P=void 0===M?h:M,R=function(e){return e?"function"===typeof e?k(e):A(e,"mapStateToProps"):x((function(){return{}}))}(e),z=function(e){return e&&"object"===typeof e?x((function(t){return function(e,t){var n={},r=function(){var r=e[i];"function"===typeof r&&(n[i]=function(){return t(r.apply(void 0,arguments))})};for(var i in e)r();return n}(e,t)})):e?"function"===typeof e?k(e):A(e,"mapDispatchToProps"):x((function(e){return{dispatch:e}}))}(n),Z=function(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,o=!1;return function(t,n,a){var s=e(t,n,a);return o?i(s,r)||(r=s):(o=!0,r=s),r}}}(e):A(e,"mergeProps"):function(){return T}}(r),F=Boolean(e);return function(e){var n=e.displayName||e.name||"Component",r="Connect(".concat(n,")"),i={shouldHandleStateChanges:F,displayName:r,wrappedComponentName:n,WrappedComponent:e,initMapStateToProps:R,initMapDispatchToProps:z,initMergeProps:Z,areStatesEqual:a,areStatePropsEqual:c,areOwnPropsEqual:u,areMergedPropsEqual:d};function o(n){var r=(0,t.useMemo)((function(){var e=n.reactReduxForwardedRef,t=y(n,I);return[n.context,e,t]}),[n]),o=v(r,3),a=o[0],s=o[1],u=o[2],l=(0,t.useMemo)((function(){return a&&a.Consumer&&(0,w.isContextConsumer)(t.createElement(a.Consumer,null))?a:P}),[a,P]),c=(0,t.useContext)(l),h=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),f=Boolean(c)&&Boolean(c.store);var d=h?n.store:c.store,p=f?c.getServerState:d.getState,b=(0,t.useMemo)((function(){return function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=y(t,E);return S(n(e,o),r(e,o),i(e,o),e,o)}(d.dispatch,i)}),[d]),_=(0,t.useMemo)((function(){if(!F)return j;var e=O(d,h?void 0:c.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,h,c]),x=v(_,2),M=x[0],k=x[1],A=(0,t.useMemo)((function(){return h?c:m({},c,{subscription:M})}),[h,c,M]),T=(0,t.useRef)(),R=(0,t.useRef)(u),L=(0,t.useRef)(),B=(0,t.useRef)(!1),z=((0,t.useRef)(!1),(0,t.useRef)(!1)),Z=(0,t.useRef)();C((function(){return z.current=!0,function(){z.current=!1}}),[]);var U,K,V,H,W=(0,t.useMemo)((function(){return function(){return L.current&&u===R.current?L.current:b(d.getState(),u)}}),[d,u]),G=(0,t.useMemo)((function(){return function(e){return M?function(e,t,n,r,i,o,a,s,u,l,c){if(!e)return function(){};var h=!1,f=null,d=function(){if(!h&&s.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(U1){n=U1,f=U1}n||(f=null),e===o.current?a.current||l():(o.current=e,u.current=e,a.current=!0,c())}};return n.onStateChange=d,n.trySubscribe(),d(),function(){if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}(F,d,M,b,R,T,B,z,L,k,e):function(){}}}),[M]);U=N,K=[R,T,B,u,L,k],C((function(){return U.apply(void 0,(0,g.Z)(K))}),V);try{H=D(G,W,p?function(){return b(p(),u)}:W)}catch(YJ){throw Z.current&&(YJ.message+="\nThe error may be correlated with this previous error:\n".concat(Z.current.stack,"\n\n")),YJ}C((function(){Z.current=void 0,L.current=void 0,T.current=H}));var q=(0,t.useMemo)((function(){return t.createElement(e,m({},H,{ref:s}))}),[s,e,H]);return(0,t.useMemo)((function(){return F?t.createElement(l.Provider,{value:A},q):q}),[l,q,A])}var s=t.memo(o);if(s.WrappedComponent=e,s.displayName=o.displayName=r,b){var l=t.forwardRef((function(e,n){return t.createElement(s,m({},e,{reactReduxForwardedRef:n}))}));return l.displayName=r,l.WrappedComponent=e,_()(l,e)}return _()(s,e)}};var Z=function(e){var n=e.store,r=e.context,i=e.children,o=e.serverState,a=e.stabilityCheck,s=void 0===a?"once":a,u=e.noopCheck,l=void 0===u?"once":u,c=(0,t.useMemo)((function(){var e=O(n);return{store:n,subscription:e,getServerState:o?function(){return o}:void 0,stabilityCheck:s,noopCheck:l}}),[n,o,s,l]),f=(0,t.useMemo)((function(){return n.getState()}),[n]);C((function(){var e=c.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),f!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[c,f]);var d=r||h;return t.createElement(d.Provider,{value:c},i)};var F,U;F=a.useSyncExternalStoreWithSelector,function(e){D=e}(o.useSyncExternalStore),U=s.unstable_batchedUpdates,u=U;var K,V=n(1413);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(K||(K={}));var H=function(e){return e};var W="beforeunload",G="popstate";function q(e,t,n){return Math.min(Math.max(e,t),n)}function Y(e){e.preventDefault(),e.returnValue=""}function X(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function $(){return Math.random().toString(36).substr(2,8)}function J(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function Q(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ee(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var te=ee();te.withExtraArgument=ee;var ne=te,re=n(4942),ie=n(763),oe=n.n(ie),ae=n(7643),se=n.n(ae),ue=n(2426),le=n.n(ue),ce=n(8101),he=n.n(ce),fe=n(4245);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=5,ge="data",me=he();function ye(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ve,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ge,s=e.apiBackendProtocol+"://"+se().join(e.apiBackendHost,e.apiBackendPath,t);return r&&(s+="?"+fe.stringify(r)),me(s,{method:n,credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:i?JSON.stringify(i):null}).then((function(e){var t=e.headers.get("Content-type");if(e.ok&&t&&-1!==t.indexOf("application/json"))return e.json().then((function(t){if(null===a||a&&oe().get(t,a))return pe(pe({},t),{},{status:e.status});throw new Error("no data returned")}));throw new Error("response error")}),(function(a){if(!(o-1))throw a;ye(e,t,n,r,i,o-1)}))}var be=n(2012),_e=n.n(be);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=_e()([function(e){return e},function(e,t){return t},function(e,t,n){return n}],(function(e,t,n){if(e){var r=(0,ie.find)(e,(function(e){return xe(e,t,n)}));return r||null}return null}))((function(e,t,n){return"".concat(JSON.stringify(t)).concat(JSON.stringify(n))}));function xe(e,t,n){return(0,ie.isEqual)(e.filter||null,t||null)&&(0,ie.isEqual)(e.order||null,n||null)}function Me(e){return(0,ie.isNumber)(e)&&e>0&&e%1===0}function ke(e){return Me(null===e||void 0===e?void 0:e.start)&&Me(null===e||void 0===e?void 0:e.length)}function Ae(e){return e.filter((function(e){return ke(e)}))}function Te(e){return(0,ie.sortBy)(Ae(e),["start","length"])}function Pe(e,t){return!(!ke(e)||!ke(t))&&t.start<=e.start+e.length}var Oe={convertModifiersToRequestFriendlyFormat:function(e){if(e){var t={};return(e.scopeKey||null===e.scopeKey)&&(t.scopeKey=e.scopeKey),e.placeKeys?t.placeKey={in:e.placeKeys}:(e.placeKey||null===e.placeKey)&&(t.placeKey=e.placeKey),e.caseKeys?t.caseKey={in:e.caseKeys}:(e.caseKey||null===e.caseKey)&&(t.caseKey=e.caseKey),e.scenarioKeys?t.scenarioKey={in:e.scenarioKeys}:(e.scenarioKey||null===e.scenarioKey)&&(t.scenarioKey=e.scenarioKey),e.periodKeys?t.periodKey={in:e.periodKeys}:(e.periodKey||null===e.periodKey)&&(t.periodKey=e.periodKey),(e.applicationKey||null===e.applicationKey)&&(t.applicationKey=e.applicationKey),(0,ie.isEmpty)(t)?null:t}return null},removeIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e&&!(0,ie.isEmpty)(e)){var r=(0,ie.reduce)(e,(function(e,r){return xe(r,t,n)?e:[].concat((0,g.Z)(e),[r])}),[]);return r.length===e.length?e:r}return e},getActiveKeysByFilterByActiveHelper:function(e,t){if(e&&!(0,ie.isEmpty)(e)){var n={};return e.scope&&t.activeScopeKey&&(n.scopeKey=t.activeScopeKey),e.place&&(t.activePlaceKey?n.placeKey=t.activePlaceKey:t.activePlaceKeys&&(n.placeKeys=t.activePlaceKeys)),e.scenario&&(t.activeScenarioKey?n.scenarioKey=t.activeScenarioKey:t.activeScenarioKeys&&(n.scenarioKeys=t.activeScenarioKeys)),e.case&&(t.activeCaseKey?n.caseKey=t.activeCaseKey:t.activeCaseKeys&&(n.caseKeys=t.activeCaseKeys)),e.period&&(t.activePeriodKey?n.periodKey=t.activePeriodKey:t.activePeriodKeys&&(n.periodKeys=t.activePeriodKeys)),e.attribute&&(t.activeAttributeKey?n.attributeKey=t.activeAttributeKey:t.activeAttributeKeys&&(n.attributeKeys=t.activeAttributeKeys)),e.layerTemplate&&t.activeLayerTemplateKey&&(n.layerTemplateKey=t.activeLayerTemplateKey),e.areaTreeLevel&&t.activeAreaTreeLevelKey&&(n.areaTreeLevelKey=t.activeAreaTreeLevelKey),e.application&&t.activeApplicationKey&&(n.applicationKey=t.activeApplicationKey),(0,ie.isEmpty)(n)?null:n}return null},getIndex:Se,getUniqueIndexes:function(e){return(0,ie.isEmpty)(e)?null:e.reduce((function(e,t){return(0,ie.find)(e,(function(e){return e&&xe(t,e.filter,e.order)}))?e:[].concat((0,g.Z)(e),[t])}),[])},getUpdatedIndexes:function(e,t,n,r,i){var o,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"indexes",s=[],u={};return e[a]&&e[a].forEach((function(e){(0,ie.isEqual)(e.filter,t)&&(0,ie.isEqual)(e.order,n)?u=e:s.push(e)})),r.length&&(o=Ee({},u.index),r.forEach((function(e,t){if(e.key)o[t]=e.key;else for(var n=0,r=Object.entries(e);n<r.length;n++){var i=v(r[n],2),a=i[0],s=i[1];Object.hasOwn(o,a)&&o[a]?o[a]=Ee(Ee({},o[a]),s):o[a]=Ee({},s)}}))),u={filter:u.filter||t,order:u.order||n,changedOn:i,index:o||u.index},s.push(u),s},getUpdatedByDataSourceKey:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ee({},e),r=0,i=Object.entries(t);r<i.length;r++){var o=v(i[r],2),a=o[0],s=o[1];n=Object.hasOwn(n,a)?Ee(Ee({},n),{},(0,re.Z)({},a,Ee(Ee({},n[a]),s))):Ee(Ee({},n),{},(0,re.Z)({},a,Ee({},s)))}return n},mergeFilters:function(e,t,n){if(e&&t){var r={};t.application&&e.activeApplicationKey&&(r.applicationKey=e.activeApplicationKey),t.case&&(e.activeCaseKey?r.caseKey=e.activeCaseKey:e.activeCaseKeys&&(r.caseKey={in:e.activeCaseKeys})),t.scope&&e.activeScopeKey&&(r.scopeKey=e.activeScopeKey),t.scenario&&(e.activeScenarioKey?r.scenarioKey=e.activeScenarioKey:e.activeScenarioKeys&&(r.scenarioKey={in:e.activeScenarioKeys})),t.place&&(e.activePlaceKey?r.placeKey=e.activePlaceKey:e.activePlaceKeys&&(r.placeKey={in:e.activePlaceKeys})),t.period&&(e.activePeriodKey?r.periodKey=e.activePeriodKey:e.activePeriodKeys&&(r.periodKey={in:e.activePeriodKeys})),t.attribute&&(e.activeAttributeKey?r.attributeKey=e.activeAttributeKey:e.activeAttributeKeys&&(r.attributeKey={in:e.activeAttributeKeys})),t.layerTemplate&&e.activeLayerTemplateKey&&(r.layerTemplateKey=e.activeLayerTemplateKey),t.areaTreeLevel&&e.activeAreaTreeLevelKey&&(r.areaTreeLevelKey=e.activeAreaTreeLevelKey);var i=Ee(Ee({},r),n);return(0,ie.isEmpty)(i)?null:i}return n},mergeMetadataKeys:function(e,t){return e&&t?Ee(Ee({},t),e):e||t||null},isCorrespondingIndex:xe,itemFitFilter:function(e,t){return null===e||Object.entries(e).every((function(e){var n=v(e,2),r=n[0],i=n[1],o=(null===t||void 0===t?void 0:t.data)&&Object.hasOwn(t.data,r),a=t.data&&Object.hasOwn(t.data,"".concat(r,"Key"));if(o){if(t.data&&t.data[r]===i)return!0;if((0,ie.isObject)(i)&&i.like)return!0;if((0,ie.isObject)(i)&&i.in)return i.in.includes(t.data[r]);if((0,ie.isObject)(i)&&i.notin)return!i.notin.includes(t.data[r])}return!(!a||!t.data||t.data["".concat(r,"Key")]!==i)}))},registerModelsToIndex:function(e,t,n){return null!==t&&void 0!==t&&t.length&&e&&n>-1?(t.forEach((function(t,r){e[n+r]=t.key})),e):e},areIntervalsOverlappedOrSubsequent:Pe,isInterval:ke,isNaturalNumber:Me,getValidIntervals:Ae,getSortedValidIntervals:Te,mergeIntervals:function(e){var t=Te(e);return 0===t.length?null:(0,ie.tail)(t).reduce((function(e,t){var n=e.pop();if(Pe(n,t)){var r=Math.max(n.start+n.length,t.start+t.length);return[].concat((0,g.Z)(e),[{start:n.start,length:r-n.start}])}return[].concat((0,g.Z)(e),[n,t])}),[(0,ie.head)(t)])}},Ce=n(6916),Re=n(4529),Le=n(3236),Ie=n.n(Le),De={serialize:function(e){return Ie()(e)}};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ne=function(e){return function(t){return e(t).activeKey}},Be=function(e){return function(t){return e(t).activeKeys}},ze=function(e){return function(t){return e(t).byKey}},Ze=function(e){return function(t){var n;return null===(n=e(t).inUse)||void 0===n?void 0:n.keys}},Fe=function(e){return function(t){var n;return null===(n=e(t).inUse)||void 0===n?void 0:n.indexes}},Ue=function(e){return function(t){return e(t).editedByKey}},Ke=function(e){return function(t){return e(t).indexes}},Ve=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"indexes";return(0,ie.get)(e(t),n)}},He=function(e){return(0,Ce.createSelector)([ze(e)],(function(e){return e?(0,ie.pickBy)(e,(function(e){return!Object.hasOwn(e,"removed")})):null}))},We=function(e){return _e()([He(e),function(e,t){return t}],(function(e,t){return t&&e&&!(0,ie.isEmpty)(e)&&e[t]?e[t]:null}))((function(e,t){return t}))},Ge=function(e){return _e()([He(e),function(e,t){return t}],(function(e,t){if(t&&t.length&&e&&!(0,ie.isEmpty)(e)){var n=(0,ie.pick)(e,t);return(0,ie.isEmpty)(n)?null:n}return null}))((function(e,t){return"".concat(t)}))},qe=function(e){return _e()([Ue(e),function(e,t){return t}],(function(e,t){return t&&e&&!(0,ie.isEmpty)(e)&&e[t]?e[t]:null}))((function(e,t){return t}))},Ye=function(e){return(0,Ce.createSelector)([Ke(e),function(e,t){return t},function(e,t,n){return n}],(function(e,t,n){return Oe.getIndex(e,t,n)}))},Xe=function(e){return _e()([Ze(e),function(e,t){return t}],(function(e,t){return e&&t&&e[t]&&e[t].length?e[t]:null}))((function(e,t){return"".concat(t)}))},$e=function(e){return(0,Ce.createSelector)([Fe(e),Je],(function(e,t){var n=[],r=[];return(0,ie.isEmpty)(e)||(0,ie.each)(e,(function(e){e.forEach((function(e){var r=Oe.mergeFilters(t,e.filterByActive,e.filter),i=(0,ie.find)(n,(function(t){return(0,ie.isEqual)(t.filter,r)&&(0,ie.isEqual)(t.order,e.order)}));i?i.inUse.push({start:e.start,length:e.length}):n.push({filter:r,order:e.order,inUse:[{start:e.start,length:e.length}]})}))})),(0,ie.isEmpty)(n)||(0,ie.each)(n,(function(e){var t;if(null!==e&&void 0!==e&&null!==(t=e.inUse)&&void 0!==t&&t.length){var n=Oe.mergeIntervals(e.inUse);n&&r.push({filter:e.filter,order:e.order,uses:n})}})),r.length?r:null}))},Je=(0,Ce.createSelector)([function(e){var t;return null===(t=e.scopes)||void 0===t?void 0:t.activeKey},function(e){var t;return null===(t=e.cases)||void 0===t?void 0:t.activeKey},function(e){var t;return null===(t=e.cases)||void 0===t?void 0:t.activeKeys},function(e){var t;return null===(t=e.scenarios)||void 0===t?void 0:t.activeKey},function(e){var t;return null===(t=e.scenarios)||void 0===t?void 0:t.activeKeys},function(e){var t;return null===(t=e.places)||void 0===t?void 0:t.activeKey},function(e){var t;return null===(t=e.places)||void 0===t?void 0:t.activeKeys},function(e){var t;return null===(t=e.periods)||void 0===t?void 0:t.activeKey},function(e){var t;return null===(t=e.periods)||void 0===t?void 0:t.activeKeys},function(e){var t;return null===(t=e.attributes)||void 0===t?void 0:t.activeKey},function(e){var t;return null===(t=e.attributes)||void 0===t?void 0:t.activeKeys},function(e){var t;return null===(t=e.layerTemplates)||void 0===t?void 0:t.activeKey},function(e){var t,n;return null===(t=e.areas)||void 0===t||null===(n=t.areaTreeLevels)||void 0===n?void 0:n.activeKey},function(e){var t;return null===(t=e.specific)||void 0===t?void 0:t.apps},function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.key}],(function(e,t,n,r,i,o,a,s,u,l,c,h,f,d,p){var v={activeScopeKey:e||null,activeCaseKey:t||null,activeCaseKeys:n||null,activeScenarioKey:r||null,activeScenarioKeys:i||null,activePlaceKey:o||null,activePlaceKeys:a||null,activePeriodKey:s||null,activePeriodKeys:u||null,activeAttributeKey:l||null,activeAttributeKeys:c||null,activeLayerTemplateKey:h||null,activeAreaTreeLevelKey:f||null};return d?v.activeApplicationKey=d.activeKey:p&&(v.activeApplicationKey=p),v})),Qe=_e()([Je,function(e,t){return t}],(function(e,t){return Oe.getActiveKeysByFilterByActiveHelper(t,e)}))((function(e,t){return JSON.stringify(t)})),et=(0,Re.zo)(Je),tt=(0,Re.zo)(Qe),nt=(0,Re.zo)((function(e,t){return Ke(t)(e)})),rt=(0,Re.P1)((function(e){var t=et();return Oe.getActiveKeysByFilterByActiveHelper(e,t)}),De),it=(0,Re.P1)((function(e,t){var n=e?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e):{},r=null;return t&&(r=tt(t)),Oe.mergeMetadataKeys(n,r)})),ot=(0,Re.P1)((function(e,t){var n=it(e,t);return Oe.convertModifiersToRequestFriendlyFormat(n)})),at=(0,Re.P1)((function(e){var t,n,r={},i=ot(null===e||void 0===e?void 0:e.metadataModifiers,null===e||void 0===e?void 0:e.filterByActive);(0,ie.isEmpty)(i)||(r.modifiers=i);var o=null;null!==e&&void 0!==e&&e.filterByActive&&(o=tt(null===e||void 0===e?void 0:e.filterByActive));var a=(null===e||void 0===e?void 0:e.layerTemplateKey)||(null===(t=o)||void 0===t?void 0:t.layerTemplateKey),s=(null===e||void 0===e?void 0:e.areaTreeLevelKey)||(null===(n=o)||void 0===n?void 0:n.areaTreeLevelKey);return a?r.layerTemplateKey=a:s&&(r.areaTreeLevelKey=s),r})),st={getActive:function(e){return(0,Ce.createSelector)([He(e),Ne(e)],(function(e,t){return(null===e||void 0===e?void 0:e[t])||null}))},getActiveKey:Ne,getActiveKeys:Be,getActiveModels:function(e){return(0,Ce.createSelector)([He(e),Be(e)],(function(e,t){var n=[];return e&&!(0,ie.isEmpty)(e)&&t&&!(0,ie.isEmpty)(t)&&t.map((function(t){var r=e[t];r&&n.push(r)})),n.length?n:null}))},getAll:function(e){return(0,Ce.createSelector)([He(e)],(function(e){return e?Object.values(e):null}))},getAllAsObject:He,getAllByKey:ze,getByKey:We,getByKeysAsObject:Ge,getByKeys:function(e){return _e()([Ge(e)],(function(e){return e?Object.values(e):null}))((function(e,t){return"".concat(t)}))},getDataByKey:function(e){return(0,Ce.createSelector)([We(e)],(function(e){return(null===e||void 0===e?void 0:e.data)||null}))},getDeletePermissionByKey:function(e){return(0,Ce.createSelector)([We(e)],(function(e){var t,n,r,i;return(null===e||void 0===e||null===(t=e.permissions)||void 0===t||null===(n=t.activeUser)||void 0===n?void 0:n.delete)||(null===e||void 0===e||null===(r=e.permissions)||void 0===r||null===(i=r.guest)||void 0===i?void 0:i.delete)||!1}))},getEditedActive:function(e){return(0,Ce.createSelector)([Ue(e),Ne(e)],(function(e,t){return(null===e||void 0===e?void 0:e[t])||null}))},getEditedAll:function(e){return(0,Ce.createSelector)([Ue(e)],(function(e){return e?Object.values(e):null}))},getEditedAllAsObject:Ue,getEditedByKey:qe,getEditedDataByKey:function(e){return(0,Ce.createSelector)([qe(e)],(function(e){return(null===e||void 0===e?void 0:e.data)||null}))},getEditedKeys:function(e){return(0,Ce.createSelector)([Ue(e)],(function(e){return e&&!(0,ie.isEmpty)(e)?Object.keys(e):null}))},getIndex:Ye,getIndexByPath:function(e){return(0,Ce.createSelector)([Ve(e),function(e,t,n){return n},function(e,t,n,r){return r}],(function(e,t,n){return Oe.getIndex(e,t,n)}))},getIndexed:function(e){return _e()([He(e),Ke(e),Je,function(e,t){return t},function(e,t,n){return n},function(e,t,n,r){return r},function(e,t,n,r,i){return i},function(e,t,n,r,i,o){return o}],(function(e,t,n,r,i,o,a,s){if(e&&t){var u=Oe.mergeFilters(n,r,i),l=Oe.getIndex(t,u,o);if(null!==l&&void 0!==l&&l.index){var c=[];a=a||1,s=s||l.count;for(var h=Math.min(a+s-1,l.count),f=a;f<=h;f++){var d=l.index[f];if(d){var p=e[d];p?c.push(p):c.push({key:d})}else c.push(null)}return c.length?c:null}return null}return null}))((function(e,t,n,r,i,o){return"".concat(JSON.stringify(t),":").concat(JSON.stringify(n),":").concat(JSON.stringify(r),":").concat(i,":").concat(o)}))},getIndexes:Ke,getIndexesByPath:Ve,getIndexChangedOn:function(e){return(0,Ce.createSelector)([Ye(e)],(function(e){return(null===e||void 0===e?void 0:e.changedOn)||null}))},getIndexPage:function(e){return(0,Ce.createSelector)([Ye(e),function(e,t,n,r){return r},function(e,t,n,r,i){return i}],(function(e,t,n){if(null!==e&&void 0!==e&&e.index&&t&&n){for(var r={},i=t;i<t+n&&i<=e.count;i++){var o=e.index[i];r[i]=o||null}return r}return null}))},getIndexTotal:function(e){return(0,Ce.createSelector)([Ye(e)],(function(e){return(null===e||void 0===e?void 0:e.count)>-1?e.count:null}))},getIndexesByFilteredItem:function(e){return(0,Ce.createSelector)([Ke(e),function(e,t){return t}],(function(e,t){return(0,ie.isEmpty)(e)?null:e.filter((function(e){return Oe.itemFitFilter(e.filter,t)}))}))},getKeysInUse:Ze,getKeysToLoad:function(e){return(0,Ce.createSelector)([He(e),function(e,t){return t}],(function(e,t){if(t&&t.length){if(e){var n=t.filter((function(t){return!e[t]||e[t].outdated}));return n.length?n:null}return t}return null}))},getStateToSave:function(e){return function(t){var n=e(t).activeKey;if(n)return{activeKey:n};var r=e(t).activeKeys;return r?{activeKeys:r}:{}}},getUpdatePermissionByKey:function(e){return(0,Ce.createSelector)([We(e)],(function(e){var t,n,r,i;return(null===e||void 0===e||null===(t=e.permissions)||void 0===t||null===(n=t.activeUser)||void 0===n?void 0:n.update)||(null===e||void 0===e||null===(r=e.permissions)||void 0===r||null===(i=r.guest)||void 0===i?void 0:i.update)||!1}))},getUsedIndexPage:function(e){return _e()($e(e),(function(e,t){return t}),(function(e,t,n){return n}),(function(e,t,n){return e?(0,ie.find)(e,{filter:t,order:n}):null}))((function(e,t,n){var r=JSON.stringify(n),i=JSON.stringify((0,ie.map)(t,(function(e,t){return"".concat(t,":").concat(e)})).sort());return"".concat(r,":").concat(i)}))},getUsedIndexPages:$e,getUsedKeysForComponent:Xe,getUsesWithActiveDependency:function(e){return(0,Ce.createSelector)([Fe(e),Je,function(e,t){return t}],(function(e,t,n){var r=[],i=[];return n&&!(0,ie.isEmpty)(e)?((0,ie.map)(e,(function(e){(0,ie.map)(e,(function(e){if((0,ie.reduce)(n,(function(t,n,r){return t&&n&&e.filterByActive&&e.filterByActive[r]}),!0)){var i=Oe.mergeFilters(t,e.filterByActive,e.filter),o=(0,ie.find)(r,(function(t){return(0,ie.isEqual)(t.filter,i)&&(0,ie.isEqual)(t.order,e.order)}));o?o.inUse.push({start:e.start,length:e.length}):r.push({filter:i,order:e.order,inUse:[{start:e.start,length:e.length}]})}}))})),(0,ie.isEmpty)(r)||(0,ie.map)(r,(function(e){var t;if(null!==e&&void 0!==e&&null!==(t=e.inUse)&&void 0!==t&&t.length){var n=Oe.mergeIntervals(e.inUse);n&&i.push({filter:e.filter,order:e.order,uses:n})}})),i.length?i:null):null}))},haveAllKeysRegisteredUse:function(e){return _e()([Xe(e),function(e,t,n){return n}],(function(e,t){return!(!e||null===t||void 0===t||!t.length)&&!(0,ie.difference)(t,e).length}))((function(e,t,n){return"".concat(t,"_").concat(n)}))},getActiveKeysByFilterByActive:Qe,getAllActiveKeys:Je,getActiveKeysByFilterByActiveObserver:tt,getIndexesObserver:nt,getAllActiveKeysObserver:et,getIndex_recompute:function(e){return(0,Re.P1)((function(t,n){var r=nt(e);return r?Oe.getIndex(r,t,n):null}))},getActiveKeysByFilterByActive_recompute:rt,getCommmonDataRelationsFilterFromComponentState_recompute:at,getMergedModifiers_recompute:it,getMergedModifiersInRequestFormat_recompute:ot},ut=function(e){return e.app.configuration},lt=function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.localConfiguration},ct=(0,Re.zo)(lt),ht=(0,Ce.createSelector)([ut,function(e,t){return t}],(function(e,t){return oe().get(e,t,null)})),ft=(0,Ce.createSelector)([lt,function(e,t){return t}],(function(e,t){return oe().get(e,t,null)})),dt={getKey:function(e){return e.app.key},getConfiguration:ht,getCompleteConfiguration:ut,getLocalConfiguration:ft,getCompleteLocalConfiguration:lt,getCompleteLocalConfigurationObserver:ct},pt=function(e){return e.areas.areaTreeLevels},vt=st.getAll(pt),gt=st.getAllAsObject(pt),mt=st.getActiveKey(pt),yt=st.getActive(pt),bt=function(e){return e.areas.areaTrees},_t={areaTreeLevels:{getIndexed:st.getIndexed(pt),getAll:vt,getAllAsObject:gt,getActiveKey:mt,getActive:yt,getSubstate:pt},areaTrees:{getAll:st.getAll(bt),getAllAsObject:st.getAllAsObject(bt),getActiveKey:st.getActiveKey(bt),getActive:st.getActive(bt),getByKeys:st.getByKeys(bt),getByKeysAsObject:st.getByKeysAsObject(bt),getSubstate:bt}},wt=function(e){return e.areaRelations},Et={getSubstate:wt,getIndex:st.getIndex(wt)},St=function(e){return e.attributes},xt=st.getAll(St),Mt={getActive:st.getActive(St),getActiveKey:st.getActiveKey(St),getActiveKeys:st.getActiveKeys(St),getActiveModels:st.getActiveModels(St),getAll:xt,getAllAsObject:st.getAllAsObject(St),getByKey:st.getByKey(St),getByKeys:st.getByKeys(St),getByKeysAsObject:st.getByKeysAsObject(St),getDataByKey:st.getDataByKey(St),getDeletePermissionByKey:st.getDeletePermissionByKey(St),getEditedActive:st.getEditedActive(St),getEditedAll:st.getEditedAll(St),getEditedAllAsObject:st.getEditedAllAsObject(St),getEditedByKey:st.getEditedByKey(St),getEditedDataByKey:st.getEditedDataByKey(St),getEditedKeys:st.getEditedKeys(St),getIndexed:st.getIndexed(St),getUpdatePermissionByKey:st.getUpdatePermissionByKey(St),getUsedKeysForComponent:st.getUsedKeysForComponent(St),getStateToSave:st.getStateToSave(St),getSubstate:St,haveAllKeysRegisteredUse:st.haveAllKeysRegisteredUse(St)},kt=function(e){return e.attributeSets},At=st.getAll(kt),Tt=st.getAllAsObject(kt),Pt=st.getActiveKeys(kt),Ot=st.getActiveKeys(kt),Ct=st.getActiveModels(kt),Rt={getActive:st.getActive(kt),getActiveKey:Pt,getActiveKeys:Ot,getActiveModels:Ct,getAll:At,getAllAsObject:Tt,getByKey:st.getByKey(kt),getByKeys:st.getByKeys(kt),getByKeysAsObject:st.getByKeysAsObject(kt),getDataByKey:st.getDataByKey(kt),getDeletePermissionByKey:st.getDeletePermissionByKey(kt),getEditedActive:st.getEditedActive(kt),getEditedAll:st.getEditedAll(kt),getEditedAllAsObject:st.getEditedAllAsObject(kt),getEditedByKey:st.getEditedByKey(kt),getEditedDataByKey:st.getEditedDataByKey(kt),getEditedKeys:st.getEditedKeys(kt),getIndexed:st.getIndexed(kt),getStateToSave:st.getStateToSave(kt),getSubstate:kt,getUpdatePermissionByKey:st.getUpdatePermissionByKey(kt),getUsedKeysForComponent:st.getUsedKeysForComponent(kt),haveAllKeysRegisteredUse:st.haveAllKeysRegisteredUse(kt)},Lt=function(e){return e.cases},It=st.getAll(Lt),Dt=st.getAllAsObject(Lt),jt={getActive:st.getActive(Lt),getActiveKey:st.getActiveKey(Lt),getActiveKeys:st.getActiveKeys(Lt),getActiveModels:st.getActiveModels(Lt),getAll:It,getAllAsObject:Dt,getByKey:st.getByKey(Lt),getByKeys:st.getByKeys(Lt),getByKeysAsObject:st.getByKeysAsObject(Lt),getDataByKey:st.getDataByKey(Lt),getDeletePermissionByKey:st.getDeletePermissionByKey(Lt),getEditedActive:st.getEditedActive(Lt),getEditedAll:st.getEditedAll(Lt),getEditedAllAsObject:st.getEditedAllAsObject(Lt),getEditedByKey:st.getEditedByKey(Lt),getEditedDataByKey:st.getEditedDataByKey(Lt),getEditedKeys:st.getEditedKeys(Lt),getIndexed:st.getIndexed(Lt),getStateToSave:st.getStateToSave(Lt),getSubstate:Lt,getUpdatePermissionByKey:st.getUpdatePermissionByKey(Lt),getUsedKeysForComponent:st.getUsedKeysForComponent(Lt),haveAllKeysRegisteredUse:st.haveAllKeysRegisteredUse(Lt)},Nt=function(e){return e.components},Bt=(0,Re.zo)(Nt),zt=(0,Ce.createSelector)([Nt,function(e,t){return t}],(function(e,t){return e&&t&&e[t]?e[t]:null})),Zt=(0,Re.zo)(zt),Ft=(0,Re.P1)((function(e){if(e){var t=Bt();return(0,ie.isEmpty)(t)?null:t[e]||null}return null})),Ut=(0,Ce.createSelector)([zt,function(e,t,n){return n}],(function(e,t){return(0,ie.get)(e,t,null)})),Kt={get:Ut,getAllByKeyObserver:Bt,getByComponentKey:zt,getByComponentKeyObserver:Zt,getByComponentKey_recompute:Ft,getStateToSave:Nt,getSubstate:Nt},Vt=n(5671),Ht=n(3144),Wt=function(){function e(t){(0,Vt.Z)(this,e),this.data=[],this.maxSize=t||100}return(0,Ht.Z)(e,[{key:"add",value:function(e){this.data.push(e),this.size()>this.maxSize&&this.remove()}},{key:"remove",value:function(){this.data.shift()}},{key:"addOrUpdate",value:function(e){var t=this.findIndexByKey(e.cacheKey);-1!==t?this.data[t]=e:this.add(e)}},{key:"first",value:function(){return this.data[0]}},{key:"last",value:function(){return this.data[this.data.length-1]}},{key:"size",value:function(){return this.data.length}},{key:"findIndexByKey",value:function(e){return(0,ie.findIndex)(this.data,{cacheKey:e})}},{key:"findByKey",value:function(e){return(0,ie.find)(this.data,{cacheKey:e})}}]),e}(),Gt=6371008.8,qt={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*Gt,kilometers:6371.0088,kilometres:6371.0088,meters:Gt,metres:Gt,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:Gt/1852,radians:1,yards:6967335.223679999};function Yt(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function Xt(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Qt(e[0])||!Qt(e[1]))throw new Error("coordinates must contain numbers");return Yt({type:"Point",coordinates:e},t,n)}function $t(e,t){void 0===t&&(t="kilometers");var n=qt[t];if(!n)throw new Error(t+" units is invalid");return e*n}function Jt(e){return e%360*Math.PI/180}function Qt(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function en(e,t,n){if(null!==e)for(var r,i,o,a,s,u,l,c,h=0,f=0,d=e.type,p="FeatureCollection"===d,v="Feature"===d,g=p?e.features.length:1,m=0;m<g;m++){s=(c=!!(l=p?e.features[m].geometry:v?e.geometry:e)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var y=0;y<s;y++){var b=0,_=0;if(null!==(a=c?l.geometries[y]:l)){u=a.coordinates;var w=a.type;switch(h=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===t(u,f,m,b,_))return!1;f++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===t(u[r],f,m,b,_))return!1;f++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-h;i++){if(!1===t(u[r][i],f,m,b,_))return!1;f++}"MultiLineString"===w&&b++,"Polygon"===w&&_++}"Polygon"===w&&b++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(_=0,i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-h;o++){if(!1===t(u[r][i][o],f,m,b,_))return!1;f++}_++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===en(a.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function tn(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function nn(e){var t=[1/0,1/0,-1/0,-1/0];return en(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}nn.default=nn;var rn=nn;var on=function(e,t){void 0===t&&(t={});var n=rn(e);return Xt([(n[0]+n[2])/2,(n[1]+n[3])/2],t.properties,t)},an=n(9286),sn=n.n(an),un=n(2742),ln=n.n(un),cn=n(9430),hn=n.n(cn),fn=(n(6364),n(298),n(2007)),dn=n.n(fn),pn=n(1002);function vn(e,t){if(null==e)return{};var n,r,i=y(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gn(e){var t=function(e,t){if("object"!==(0,pn.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==(0,pn.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,pn.Z)(t)?t:String(t)}var mn={addItem:function(e,t){return[].concat((0,g.Z)(e),[t])},addItemToIndex:function(e,t,n){return[].concat((0,g.Z)(e.slice(0,t)),[n],(0,g.Z)(e.slice(t)))},removeItemByIndex:function(e,t){return[].concat((0,g.Z)(e.slice(0,t)),(0,g.Z)(e.slice(t+1)))},removeItemByKey:function(e,t){e[t];return vn(e,[t].map(gn))},replaceItemOnIndex:function(e,t,n){return[].concat((0,g.Z)(e.slice(0,t)),[n],(0,g.Z)(e.slice(t+1)))}},yn=(function(){var e={}}(),n(1694)),bn=n.n(yn),_n=n(8340),wn=n(1426),En={apiGeoserverWFSProtocol:"http",apiGeoserverWFSHost:"localhost",apiGeoserverWFSPath:"geoserver/wfs",apiGeoserverWMSProtocol:"http",apiGeoserverWMSHost:"localhost",apiGeoserverWMSPath:"geoserver/wms",apiGeoserverOWSPath:"backend/geoserver/ows",apiBackendProtocol:"http",apiBackendHost:"localhost",apiBackendPath:"backend",apiBackendAoiLayerPeriodsPath:"backend/rest/imagemosaic/getDates",apiBackendSzifPath:"backend/rest/szif/case",devHostnames:[],requestPageSize:100};function Sn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xn(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mn=function(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+window.pageYOffset-n.clientTop,left:t.left+window.pageXOffset-n.clientLeft}},kn=function(e,t,n){var r=e[0]-t>=n[0],i=e[1]+t<=n[1],o=e[2]+t<=n[2],a=e[3]-t>=n[3];return!(r&&i&&o&&a)},An=function(e,t,n,r,i,o,a,s,u){var l=null;switch(e){case"top":var c=function(e,t,n,r,i,o,a,s){var u,l,c=(i?i.getBoundingClientRect().top:t)-o-r,h=(i?Mn(i).top:t)-o-r;switch(s){case"center":l=-n/2;break;case"corner":l=0}var f=e+l+n+o>a[1],d=e+l-o<a[3];return{position:{posX:u=f?a[1]-o-n:d?a[3]+o:e+l,posY:c},boundingRect:[h,u+n,h+r,u]}}(t,n,r,i,o,a,s,u);l={position:c,conflict:kn(c.boundingRect,a,s)};break;case"bottom":var h=function(e,t,n,r,i,o,a,s){var u,l,c=(i?i.getBoundingClientRect().top+i.offsetHeight:t)+o,h=(i?Mn(i).top+i.offsetHeight:t)+o;switch(s){case"center":l=-n/2;break;case"corner":l=0}var f=e+l+n+o>a[1],d=e+l-o<a[3];return{position:{posX:u=f?a[1]-o-n:d?a[3]+o:e+l,posY:c},boundingRect:[h,u+n,h+r,u]}}(t,n,r,i,o,a,s,u);l={position:h,conflict:kn(h.boundingRect,a,s)};break;case"left":var f=function(e,t,n,r,i,o,a,s){var u,l,c=(i?Mn(i).left:e)-o-n;switch(s){case"center":l=-r/2;break;case"corner":l=0}var h=t+l-o<a[0],f=t+l+r+o>a[2];return{position:{posX:c,posY:u=h?a[0]+o:f?a[2]-o-r:t+l},boundingRect:[u+r,c+n,u,c]}}(t,n,r,i,o,a,s,u);l={position:f,conflict:kn(f.boundingRect,a,s)};break;case"right":var d=function(e,t,n,r,i,o,a,s){var u,l,c=(i?Mn(i).left+i.offsetWidth:e)+o;switch(s){case"center":l=-r/2;break;case"corner":l=0}var h=t+l-o<a[0],f=t+l+r+o>a[2];return{position:{posX:c,posY:u=h?a[0]+o:f?a[2]-o-r:t+l},boundingRect:[u+r,c+n,u,c]}}(t,n,r,i,o,a,s,u);l={position:d,conflict:kn(d.boundingRect,a,s)}}return l},Tn=function(e,t,n,r){return function(i,o,a,s,u){var l,c=null,h=Sn(t);try{for(h.s();!(l=h.n()).done;){var f=l.value,d=An(f,i,o,a,s,u,r,n,e);if(!d.conflict){c={top:d.position.position.posY,left:d.position.position.posX,width:a};break}}}catch(YJ){h.e(YJ)}finally{h.f()}if(!c){var p=An("right",i,o,a,s,u,r,n,"corner");c={top:p.position.position.posY,left:p.position.position.posX,width:a}}return c}};function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cn=function(e){var n=e.x,r=e.y,i=e.content,o=e.getStyle,a=e.hoveredElement,s=e.compressed,u=e.children,l=(0,t.useRef)(),c=v((0,t.useState)(null),2),h=c[0],f=c[1],d=v((0,t.useState)(null),2),p=d[0],g=d[1],m=function(){var e=n,t=r,i=window.innerWidth-20,u=window.innerHeight+window.pageYOffset-window.pageYOffset-20,c=l.current,f=p||250,d=h||0,v=null;return v="function"===typeof o&&a?o()(e,t,f,d,a):function(){var e=window.document.documentElement.scrollTop,t=window.document.documentElement.scrollLeft,n=window.document.documentElement.clientHeight,r=window.document.documentElement.clientWidth;return Tn("corner",["right","left","top","bottom"],[e,t+r,e+n,t],15)}()(e,t,f,d),(s||d>u)&&(f=500),f>i&&(f=i),c&&0!==c.offsetWidth&&0!==c.offsetHeight?On({},v):On(On({},v),{},{position:"absolute",overfloat:"auto"})}(),y=bn()("ptr-popup",{compressed:s});return l&&!l.current?m.display="none":(delete m.position,delete m.overfloat),(0,t.useEffect)((function(){var e=null===l||void 0===l?void 0:l.current;if(e){var t=new ResizeObserver((function(){var e,t,n,r;(null===(e=l.current)||void 0===e?void 0:e.offsetWidth)===p&&(null===(t=l.current)||void 0===t?void 0:t.offsetHeight)===h||(f(null===l||void 0===l||null===(n=l.current)||void 0===n?void 0:n.offsetHeight),g(null===l||void 0===l||null===(r=l.current)||void 0===r?void 0:r.offsetWidth))}));return t.observe(e),function(){t.disconnect()}}}),[]),t.createElement("div",{ref:l,style:On({},m),className:y},i?(0,t.cloneElement)(i):u)};Cn.propTypes={children:dn().node,compressed:dn().bool,content:dn().element,getStyle:dn().func,hoveredElement:dn().oneOfType([dn().element,dn().object]),x:dn().number,y:dn().number};dn().node,dn().array,dn().bool,dn().oneOfType([dn().element,dn().func]),dn().func,dn().string,dn().object;var Rn=function(e,t){return e.map((function(e){return e*Math.cos(Math.PI*t/180)}))},Ln=Rn([156543.033928041,78271.51696402048,39135.75848201023,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.7481131407048,152.8740565703525,76.43702828517624,38.21851414258813,19.10925707129406,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395,.2985821417389697,.1492910708694849,.07464553543474244,.03732276771737122,.01866138385868561,.0093306919293428],50),In={averageLatitude:50,defaultLevelsRange:[0,19],defaultMapView:{center:{lat:50.099577,lon:14.42596},boxRange:1e7,tilt:0,roll:0,heading:0},getPixelSizeInLevelsForLatitude:Rn,maxBoxRange:5e7,minBoxRange:1,numberOfLevels:20,pixelSizeInLevels:Ln,zoomCoefficient:250},Dn=wn&&wn.release&&"node"===wn.release.name,jn={timeout:1e4};function Nn(e){return function(){return function(t){return function(n){var r=t(n);return r instanceof Promise&&(e.onRequest(),r.finally((function(){return e.onResponse()}))),r}}}}var Bn=function(e){return e%1?e.toString().split(".")[1].length:0},zn=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},Zn={countDecimals:Bn,degToRadians:function(e){return Math.PI*e/180},radiansToDeg:function(e){return 180*e/Math.PI},round:zn,roundHigher:function(e,t){var n=zn(e,t),r=Bn(n)||1,i=Math.pow(10,r+1),o=Math.round(10)/i;return zn(n+o,t)}},Fn=6378137,Un=20048966.1,Kn=-20048966.1,Vn=85.06,Hn=-85.06;var Wn={coordinates3857To4326:function(e){var t=e.x,n=e.y;return n>Un?n=Un:n<Kn&&(n=Kn),{lon:Zn.radiansToDeg(t/Fn),lat:Zn.radiansToDeg(Math.asin(Math.tanh(n/Fn)))}},coordinates4326To3857:function(e){var t=e.lat,n=e.lon;return t>Vn?t=Vn:t<Hn&&(t=Hn),{x:Zn.degToRadians(n)*Fn,y:Math.atanh(Math.sin(Zn.degToRadians(t)))*Fn}}};function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yn(e,t,n){return Xn((e-1)/er(t,n))}function Xn(e){for(var t=In.pixelSizeInLevels,n=0;e<=t[n+1]&&n<t.length;)n++;return n}function $n(e,t){var n=Math.abs(e.maxLat-e.minLat),r=Math.abs(e.maxLon-e.minLon),i=125e3*Math.max(n,r);return t&&(i/=Math.cos(t*Math.PI/180)),i>1e3?i:1e3}function Jn(e,t,n){return er(t,n)*Qn(e)-1}function Qn(e){return In.pixelSizeInLevels[e]}function er(e,t){return e&&e>-1&&t&&t>-1?Math.min(t,e):null}var tr={ensureViewIntegrity:function(e){return e&&(e.heading&&e.heading>360&&(e.heading=e.heading%360),e.heading&&e.heading<0&&(e.heading=360- -e.heading%360),e.tilt&&e.tilt<0&&(e.tilt=0),e.tilt&&e.tilt>90&&(e.tilt=90),e.range&&e.range<.01&&(e.range=.01),e.center&&(e.center.lat&&(e.center.lat>90?e.center.lat=90:e.center.lat<-90&&(e.center.lat=-90)),e.center.lon&&((e.center.lon>360||e.center.lon<-360)&&(e.center.lon%=360),e.center.lon>180?e.center.lon=e.center.lon-180-180:e.center.lon<-180?e.center.lon=180+(e.center.lon+180):-180===e.center.lon&&(e.center.lon=180)))),e},mergeViews:_e()([function(e){return e},function(e,t){return t},function(e,t,n){return n}],(function(e,t,n){return n=n||{},qn(qn(qn({},e),t),n)}))((function(e,t,n){return"".concat(e,"_").concat(t,"_").concat(n||"")})),getBoundingBoxFromViewForEpsg3857:function(e,t,n,r){r&&r%90!==0&&(t/=Math.cos(Zn.degToRadians(r)));var i=n>1?t:t/n,o=n<=1?t:t*n,a=Wn.coordinates4326To3857(e),s=a.x,u=a.y,l=s-o/2,c=s+o/2,h=u-i/2,f=u+i/2,d=Wn.coordinates3857To4326({x:l,y:h}),p=Wn.coordinates3857To4326({x:c,y:f});return{minLat:d.lat,minLon:d.lon,maxLat:p.lat,maxLon:p.lon}},getBoxRangeFromZoomLevel:Jn,getNearestZoomLevelBoxRange:function(e,t,n){return Jn(Yn(n,e,t),e,t)},getMapViewportRange:er,getPixelSizeFromZoomLevel:Qn,getViewFromBoundingBox:function(e,t){(0,ie.isArray)(e)&&(e={minLat:e[1],minLon:e[0],maxLat:e[3],maxLon:e[2]});var n={lat:(e.maxLat+e.minLat)/2,lon:(e.maxLon+e.minLon)/2};return{center:n,boxRange:$n(e,t?n.lat:null)}},getViewFromGeometry:function(e,t){var n=on(e),r=rn(e),i=$n({minLat:r[1],minLon:r[0],maxLat:r[3],maxLon:r[2]},t?n.geometry.coordinates[1]:null);return{center:{lat:n.geometry.coordinates[1],lon:n.geometry.coordinates[0]},boxRange:i}},getZoomLevelFromBoxRange:Yn,getZoomLevelFromPixelSize:Xn};for(var nr={view:tr,projections:Wn,getLocationFromPlaceString:function(e){var t=1e5,n=null,r=null;if(e.length){var i=Number(e[0]);if(isNaN(i))return fetch("https://open.mapquestapi.com/nominatim/v1/search.php?key=2qc94oOJwV6p7KaClJVSoLyevmPsLqlS&format=json&q="+e+"&limit=1",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(i){var o=i.headers.get("Content-type");if(i.ok&&o&&-1!==o.indexOf("application/json"))return i.json().then((function(i){if(i.length){var o=i[0];if(n=Number(o.lat),r=Number(o.lon),o.boundingbox){var a=o.boundingbox;t=tr.getBoxRangeFromBoundingBox({minLat:a[0],maxLat:a[1],minLon:a[2],maxLon:a[3]})}if((n||0===n)&&(r||0===r))return{boxRange:t,center:{lat:n,lon:r}}}else console.warn("utils/map#getLocationFromPlaceString: No location found for input: ",e)}));console.warn("utils/map#getLocationFromPlaceString: No location found for input: ",e)}),(function(e){throw e}));var o=e.split(/[,; ]/);if(o.length&&(n=Number(o[0]),r=o[1]?Number(o[1]):0),(n||0===n)&&(r||0===r))return Promise.resolve({boxRange:t,center:{lat:n,lon:r}});console.warn("utils/map#getLocationFromPlaceString: No location found for input: ",e)}else console.warn("utils/map#getLocationFromPlaceString: Empty input string!")},mergeLayers:function(e,t){return e&&t?[].concat((0,g.Z)(e),(0,g.Z)(t)):e||t||null},resetHeading:function e(t,n,r){(t%=360)<0&&(t+=360),r||(r=3,t>120&&t<240?r=5:t>60&&t<300&&(r=8),(t>0&&t<180||t<0&&t<-180)&&(r=-r)),setTimeout((function(){Math.abs(t)>Math.abs(r)?(n(t+=r),e(t,n,r)):n(t=0)}),20)}},rr=n(1761),ir=n.n(rr),or=n(109),ar=n.n(or),sr=n(3629),ur=n.n(sr),lr=[[-180,-90],[180,90]],cr=[],hr=0;hr<25;++hr)cr[hr]=80150/Math.pow(2,hr);var fr={getGridExtent:function(){return[(0,g.Z)(lr[0]),(0,g.Z)(lr[1])]},BASE_SIZE:180,LEVEL_BOUNDARIES:lr,PIXEL_TILE_SIZE:250,resolutions:cr,levels:25},dr=function(e){var t=function(e){return e.size>0?e.entries().next().value:null}(e);return t&&e.delete(t[0]),e},pr="\u202f",vr=function(){function e(){(0,Vt.Z)(this,e)}return(0,Ht.Z)(e,null,[{key:"separator",get:function(){return pr},set:function(e){pr=e}},{key:"parse",value:function(e){if(!isNaN(parseFloat(e))&&isFinite(e))return Number(e);var t=String(e).trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);if(""==t[t.length-1]&&t.splice(t.length-1),""==t)return NaN;var n=null;switch(t.length){case 3:n=t[0]/1+t[1]/60+t[2]/3600;break;case 2:n=t[0]/1+t[1]/60;break;case 1:n=t[0];break;default:return NaN}return/^-|[WS]$/i.test(e.trim())&&(n=-n),Number(n)}},{key:"toDms",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(isNaN(t))return null;if("string"==typeof t&&""==t.trim())return null;if("boolean"==typeof t)return null;if(t==1/0)return null;if(null==t)return null;if(void 0===r)switch(n){case"d":case"deg":r=4;break;case"dm":case"deg+min":r=2;break;case"dms":case"deg+min+sec":r=0;break;default:n="d",r=4}t=Math.abs(t);var i=null,o=null,a=null,s=null;switch(n){default:case"d":case"deg":(o=t.toFixed(r))<100&&(o="0"+o),o<10&&(o="0"+o),i=o+"\xb0";break;case"dm":case"deg+min":o=Math.floor(t),60==(a=(60*t%60).toFixed(r))&&(a=(0).toFixed(r),o++),a<10&&(a="0"+a),i=(o=("000"+o).slice(-3))+"\xb0"+e.separator+a+"\u2032";break;case"dms":case"deg+min+sec":o=Math.floor(t),a=Math.floor(3600*t/60)%60,60==(s=(3600*t%60).toFixed(r))&&(s=(0).toFixed(r),a++),60==a&&(a=0,o++),o=("000"+o).slice(-3),a=("00"+a).slice(-2),s<10&&(s="0"+s),i=o+"\xb0"+e.separator+a+"\u2032"+e.separator+s+"\u2033"}return i}},{key:"toLat",value:function(t,n,r){var i=e.toDms(e.wrap90(t),n,r);return null===i?"\u2013":i.slice(1)+e.separator+(t<0?"S":"N")}},{key:"toLon",value:function(t,n,r){var i=e.toDms(e.wrap180(t),n,r);return null===i?"\u2013":i+e.separator+(t<0?"W":"E")}},{key:"toBrng",value:function(t,n,r){var i=e.toDms(e.wrap360(t),n,r);return null===i?"\u2013":i.replace("360","0")}},{key:"fromLocale",value:function(e){var t=123456.789.toLocaleString(),n={thousands:t.slice(3,4),decimal:t.slice(7,8)};return e.replace(n.thousands,"\u205c").replace(n.decimal,".").replace("\u205c",",")}},{key:"toLocale",value:function(e){var t=123456.789.toLocaleString(),n={thousands:t.slice(3,4),decimal:t.slice(7,8)};return e.replace(/,([0-9])/,"\u205c$1").replace(".",n.decimal).replace("\u205c",n.thousands)}},{key:"compassPoint",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(![1,2,3].includes(Number(n)))throw new RangeError("invalid precision \u2018".concat(n,"\u2019"));t=e.wrap360(t);var r=4*Math.pow(2,n-1);return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(t*r/360)%r*16/r]}},{key:"wrap360",value:function(e){return 0<=e&&e<360?e:(e%360+360)%360}},{key:"wrap180",value:function(e){return-180<e&&e<=180?e:(e+540)%360-180}},{key:"wrap90",value:function(e){return-90<=e&&e<=90?e:Math.abs((e%360+270)%360-180)-90}}]),e}();Number.prototype.toRadians=function(){return this*Math.PI/180},Number.prototype.toDegrees=function(){return 180*this/Math.PI};var gr=Math.PI,mr=function(){function e(t,n){if((0,Vt.Z)(this,e),isNaN(t))throw new TypeError("invalid lat \u2018".concat(t,"\u2019"));if(isNaN(n))throw new TypeError("invalid lon \u2018".concat(n,"\u2019"));this._lat=vr.wrap90(Number(t)),this._lon=vr.wrap180(Number(n))}return(0,Ht.Z)(e,[{key:"lat",get:function(){return this._lat},set:function(e){if(this._lat=isNaN(e)?vr.wrap90(vr.parse(e)):vr.wrap90(Number(e)),isNaN(this._lat))throw new TypeError("invalid lat \u2018".concat(e,"\u2019"))}},{key:"latitude",get:function(){return this._lat},set:function(e){if(this._lat=isNaN(e)?vr.wrap90(vr.parse(e)):vr.wrap90(Number(e)),isNaN(this._lat))throw new TypeError("invalid latitude \u2018".concat(e,"\u2019"))}},{key:"lon",get:function(){return this._lon},set:function(e){if(this._lon=isNaN(e)?vr.wrap180(vr.parse(e)):vr.wrap180(Number(e)),isNaN(this._lon))throw new TypeError("invalid lon \u2018".concat(e,"\u2019"))}},{key:"lng",get:function(){return this._lon},set:function(e){if(this._lon=isNaN(e)?vr.wrap180(vr.parse(e)):vr.wrap180(Number(e)),isNaN(this._lon))throw new TypeError("invalid lng \u2018".concat(e,"\u2019"))}},{key:"longitude",get:function(){return this._lon},set:function(e){if(this._lon=isNaN(e)?vr.wrap180(vr.parse(e)):vr.wrap180(Number(e)),isNaN(this._lon))throw new TypeError("invalid longitude \u2018".concat(e,"\u2019"))}},{key:"distanceTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6371e3;if(t instanceof e||(t=e.parse(t)),isNaN(n))throw new TypeError("invalid radius \u2018".concat(n,"\u2019"));var r=n,i=this.lat.toRadians(),o=this.lon.toRadians(),a=t.lat.toRadians(),s=a-i,u=t.lon.toRadians()-o,l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(i)*Math.cos(a)*Math.sin(u/2)*Math.sin(u/2);return r*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}},{key:"initialBearingTo",value:function(t){if(t instanceof e||(t=e.parse(t)),this.equals(t))return NaN;var n=this.lat.toRadians(),r=t.lat.toRadians(),i=(t.lon-this.lon).toRadians(),o=Math.cos(n)*Math.sin(r)-Math.sin(n)*Math.cos(r)*Math.cos(i),a=Math.sin(i)*Math.cos(r),s=Math.atan2(a,o).toDegrees();return vr.wrap360(s)}},{key:"finalBearingTo",value:function(t){t instanceof e||(t=e.parse(t));var n=t.initialBearingTo(this)+180;return vr.wrap360(n)}},{key:"midpointTo",value:function(t){t instanceof e||(t=e.parse(t));var n=this.lat.toRadians(),r=this.lon.toRadians(),i=t.lat.toRadians(),o=(t.lon-this.lon).toRadians(),a=Math.cos(n),s=0,u=Math.sin(n),l={x:a+Math.cos(i)*Math.cos(o),y:s+Math.cos(i)*Math.sin(o),z:u+Math.sin(i)},c=Math.atan2(l.z,Math.sqrt(l.x*l.x+l.y*l.y)),h=r+Math.atan2(l.y,l.x);return new e(c.toDegrees(),h.toDegrees())}},{key:"intermediatePointTo",value:function(t,n){if(t instanceof e||(t=e.parse(t)),this.equals(t))return new e(this.lat,this.lon);var r=this.lat.toRadians(),i=this.lon.toRadians(),o=t.lat.toRadians(),a=t.lon.toRadians(),s=o-r,u=a-i,l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(r)*Math.cos(o)*Math.sin(u/2)*Math.sin(u/2),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),h=Math.sin((1-n)*c)/Math.sin(c),f=Math.sin(n*c)/Math.sin(c),d=h*Math.cos(r)*Math.cos(i)+f*Math.cos(o)*Math.cos(a),p=h*Math.cos(r)*Math.sin(i)+f*Math.cos(o)*Math.sin(a),v=h*Math.sin(r)+f*Math.sin(o),g=Math.atan2(v,Math.sqrt(d*d+p*p)),m=Math.atan2(p,d);return new e(g.toDegrees(),m.toDegrees())}},{key:"destinationPoint",value:function(t,n){var r=t/(arguments.length>2&&void 0!==arguments[2]?arguments[2]:6371e3),i=Number(n).toRadians(),o=this.lat.toRadians(),a=this.lon.toRadians(),s=Math.sin(o)*Math.cos(r)+Math.cos(o)*Math.sin(r)*Math.cos(i),u=Math.asin(s),l=Math.sin(i)*Math.sin(r)*Math.cos(o),c=Math.cos(r)-Math.sin(o)*s,h=a+Math.atan2(l,c);return new e(u.toDegrees(),h.toDegrees())}},{key:"crossTrackDistanceTo",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6371e3;t instanceof e||(t=e.parse(t)),n instanceof e||(n=e.parse(n));var i=r;if(this.equals(t))return 0;var o=t.distanceTo(this,i)/i,a=t.initialBearingTo(this).toRadians(),s=t.initialBearingTo(n).toRadians();return Math.asin(Math.sin(o)*Math.sin(a-s))*i}},{key:"alongTrackDistanceTo",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6371e3;t instanceof e||(t=e.parse(t)),n instanceof e||(n=e.parse(n));var i=r;if(this.equals(t))return 0;var o=t.distanceTo(this,i)/i,a=t.initialBearingTo(this).toRadians(),s=t.initialBearingTo(n).toRadians(),u=Math.asin(Math.sin(o)*Math.sin(a-s));return Math.acos(Math.cos(o)/Math.abs(Math.cos(u)))*Math.sign(Math.cos(s-a))*i}},{key:"maxLatitude",value:function(e){var t=Number(e).toRadians(),n=this.lat.toRadians();return Math.acos(Math.abs(Math.sin(t)*Math.cos(n))).toDegrees()}},{key:"rhumbDistanceTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6371e3;t instanceof e||(t=e.parse(t));var r=n,i=this.lat.toRadians(),o=t.lat.toRadians(),a=o-i,s=Math.abs(t.lon-this.lon).toRadians();Math.abs(s)>gr&&(s=s>0?-(2*gr-s):2*gr+s);var u=Math.log(Math.tan(o/2+gr/4)/Math.tan(i/2+gr/4)),l=Math.abs(u)>1e-11?a/u:Math.cos(i);return Math.sqrt(a*a+l*l*s*s)*r}},{key:"rhumbBearingTo",value:function(t){if(t instanceof e||(t=e.parse(t)),this.equals(t))return NaN;var n=this.lat.toRadians(),r=t.lat.toRadians(),i=(t.lon-this.lon).toRadians();Math.abs(i)>gr&&(i=i>0?-(2*gr-i):2*gr+i);var o=Math.log(Math.tan(r/2+gr/4)/Math.tan(n/2+gr/4)),a=Math.atan2(i,o).toDegrees();return vr.wrap360(a)}},{key:"rhumbDestinationPoint",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6371e3,i=this.lat.toRadians(),o=this.lon.toRadians(),a=Number(n).toRadians(),s=t/r,u=s*Math.cos(a),l=i+u;Math.abs(l)>gr/2&&(l=l>0?gr-l:-gr-l);var c=Math.log(Math.tan(l/2+gr/4)/Math.tan(i/2+gr/4)),h=Math.abs(c)>1e-11?u/c:Math.cos(i),f=o+s*Math.sin(a)/h;return new e(l.toDegrees(),f.toDegrees())}},{key:"rhumbMidpointTo",value:function(t){t instanceof e||(t=e.parse(t));var n=this.lat.toRadians(),r=this.lon.toRadians(),i=t.lat.toRadians(),o=t.lon.toRadians();Math.abs(o-r)>gr&&(r+=2*gr);var a=(n+i)/2,s=Math.tan(gr/4+n/2),u=Math.tan(gr/4+i/2),l=Math.tan(gr/4+a/2),c=((o-r)*Math.log(l)+r*Math.log(u)-o*Math.log(s))/Math.log(u/s);return isFinite(c)||(c=(r+o)/2),new e(a.toDegrees(),c.toDegrees())}},{key:"equals",value:function(t){return t instanceof e||(t=e.parse(t)),!(Math.abs(this.lat-t.lat)>Number.EPSILON)&&!(Math.abs(this.lon-t.lon)>Number.EPSILON)}},{key:"toGeoJSON",value:function(){return{type:"Point",coordinates:[this.lon,this.lat]}}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"d",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!["d","dm","dms","n"].includes(e))throw new RangeError("invalid format \u2018".concat(e,"\u2019"));if("n"==e)return void 0==t&&(t=4),"".concat(this.lat.toFixed(t),",").concat(this.lon.toFixed(t));var n=vr.toLat(this.lat,e,t),r=vr.toLon(this.lon,e,t);return"".concat(n,", ").concat(r)}}],[{key:"metresToKm",get:function(){return.001}},{key:"metresToMiles",get:function(){return 1/1609.344}},{key:"metresToNauticalMiles",get:function(){return 1/1852}},{key:"parse",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(0==n.length)throw new TypeError("invalid (empty) point");if(null===n[0]||null===n[1])throw new TypeError("invalid (null) point");var i=void 0,o=void 0;if(2==n.length&&(i=n[0],o=n[1],i=vr.wrap90(vr.parse(i)),o=vr.wrap180(vr.parse(o)),isNaN(i)||isNaN(o)))throw new TypeError("invalid point \u2018".concat(n.toString(),"\u2019"));if(1==n.length&&"string"==typeof n[0]){var a=v(n[0].split(","),2);if(i=a[0],o=a[1],i=vr.wrap90(vr.parse(i)),o=vr.wrap180(vr.parse(o)),isNaN(i)||isNaN(o))throw new TypeError("invalid point \u2018".concat(n[0],"\u2019"))}if(1==n.length&&"object"==(0,pn.Z)(n[0])){var s=n[0];if("Point"==s.type&&Array.isArray(s.coordinates)){var u=v(s.coordinates,2);o=u[0],i=u[1]}else void 0!=s.latitude&&(i=s.latitude),void 0!=s.lat&&(i=s.lat),void 0!=s.longitude&&(o=s.longitude),void 0!=s.lng&&(o=s.lng),void 0!=s.lon&&(o=s.lon),i=vr.wrap90(vr.parse(i)),o=vr.wrap180(vr.parse(o));if(isNaN(i)||isNaN(o))throw new TypeError("invalid point \u2018".concat(JSON.stringify(n[0]),"\u2019"))}if(isNaN(i)||isNaN(o))throw new TypeError("invalid point \u2018".concat(n.toString(),"\u2019"));return new e(i,o)}},{key:"intersection",value:function(t,n,r,i){if(t instanceof e||(t=e.parse(t)),r instanceof e||(r=e.parse(r)),isNaN(n))throw new TypeError("invalid brng1 \u2018".concat(n,"\u2019"));if(isNaN(i))throw new TypeError("invalid brng2 \u2018".concat(i,"\u2019"));var o=t.lat.toRadians(),a=t.lon.toRadians(),s=r.lat.toRadians(),u=r.lon.toRadians(),l=Number(n).toRadians(),c=Number(i).toRadians(),h=s-o,f=u-a,d=2*Math.asin(Math.sqrt(Math.sin(h/2)*Math.sin(h/2)+Math.cos(o)*Math.cos(s)*Math.sin(f/2)*Math.sin(f/2)));if(Math.abs(d)<Number.EPSILON)return new e(t.lat,t.lon);var p=(Math.sin(s)-Math.sin(o)*Math.cos(d))/(Math.sin(d)*Math.cos(o)),v=(Math.sin(o)-Math.sin(s)*Math.cos(d))/(Math.sin(d)*Math.cos(s)),g=Math.acos(Math.min(Math.max(p,-1),1)),m=Math.acos(Math.min(Math.max(v,-1),1)),y=l-(Math.sin(u-a)>0?g:2*gr-g),b=(Math.sin(u-a)>0?2*gr-m:m)-c;if(0==Math.sin(y)&&0==Math.sin(b))return null;if(Math.sin(y)*Math.sin(b)<0)return null;var _=-Math.cos(y)*Math.cos(b)+Math.sin(y)*Math.sin(b)*Math.cos(d),w=Math.atan2(Math.sin(d)*Math.sin(y)*Math.sin(b),Math.cos(b)+Math.cos(y)*_),E=Math.asin(Math.min(Math.max(Math.sin(o)*Math.cos(w)+Math.cos(o)*Math.sin(w)*Math.cos(l),-1),1)),S=a+Math.atan2(Math.sin(l)*Math.sin(w)*Math.cos(o),Math.cos(w)-Math.sin(o)*Math.sin(E));return new e(E.toDegrees(),S.toDegrees())}},{key:"crossingParallels",value:function(e,t,n){if(e.equals(t))return null;var r=Number(n).toRadians(),i=e.lat.toRadians(),o=e.lon.toRadians(),a=t.lat.toRadians(),s=t.lon.toRadians()-o,u=Math.sin(i)*Math.cos(a)*Math.cos(r)*Math.sin(s),l=Math.sin(i)*Math.cos(a)*Math.cos(r)*Math.cos(s)-Math.cos(i)*Math.sin(a)*Math.cos(r),c=Math.cos(i)*Math.cos(a)*Math.sin(r)*Math.sin(s);if(c*c>u*u+l*l)return null;var h=Math.atan2(-l,u),f=Math.acos(c/Math.sqrt(u*u+l*l)),d=o+h+f,p=(o+h-f).toDegrees(),v=d.toDegrees();return{lon1:vr.wrap180(p),lon2:vr.wrap180(v)}}},{key:"areaOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6371e3,n=e[0].equals(e[e.length-1]);n||e.push(e[0]);for(var r=e.length-1,i=0,o=0;o<r;o++){var a=e[o].lat.toRadians(),s=e[o+1].lat.toRadians(),u=(e[o+1].lon-e[o].lon).toRadians();i+=2*Math.atan2(Math.tan(u/2)*(Math.tan(a/2)+Math.tan(s/2)),1+Math.tan(a/2)*Math.tan(s/2))}(function(e){for(var t=0,n=e[0].initialBearingTo(e[1]),r=0;r<e.length-1;r++){var i=e[r].initialBearingTo(e[r+1]),o=e[r].finalBearingTo(e[r+1]);t+=(i-n+540)%360-180,t+=(o-i+540)%360-180,n=o}var a=e[0].initialBearingTo(e[1]);return t+=(a-n+540)%360-180,Math.abs(t)<90})(e)&&(i=Math.abs(i)-2*gr);var l=Math.abs(i*t*t);return n||e.pop(),l}}]),e}(),yr=function(e){return"number"==typeof e&&isFinite(e)?+e.toFixed(13):null},br=function(e){return e&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?e.map(yr):null},_r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr.LEVEL_BOUNDARIES;return"".concat(e[0][0]).concat(e[0][1]).concat(e[1][0]).concat(e[1][1])},wr=function(e){if(!Number.isFinite(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n},Er=function(e,t){var n=wr(e),r=wr(e),i=Math.max(1,n,r),o=Math.pow(10,i);return(e*o+t*o)/o},Sr=function(e,t){var n=wr(e),r=wr(e),i=Math.max(1,n,r),o=Math.pow(10,i);return(e*o-t*o)/o},xr=function(e,t){if(0===t)return e;var n=wr(e),r=wr(t),i=Math.max(1,n,r),o=Math.pow(10,i),a=BigInt(Math.round(e*o)),s=BigInt(t*o),u=a%s;return a<0?-Mr(Math.abs(e),t):u!==BigInt(0)?a<s?parseInt(s)/o:parseInt(a+s-u)/o:parseInt(a)/o},Mr=function(e,t){if(0===t)return e;var n=wr(e),r=wr(t),i=Math.max(1,n,r),o=Math.pow(10,i),a=BigInt(Math.round(e*o)),s=BigInt(t*o);return a<BigInt(0)?-xr(Math.abs(e),t):parseInt(a-a%s)/o},kr=function(e,t){return!(!e||!t)&&(e[0][0]<=t[0]&&t[0]<=e[1][0]&&e[0][1]<=t[1]&&t[1]<=e[1][1])},Ar=function(e,t){return e[0][0]<=t[0][0]&&t[1][0]<=e[1][0]&&e[0][1]<=t[0][1]&&t[1][1]<=e[1][1]},Tr=function(e){return e&&((e=br(e))[1]&&(e[1]>90?e[1]=90:e[1]<-90&&(e[1]=-90)),e[0]&&((e[0]>360||e[0]<-360)&&(e[0]%=360),e[0]>180?e[0]=e[0]-180-180:e[0]<-180?e[0]=180+(e[0]+180):-180===e[0]&&(e[0]=180))),e},Pr=function(e){var t;return e?((t=[(e=br(e))[0],e[1]])[1]&&(t[1]>90?t[1]=90:t[1]<-90&&(t[1]=-90)),t[0]&&(t[0]>180?t[0]=180:t[0]<-180?t[0]=-180:-180===t[0]&&(t[0]=180))):t=null,t},Or=function(e){return e.map(Tr)},Cr=function(e){return e.map(Pr)},Rr=function(e){if(e=br(e),kr(fr.LEVEL_BOUNDARIES,e))return!0;throw new Error("Point ".concat(e," does not lies in base extent."))},Lr=function(e){if(Ar(fr.LEVEL_BOUNDARIES,e))return!0;throw new Error("Extent ".concat(e," does not lies in base extent."))},Ir=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{Rr(e)}catch(c){if(!n)throw c;e=Tr(e)}var i,o,a=e[0],s=e[1],u=a===fr.LEVEL_BOUNDARIES[0][0],l=a===fr.LEVEL_BOUNDARIES[1][0];if(u)i=a;else if(!r&&l)i=a-t;else{i=a%t===0?r?a-t:a:Mr(a,t)}s===fr.LEVEL_BOUNDARIES[0][1]?o=s:o=180!==t||90!==s&&0!==s&&-90!==s?s%t===0?r?s-t:s:Mr(s+90,t)-90:-90;return br([i,o])},Dr=function(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)t(e[n][r],n,r)},jr=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.map(parseFloat);try{Rr(r)}catch(o){if(!n)throw o;r=Tr(r)}var i=new Array(5).fill(null).map((function(e,n){switch(n){case 0:case 4:return[r[0],r[1]];case 1:return[r[0],yr(Er(r[1],t))];case 2:return[yr(Er(r[0],t)),yr(Er(r[1],t))];case 3:return[yr(Er(r[0],t)),r[1]]}}));return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[i]}}},Nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return fr.BASE_SIZE/Math.pow(2,e)};function Br(e,t){return e[0][0]<=t[1][0]&&e[1][0]>=t[0][0]&&e[0][1]<=t[1][1]&&e[1][1]>=t[1][1]||t[0][0]<=e[1][0]&&t[1][0]>=e[0][0]&&t[0][1]<=e[1][1]&&t[1][1]>=e[1][1]}var zr=function(e,t){var n=[[-1/0,-1/0],[1/0,1/0]];return Br(e,t)&&(e[0][0]>t[0][0]?n[0][0]=e[0][0]:n[0][0]=t[0][0],e[0][1]>t[0][1]?n[0][1]=e[0][1]:n[0][1]=t[0][1],e[1][0]<t[1][0]?n[1][0]=e[1][0]:n[1][0]=t[1][0],e[1][1]<t[1][1]?n[1][1]=e[1][1]:n[1][1]=t[1][1]),n};function Zr(e){return"string"===typeof e&&e.split(",").length>1&&e.split(",").every((function(e){return ar()(parseFloat(e))}))?e.split(",").map(parseFloat):ur()(e)&&1!==e.length&&e.every((function(e){return ar()(parseFloat(e))}))?e.map(parseFloat):ur()(e)&&1===e.length?Zr(e[0]):null}var Fr=function(e){if(!Number.isFinite(e))return null;var t=wr(e);return e.toFixed(t)},Ur=function(e){if(ur()(e)&&"string"===typeof e[0]&&"string"===typeof e[1])return e;if(ur()(e)){var t=Zr(e);return t?t.map(Fr):null}return null},Kr=function(e){if("string"===typeof e)return e;var t=Ur(e);return t?t.join(","):null},Vr=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length<=r.length?(e=new Set((0,g.Z)(n.map(Kr))),t=new Set((0,g.Z)(r.map(Kr)))):(e=new Set((0,g.Z)(r.map(Kr))),t=new Set((0,g.Z)(n.map(Kr))));var i=[];return e.forEach((function(e){t.has(e)&&i.push(e)})),i},Hr=function(e,t){if(e<=fr.levels){var n=Zr(t),r=Nr(e);return[n,[n[0]+r,n[1]+r]]}return null},Wr=function(e,t,n,r,i){var o=(0,g.Z)(t.map(Kr)),a={},s={},u=null,l=null,c=null;if("LOWER"===r)u=e+1,l=function(){return u<=e+i&&u<=fr.levels&&o.length>0},c=function(){return++u};else{if("HIGHER"!==r)return null;u=e-1,l=function(){return u>=e-i&&u>=0&&o.length>0},c=function(){return--u}}for(;l();){if(a[u]=o.map((function(t){var n=[],r=Hr(e,t);return Xr(u,r,(function(e){n.push(Kr(e))})),[t,n]})),n[u])for(var h=function(e){var t=v(a[u][e],2),r=t[0],i=t[1];if(n[u].length>=i.length&&Vr(n[u],i).length===i.length){var l=a[u].findIndex((function(e){return e[0]===r}));a[u].splice(l,1),o=ir()(o,r),s[r]={level:u,tiles:i}}},f=a[u].length-1;f>=0;f--)h(f);c()}return s},Gr=Object.freeze({__proto__:null,roundCoordinate:yr,roundPoint:br,getExtentID:_r,precision:wr,safeSumming:Er,safeSubtraction:Sr,closestDivisibleHigher:xr,closestDivisibleLower:Mr,containsXY:kr,containsExtent:Ar,ensurePointIntegrity:Tr,ensurePointInWorldBBox:Pr,ensureExtentIntegrity:Or,ensureExtentInWorldBBox:Cr,checkPointIntegrity:Rr,checkExtentIntegrity:Lr,intersectTile:Ir,forEachTile:Dr,getTileAsPolygon:jr,getTileGridAsGeoJSON:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];return Dr(e,(function(e){r.push(jr(e,t,n))})),{type:"FeatureCollection",features:r}},getGridSizeForLevel:Nr,intersects:Br,getIntersection:zr,getExtentAroundCoordinates:function(e,t,n,r,i){try{Rr(e)}catch(v){if(!i)throw v;e=Tr(e)}var o=1,a=1;n<1?a=n:o=1/n;var s=t/Math.cos(Math.PI*r/180)*Math.cos(Math.PI*e[1]/180),u=new mr(e[1],e[0]),l=u.destinationPoint(s/2/a,0),c=u.destinationPoint(s/2/a,180),h=u.destinationPoint(s/2/o,270),f=u.destinationPoint(s/2/o,90),d=[br([h.lon,c.lat]),br([f.lon,l.lat])],p=zr(d,fr.LEVEL_BOUNDARIES);return i?Or(p):p},tileAsArray:Zr,getNumberInDecimalString:Fr,tileAsStringArray:Ur,tileAsString:Kr,getTilesIntersection:Vr,getExtentOfTile:Hr,getLoadedTilesByDirection:Wr,getLoadedTiles:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4;if(["SAME","LOWER","HIGHER"].includes(r)&&!(e>fr.levels))switch(r){case"SAME":var o=n[e];return Vr(o,t).length>0?(0,re.Z)({},e,Vr(o,t)):null;case"LOWER":case"HIGHER":return Wr(e,t,n,r,i)}}}),qr=new Map,Yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fr.LEVEL_BOUNDARIES,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{Lr(t)}catch(p){if(!n)throw p;t=Cr(t)}var r=_r(t),i="".concat(e,"-").concat(r);if(qr.has(i))return function(e,t){if(e.has(t)){var n=e.get(t);e.delete(t),e.set(t,n)}}(qr,i),qr.get(i);for(var o=Nr(e),a=[],s=Ir(t[0],o,n,!1),u=Ir(t[1],o,n,!0),l=s[1];l<=u[1];l=Er(l,o)){var c=[];if(Sr(u[0],s[0])<=-180){for(var h=s[0];Er(h,o)<=180;h=Er(h,o))c=[].concat((0,g.Z)(c),[br([h,l])]);for(var f=-180;f<=u[0];f=Er(f,o))c=[].concat((0,g.Z)(c),[br([f,l])])}else for(var d=s[0];d<=u[0];d=Er(d,o))c=[].concat((0,g.Z)(c),[br([d,l])]);a=[c].concat((0,g.Z)(a))}return function(e,t){var n=e.size;if(n>t)for(var r=0;r<n-t;r++)dr(e)}(qr,1e3),qr.set(i,a),a},Xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fr.LEVEL_BOUNDARIES,n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];try{Lr(t)}catch(h){if(!r)throw h;t=Cr(t)}for(var i=Nr(e),o=Ir(t[0],i,r,!1),a=Ir(t[1],i,r,!0),s=o[1];s<=a[1];s=yr(Er(s,i))){if(Sr(a[0],o[0])<=-180){for(var u=o[0];Er(u,i)<=180;u=yr(Er(u,i)))n(br([u,s]));for(var l=-180;l<=a[0];l=yr(Er(l,i)))n(br([l,s]))}else for(var c=o[0];c<=a[0];c=yr(Er(c,i)))n(br([c,s]))}},$r=function(e){var t=fr.resolutions.findIndex((function(t){return e>=t}));return-1===t?fr.resolutions.length-1:t},Jr=function(e,t){return $r(e/t)},Qr=function(e,t){if(e&&t){var n=Nr(e),r=yr(Er(t[0],n/2));return{lat:yr(Er(t[1],n/2)),lon:r}}return null},ei=Object.freeze({__proto__:null,getGridForLevelAndExtent:Yr,forEachTileInGridByLevelAndExtent:Xr,getTilesCountForGridByLevelAndExtent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fr.LEVEL_BOUNDARIES,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{Lr(t)}catch(a){if(!n)throw a;t=Cr(t)}var r=Nr(e),i=Ir(t[0],r,n,!1),o=Ir(t[1],r,n,!0);return Math.floor(Math.round(Sr(o[1],i[1])/r)+1)*Math.floor(Math.round(Sr(o[0],i[0])/r)+1)},getOrigin:function(){return fr.getGridExtent()[0]},getLevelByResolution:$r,getLevelByViewport:Jr,getTileGrid:function(e,t,n,r,i){var o=nr.view.getMapViewportRange(e,t),a=Jr(n,o),s=e/t,u=nr.view.getBoundingBoxFromViewForEpsg3857(r,n,s,In.averageLatitude),l=[[u.minLon,u.minLat],[u.maxLon,u.maxLat]],c=Cr(l);return Yr(a,c,i)},getCenterOfTile:Qr,getParentTile:function(e,t){if(e&&t){var n=e-1,r=Qr(e,t),i=Nr(n);return{level:n,tile:Ir([r.lon,r.lat],i)}}return null},getChildTiles:function(e,t){if(e&&e<fr.levels-1&&t){var n=e+1,r=Nr(n),i=r/4,o=Qr(e,Zr(t));return[{level:n,tile:Ir([o.lon-i,o.lat+i],r)},{level:n,tile:Ir([o.lon-i,o.lat-i],r)},{level:n,tile:Ir([o.lon+i,o.lat+i],r)},{level:n,tile:Ir([o.lon+i,o.lat-i],r)}]}return null}}),ti=function(e){return e.data.attributeRelations},ni=st.getIndex(ti),ri=st.getIndex_recompute(ti),ii=(0,Re.zo)((function(e,t){var n,r;return(null===(n=ti(e))||void 0===n||null===(r=n.byKey)||void 0===r?void 0:r[t])||null})),oi=(0,Re.P1)((function(e){if(null!==e&&void 0!==e&&e.length){var t=[];return e.forEach((function(e){var n=ii(e);n&&t.push(n)})),t.length?t:null}return null}),De),ai=(0,Re.P1)((function(e){var t=ri(e,null);if(null!==t&&void 0!==t&&t.index){var n=(0,ie.filter)(Object.values(t.index),(function(e){return"string"===typeof e}));return null!==n&&void 0!==n&&n.length?oi(n):null}return null}),De),si=(0,Re.P1)((function(e){var t=ai(e);if(t){var n={};return(0,ie.forEach)(t,(function(e){n[e.data.attributeDataSourceKey]=e.data.attributeKey})),n}return null}),De),ui={getSubstate:ti,getByKeyObserver:ii,getByKeys:oi,getFilteredAttributeDataSourceKeyAttributeKeyPairs:si,getIndexed:ai,getIndex:ni},li=function(e){return e.data.attributeDataSources},ci=st.getIndex(li),hi=st.getIndex_recompute(li),fi=(0,Re.zo)((function(e,t){var n,r;return(null===(n=li(e))||void 0===n||null===(r=n.byKey)||void 0===r?void 0:r[t])||null})),di=(0,Re.P1)((function(e){if(null!==e&&void 0!==e&&e.length){var t=[];return e.forEach((function(e){var n=fi(e);n&&t.push(n)})),t.length?t:null}return null}),De),pi=(0,Re.P1)((function(e){var t=hi(e,null);if(null!==t&&void 0!==t&&t.index){var n=Object.values(t.index);return null!==n&&void 0!==n&&n.length?di(n):null}return null}),De),vi={getByKeyObserver:fi,getByKeys:di,getIndexed:pi,getIndex:ci,getIndex_recompute:hi},gi=function(e){return e.data.attributeData},mi=st.getIndexByPath(gi),yi=(0,Re.zo)((function(e){return gi(e).byDataSourceKey})),bi=(0,Re.zo)((function(e){return gi(e).indexes})),_i=(0,Re.zo)((function(e){return gi(e).spatialIndexes})),wi=(0,Re.zo)((function(e,t){var n,r;return(null===(n=gi(e))||void 0===n||null===(r=n.byDataSourceKey)||void 0===r?void 0:r[t])||null})),Ei=(0,Re.P1)((function(e,t){var n=bi();return n&&!(0,ie.isEmpty)(n)?Oe.getIndex(n,e,t):null}),De),Si=(0,Re.P1)((function(e,t){var n=_i();return n&&!(0,ie.isEmpty)(n)?Oe.getIndex(n,e,t):null}),De),xi=(0,Re.P1)((function(e){if(e){var t={};return(0,ie.forEach)(e,(function(e){var n=wi(e);n&&!(0,ie.isEmpty)(n)&&(t[e]=n)})),(0,ie.isEmpty)(t)?null:t}return null}),De),Mi=(0,Re.P1)((function(e,t){if(e&&t){var n=Object.keys(e),r=xi(n);if(r){var i={};return(0,ie.forIn)(r,(function(n,r){if(Object.hasOwn(n,t)){var o=n[t],a=e[r];a&&(i[a]=o)}})),(0,ie.isEmpty)(i)?null:i}return null}return null}),De),ki=(0,Re.P1)((function(e,t,n){var r,i=Si(e,null);return null!==i&&void 0!==i&&i.index&&!(0,ie.isEmpty)(i)&&(null===(r=i.index[t])||void 0===r?void 0:r[n])||null}),De),Ai=(0,Re.P1)((function(e,t,n){if((0,ie.isNumber)(t)&&n){var r,i=Si(e,null);return!!i&&!0===(null===i||void 0===i||null===(r=i.index[t])||void 0===r?void 0:r[n])}return!1}),De),Ti={getAllAsObjectObserver:yi,getByDataSourceKeyObserver:wi,getIndex:mi,getIndex_recompute:Ei,getIndexesObserver:bi,getSpatialIndex_recompute:Si,getSpatialIndexesObserver:_i,getDataByDataSourceKeys:xi,getAttributesByDataSourceKeysForFeatureKey:Mi,getSpatiallyIndexedFeatureKeysByDataSourceKeys:ki,isTileLoading:Ai,getSubstate:gi},Pi=["areaTreeLevelKey","layerTemplateKey"];function Oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ri=function(e){return e.data.components.components.byKey},Li=function(e){return e.data.components.components.inUse},Ii=function(e,t){return e.data.components.sets.byKey[t]||null},Di=_e()([Ri,function(e,t){return t}],(function(e,t){return t&&(null===e||void 0===e?void 0:e[t])||null}))((function(e,t){return t})),ji=(0,Re.zo)(Di),Ni=(0,Re.zo)(Ii),Bi=_e()([Li,function(e,t){return t}],(function(e,t){return!(null===e||void 0===e||!e.length||!t)&&!!(0,ie.includes)(e,t)}))((function(e,t){return t})),zi=_e()([Di,function(e,t,n){return n}],(function(e,t){return!(null===e||void 0===e||!e.filterByActive||!t)&&(0,ie.isMatch)(e.filterByActive,t)}))((function(e,t,n){return"".concat(t,"_").concat(JSON.stringify(n))})),Zi=(0,Re.P1)((function(e){var t=ji(e);if(t){var n=t.attributeFilter,r=t.dataSourceKeys,i=t.featureKeys,o=t.spatialFilter;return Ci(Ci(Ci(Ci({},void 0!==n&&{attributeFilter:n}),void 0!==r&&{dataSourceKeys:r}),void 0!==i&&{featureKeys:i}),void 0!==o&&{spatialFilter:o})}return{}}),De),Fi=(0,Re.P1)((function(e){var t=ji(e);if(t){var n=t.areaTreeLevelKey,r=t.attributeKeys,i=t.filterByActive,o=t.layerTemplateKey,a=t.metadataModifiers,s=a?Ci({},a):{};o?s[o]=o:n&&(s[n]=n);var u=i?st.getActiveKeysByFilterByActive_recompute(i,e):null,l=Oe.mergeMetadataKeys(s,u),c=l.areaTreeLevelKey,h=l.layerTemplateKey,f=vn(l,Pi),d=Oe.convertModifiersToRequestFriendlyFormat(f),p={};return d&&(p.modifiers=d),(n||void 0!==c)&&(p.areaTreeLevelKey=n||c),(o||void 0!==h)&&(p.layerTemplateKey=o||h),void 0!==r&&(p.attributeKeys=r),p}return{}}),De),Ui=(0,Re.P1)((function(e){var t=ji(e);if(t){var n=t.attributeOrder,r=Zi(e),i=Ci(Ci({},Fi(e)),r),o=Ti.getIndex_recompute(i,n)||[];return(0,ie.isEmpty)(o)?null:o}return null}),De),Ki=(0,Re.P1)((function(e){var t=ji(e);if(!t)return null;var n=function(){var n=Ti.getAllAsObjectObserver(),r=null===t||void 0===t?void 0:t.attributeKeys;if((0,ie.isEmpty)(n)||null===r||void 0===r||!r.length)return{v:null};var i=Zi(e),o=Fi(e),a=Ci(Ci({},o),i),s=t.attributeOrder||null,u=Ci({},o),l=ui.getIndexed(u);if(null===l||void 0===l||!l.length)return{v:null};var c={};l.forEach((function(e){c[e.data.attributeDataSourceKey]=e.data.attributeKey}));var h=Ti.getIndex_recompute(a,s),f=null===h||void 0===h?void 0:h.index;if(!f||(0,ie.isEmpty)(f))return{v:null};var d=function(){var e=t.start,r=t.length,i=t.options,o=null===i||void 0===i?void 0:i.nameComponentKey,a={},s=ji(o),u=o?Ki(o):null;if(null!==u&&void 0!==u&&u.length){var l=null===s||void 0===s?void 0:s.attributeKeys[0];u.forEach((function(e){var t=e.key,n=e.data;n&&(a[t]=n[l])}))}e=e||1,r=r||h.count;for(var d=Math.min(e+r-1,h.count),p=[],v=function(t){var r=f[t];r?(0,ie.forIn)(c,(function(i,o){var s,u=null===(s=n[o])||void 0===s?void 0:s[r];void 0!==u&&(p[t-e]?p[t-e].data[i]=u:(u=isNaN(u)||(0,ie.isNumber)(u)?u:Number(u),p[t-e]={key:r,name:(null===a||void 0===a?void 0:a[r])||r,data:(0,re.Z)({},i,u)}))})):p.push(null)},g=e;g<=d;g++)v(g);return{v:{v:p}}}();return"object"===(0,pn.Z)(d)?d.v:void 0}();return"object"===(0,pn.Z)(n)?n.v:void 0}),De),Vi=(0,Re.P1)((function(e){var t=Ci(Ci({},Kt.getByComponentKeyObserver(e.stateComponentKey)),e);return Ci({data:Ki(e.stateComponentKey)||[]},t)}),De),Hi={componentMatchesFilterByActive:zi,getAllComponentsAsObject:Ri,getAllComponentsInUse:Li,getAttributeDataFilterExtensionByComponentKey:Zi,getCommonFilterByComponentKey:Fi,getComponentStateByKey:Di,getSetStateByKey:Ii,getComponentStateByKeyObserver:ji,getSetStateByKeyObserver:Ni,getIndexForAttributeDataByComponentKey:Ui,isComponentInUse:Bi,getData:Ki,getDataForCartesianChart:Vi},Wi=function(e){return e.data.spatialRelations},Gi={getAll:st.getAll(Wi),getIndex:st.getIndex(Wi),getIndexed:st.getIndexed(Wi),getSubstate:Wi},qi=function(e){return e.data.spatialDataSources},Yi=st.getIndex(qi),Xi=st.getAllAsObject(qi),$i=(0,Re.zo)((function(e){return st.getIndexes(qi)(e)})),Ji=(0,Re.zo)((function(e,t){var n,r;return(null===(n=qi(e))||void 0===n||null===(r=n.byKey)||void 0===r?void 0:r[t])||null})),Qi=(0,Re.P1)((function(e){if(null!==e&&void 0!==e&&e.length){var t=[];return e.forEach((function(e){var n=Ji(e);n&&t.push(n)})),t.length?t:null}return null}),De),eo=(0,Re.P1)((function(e,t){var n=$i();return n?Oe.getIndex(n,e,t):null}),De),to=(0,Re.P1)((function(e){var t=eo(e,null);if(null!==t&&void 0!==t&&t.index){var n=Object.values(t.index);return n?Qi(n):null}return null}),De),no=_e()([Yi,Xi],(function(e,t){if(!(0,ie.isEmpty)(e)&&e.index){var n=Object.values(e.index);if((0,ie.isEmpty)(n))return null;var r=[];return n.forEach((function(e){var n=t[e];n&&r.push(n)})),r.length>0?r:null}return null}))((function(e,t){return"".concat(JSON.stringify(t))})),ro={getSubstate:qi,getByKeys:Qi,getByKeyObserver:Ji,getIndexesObserver:$i,getIndexed:no,getIndexed_recompute:to,getIndex:Yi,getIndex_recompute:eo},io=function(e){return e.data.spatialData},oo=st.getIndex(io),ao=(0,Re.zo)((function(e){return st.getIndexes(io)(e)})),so=(0,Re.zo)((function(e,t){var n,r;return(null===(n=io(e))||void 0===n||null===(r=n.byDataSourceKey)||void 0===r?void 0:r[t])||null})),uo=(0,Re.P1)((function(e,t){var n=ao();return n?Oe.getIndex(n,e,t):null}),De),lo=(0,Re.P1)((function(e,t,n,r){if((0,ie.isNumber)(t)&&n&&r){var i,o,a=uo(e,null),s=null===a||void 0===a||null===(i=a.index[t])||void 0===i||null===(o=i[n])||void 0===o?void 0:o[r];return s&&s.length?s:null}return null}),De),co=(0,Re.P1)((function(e,t,n){if((0,ie.isNumber)(t)&&n){var r,i,o=uo(e,null);return!!o&&!0===(null===(r=o.index)||void 0===r||null===(i=r[t])||void 0===i?void 0:i[n])}return!1}),De),ho={getByDataSourceKeyObserver:so,getIndex:oo,getIndex_recompute:uo,getIndexesObserver:ao,getIndexedFeatureKeys:lo,isTileLoading:co};function fo(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return po(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vo=function(e,t){if(e&&e.index&&t&&(0,ie.isArray)(t.tiles)){var n;if(null!==(n=e.index)&&void 0!==n&&n[t.level]){var r=(0,ie.reduce)(e.index[t.level],(function(e,t,n){return t?[].concat((0,g.Z)(e),[Gr.tileAsString(n)]):e}),[]);return t.tiles.filter((function(e){return!r.includes(Gr.tileAsString(e))}))}return t.tiles.map((function(e){return Gr.tileAsStringArray(e)}))}return(0,ie.isArray)(null===t||void 0===t?void 0:t.tiles)?t.tiles.map((function(e){return Gr.tileAsStringArray(e)})):null};function go(e){var t=(null===e||void 0===e?void 0:e.requestPageSize)||En.requestPageSize;return Number(t)}function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bo=new Wt(1e3),_o=(0,Re.P1)((function(e,t,n){var r=ho.getByDataSourceKeyObserver(e),i=null;return n&&(i=Ti.getDataByDataSourceKeys(Object.keys(n))),r?(0,ie.map)(r,(function(e,r){var o=(0,re.Z)({},t,r);return i&&(0,ie.forIn)(i,(function(e,t){var i=e[r];void 0!==i&&(o[n[t]]=i)})),{type:"Feature",key:r,geometry:e.geometry,properties:o}})):null}),De),wo=(0,Re.P1)((function(e,t,n,r,i,o,a,s,u){var l=ho.getByDataSourceKeyObserver(e);if(l){var c=Gr.tileAsString(r),h={attributeRelationsFilter:o,attributeDataFilter:u,spatialRelationsFilter:i,level:n,tileString:c,spatialDataSourceKey:e,styleKey:s},f=ho.getIndexedFeatureKeys(i,n,c,e),d=Ti.getSpatiallyIndexedFeatureKeysByDataSourceKeys(u,n,c),p=Ie()({cacheParams:h,indexedFeatureKeys:f,indexedFeatureKeysByAttributeDataSourceKeys:d}),v=bo.findByKey(p);if(v)return v.data;if(null!==f&&void 0!==f&&f.length){var g=[];f.forEach((function(e){var r,i,o,s=(0,re.Z)({},t,e),u=(null===(r=l[e])||void 0===r?void 0:r.geometry)||(null===(i=l[e])||void 0===i||null===(o=i.geometries)||void 0===o?void 0:o[n]);if(a){var c=Ti.getAttributesByDataSourceKeysForFeatureKey(a,e);c&&(s=yo(yo({},s),c))}u&&g.push({type:"Feature",key:e,geometry:u,properties:s})}));var m={features:g.length?g:null,tile:c,level:n};return bo.addOrUpdate({cacheKey:p,data:m}),m}return null}return null}),De),Eo=(0,Re.P1)((function(e,t,n,r,i,o,a,s,u,l){if(null!==i&&void 0!==i&&i.length){var c=[],h=[],f=[];if((0,ie.forEach)(i,(function(r){var i=wo(e,t,n,r,o,a,s,u,l);i?c.push(i):f.push(r)})),f.length>0){for(var d=ho.getIndex_recompute(o,null).index||{},p={},m=0,y=Object.entries(d);m<y.length;m++){for(var b=v(y[m],2),_=b[0],w=b[1],E=[],S=0,x=Object.entries(w);S<x.length;S++){var M=v(x[S],2),k=M[0];!0!==M[1]&&E.push(k)}p[_]=E}var A=Gr.getLoadedTiles(n,f,p,"HIGHER",25)||{},T=Gr.getLoadedTiles(n,f,p,"LOWER",3)||{};if(!(0,ie.isEmpty)(A)||!(0,ie.isEmpty)(T))for(var P=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,o={},a=fo(new Set([].concat((0,g.Z)(Object.keys(n)),(0,g.Z)(Object.keys(r)))));try{for(a.s();!(t=a.n()).done;){var s=t.value,u=r[s];u&&(u.levelDistance=Math.abs(e-u.level));var l=n[s];if(l&&(l.levelDistance=Math.abs(e-l.level)),u&&!l||!u&&l)o[s]=u||l;else if(u.levelDistance!==l.levelDistance){var c=u.levelDistance<l.levelDistance?u:l;o[s]=c}else o[s]="LOWER"===i?u:l}}catch(YJ){a.e(YJ)}finally{a.f()}for(var h=0,f=Object.keys(o);h<f.length;h++)delete o[f[h]].levelDistance;return o}(n,A,T,n<r?"HIGHER":"LOWER"),O=function(){for(var n=v(R[C],2)[1],r=function(){var r=c[i];if(!h.some((function(e){return e.tile===r&&e.level===Number.parseInt(n.level)}))){var f=wo(e,t,Number.parseInt(n.level),r,o,a,s,u,l);f&&h.push(f)}},i=0,c=(0,g.Z)(n.tiles);i<c.length;i++)r()},C=0,R=Object.entries(P);C<R.length;C++)O()}return c.length&&h.length?[].concat(h,c):c.length?c:h.length?h:null}return null}),De),So={getFeatures:_o,getTile:wo,getTiles:Eo,attributeData:Ti,attributeDataSources:vi,attributeRelations:ui,components:Hi,spatialData:ho,spatialDataSources:ro,spatialRelations:Gi},xo=function(e){return e.layerTemplates},Mo={getActive:st.getActive(xo),getActiveKey:st.getActiveKey(xo),getActiveKeys:st.getActiveKeys(xo),getActiveModels:st.getActiveModels(xo),getAll:st.getAll(xo),getAllAsObject:st.getAllAsObject(xo),getByKey:st.getByKey(xo),getByKeys:st.getByKeys(xo),getByKeysAsObject:st.getByKeysAsObject(xo),getDataByKey:st.getDataByKey(xo),getDeletePermissionByKey:st.getDeletePermissionByKey(xo),getEditedActive:st.getEditedActive(xo),getEditedAll:st.getEditedAll(xo),getEditedAllAsObject:st.getEditedAllAsObject(xo),getEditedByKey:st.getEditedByKey(xo),getEditedDataByKey:st.getEditedDataByKey(xo),getEditedKeys:st.getEditedKeys(xo),getIndexed:st.getIndexed(xo),getStateToSave:st.getStateToSave(xo),getSubstate:xo,getUpdatePermissionByKey:st.getUpdatePermissionByKey(xo),getUsedKeysForComponent:st.getUsedKeysForComponent(xo),haveAllKeysRegisteredUse:st.haveAllKeysRegisteredUse(xo)},ko=function(e){return e.layerTrees},Ao=st.getActive(ko),To=st.getActiveKey(ko),Po=st.getAll(ko),Oo=st.getAllAsObject(ko),Co=st.getByKey(ko),Ro=st.getByKeys(ko),Lo=st.getByKeysAsObject(ko),Io=st.getDataByKey(ko),Do=st.getEditedActive(ko),jo=st.getEditedAll(ko),No=st.getEditedAllAsObject(ko),Bo=st.getEditedByKey(ko),zo=st.getEditedDataByKey(ko),Zo=st.getEditedKeys(ko),Fo=st.getIndexed(ko),Uo=st.getDeletePermissionByKey(ko),Ko=st.getUpdatePermissionByKey(ko),Vo=st.getUsedKeysForComponent(ko),Ho=st.haveAllKeysRegisteredUse(ko),Wo={getActive:Ao,getActiveKey:To,getAll:Po,getAllAsObject:Oo,getByKey:Co,getByKeys:Ro,getByKeysAsObject:Lo,getDataByKey:Io,getDeletePermissionByKey:Uo,getEditedActive:Do,getEditedAll:jo,getEditedAllAsObject:No,getEditedByKey:Bo,getEditedDataByKey:zo,getEditedKeys:Zo,getIndexed:Fo,getSubstate:ko,getStateToSave:st.getStateToSave(ko),getUpdatePermissionByKey:Ko,getUsedKeysForComponent:Vo,haveAllKeysRegisteredUse:Ho};function Go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yo=_e()([function(e){return e}],(function(e){return e?qo(qo({},e),{},{key:"pantherBackgroundLayer"}):null}))((function(e){return JSON.stringify(e)})),Xo=_e()([function(e){return Yo(e)},function(e,t){return t}],(function(e,t){var n=t||[];return e&&(n=[e].concat((0,g.Z)(n))),n.length?n:null}))((function(e,t){return"".concat(JSON.stringify(e),"_").concat(JSON.stringify(t))})),$o=(0,Ce.createSelector)([],(function(){return{rules:[{styles:[{color:"#000000"},{bandIndex:0,values:{0:{color:null}}}]}]}})),Jo=_e()([function(e){return e},function(e,t){return t},function(e,t,n){return n}],(function(e,t,n){var r=nr.view.getMapViewportRange(e,t),i=nr.view.getNearestZoomLevelBoxRange(e,t,n);return ei.getLevelByViewport(i,r)}))((function(e,t,n){return"".concat(e).concat(t).concat(n)})),Qo=_e()([function(e){return e},function(e,t){return t},function(e,t,n){return n},function(e,t,n,r){return r}],(function(e,t,n,r){if(e&&t&&n&&r){var i=nr.view.getNearestZoomLevelBoxRange(e,t,r);return ei.getTileGrid(e,t,i,n,!0).flat(1)}return null}))((function(e,t,n,r){return"".concat(e).concat(t).concat(null===n||void 0===n?void 0:n.lon).concat(null===n||void 0===n?void 0:n.lat).concat(r)})),ea={getBackgroundLayerAsLayer:Yo,getTiles:Qo,getPreviousView:function(e,t){if(e){if(t){var n,r,i=null===(n=e.data)||void 0===n?void 0:n.previousView;t.sync&&!oe().isEmpty(t.sync)&&(i=oe().omitBy(i,(function(e,n){return t.sync[n]})));var o=null===(r=t.data)||void 0===r?void 0:r.previousView;return nr.view.mergeViews(o,i)}var a;return null===(a=e.data)||void 0===a?void 0:a.previousView}return null},getView:function(e,t){if(e){if(t){var n,r,i=null===(n=e.data)||void 0===n?void 0:n.view;t.sync&&!oe().isEmpty(t.sync)&&(i=oe().omitBy(i,(function(e,n){return t.sync[n]})));var o=null===(r=t.data)||void 0===r?void 0:r.view;return nr.view.mergeViews(In.defaultMapView,o,i)}var a,s=null===(a=e.data)||void 0===a?void 0:a.view;return nr.view.mergeViews(In.defaultMapView,s)}return null},getZoomLevel:Jo,mergeBackgroundLayerWithLayers:Xo,mergeModifiersAndFilterByActiveToLayerStructure:function(e,t,n){return e.map((function(e){var r=e.metadataModifiers&&t?qo(qo({},t),e.metadataModifiers):t||e.metadataModifiers||null,i=e.filterByActive&&n?qo(qo({},n),e.filterByActive):n||e.filterByActive||null;return qo(qo({},e),{},{metadataModifiers:r,filterByActive:i})}))},getDefaultCogStyle:$o},ta=function(e){return e.styles},na=st.getActive(ta),ra=st.getActiveModels(ta),ia=st.getActiveKey(ta),oa=st.getActiveKeys(ta),aa=st.getAll(ta),sa=st.getAllAsObject(ta),ua=st.getByKey(ta),la=st.getByKeys(ta),ca=st.getByKeysAsObject(ta),ha=st.getDataByKey(ta),fa=st.getEditedActive(ta),da=st.getEditedAll(ta),pa=st.getEditedAllAsObject(ta),va=st.getEditedByKey(ta),ga=st.getEditedDataByKey(ta),ma=st.getEditedKeys(ta),ya=st.getIndexed(ta),ba=st.getStateToSave(ta),_a=st.getDeletePermissionByKey(ta),wa=st.getUpdatePermissionByKey(ta),Ea=st.getUsedKeysForComponent(ta),Sa=st.haveAllKeysRegisteredUse(ta),xa=(0,Re.zo)(ua),Ma=(0,Re.P1)((function(e){var t,n=xa(e);return(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.definition)||null})),ka={getActive:na,getActiveKey:ia,getActiveKeys:oa,getActiveModels:ra,getAll:aa,getAllAsObject:sa,getByKey:ua,getByKeys:la,getByKeysAsObject:ca,getDataByKey:ha,getDeletePermissionByKey:_a,getEditedActive:fa,getEditedAll:da,getEditedAllAsObject:pa,getEditedByKey:va,getEditedDataByKey:ga,getEditedKeys:ma,getIndexed:ya,getStateToSave:ba,getSubstate:ta,getUpdatePermissionByKey:wa,getUsedKeysForComponent:Ea,haveAllKeysRegisteredUse:Sa,getDefinitionByKey:Ma};function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pa=function(e){return e.selections},Oa=st.getActive(Pa),Ca=st.getActiveKey(Pa),Ra=st.getAllAsObject(Pa),La=st.getAll(Pa),Ia=(0,Ce.createSelector)([Ra,ka.getAllAsObject],(function(e,t){if(e){if(t){var n={};return oe().forIn(e,(function(e,r){var i,o=null===(i=e.data)||void 0===i?void 0:i.styleKey;if(o&&t[o]){var a,s,u,l,c=null===(a=t[o].data)||void 0===a||null===(s=a.definition)||void 0===s||null===(u=s.rules)||void 0===u||null===(l=u[0].styles)||void 0===l?void 0:l[0];n[r]=c?Ta(Ta({},e),{},{data:Ta(Ta({},e.data),{},{style:c})}):e}else n[r]=e})),n}return e}return null})),Da=(0,Re.zo)((function(e,t){return e.selections.byKey[t]})),ja=(0,Re.P1)((function(e){var t={};return oe().forIn(e,(function(e,n){var r=Da(n),i=null===r||void 0===r?void 0:r.data;if(i){var o=i.style,a=i.hoveredStyle||o,s=i.color,u=i.hoveredColor||s;i.featureKeysFilter&&(t[n]={keys:i.featureKeysFilter.keys},o?(t[n].style=o,t[n].hoveredStyle=a):(t[n].style={outlineColor:s,outlineWidth:2},t[n].hoveredStyle={outlineColor:u,outlineWidth:2}))}})),t})),Na={getActiveKey:Ca,getActive:Oa,getAll:La,getAllAsObject:Ra,getAllAsObjectWithStyles:Ia,prepareSelectionByLayerStateSelected:ja},Ba=["attribution","nameInternal","type","fidColumnName","geometryColumnName"],za=["url","params","configuration"];function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ua=function(e){return e.maps.inUse.sets},Ka=function(e){return e.maps.inUse.maps},Va=function(e){return e.maps.activeMapKey},Ha=function(e){return e.maps.maps},Wa=function(e){return e.maps.sets},Ga=(0,Ce.createSelector)([Ha,Va],(function(e,t){return e&&t&&e[t]||null})),qa=_e()([Ua,function(e,t){return t}],(function(e,t){return!(!e.length||!t)&&!!(0,ie.includes)(e,t)}))((function(e,t){return t||""})),Ya=_e()([Ka,function(e,t){return t}],(function(e,t){return!(!e.length||!t)&&!!(0,ie.includes)(e,t)}))((function(e,t){return t||""})),Xa=(0,Ce.createSelector)([Ha,function(e,t){return t}],(function(e,t){return(null===e||void 0===e?void 0:e[t])||null})),$a=(0,Ce.createSelector)([Wa],(function(e){return e&&!(0,ie.isEmpty)(e)?Object.values(e):null})),Ja=(0,Ce.createSelector)([$a],(function(e){return e?(0,ie.flatten)(e.map((function(e){return e.maps}))):null})),Qa=(0,Ce.createSelector)([Wa,function(e,t){return t}],(function(e,t){return(null===e||void 0===e?void 0:e[t])||null})),es=(0,Ce.createSelector)([$a,function(e,t){return t}],(function(e,t){return e&&!(0,ie.isEmpty)(e)&&t&&(0,ie.find)(e,(function(e){return e.maps&&(0,ie.includes)(e.maps,t)}))||null})),ts=(0,Ce.createSelector)([Va,Qa],(function(e,t){if(t){var n=(0,ie.includes)(t.maps,e);return t.activeMapKey||n&&e||null}return null})),ns=(0,Ce.createSelector)([Ha,ts],(function(e,t){return!(0,ie.isEmpty)(e)&&t&&e[t]||null})),rs=_e()([Qa,ns],(function(e,t){return t?ea.getView(t,e):null}))((function(e,t){return t})),is=_e()([ns],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.viewport)||null}))((function(e,t){return t})),os=_e()([ns],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.layers)||null}))((function(e,t){return t})),as=_e()([Xa,es],ea.getView)((function(e,t){return t})),ss=(0,Re.zo)(as),us=_e()([Xa,es],ea.getPreviousView)((function(e,t){return t})),ls=(0,Re.zo)(us),cs=_e()([Xa],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.viewport)||null}))((function(e,t){return t})),hs=(0,Re.zo)(cs),fs=_e()([Xa,es],(function(e,t){if(e){if(t){var n,r,i=null===(n=e.data)||void 0===n?void 0:n.viewLimits,o=null===(r=t.data)||void 0===r?void 0:r.viewLimits;return i||o||null}var a;return(null===(a=e.data)||void 0===a?void 0:a.viewLimits)||null}return null}))((function(e,t){return t})),ds=(0,Ce.createSelector)([Qa],(function(e){var t;return null!==e&&void 0!==e&&null!==(t=e.maps)&&void 0!==t&&t.length?e.maps:null})),ps=(0,Ce.createSelector)([Ha,ds],(function(e,t){return!(0,ie.isEmpty)(e)&&null!==t&&void 0!==t&&t.length?t.map((function(t){return e[t]})):null})),vs=(0,Ce.createSelector)([Qa],(function(e){var t;return e?nr.view.mergeViews(In.defaultMapView,null===(t=e.data)||void 0===t?void 0:t.view):null})),gs=(0,Ce.createSelector)([Qa],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.viewLimits)||null})),ms=(0,Ce.createSelector)([Xa],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.backgroundLayer)||null})),ys=(0,Ce.createSelector)([Xa],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.layers)||null})),bs=(0,Ce.createSelector)([ys,function(e,t,n){return n}],(function(e,t){return e&&t&&e.find((function(e){return e.key===t}))||null})),_s=(0,Ce.createSelector)([es],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.backgroundLayer)||null})),ws=(0,Ce.createSelector)([es],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.layers)||null})),Es=(0,Ce.createSelector)([Xa],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.metadataModifiers)||null})),Ss=(0,Ce.createSelector)([es],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.metadataModifiers)||null})),xs=_e()([Es,Ss],(function(e,t){return e&&t?Fa(Fa({},t),e):t||e||null}))((function(e,t){return t})),Ms=(0,Ce.createSelector)([Xa],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filterByActive)||null})),ks=(0,Ce.createSelector)([es],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filterByActive)||null})),As=_e()([Ms,ks],(function(e,t){return e&&t?Fa(Fa({},e),t):t||e||null}))((function(e,t){return t})),Ts=_e()([ms,_s],(function(e,t){return e||t||null}))((function(e,t){return t})),Ps=(0,Re.zo)(Ts),Os=_e()([ws,Ss,ks],(function(e,t,n){return null!==e&&void 0!==e&&e.length?ea.mergeModifiersAndFilterByActiveToLayerStructure(e,t,n):null}))((function(e,t){return t})),Cs=_e()([ys,xs,As],(function(e,t,n){return null!==e&&void 0!==e&&e.length?ea.mergeModifiersAndFilterByActiveToLayerStructure(e,t,n):null}))((function(e,t){return t})),Rs=_e()([Os,Cs],(function(e,t){return t&&e?[].concat((0,g.Z)(e),(0,g.Z)(t)):t||(e||null)}))((function(e,t){return t})),Ls=_e()([Rs,st.getAllActiveKeys],(function(e,t){return(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){var n=Oe.mergeFilters(t,e.filterByActive,e.metadataModifiers),r=Fa(Fa({},e),{},{metadataModifiers:Fa({},n)});return delete r.filterByActive,r})):null}))((function(e,t){return t})),Is=(0,Re.zo)(Rs),Ds=(0,Re.zo)(Ls),js=(0,Ce.createSelector)([Rs,function(e,t,n){return n}],(function(e,t){return e&&(0,ie.find)(e,(function(e){return e.key===t}))||null})),Ns=_e()([Ts,Rs],(function(e,t){return t||e?ea.mergeBackgroundLayerWithLayers(e,t):null}))((function(e,t){return t})),Bs=(0,Re.P1)((function(e){if(e){var t,n,r=e,i=r.metadataModifiers?Fa({},r.metadataModifiers):{},o=null;r.filterByActive&&(o=st.getActiveKeysByFilterByActiveObserver(r.filterByActive));var a=Oe.mergeMetadataKeys(i,o),s={},u=Oe.convertModifiersToRequestFriendlyFormat(a);u&&(s.modifiers=u);var l=r.layerTemplateKey||(null===(t=o)||void 0===t?void 0:t.layerTemplateKey),c=r.areaTreeLevelKey||(null===(n=o)||void 0===n?void 0:n.areaTreeLevelKey);return l?s.layerTemplateKey=l:c&&(s.areaTreeLevelKey=c),s}return null}),De),zs=_e()([as,function(e,t,n){return n},function(e,t,n,r){return r}],(function(e,t,n){return null!==e&&void 0!==e&&e.center&&null!==e&&void 0!==e&&e.boxRange&&t&&n?{tiles:ea.getTiles(t,n,e.center,e.boxRange),level:ea.getZoomLevel(t,n,e.boxRange)}:null}))((function(e,t,n,r){return"".concat(t,"_").concat(n,"_").concat(r)})),Zs=(0,Re.P1)((function(e){if(e){var t=st.getCommmonDataRelationsFilterFromComponentState_recompute(e);if((0,ie.isEmpty)(t))return null;var n,r,i,o=Fa({},t),a=Fa(Fa(Fa(Fa({},(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.attributeFilter)&&{attributeFilter:e.options.attributeFilter}),(null===e||void 0===e||null===(r=e.options)||void 0===r?void 0:r.dataSourceKeys)&&{dataSourceKeys:e.options.dataSourceKeys}),(null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.featureKeys)&&{featureKeys:e.options.featureKeys}),(null===e||void 0===e?void 0:e.styleKey)&&{styleKey:e.styleKey});return Fa(Fa({},o),a)}return null}),De),Fs=(0,Re.P1)((function(e){if(e){var t=st.getCommmonDataRelationsFilterFromComponentState_recompute(e);if((0,ie.isEmpty)(t))return null;var n=Fa({},t);return e.styleKey&&(n.styleKey=e.styleKey),n}return null}),De),Us=function(e,t,n){var r=e&&Object.hasOwn(e,n)&&(!0===e[n]||!1===e[n]),i=t&&Object.hasOwn(t,n)&&(!0===t[n]||!1===t[n]);return r?e[n]:!!i&&t[n]},Ks=(0,Re.P1)((function(e,t,n,r,i,o,a,s){var u=Fa({},null!==e&&void 0!==e&&e.data?null===e||void 0===e?void 0:e.data:{}),l=(u.attribution,u.nameInternal,u.type),c=u.fidColumnName,h=u.geometryColumnName,f=vn(u,Ba),d=t.key,p=t.name,v=t.opacity,g=t.styleKey,m=t.crs,y=t.options;n=n||d;var b,_=Fa(Fa({},f),y),w=!1;if("wmts"===l)w=!0,_.url=f.url||(null===(b=f.urls)||void 0===b?void 0:b[0]);else if("cog"===l){w=!0,_.url=f.url;var E=ea.getDefaultCogStyle();g&&(E=ka.getDefinitionByKey(g)),_.style=E}else if("wms"===l){w=!0;var S=f.url,x=f.params,M=f.configuration,k=vn(f,za),A=!(!M||!Object.hasOwn(M,"singleTile"))&&M.singleTile,T=Us(y,M,"hoverable"),P=T&&Us(y,M,"pickable"),O=!(!M||!Object.hasOwn(M,"fetchedTile"))&&M.fetchedTile,C=k.styles;if(S&&"h"!==S.charAt(0)){var R=dt.getCompleteLocalConfigurationObserver();S="".concat(R.apiBackendProtocol,"://").concat(R.apiBackendHost,"/").concat(S)}_={params:Fa(Fa(Fa(Fa({},x),C&&{styles:C}),m&&{crs:m}),{},{layers:k.layers}),singleTile:A,pickable:P,hoverable:T,fetchedTile:O,url:S}}else if("vector"===l||"tiledVector"===l||"tiled-vector"===l){var L,I;w=!0;var D,j=null;if("vector"===l)D=So.getFeatures(e.key,c,r);else if("tiledVector"===l||"tiled-vector"===l){var N=ss(i),B=ls(i),z=hs(i);if(z){var Z=ea.getTiles(z.width,z.height,N.center,N.boxRange),F=ea.getZoomLevel(z.width,z.height,N.boxRange),U=ea.getZoomLevel(z.width,z.height,null===B||void 0===B?void 0:B.boxRange);j=So.getTiles(e.key,c,F,U,Z,o,a,r,g,s)}}var K=null,V=null===(L=_)||void 0===L?void 0:L.style;null!==(I=_)&&void 0!==I&&I.selected&&(K=Na.prepareSelectionByLayerStateSelected(_.selected)),!V&&g&&(V=ka.getDefinitionByKey(g)),_=Fa(Fa(Fa(Fa(Fa(Fa({},_),K&&{selected:K}),V&&{style:V}),D&&{features:D}),j&&{tiles:j}),{},{fidColumnName:c,geometryColumnName:h})}return w?{key:n+"_"+e.key,layerKey:n,opacity:v||0===v?v:1,name:p,type:l,options:_}:null}),De),Vs=(0,Re.P1)((function(e,t){if(t||(t=Ps(e)),t){if(t.type)return t;var n=So.spatialDataSources.getIndexed_recompute(t);if(n){var r=(0,ie.compact)(n.map((function(e){var n,r=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.type;return"wmts"===r||"wms"===r?Ks(e,t,"pantherBackgroundLayer"):null})));return r.length?r:null}return null}return null}),De),Hs=(0,Re.P1)((function(e,t){if(t||(t=Is(e)),t){var n=[];return(0,ie.forEach)(t,(function(t){if(t.type){var r;"vector"===t.type&&null!==(r=t.options)&&void 0!==r&&r.selected&&(t=Fa(Fa({},t),{},{options:Fa(Fa({},t.options),{},{selected:Na.prepareSelectionByLayerStateSelected(t.options.selected)})})),n.push(t)}else{var i=Bs(t),o=Fs(t),a=Zs(t),s=So.spatialDataSources.getIndexed_recompute(i),u=So.attributeRelations.getFilteredAttributeDataSourceKeyAttributeKeyPairs(o);s&&(0,ie.forEach)(s,(function(r){n.push(Ks(r,t,null,u,e,i,o,a))}))}})),n.length?n:null}return null}),De),Ws={isMapInUse:Ya,isMapSetInUse:qa,getSubstate:function(e){return e.maps},getActiveMapKey:Va,getActiveMap:Ga,getActiveSetKey:function(e){return e.maps.activeSetKey},getAllLayersStateByMapKey:Ns,getAllMapSetsMaps:Ja,getAllMapsInUse:Ka,getAllMapSetsInUse:Ua,getAttributeDataFilterFromLayerState:Zs,getAttributeRelationsFilterFromLayerState:Fs,getBackgroundLayerStateByMapKey:Ts,getFilterByActiveByMapKey:As,getFinalLayerByDataSourceAndLayerState:Ks,getLayerStateByLayerKeyAndMapKey:js,getLayersStateByMapKey:Rs,getLayersStateByMapKeyObserver:Is,getLayersStateWithMergedFiltersByMapKey:Ls,getLayersStateWithMergedFiltersByMapKeyObserver:Ds,getMetadataModifiersByMapKey:xs,getMapBackgroundLayerStateByMapKey:ms,getMapBackgroundLayer:Vs,getMapByKey:Xa,getMapFilterByActiveByMapKey:Ms,getMapLayerStateByMapKeyAndLayerKey:bs,getMapLayersStateByMapKey:ys,getMapLayers:Hs,getMapLayersStateWithModifiersByMapKey:Cs,getMapMetadataModifiersByMapKey:Es,getMapSetActiveMap:ns,getMapSetActiveMapKey:ts,getMapSetActiveMapView:rs,getMapSetActiveMapViewport:is,getMapSetActiveMapLayers:os,getMapSetBackgroundLayerStateByMapKey:_s,getMapSetByMapKey:es,getMapSetByKey:Qa,getMapSetFilterByActiveByMapKey:ks,getMapSetLayersStateByMapKey:ws,getMapSetLayersStateWithModifiersByMapKey:Os,getMapSetMetadataModifiersByMapKey:Ss,getMapSetMapKeys:ds,getMapSetMaps:ps,getMapSets:$a,getMapSetView:vs,getMapSetViewLimits:gs,getPreviousViewByMapKey:us,getVisibleTilesByMapKey:zs,getSpatialRelationsFilterFromLayerState:Bs,getViewByMapKey:as,getViewportByMapKey:cs,getViewLimitsByMapKey:fs},Gs=function(e){return e.periods},qs=st.getAll(Gs),Ys=st.getAllAsObject(Gs),Xs=st.getActive(Gs),$s=st.getActiveKey(Gs),Js=st.getActiveKeys(Gs),Qs=st.getActiveModels(Gs),eu=st.getByKey(Gs),tu=st.getByKeys(Gs),nu=st.getByKeysAsObject(Gs),ru=st.getDataByKey(Gs),iu=st.getDeletePermissionByKey(Gs),ou=st.getEditedActive(Gs),au=st.getEditedAll(Gs),su=st.getEditedAllAsObject(Gs),uu=st.getEditedByKey(Gs),lu=st.getEditedDataByKey(Gs),cu=st.getEditedKeys(Gs),hu=st.getIndexed(Gs),fu=st.getStateToSave(Gs),du=st.getUpdatePermissionByKey(Gs),pu=st.getUsedKeysForComponent(Gs),vu=st.haveAllKeysRegisteredUse(Gs),gu={getActive:Xs,getActiveKey:$s,getActiveKeys:Js,getActiveModels:Qs,getAll:qs,getAllAsObject:Ys,getByKey:eu,getByKeys:tu,getByKeysAsObject:nu,getAsObjectByFullPeriod:_e()([Ys,function(e,t){return t},function(e,t,n){return n}],(function(e,t,n){if(e&&t&&n){var r=(0,ie.pickBy)(e,(function(e){var r,i,o=null===(r=e.data)||void 0===r?void 0:r.start,a=null===(i=e.data)||void 0===i?void 0:i.end;return o&&a?le()(o).isBetween(t,n,null,"[]")&&le()(a).isBetween(t,n,null,"[]"):o?le()(o).isBetween(t,n,null,"[]"):!!a&&le()(a).isBetween(t,n,null,"[]")}));return(0,ie.isEmpty)(r)?null:r}return null}))((function(e,t,n){return"".concat(t,"_").concat(n)})),getDataByKey:ru,getDeletePermissionByKey:iu,getEditedActive:ou,getEditedAll:au,getEditedAllAsObject:su,getEditedByKey:uu,getEditedDataByKey:lu,getEditedKeys:cu,getIndexed:hu,getStateToSave:fu,getSubstate:Gs,getUpdatePermissionByKey:du,getUsedKeysForComponent:pu,haveAllKeysRegisteredUse:vu},mu=function(e){return e.places},yu={getAll:st.getAll(mu),getAllAsObject:st.getAllAsObject(mu),getActiveKey:st.getActiveKey(mu),getActiveKeys:st.getActiveKeys(mu),getActive:st.getActive(mu),getActiveModels:st.getActiveModels(mu),getByKey:st.getByKey(mu),getByKeys:st.getByKeys(mu),getByKeysAsObject:st.getByKeysAsObject(mu),getDataByKey:st.getDataByKey(mu),getDeletePermissionByKey:st.getDeletePermissionByKey(mu),getEditedActive:st.getEditedActive(mu),getEditedAll:st.getEditedAll(mu),getEditedAllAsObject:st.getEditedAllAsObject(mu),getEditedByKey:st.getEditedByKey(mu),getEditedDataByKey:st.getEditedDataByKey(mu),getEditedKeys:st.getEditedKeys(mu),getIndexed:st.getIndexed(mu),getStateToSave:st.getStateToSave(mu),getSubstate:mu,getUpdatePermissionByKey:st.getUpdatePermissionByKey(mu),getUsedKeysForComponent:st.getUsedKeysForComponent(mu),haveAllKeysRegisteredUse:st.haveAllKeysRegisteredUse(mu)},bu=function(e){return e.scenarios},_u=st.getAll(bu),wu=st.getAllAsObject(bu),Eu=st.getActiveKey(bu),Su=st.getActiveKeys(bu),xu={getActive:st.getActive(bu),getActiveModels:st.getActiveModels(bu),getActiveKey:Eu,getActiveKeys:Su,getAll:_u,getAllAsObject:wu,getByKey:st.getByKey(bu),getByKeys:st.getByKeys(bu),getByKeysAsObject:st.getByKeysAsObject(bu),getDataByKey:st.getDataByKey(bu),getDeletePermissionByKey:st.getDeletePermissionByKey(bu),getEditedActive:st.getEditedActive(bu),getEditedAll:st.getEditedAll(bu),getEditedAllAsObject:st.getEditedAllAsObject(bu),getEditedByKey:st.getEditedByKey(bu),getEditedDataByKey:st.getEditedDataByKey(bu),getEditedKeys:st.getEditedKeys(bu),getIndexed:st.getIndexed(bu),getStateToSave:st.getStateToSave(bu),getSubstate:bu,getUpdatePermissionByKey:st.getUpdatePermissionByKey(bu),getUsedKeysForComponent:st.getUsedKeysForComponent(bu),haveAllKeysRegisteredUse:st.haveAllKeysRegisteredUse(bu)},Mu=function(e){return e.scopes},ku=st.getAll(Mu),Au=st.getAllAsObject(Mu),Tu=st.getActive(Mu),Pu=st.getActiveKey(Mu),Ou=st.getByKey(Mu),Cu=st.getByKeys(Mu),Ru=st.getByKeysAsObject(Mu),Lu=st.getDataByKey(Mu),Iu=st.getEditedActive(Mu),Du=st.getEditedAll(Mu),ju=st.getEditedAllAsObject(Mu),Nu=st.getEditedByKey(Mu),Bu=st.getEditedDataByKey(Mu),zu=st.getEditedKeys(Mu),Zu=st.getDeletePermissionByKey(Mu),Fu=st.getUpdatePermissionByKey(Mu),Uu=st.getUsedKeysForComponent(Mu),Ku=st.getIndexed(Mu),Vu=st.getStateToSave(Mu),Hu=st.haveAllKeysRegisteredUse(Mu),Wu={getActive:Tu,getActiveKey:Pu,getActiveScopeConfiguration:(0,Ce.createSelector)([Tu],(function(e){var t;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.configuration)||null})),getAll:ku,getAllAsObject:Au,getByKey:Ou,getByKeys:Cu,getByKeysAsObject:Ru,getDataByKey:Lu,getDeletePermissionByKey:Zu,getEditedActive:Iu,getEditedAll:Du,getEditedAllAsObject:ju,getEditedByKey:Nu,getEditedDataByKey:Bu,getEditedKeys:zu,getIndexed:Ku,getStateToSave:Vu,getSubstate:Mu,getUpdatePermissionByKey:Fu,getUsedKeysForComponent:Uu,haveAllKeysRegisteredUse:Hu},Gu=function(e){return e.screens.screens},qu=function(e){return e.screens.sets},Yu=(0,Ce.createSelector)([qu,function(e,t){return t}],(function(e,t){return e&&!oe().isEmpty(e)&&t&&e[t]?e[t]:null})),Xu=(0,Ce.createSelector)([Yu,Gu],(function(e,t){if(e){var n={};return oe().each(e.orderBySpace,(function(e){n[e]=t[e]})),n}return null})),$u=(0,Ce.createSelector)([qu,function(e,t){return t}],(function(e,t){var n=null;return oe().forIn(e,(function(e,r){oe().includes(e.orderByHistory,t)&&(n=r)})),n})),Ju={getScreenByLineage:(0,Ce.createSelector)([Gu,function(e,t){return t}],(function(e,t){return e&&!oe().isEmpty(e)&&t&&e[t]?e[t]:null})),getScreensBySetKey:Xu,getSetByKey:Yu,getSetKeyByScreenLineage:$u},Qu=function(e){return e.tags},el=st.getActive(Qu),tl=st.getActiveModels(Qu),nl=st.getActiveKey(Qu),rl=st.getActiveKeys(Qu),il=st.getAll(Qu),ol=st.getAllAsObject(Qu),al=st.getByKey(Qu),sl=st.getByKeys(Qu),ul=st.getByKeysAsObject(Qu),ll=st.getDataByKey(Qu),cl=st.getEditedActive(Qu),hl=st.getEditedAll(Qu),fl=st.getEditedAllAsObject(Qu),dl=st.getEditedByKey(Qu),pl=st.getEditedDataByKey(Qu),vl=st.getEditedKeys(Qu),gl=st.getIndexed(Qu),ml=st.getStateToSave(Qu),yl={getActive:el,getActiveKey:nl,getActiveKeys:rl,getActiveModels:tl,getAll:il,getAllAsObject:ol,getByKey:al,getByKeys:sl,getByKeysAsObject:ul,getDataByKey:ll,getDeletePermissionByKey:st.getDeletePermissionByKey(Qu),getEditedActive:cl,getEditedAll:hl,getEditedAllAsObject:fl,getEditedByKey:dl,getEditedDataByKey:pl,getEditedKeys:vl,getIndexed:gl,getStateToSave:ml,getSubstate:Qu,getUpdatePermissionByKey:st.getUpdatePermissionByKey(Qu),getUsedKeysForComponent:st.getUsedKeysForComponent(Qu),haveAllKeysRegisteredUse:st.haveAllKeysRegisteredUse(Qu)};function bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wl=(0,Ce.createSelector)([function(e){return e},function(e,t){return t},function(e,t,n){return n}],(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=_l(_l(_l(_l(_l({},null!==e&&void 0!==e&&e.key?{key:e.key}:{}),null!==e&&void 0!==e&&e.layerKey?{layerKey:e.layerKey}:{}),t||null!==e&&void 0!==e&&e.metadataModifiers?{metadataModifiers:Oe.mergeFilters(n,e.filterByActive||{},_l({},null!==e&&void 0!==e&&e.metadataModifiers?e.metadataModifiers:{}))}:{}),null!==e&&void 0!==e&&e.layerTemplateKey?{layerTemplateKey:e.layerTemplateKey}:{}),null!==e&&void 0!==e&&e.styleKey?{styleKey:e.styleKey}:{});return(0,ie.isEmpty)(r.metadataModifiers)&&(r.metadataModifiers={}),t&&(r.metadataModifiers.periodKey=t),(0,ie.isEmpty)(r.metadataModifiers)&&delete r.metadataModifiers,r})),El=(0,Re.P1)((function(e,t,n){if(e&&t&&n){var r=st.getAllActiveKeysObserver(),i=Ws.getLayersStateWithMergedFiltersByMapKeyObserver(e),o=wl(null===t||void 0===t?void 0:t.layerState,null===n||void 0===n?void 0:n.key,r);return null===i||void 0===i?void 0:i.find((function(e){return(0,ie.isMatch)(e,o)}))}return null})),Sl=(0,Re.P1)((function(e,t,n){return!!El(e,t,n)})),xl=(0,Ce.createSelector)([Gi.getIndexed],(function(e){return(0,ie.isEmpty)(e)?null:null===e||void 0===e?void 0:e.map((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.periodKey})).filter((function(e){return e}))})),Ml={getTimelineLayerPeriodActive:Sl,getTimelineMapLayerPeriodDefinition:wl,getMapLayerByTimelineLayerAndPeriod:El,getPeriodKeysForFilteredSpatialRelations:xl},kl={mapTimeline:Ml},Al=function(e){return e.users},Tl=function(e){return e.users.groups},Pl=st.getAll(Al),Ol=st.getAll(Tl),Cl=st.getActiveKey(Al),Rl=st.getActive(Al),Ll=st.getByKey(Al),Il=function(e){return e.users.isAdmin},Dl=(0,Ce.createSelector)([Pl,function(e,t){return t}],(function(e,t){return!!t&&e.find((function(e){return e.id===t}))})),jl=(0,Ce.createSelector)([Rl],(function(e){return!!e&&oe().includes(e.groups,1)})),Nl=(0,Ce.createSelector)([Rl],(function(e){return e&&e.permissions?e.permissions:null})),Bl=(0,Ce.createSelector)([Il,jl],(function(e,t){return e||t})),zl=(0,Ce.createSelector)([Rl],(function(e){return e&&e.groups?e.groups:[]})),Zl=(0,Ce.createSelector)([Nl,function(e,t){return t},function(e,t,n){return n}],(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"metadata";return t&&e&&e[n]&&e[n][t]&&e[n][t].create})),Fl={getAll:Pl,getActive:Rl,getByKey:Ll,getById:Dl,getActiveKey:Cl,getActiveUser:Rl,getGroupKeysForActiveUser:zl,getGroupsForActiveUser:zl,getUsers:Pl,getGroups:Ol,getSubstate:Al,getGroupsSubstate:Tl,hasActiveUserPermissionToCreate:Zl,isAdmin:Il,isAdminGroupMember:jl,isAdminOrAdminGroupMember:Bl,isLoggedIn:function(e){return!!e.users.activeKey},isDromasAdmin:function(e){var t=!1;if(e.users&&e.users.data&&e.users.data.length){var n=e.users.data.filter((function(t){return t.key===e.users.activeKey}));n.length>0&&n[0].groups.forEach((function(e){"Aktualizace LPIS Gisat admin"===e.name&&(t=!0)}))}return t||e.users.isAdmin},getActiveUserDromasLpisChangeReviewGroup:(0,Ce.createSelector)([zl,Wu.getActiveScopeConfiguration],(function(e,t){return oe().includes(e,t.dromasLpisChangeReview.groups.gisatAdmins)?"gisatAdmins":oe().includes(e,t.dromasLpisChangeReview.groups.szifAdmins)?"szifAdmins":oe().includes(e,t.dromasLpisChangeReview.groups.gisatUsers)?"gisatUsers":oe().includes(e,t.dromasLpisChangeReview.groups.szifUsers)?"szifUsers":null}))},Ul=function(e){return e.views},Kl=st.getActive(Ul),Vl=st.getActiveKey(Ul),Hl=st.getAll(Ul),Wl=st.getAllAsObject(Ul),Gl=st.getByKey(Ul),ql=st.getByKeys(Ul),Yl=st.getByKeysAsObject(Ul),Xl=st.getDataByKey(Ul),$l=st.getEditedActive(Ul),Jl=st.getEditedAll(Ul),Ql=st.getEditedAllAsObject(Ul),ec=st.getEditedByKey(Ul),tc=st.getEditedDataByKey(Ul),nc=st.getEditedKeys(Ul),rc=st.getIndexed(Ul),ic=st.getDeletePermissionByKey(Ul),oc=st.getUpdatePermissionByKey(Ul),ac=st.getUsedKeysForComponent(Ul),sc=st.haveAllKeysRegisteredUse(Ul),uc={getActive:Kl,getActiveKey:Vl,getAll:Hl,getAllAsObject:Wl,getByKey:Gl,getByKeys:ql,getByKeysAsObject:Yl,getDataByKey:Xl,getDeletePermissionByKey:ic,getEditedActive:$l,getEditedAll:Jl,getEditedAllAsObject:Ql,getEditedByKey:ec,getEditedDataByKey:tc,getEditedKeys:nc,getIndexed:rc,getStateToSave:(0,Ce.createSelector)([Mt.getStateToSave,Rt.getStateToSave,Kt.getStateToSave,Wu.getStateToSave],(function(e,t,n,r){return{attributes:e,attributeSets:t,components:n,scopes:r}})),getSubstate:Ul,getUpdatePermissionByKey:oc,getUsedKeysForComponent:ac,haveAllKeysRegisteredUse:sc},lc=function(e){return e.windows.windows},cc=(0,Ce.createSelector)([function(e){return e.windows.sets},function(e,t){return t}],(function(e,t){return e&&e[t]})),hc=(0,Ce.createSelector)([lc,function(e,t){return t}],(function(e,t){return e&&e[t]})),fc=(0,Ce.createSelector)([cc,lc],(function(e,t){if(e&&e.orderByHistory&&e.orderByHistory.length){var n={};return oe().each(e.orderByHistory,(function(e){n[e]=t[e]})),n}return null})),dc=(0,Ce.createSelector)([hc],(function(e){return e&&e.data&&"open"===e.data.state})),pc={app:dt,areas:_t,areaRelations:Et,attributes:Mt,attributeSets:Rt,cases:jt,components:Kt,data:So,layerTemplates:Mo,layerTrees:Wo,maps:Ws,periods:gu,places:yu,scenarios:xu,scopes:Wu,screens:Ju,selections:Na,styles:ka,tags:yl,timeline:kl,users:Fl,views:uc,windows:{getSetByKey:cc,getWindow:hc,getWindowsBySetKeyAsObject:fc,isOpen:dc}},vc=function(e){return e.match(/^[0-9]{4}$/)?{start:le()({year:e}),end:le()({year:e}).endOf("year"),source:e,type:"year"}:e.match(/^[0-9]{4}-[0-9]{2}$/)?{start:le()(e),end:le()(e).endOf("month"),source:e,type:"month"}:e.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)?{start:le()(e),end:le()(e).endOf("day"),source:e,type:"day"}:e.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}$/)?{start:le()(e),end:le()(e).endOf("hour"),source:e,type:"hour"}:e.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}$/)?{start:le()(e),end:le()(e).endOf("minute"),source:e,type:"minute"}:e.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$/)||e.match(/^[0-9]{4}[0-9]{2}[0-9]{2}T[0-9]{2}[0-9]{2}[0-9]{2}$/)?{start:le()(e),end:le()(e).endOf("second"),source:e,type:"second"}:e.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}/)?{start:le()(e),end:le()(e).endOf("second"),source:e,type:"full"}:void 0},gc={parse:function(e){if(e.match(/\/P/))throw new Error("Durations not implemented");if(e.match(/\//)){var t=e.split("/");return{start:vc(t[0]).start,end:vc(t[1]).end,type:"interval"}}return vc(e)},toString:function(e){if(!((0,ie.isObject)(e)&&e.start&&e.end&&e.type))throw new Error("Invalid period supplied to period.toString");switch(e.type){case"interval":return e.start.format("YYYY-MM-DD h:mm:ss")+" - "+e.end.format("YYYY-MM-DD h:mm:ss");case"second":case"full":return e.start.format("YYYY-MM-DD h:mm:ss");case"minute":return e.start.format("YYYY-MM-DD h:mm");case"hour":return e.start.format("YYYY-MM-DD h")+"h";default:return e.source}}},mc=n(6433);function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _c={period:gc,uuid:function(){if("function"===typeof(null===mc||void 0===mc?void 0:mc.randomUUID))return mc.randomUUID();if("function"===typeof(null===mc||void 0===mc?void 0:mc.getRandomValues))return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^mc.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}));var e=(new Date).getTime(),t="undefined"!==typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===n?r:3&r|8).toString(16)}))},isValidUuidV4:function(e){var t=""+e;return null!==(t=t.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[4][0-9a-fA-F]{3}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"))},randomString:function(e){return(Math.random()*Math.pow(36,e)>>0).toString(36)},getRemSize:function(){return"undefined"===typeof window?16:parseFloat(getComputedStyle(document.documentElement).fontSize)},scrollTo:function(e,t){var n=document.getElementById(e).offsetTop;document.getElementById(t).scrollTop=n},getStringFromJson:function(e){return e&&"object"===(0,pn.Z)(e)?JSON.stringify(e,null,2):e},deepKeyMirror:function(e,t){var n=this;return(0,ie.isObjectLike)(e)?(0,ie.mapValues)(e,(function(e,r){return n.deepKeyMirror(e,t?t+"."+r:r)})):t},stringToNumHash:function(e){if("string"!==typeof(e=""+e))throw new Error("stringToNumHash: argument must be a string");for(var t=1,n=0;n<e.length;n++)t=Math.imul(t+e.charCodeAt(n)|0,265443576107);return(t^t>>>17)>>>0},stringToColours:function(e,t,n){for(var r,i,o,a=this.stringToNumHash(e),s=[],u=(n=bc(bc({},{hue:[0,360],saturation:[35,65],lightness:[40,60]}),n)).hue[1]-n.hue[0],l=n.saturation[1]-n.saturation[0],c=n.lightness[1]-n.lightness[0],h=0;h<(t||1);h++)r=a%u+n.hue[0],i=(a=(a^a>>>17)>>>0)%l+n.saturation[0],o=(a=(a^a>>>17)>>>0)%c+n.lightness[0],a=(a^a>>>17)>>>0,s.push("hsl("+r+","+i+"%,"+o+"%)");return s}},wc=_c.deepKeyMirror({APP:{SET_KEY:null,SET_BASE_URL:null,SET_LOCAL_CONFIGURATION:null,UPDATE_LOCAL_CONFIGURATION:null,RECEIVE_CONFIGURATION:null},AREAS:{AREA_TREE_LEVELS:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},AREA_TREES:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}}},AREA_RELATIONS:{ADD:null,ADD_UNRECEIVED:null,ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null},USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null}}},ATTRIBUTES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null,REMOVE_ACTIVE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null,CLEAR_INDEX:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,UPDATE_STORE:null,USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},ATTRIBUTE_SETS:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null,REMOVE_ACTIVE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null,CLEAR_INDEX:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,UPDATE_STORE:null,USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},CASES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null,REMOVE_ACTIVE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null,CLEAR_INDEX:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,UPDATE_STORE:null,USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},COMMON:{DATA:{CLEANUP_ON_LOGOUT:null,SET_OUTDATED:null},EDITED:{REMOVE_PROPERTY_VALUES:null}},COMPONENTS:{SET:null,UPDATE:null,REMOVE:null,UPDATE_STORE:null},DATA:{ATTRIBUTE_DATA:{ADD:null,ADD_WITH_INDEX:null,ADD_WITH_SPATIAL_INDEX:null,UPDATE:null,UPDATE_STORE:null,INDEX:{ADD:null,REMOVE:null},SPATIAL_INDEX:{ADD:null,REMOVE:null}},ATTRIBUTE_DATA_SOURCES:{ADD:null,UPDATE_STORE:null,INDEX:{ADD:null}},ATTRIBUTE_RELATIONS:{ADD:null,UPDATE_STORE:null,INDEX:{ADD:null}},COMPONENTS:{COMPONENT:{SET:{ATTRIBUTE_KEYS:null,ATTRIBUTE_ORDER:null,FEATURE_KEYS:null},USE:{CLEAR:null,REGISTER:null}},ADD_COMPONENTS:null,ADD_SETS:null},SPATIAL_DATA:{ADD:null,ADD_WITH_TILED_INDEX:null,ADD_WITH_INDEX:null,UPDATE_STORE:null,INDEX:{ADD:null,REMOVE:null}},SPATIAL_DATA_SOURCES:{ADD:null,UPDATE_STORE:null,INDEX:{ADD:null},USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},SPATIAL_RELATIONS:{ADD:null,UPDATE_STORE:null,INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},UPDATE:null},LAYER_TEMPLATES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null,REMOVE_ACTIVE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,UPDATE_STORE:null,USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},LAYER_TREES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},UPDATE_STORE:null,SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},MAPS:{SET:{ADD:null,ADD_MAP:null,LAYERS:{SET:null},REMOVE:null,REMOVE_MAP:null,SET_ACTIVE_MAP_KEY:null,SET_BACKGROUND_LAYER:null,SET_SYNC:null,USE:{CLEAR:null,REGISTER:null},VIEW:{SET:null,UPDATE:null}},MAP:{ADD:null,LAYERS:{ADD:null,ADD_TO_INDEX:null,REMOVE_LAYER:null,REMOVE_LAYERS:null,REMOVE_LAYERS_BY_FILTER:null,REMOVE_ALL:null,SET_OPACITY:null,SET_OPTION:null,SET_RENDER_AS:null,SET_STYLE:null,SET_STYLE_KEY:null},REMOVE:null,SET_BACKGROUND_LAYER:null,USE:{CLEAR:null,REGISTER:null},VIEWPORT:{SET:null},VIEW:{SET:null,UPDATE:null}},SET_ACTIVE_MAP_KEY:null,UPDATE:null},PERIODS:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null,REMOVE_ACTIVE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_ALL:null,CLEAR_INDEX:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,UPDATE_STORE:null,USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},PLACES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null,REMOVE_ACTIVE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,UPDATE_STORE:null,USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},SCENARIOS:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null,REMOVE_ACTIVE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,UPDATE_STORE:null,USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},SCOPES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null,REMOVE_ACTIVE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,UPDATE_STORE:null,USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},SCREENS:{ADD:null,CLOSE:null,OPEN:null,REMOVE:null,REMOVE_ALL:null,RETRACT:null,SETS:{ADD:null,REMOVE:null},TOP_HISTORY:null,UPDATE:null},SELECTIONS:{ADD:null,ADD_UNRECEIVED:null,SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,SET:{FEATURE_KEYS_FILTER:{KEYS:null}},CLEAR:{FEATURE_KEYS_FILTER:null}},STYLES:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null,REMOVE_ACTIVE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,UPDATE_STORE:null,USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},TAGS:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null,REMOVE_ACTIVE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,UPDATE_STORE:null,USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},USERS:{LOGOUT_REQUEST:null,LOGOUT_REQUEST_ERROR:null,LOAD_REQUEST:null,LOAD_REQUEST_ERROR:null,ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null,REMOVE_ACTIVE:null},GROUPS:{ADD:null,ADD_UNRECEIVED:null,INDEX:{ADD:null,CLEAR_ALL:null},USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},SET_ACTIVE_KEY:null,CURRENT:{REQUEST:null},LOGIN:{REQUEST:null},INDEX:{ADD:null,CLEAR_ALL:null,CLEAR_INDEX:null},USE:{INDEXED:{CLEAR:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},VIEWS:{ADD:null,ADD_UNRECEIVED:null,DELETE:null,MARK_DELETED:null,EDITED:{REMOVE:null,REMOVE_PROPERTY:null,UPDATE:null,REMOVE_ACTIVE:null},ENSURE:{ERROR:null},INDEX:{ADD:null,CLEAR_INDEX:null,CLEAR_ALL:null},LOAD:{ERROR:null,REQUEST:null},SET_ACTIVE_KEY:null,SET_ACTIVE_KEYS:null,UPDATE_STORE:null,USE:{INDEXED:{CLEAR:null,CLEAR_ALL:null,REGISTER:null},KEYS:{CLEAR:null,REGISTER:null}}},WINDOWS:{ADD:null,OPEN:null,REMOVE:null,SETS:{ADD:null,REMOVE:null},TOP:null,UPDATE:null}});function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xc="metadata",Mc=function(e,t,n,r,i){return function(o,a){return ye(pc.app.getCompleteLocalConfiguration(a()),"rest/"+r,"PUT",null,{data:(0,re.Z)({},t,i)}).then((function(i){i.errors&&i.errors[t]||i.data&&!i.data[t]?o(Ic(i.errors[t]||new Error("no data"))):o(Rc(e,n,i,t,r))})).catch((function(e){o(Ic(e))}))}};function kc(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xc;return function(a,s){var u=s(),l=st.getUsedIndexPage(e)(u,n,r);l&&oe().each(l.uses,(function(n){a(Pc(e,t,l.filter,l.order,n.start,n.length,i,o))}))}}function Ac(e,t,n,r,i,o){return function(a){t.data[n].length&&a(Nc(e,t.data[n],r)),a(Bc(e,r,i,t.total,o,t.data[n],t.changes&&t.changes[n]))}}function Tc(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xc;return function(o,a){var s=a(),u=pc.app.getLocalConfiguration(s,"requestPageSize")||En.requestPageSize,l=st.getKeysToLoad(e)(s,r),c=[];return l&&(l=oe().chunk(l,u),oe().each(l,(function(e){c.push(o(Oc(t,n,e,i)))}))),Promise.all(c)}}function Pc(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:xc;return function(u,l){var c=l(),h=pc.app.getCompleteLocalConfiguration(c).requestPageSize||En.requestPageSize,f=st.getIndexTotal(e)(c,n,r),d=st.getIndexChangedOn(e)(c,n,r);if(null!=f){var p=st.getIndexPage(e)(c,n,r,i,o)||{},v=oe().chunk(Object.values(p),h).map((function(o,l){var c=o.filter((function(e){return null!=e}));if(c.length!==o.length){var f=c.length?Sc(Sc({},n),{},{key:{notin:c}}):n;return u(Cc(t,f,r,i+l*h,d,a,s)).catch((function(i){"Index outdated"===i.message&&u(kc(e,t,n,r,a,s))}))}}));return Promise.all(v)}return u(Cc(t,n,r,i,d,a,s)).then((function(l){if(l&&l.message&&!1===l.success);else if(o>h)return u(Pc(e,t,n,r,i+h,o-h,a,s))})).catch((function(i){if("Index outdated"!==i.message)throw new Error("_common/actions#ensure: ".concat(i));u(kc(e,t,n,r,a,s))}))}}function Oc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xc;return function(i,o){var a=pc.app.getCompleteLocalConfiguration(o()),s=Hc(r,e),u=a.requestPageSize||En.requestPageSize;return ye(a,s,"POST",null,{filter:{key:{in:n}},limit:u}).then((function(r){if(r.errors&&r.errors[e]||r.data&&!r.data[e])throw new Error(r.errors[e]||"no data");i(Lc(t,r,e,n))})).catch((function(e){return i(Ic(e)),e}))}}function Cc(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xc;return function(s,u){var l=pc.app.getCompleteLocalConfiguration(u()),c=l.requestPageSize||En.requestPageSize;return ye(l,Hc(a,e),"POST",null,{filter:t&&Sc({},t),offset:r-1,order:n,limit:c}).then((function(a){if(a.errors&&a.errors[e]||a.data&&!a.data[e])throw new Error(a.errors[e]||"no data");if(a.changes&&a.changes[e]&&le()(a.changes[e]).isAfter(i))throw new Error("Index outdated");s(Ac(o,a,e,t,n,r))})).catch((function(e){return s(Ic(e)),e}))}}function Rc(e,t,n,r,i){return function(o,a){var s=n.data[r];if(s.length){var u=st.getAllAsObject(e)(a());o(Nc(t,s));var l=st.getEditedAllAsObject(e)(a()),c=[];s.forEach((function(n){var r,i=null===u||void 0===u?void 0:u[n.key],s=null===l||void 0===l||null===(r=l[n.key])||void 0===r?void 0:r.data;oe().forIn(s,(function(e,r){(n.data[r]===e||oe().isObject(e)&&(JSON.stringify(e)===JSON.stringify(n.data[r])||oe().isArray(e)&&oe().isEmpty(e)&&(oe().isEmpty(n.data[r])||n.data&&!n.data[r])))&&o(Kc(t,n.key,r))})),c=(c=c.concat(st.getIndexesByFilteredItem(e)(a()||[],n))).concat(st.getIndexesByFilteredItem(e)(a()||[],i))}));var h=Oe.getUniqueIndexes(c);oe().isEmpty(h)||h.forEach((function(n){n&&(o(zc(t,n.filter,n.order)),o(kc(e,r,n.filter,n.order,t,i)))}))}else console.warn("No data updated for ".concat(r," metadata type"))}}function Lc(e,t,n,r){return function(i){t.data[n].length&&i(Nc(e,t.data[n])),oe().remove(r,(function(e){return oe().find(t.data[n],{key:e})})),r.length&&i(function(e,t){oe().isArray(t)||(t=[t]);return jc(e,"ADD_UNRECEIVED",{keys:t})}(e,r))}}function Ic(e){return console.error("common/actions error",e),{type:"ERROR"}}var Dc=function(e){return function(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(n){n(e.apply(void 0,[t].concat(r)))}}}};function jc(e,t,n){if(t=t.split("."),oe().each(t,(function(r){if(!Object.hasOwn(e,r))throw console.error("common/actions#action: Action not in namespace",t,n),new Error("common/actions#action: Action not in namespace");e=e[r]})),"string"!==typeof e)throw new Error("common/actions#action: Action type not string");return Sc(Sc({},n),{},{type:e})}function Nc(e,t,n){return oe().isArray(t)||(t=[t]),jc(e,"ADD",{data:t,filter:n})}function Bc(e,t,n,r,i,o,a,s){return jc(e,"INDEX.ADD",Sc({filter:t,order:n,count:r,start:i,data:o,changedOn:a},s&&{limit:s}))}function zc(e,t,n){return jc(e,"INDEX.CLEAR_INDEX",{filter:t,order:n})}var Zc=function(e,t,n){return jc(e,"MARK_DELETED",{key:t,date:n})};function Fc(e,t){return jc(e,"SET_ACTIVE_KEY",{key:t})}function Uc(e,t){return jc(e,"SET_ACTIVE_KEYS",{keys:t})}function Kc(e,t,n){return jc(e,"EDITED.REMOVE_PROPERTY",{key:t,property:n})}function Vc(e,t,n,r,i,o,a){return jc(e,"USE.INDEXED.REGISTER",{componentId:t,filterByActive:n,filter:r,order:i,start:o,length:a})}var Hc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc,t=arguments.length>1?arguments[1]:void 0;return se().join("rest",e,"filtered",t)},Wc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_c.uuid(),n=arguments.length>2?arguments[2]:void 0,r={data:{}},i={key:t,data:{}};return n&&(i.data={applicationKey:n}),r.data[e]=[i],r},Gc={action:jc,actionDataSetOutdated:function(){return{type:wc.COMMON.DATA.SET_OUTDATED}},actionGeneralError:Ic,actionSetActiveKey:Fc,add:Dc(Nc),addIndex:Dc(Bc),apiUpdate:Mc,clearIndex:Dc(zc),create:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xc;return function(i,o){return function(a,s){var u=s(),l=se().join("rest",r),c=pc.app.getCompleteLocalConfiguration(u),h=null;if(o)h=o;else{var f=pc.app.getKey(u);f&&(h=f)}return ye(c,l,"POST",null,Wc(t,i,h)).then((function(i){if(i.errors&&i.errors[t]||i.data&&!i.data[t])a(Ic(i.errors[t]||new Error("no data")));else{var o=i.data[t];a(Nc(n,o));var u=[];o.forEach((function(t){u=u.concat(st.getIndexesByFilteredItem(e)(s(),t))||[]}));var l=Oe.getUniqueIndexes(u);oe().isEmpty(l)||l.forEach((function(i){i&&(a(zc(n,i.filter,i.order)),a(kc(e,t,i.filter,i.order,n,r)))}))}})).catch((function(e){a(Ic(e))}))}}},creator:Dc,delete:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xc;return function(i){return function(o,a){return i?i.key?o(function(e,t,n){return function(r,i){return ye(pc.app.getCompleteLocalConfiguration(i()),"rest/"+t,"DELETE",null,{data:(0,re.Z)({},e,n)}).then((function(t){if(t.errors&&t.errors[e]||t.data&&!t.data[e])r(Ic(t.errors[e]||new Error("no data")));else{if(t.data[e].length>0)return t;console.warn("No data updated for ".concat(e," metadata type"))}})).catch((function(e){r(Ic(e))}))}}(t,r,[{key:i.key}])).then((function(s){var u=s.data[t].map((function(e){return e.key}));if(!(0,ie.isEqual)(u,[i.key]))return o(Ic("common/actions#deleteItem: Deleted key is not equal to key to delete!"));var l=le()((new Date).toISOString()).utc().format();u.forEach((function(e){o(Zc(n,e,l))})),o(function(e,t){return{type:wc.COMMON.EDITED.REMOVE_PROPERTY_VALUES,dataType:e,keys:t}}(t,u));var c=a(),h=st.getIndexesByFilteredItem(e)(c,i)||[];oe().isEmpty(h)||h.forEach((function(i){i&&(o(zc(n,i.filter,i.order)),o(kc(e,t,i.filter,i.order,n,r)))}))})):o(Ic("common/actions#deleteItem: item key to delete is missing!")):o(Ic("common/actions#deleteItem: item to delete is missing!"))}}},ensure:Tc,ensureIndexed:Pc,ensureIndexesWithFilterByActive:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xc;return function(i){return function(o,a){var s=a(),u=st.getUsesWithActiveDependency(e)(s,i),l=oe().flatMap(u,(function(i){oe().map(i.uses,(function(a){return o(Pc(e,t,i.filter,i.order,a.start,a.length,n,r))}))}));return Promise.all(l)}}},ensureKeys:Tc,loadIndexedPage:Cc,loadKeysPage:Oc,receiveIndexed:Ac,receiveKeys:Lc,receiveUpdated:Rc,refreshUses:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xc;return function(){return function(i,o){i(function(e){return jc(e,"INDEX.CLEAR_ALL")}(n));var a=o(),s=st.getKeysInUse(e)(a);i(Tc(e,t,n,s,r));var u=st.getUsedIndexPages(e)(a),l=oe().flatMap(u,(function(o){oe().map(o.uses,(function(a){return i(Pc(e,t,o.filter,o.order,a.start,a.length,n,r))}))}));return Promise.all(l)}}},removePropertyFromEdited:function(e){return function(t,n){return function(r){return r(Kc(e,t,n))}}},request:function(e,t,n,r,i,o,a,s){return function(u,l){ye(pc.app.getCompleteLocalConfiguration(l()),e,t,n,r,a,s).then((function(e){u(i(e.data))})).catch((function(e){u(o(e))}))}},saveEdited:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xc;return function(i){return function(o,a){if(!e)return o(Ic("common/actions#saveEdited: setSubstate parameter is missing!"));if(!t)return o(Ic("common/actions#saveEdited: dataType parameter is missing!"));if(!n)return o(Ic("common/actions#saveEdited: actionTypes parameter is missing!"));if(!i)return o(Ic("common/actions#saveEdited: Model key is missing!"));var s=a(),u=st.getByKey(e)(s,i),l=st.getEditedByKey(e)(s,i);return u?o(Mc(e,t,n,r,[l])):void 0}}},setActiveKey:Dc(Fc),setActiveKeys:Dc(Uc),updateEdited:function(e,t){return function(n,r,i){return function(o,a){if(!e)return o(Ic("common/actions#updateEdited: setSubstate parameter is missing!"));if(!t)return o(Ic("common/actions#updateEdited: actionTypes parameter is missing!"));if(!n)return o(Ic("common/actions#updateEdited: Model key is missing!"));if(!r)return o(Ic("common/actions#updateEdited: Property key is missing!"));var s=st.getByKey(e)(a(),n);s&&(i===s.data[r]||(0,ie.isEqual)(s.data[r],i))?o(Kc(t,n,r)):o(function(e,t){return jc(e,"EDITED.UPDATE",{data:t})}(t,[{key:n,data:(0,re.Z)({},r,i)}]))}}},updateStore:function(e,t){return function(e){return function(n){n(function(e,t){return jc(e,"UPDATE_STORE",t)}(t,e))}}},updateSubstateFromView:function(e){return function(t){return function(n){t&&t.activeKey?n(Fc(e,t.activeKey)):t&&t.activeKeys&&n(Uc(e,t.activeKeys))}}},useIndexed:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xc;return function(i,o,a,s,u,l){return function(c,h){c(Vc(n,l,i,o,a,s,u));var f=h(),d=st.getAllActiveKeys(f),p=Oe.mergeFilters(d,i,o);return c(Pc(e,t,p,a,s,u,n,r))}}},useIndexedClear:Dc((function(e,t){return jc(e,"USE.INDEXED.CLEAR",{componentId:t})})),useIndexedClearAll:Dc((function(e){return jc(e,"USE.INDEXED.CLEAR_ALL")})),useIndexedRegister:Dc(Vc),useKeys:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xc;return function(i,o){return function(a,s){var u=s();return st.haveAllKeysRegisteredUse(e)(u,o,i)||a(function(e,t,n){return jc(e,"USE.KEYS.REGISTER",{componentId:t,keys:n})}(n,o,i)),a(Tc(e,t,n,i,r))}}},useKeysClear:Dc((function(e,t){return jc(e,"USE.KEYS.CLEAR",{componentId:t})}))},qc=wc.DATA.ATTRIBUTE_RELATIONS,Yc=Gc.add(qc),Xc=Gc.addIndex(qc);var $c={ensureIndexed:function(e,t,n,r){return Gc.ensureIndexed(pc.data.attributeRelations.getSubstate,"attribute",e,t,n,r,wc.DATA.ATTRIBUTE_RELATIONS,"relations")},receiveIndexed:function(e,t,n,r,i,o,a){return function(s){e.length&&s(Yc(e,t)),s(Xc(t,n,i,r,e,o,a))}},addLoadingIndex:function(e,t,n){return function(e,t,n,r,i,o){return{type:qc.INDEX.ADD,filter:e,order:t,data:n,start:r,count:i,changedOn:o}}(t,n,new Array(e.limit).fill({key:!0}),e.offset+1,null,null)},updateStore:function(e){return{type:wc.DATA.ATTRIBUTE_RELATIONS.UPDATE_STORE,data:e}}};function Jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eh=wc.DATA.ATTRIBUTE_DATA;function th(e,t,n,r,i,o){return{type:eh.ADD_WITH_SPATIAL_INDEX,attributeDataSourceKey:e,data:t,filter:n,order:r,indexData:i,changedOn:o}}function nh(e,t,n,r){return{type:eh.SPATIAL_INDEX.ADD,filter:e,order:t,indexData:n,changedOn:r}}var rh={addLoadingIndex:function(e,t,n){return function(e,t,n,r,i,o,a){return Qc({type:eh.INDEX.ADD,filter:e,order:t,data:n,start:r,count:i,changedOn:o},a&&{limit:a})}(t,n,new Array(e.limit).fill({key:!0}),e.offset+1,null,null)},addLoadingSpatialIndex:function(e,t,n,r){var i=(0,ie.reduce)(r,(function(e,t){return e[Gr.tileAsString(t)]=!0,e}),{});return nh(e,t,[(0,re.Z)({},n,i)],null)},getTiledIndexDataBySpatialData:function(e,t){for(var n={},r=0,i=Object.entries(e);r<i.length;r++)for(var o=v(i[r],2)[1],a=0,s=Object.entries(o.spatialIndex);a<s.length;a++){var u=v(s[a],2),l=u[0],c=u[1];n[l]||(n[l]={});for(var h=0,f=Object.entries(c);h<f.length;h++){var d=v(f[h],2),p=d[0],m=d[1];if(n[l][Gr.tileAsString(p)]&&!(0,ie.isEmpty)(t)||(n[l][Gr.tileAsString(p)]={}),!(0,ie.isEmpty)(t))for(var y=function(){var e,t,r=v(_[b],2),i=r[0],o=r[1],a=m.filter((function(e){return Object.keys(o).includes(e.toString())}));null!==n&&void 0!==n&&null!==(e=n[l])&&void 0!==e&&null!==(t=e[Gr.tileAsString(p)])&&void 0!==t&&t[i]?n[l][Gr.tileAsString(p)][i]=[].concat((0,g.Z)(n[l][Gr.tileAsString(p)][i]),(0,g.Z)(a)):n[l][Gr.tileAsString(p)][i]=a},b=0,_=Object.entries(t);b<_.length;b++)y()}}return n},getIndexData:function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=v(r[n],2),o=i[0],a=i[1];t[o]=(0,g.Z)(Object.keys(a))}return t},receiveIndexedWithSpatialIndex:function(e,t,n,r,i){return function(o){(0,ie.isEmpty)(e)?o(function(e,t,n,r){return nh(e,t,[n],r)}(n,r,t,i)):o(function(e,t,n,r,i){return function(o){for(var a=0,s=Object.keys(n);a<s.length;a++){var u=s[a];o(th(u,n[u],e,t,[r],i))}}}(n,r,e,t,i))}},receiveIndexed:function(e,t,n,r,i,o,a){return function(e,t,n,r,i,o,a,s){return Qc({type:eh.ADD_WITH_INDEX,filter:e,order:t,total:n,start:r,index:i,data:o,changedOn:a},s&&{limit:s})}(t,n,i,r,e.index,e.attributeData,o,a)},removeSpatialIndex:function(e,t){return{type:eh.SPATIAL_INDEX.REMOVE,filter:e,order:t}},updateStore:function(e){return{type:eh.UPDATE_STORE,data:e}}};function ih(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;t=(0,ie.isNumber)(t)?t:1;var o=n;return(0,ie.isNumber)(r)&&e*n+n>r&&(o=Math.max(0,r-e*n)),(0,ie.isNumber)(i)&&t+e*n+o-1>i&&(o=Math.max(0,i-(t+e*n-1))),{offset:Math.max(0,t+e*n-1),limit:o}}function oh(){return ih(0,1,0,0)}function ah(e,t,n,r){var i=(0,ie.isNumber)(null===e||void 0===e?void 0:e.count)?null===e||void 0===e?void 0:e.count:null,o=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0;if(r=(0,ie.isNumber)(r)?r:1,(0,ie.isNumber)(e)&&(0===e||r>e))return[];(0,ie.isNumber)(e)?(n=e-r+1,(0,ie.isNumber)(i)&&(n=r+i-1>e?e-r+1:i)):n=(0,ie.isNumber)(i)?i:t;var o=r,a=r+n,s=Math.ceil((a-o)/t),u=(0,g.Z)(Array(s)).map((function(e,t){return t}));return u}(i,t,n,r),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;t=(0,ie.isNumber)(t)?t:1;var a=[];return r.forEach((function(r){var s=0;(0,ie.isNumber)(i)?(0,ie.isNumber)(o)&&n*(r+1)>o?t+(s=o-n*r)>i&&(s=i-(t+n*(r+1)-n)+1):s=t+n*(r+1)>i?i-(t+n*(r+1)-n)+1:n:s=(0,ie.isNumber)(o)&&n*(r+1)>o?o-n*r:n;var u=(0,g.Z)(Array(s)).map((function(e,i){return t+n*r+i})),l=u.every((function(t){return Object.hasOwn(e,t)}));l&&a.push(r)})),a}(null===e||void 0===e?void 0:e.index,n,t,o,i,r);return(0,ie.difference)(o,a)}function sh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sh(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lh={offset:0,limit:En.requestPageSize};function ch(e,t,n,r,i,o,a,s,u,l,c){return function(a,h){var f=h();(0,Re.IW)(f);var d=pc.app.getCompleteLocalConfiguration(f),p=go(d),v=go(d);return a(gh(t,n,r,!!s,u,c,l)).then((function(l){if(!(l instanceof Error)){(0,Re.IW)(h());var c=pc.data.components.getIndexForAttributeDataByComponentKey(e)||[],f=uh({},n),d=pc.data.attributeRelations.getIndex(h(),f)||[],g=u?ah(c,p,i,o):[],m=s?ah(d,v,1,null):[];return 0===m.length&&0===g.length?void 0:a(hh(e,t,n,r,m,g,i,o,p))}}))}}function hh(e,t,n,r,i,o,a,s,u){return function(l,c){var h=c();(0,Re.IW)(h);for(var f=go(pc.app.getCompleteLocalConfiguration(h)),d=[],p=(pc.data.components.getIndexForAttributeDataByComponentKey(e)||{}).count,v=0,g=1;g<=i.length;g++){var m=ih(i[g-1],1,f),y=oh(),b=!1;v<o.length&&(y=ih(o[g-1],a,u,s,p),b=!0,v=g),d.push(l(gh(t,n,r,true,b,m,y)))}for(var _=v+1;_<=o.length;_++){var w=oh(),E=ih(o[_-1],a,u,s,p);d.push(l(gh(t,n,r,!1,!0,w,E)))}return Promise.all(d)}}var fh=function e(t){return function(n,r){return new Promise((function(i){var o=r();(0,Re.IW)(o);var a=pc.data.components.getComponentStateByKey(o,t);if(a){var s,u=null===(s=a.options)||void 0===s?void 0:s.nameComponentKey;u&&n(e(u));var l,c,h=a.attributeOrder,f=void 0===h?null:h,d=a.start,p=void 0===d?1:d,v=a.length,g=pc.data.components.getAttributeDataFilterExtensionByComponentKey(t),m=pc.data.components.getCommonFilterByComponentKey(t),y=uh({},m),b=pc.data.components.getIndexForAttributeDataByComponentKey(t)||[],_=pc.data.attributeRelations.getIndex(o,y)||[],w=!0,E=!0,S=go(pc.app.getCompleteLocalConfiguration(o)),x=S,M=ih(0,1,S),k=ih(0,p,x,v);return(0,ie.isEmpty)(_)||(M=ih((l=ah(_,S,1,null))[0]||0,0,S),w=l.length>0),(0,ie.isEmpty)(b)||(k=ih((c=ah(b,x,p,v))[0]||0,p,x,v,b.count),E=c.length>0),(0,ie.isEmpty)(b)||(0,ie.isEmpty)(_)?n(ch(t,f,m,g,p,v,0,w,E,k,M)).then(i):E||w?n(hh(t,f,m,g,l,c,p,v,x)).then(i):void i()}}))}},dh=function(e){return function(t,n){pc.data.components.isComponentInUse(n(),e)||t(_h(e))}},ph=function(e,t,n,r,i){var o=r.attributeFilter,a=r.dataSourceKeys,s=r.featureKeys,u=r.spatialFilter,l=e.layerTemplateKey,c=e.areaTreeLevelKey,h=e.attributeKeys;return uh(uh(uh(uh({modifiers:e.modifiers},l&&{layerTemplateKey:l}),c&&{areaTreeLevelKey:c}),h&&{attributeKeys:h}),{},{relations:t,data:uh(uh(uh(uh(uh({},n&&n),o&&{attributeFilter:o}),{},{attributeOrder:i||null},s&&{featureKeys:s}),u&&{spatialFilter:u}),a&&{dataSourceKeys:a})})},vh=function(e,t,n,r,i,o,a,s){return function(u){if(e.attributeData||e.attributeRelationsDataSources){if(t){u($c.receiveIndexed(e.attributeRelationsDataSources.attributeRelations,n,r,e.attributeRelationsDataSources.offset+1,e.attributeRelationsDataSources.total,null,a))}if(e.attributeData.attributeData){u(rh.receiveIndexed(e.attributeData,i,o,e.attributeData.offset+1,e.attributeData.total,null,s))}}}};function gh(e,t,n,r,i,o,a){return function(s,u){var l=pc.app.getCompleteLocalConfiguration(u()),c=uh({},t),h=uh(uh({},t),n),f=o?uh({},o):lh;r?(f.relations=!0,s($c.addLoadingIndex(f,c,null))):f.relations=!1;var d=a?uh({},a):lh;return i?(d.data=!0,s(rh.addLoadingIndex(d,h,e))):d.data=!1,ye(l,"rest/attributeData/filtered","POST",null,ph(t,f,d,n,e),void 0,null).then((function(t){if(t.errors)throw new Error("no data");if(t.attributeData||t.attributeRelationsDataSources){var n=f.limit,i=d.limit;return s(vh(t,r,c,null,h,e,n,i)),t}var o=new Error("no data");return s(Gc.actionGeneralError(o)),o})).catch((function(e){return s(Gc.actionGeneralError(e)),e}))}}var mh=function(e){return{type:wc.DATA.COMPONENTS.ADD_COMPONENTS,components:e}},yh=function(e){return{type:wc.DATA.COMPONENTS.ADD_SETS,sets:e}},bh=function(e){return{type:wc.DATA.COMPONENTS.COMPONENT.USE.CLEAR,componentKey:e}},_h=function(e){return{type:wc.DATA.COMPONENTS.COMPONENT.USE.REGISTER,componentKey:e}},wh={addComponentsFromView:function(e){return function(t){e&&t(mh(e))}},addSetsFromView:function(e){return function(t){e&&t(yh(e))}},componentUseClear:function(e){return function(t,n){pc.data.components.isComponentInUse(n(),e)&&t(bh(e))}},componentUseRegister:dh,ensure:fh,ensureDataAndRelations:ch,ensureWithFilterByActive:function(e){return function(t,n){var r=n(),i=pc.data.components.getAllComponentsInUse(r);i.length&&i.forEach((function(n){pc.data.components.componentMatchesFilterByActive(r,n,e)&&t(fh(n))}))}},getPayload:ph,loadIndexedPage:gh,loadMissingRelationsAndData:hh,processResult:vh,setAttributeKeys:function(e,t){return{type:wc.DATA.COMPONENTS.COMPONENT.SET.ATTRIBUTE_KEYS,componentKey:e,attributeKeys:t}},setAttributeOrder:function(e,t){return{type:wc.DATA.COMPONENTS.COMPONENT.SET.ATTRIBUTE_ORDER,componentKey:e,attributeOrder:t}},setFeatureKeys:function(e,t){return{type:wc.DATA.COMPONENTS.COMPONENT.SET.FEATURE_KEYS,componentKey:e,featureKeys:t}},updateComponent:function(e,t){return function(n,r){var i=r(),o=pc.data.components.getComponentStateByKey(i,e)||{};n(mh((0,re.Z)({},e,(0,ie.merge)({},o,t))))}},use:function(e){return function(t){return t(dh(e)),new Promise((function(n){t(fh(e)).then((function(){n()}))}))}}},Eh=wc.DATA.ATTRIBUTE_DATA_SOURCES,Sh=Gc.addIndex(Eh),xh=Gc.add(Eh);var Mh={add:xh,receiveIndexed:function(e,t,n,r,i,o){return function(a){e.length&&a(xh(e,t)),a(Sh(t,n,i,r,e,o))}},updateStore:function(e){return{type:wc.DATA.ATTRIBUTE_DATA_SOURCES.UPDATE_STORE,data:e}}},kh=wc.DATA.SPATIAL_RELATIONS,Ah=Gc.addIndex(kh),Th=Gc.add(kh),Ph=Gc.useIndexed(pc.data.spatialRelations.getSubstate,"spatial",wc.DATA.SPATIAL_RELATIONS,"relations");var Oh={refreshUses:Gc.refreshUses(pc.data.spatialRelations.getSubstate,"spatial",wc.DATA.SPATIAL_RELATIONS,"relations"),receiveIndexed:function(e,t,n,r,i,o){return function(a){e.length&&a(Th(e,t)),a(Ah(t,n,i,r,e,o))}},updateStore:Gc.updateStore(pc.data.spatialRelations.getSubstate,kh),ensureIndexed:function(e,t,n,r){return Gc.ensureIndexed(pc.data.spatialRelations.getSubstate,"spatial",e,t,n,r,wc.DATA.SPATIAL_RELATIONS,"relations")},useIndexed:Ph},Ch=wc.DATA.SPATIAL_DATA_SOURCES,Rh=Gc.addIndex(Ch),Lh=Gc.add(Ch),Ih=Gc.useKeys(pc.data.spatialDataSources.getSubstate,"spatial",Ch,"dataSources");var Dh=Gc.updateStore(pc.data.spatialDataSources.getSubstate,Ch),jh={add:Lh,receiveIndexed:function(e,t,n,r,i,o){return function(a){e.length&&a(Lh(e,t)),a(Rh(t,n,i,r,e,o))}},updateStore:Dh,useKeys:Ih},Nh={isSpatialDataTiled:function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=v(r[n],2)[1];Object.hasOwn(i,"spatialIndex")?t.push(!0):t.push(!1)}return t.every((function(e){return e}))}};function Bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bh(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zh=wc.DATA.SPATIAL_DATA;function Fh(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++)for(var i=v(r[n],2),o=i[0],a=i[1],s=0,u=Object.entries(a.spatialIndex);s<u.length;s++){var l=v(u[s],2),c=l[0],h=l[1];t[c]||(t[c]={});for(var f=0,d=Object.entries(h);f<d.length;f++){var p,g=v(d[f],2),m=g[0],y=g[1];null!==t&&void 0!==t&&null!==(p=t[c])&&void 0!==p&&p[Gr.tileAsString(m)]?t[c][Gr.tileAsString(m)]=zh(zh({},t[c][Gr.tileAsString(m)]),{},(0,re.Z)({},o,y)):t[c][Gr.tileAsString(m)]=(0,re.Z)({},o,y)}}return t}function Uh(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=v(r[n],2),o=i[0],a=i[1];t[o]=(0,g.Z)(Object.keys(a.data))}return t}function Kh(e,t){return{type:Zh.INDEX.REMOVE,filter:e,order:t}}var Vh={addLoadingIndex:function(e,t,n,r){var i=(0,ie.reduce)(r,(function(e,t){return e[Gr.tileAsString(t)]=!0,e}),{});return function(e,t,n,r){return{type:Zh.INDEX.ADD,filter:e,order:t,indexData:n,changedOn:r}}(e,t,[(0,re.Z)({},n,i)],null)},getTiledIndexData:Fh,getIndexData:Uh,removeIndex:Kh,receiveIndexed:function(e,t,n,r){return function(i){if(e&&!(0,ie.isEmpty)(e))return i(function(e,t,n,r){return function(i){if(Nh.isSpatialDataTiled(e)){var o=Fh(e),a=Object.keys(o)[0],s={};(0,ie.forIn)(e,(function(e,t){s[t]=e.data})),i(function(e,t,n,r,i,o){return{type:Zh.ADD_WITH_TILED_INDEX,dataByDataSourceKey:e,level:t,filter:n,order:r,indexData:i,changedOn:o}}(s,a,t,n,[o],r))}else{for(var u=Uh(e),l={},c=0,h=Object.entries(e);c<h.length;c++){var f=v(h[c],2),d=f[0],p=f[1];l[d]=p.data}i(Kh(t,n)),i(function(e,t,n,r,i){return{type:Zh.ADD_WITH_INDEX,dataByDataSourceKey:e,filter:t,order:n,indexData:r,changedOn:i}}(l,t,n,[u],r))}}}(e,t,n,r))}},updateStore:Gc.updateStore(pc.data.spatialData.getSubstate,Zh)},Hh=Gc.useIndexedRegister(wc.AREA_RELATIONS),Wh=Gc.add(wc.AREA_RELATIONS),Gh=Gc.addIndex(wc.AREA_RELATIONS),qh=Gc.useIndexedClearAll(wc.AREA_RELATIONS);var Yh={add:Wh,useIndexedRegister:Hh,useIndexedClearAll:qh,ensureIndexed:function(e,t,n,r){return Gc.ensureIndexed(pc.areaRelations.getSubstate,"area",e,t,n,r,wc.AREA_RELATIONS,"relations")},receiveIndexed:function(e,t,n,r,i,o,a){return function(s){e.length&&s(Wh(e,t)),s(Gh(t,n,i,r,e,o,a))}}},Xh=["tiledVector","tiled-vector"],$h=["vector"];function Jh(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Qh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qh(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Qh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nf={offset:0,limit:En.requestPageSize},rf=function(e,t,n,r){var i=Math.max(e,t,n);return 0===i?0:Math.ceil((i-r)/r)},of=function(e){return!(0,ie.isEmpty)(e)&&e.every((function(e){var t;return Xh.includes(null===(t=e.data)||void 0===t?void 0:t.type)}))},af=function(e){return!(0,ie.isEmpty)(e)&&e.some((function(e){var t;return"vector"===(null===(t=e.data)||void 0===t?void 0:t.type)}))},sf=function(e){return(0,ie.isEmpty)(e)?[]:e.map((function(e){return{data:{type:e.data.type,key:e.key}}}))};function uf(e,t,n,r,i,o,a,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],c=arguments.length>10?arguments[10]:void 0;return function(h,f){for(var d,p=go(pc.app.getCompleteLocalConfiguration(f())),v=[],m=rf(a,s,u,p),y=0,b=1;b<=m;b++){var _=a-b>0,w=s-b>0,E=u-b>0,S={offset:b*p,limit:p};y=b;var x={tiles:[t.tiles[y]]};v.push(h(yf(n,S,x,t,e,_,w,E,r,i,o,c)))}for(var M=(null===t||void 0===t||null===(d=t.tiles)||void 0===d?void 0:d.length)||0,k=y+1;k<M;k++){var A={tiles:[t.tiles[k]]},T=!1;v.push(h(yf(n,{},A,t,e,T,T,T,r,i,o,c)))}return v.length>0?Promise.all(v).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,ie.flattenDeep)(e.map((function(e){var t;return sf(null===e||void 0===e||null===(t=e.spatialAttributeRelationsDataSources)||void 0===t?void 0:t.spatialDataSources)}))),n=[].concat((0,g.Z)(t),(0,g.Z)(l)),o=of(n);(0,ie.isEmpty)(n)||o||!af(n)&&(h(Vh.removeIndex(i,r)),h(rh.removeSpatialIndex(c,r)))})):Promise.resolve()}}function lf(e,t,n,r,i,o){return function(a,s){var u=s(),l={offset:0,limit:go(pc.app.getCompleteLocalConfiguration(u))},c=pc.data.attributeData.getIndex(u,"spatialIndexes",o,n)||[],h=vo(c,e)||[],f=pc.data.attributeRelations.getIndex(u,i,n),d=pc.data.attributeDataSources.getIndex(u,i,n),p=!(!(0,ie.isEmpty)(f)&&!(0,ie.isEmpty)(d)),v=!1,g=tf(tf({},e),{},{tiles:h});if(p){return a(yf(t,l,null,g,v,!0,!0,false,n,r,i,o)).then((function(e){var s;if(!(e instanceof Error)){var u=(null===e||void 0===e||null===(s=e.spatialAttributeRelationsDataSources)||void 0===s?void 0:s.spatialDataSources)||[],l=sf(u),c=e.spatialAttributeRelationsDataSources.total.attributeRelations,h=e.spatialAttributeRelationsDataSources.total.spatialRelations;return of(u)?a(uf(v,g,t,n,r,i,c,h,0,l,o)):Promise.resolve()}}))}var m,y=[],b=Jh(h);try{for(b.s();!(m=b.n()).done;){var _={tiles:[m.value]};y.push(a(yf(t,l,_,e,v,false,false,false,n,r,i,o)))}}catch(YJ){b.e(YJ)}finally{b.f()}return Promise.all(y)}}function cf(e,t,n,r,i,o){return function(a,s){var u=pc.data.spatialData.getIndex(s(),r,n)||[],l=vo(u,e)||[];a(mf(o,{tiles:l},e,r,n,true));var c,h=[],f=Jh(l);try{for(f.s();!(c=f.n()).done;){var d={tiles:[c.value]},p=!1;h.push(a(yf(t,{},d,e,true,p,p,p,n,r,i,o)))}}catch(YJ){f.e(YJ)}finally{f.f()}return Promise.all(h)}}function hf(e,t,n,r,i,o){return function(a,s){var u=go(pc.app.getCompleteLocalConfiguration(s())),l={offset:0,limit:u},c=Object.hasOwn(r,"areaTreeLevelKey");if(e&&!(0,ie.isEmpty)(e)){return a(yf(t,l,null,e,true,!0,true,c,n,r,i,o)).then((function(s){var l;if(!(s instanceof Error)){var h=s.spatialAttributeRelationsDataSources.total.attributeRelations,f=s.spatialAttributeRelationsDataSources.total.spatialRelations,d=c?s.spatialAttributeRelationsDataSources.total.areaRelations:0,p=rf(h,f,d,u),v=(null===s||void 0===s||null===(l=s.spatialAttributeRelationsDataSources)||void 0===l?void 0:l.spatialDataSources)||[],g=of(v);if(0!==p||g){var m=sf(v);return a(uf(true,e,t,n,r,i,h,f,d,m,o))}!af(v)&&(a(Vh.removeIndex(r,n)),a(rh.removeSpatialIndex(o,n)))}})).catch((function(e){if("Index outdated"!==(null===e||void 0===e?void 0:e.message))throw new Error("data/actions#ensure: ".concat(e))}))}return a(Gc.actionGeneralError(new Error("Missing spatial filter")))}}var ff=function(e,t){var n=vo(e,t)||t.tiles;return!!(n&&n.length&&n.length>0)},df=function(e,t){var n=vo(e,t)||t.tiles;return!!(n&&n.length&&n.length>0)},pf=function(e,t,n){var r=null,i=null;return t.layerTemplateKey&&(r=pc.data.spatialRelations.getIndex(e,t,n)),t.areaTreeLevelKey&&(i=pc.areaRelations.getIndex(e,t,n)),null!==r||null!==i};function vf(e,t,n,r,i,o,a,s,u,l){return function(c){if(n&&e.spatialAttributeRelationsDataSources.attributeRelations&&!(0,ie.isEmpty)(e.spatialAttributeRelationsDataSources.attributeRelations)){c($c.receiveIndexed(e.spatialAttributeRelationsDataSources.attributeRelations,s,o,l,e.spatialAttributeRelationsDataSources.total.attributeRelations,null))}if(n&&e.spatialAttributeRelationsDataSources.attributeDataSources&&!(0,ie.isEmpty)(e.spatialAttributeRelationsDataSources.attributeDataSources)){c(Mh.receiveIndexed(e.spatialAttributeRelationsDataSources.attributeDataSources,s,o,l,e.spatialAttributeRelationsDataSources.total.attributeRelations,null))}if(e.spatialData&&e.attributeData){var h=null;h=Nh.isSpatialDataTiled(e.spatialData)?rh.getTiledIndexDataBySpatialData(e.spatialData,e.attributeData):rh.getIndexData(rh),c(rh.receiveIndexedWithSpatialIndex(e.attributeData,h,u,o,null))}if(r&&e.spatialAttributeRelationsDataSources.spatialRelations&&!(0,ie.isEmpty)(e.spatialAttributeRelationsDataSources.spatialRelations)){c(Oh.receiveIndexed(e.spatialAttributeRelationsDataSources.spatialRelations,a,o,l,e.spatialAttributeRelationsDataSources.total.spatialRelations,null))}if(r&&e.spatialAttributeRelationsDataSources.spatialDataSources&&!(0,ie.isEmpty)(e.spatialAttributeRelationsDataSources.spatialDataSources)){c(jh.receiveIndexed(e.spatialAttributeRelationsDataSources.spatialDataSources,a,o,l,e.spatialAttributeRelationsDataSources.total.spatialRelations||e.spatialAttributeRelationsDataSources.total.areaRelations,null))}if(t){c(Vh.receiveIndexed(e.spatialData,a,o,null))}if(i&&e.spatialAttributeRelationsDataSources.areaRelations&&!(0,ie.isEmpty)(e.spatialAttributeRelationsDataSources.areaRelations)){c(Yh.receiveIndexed(e.spatialAttributeRelationsDataSources.areaRelations,a,o,l,e.spatialAttributeRelationsDataSources.total.areaRelations,null))}}}function gf(e,t,n,r,i,o,a,s,u,l){var c=e||{},h=c.areaTreeLevelKey,f=c.layerTemplateKey,d=c.modifiers;return tf(tf(tf(tf(tf({},d&&{modifiers:d}),f&&{layerTemplateKey:f}),h&&{areaTreeLevelKey:h}),t&&{styleKey:t}),{},{relations:tf(tf({},n),{},{attribute:!!a,spatial:!!s,area:!!u}),data:tf(tf(tf(tf({},(null===r||void 0===r?void 0:r.featureKeys)&&{featureKeys:r.featureKeys}),i&&{spatialIndex:i}),{},{spatialFilter:l},(null===r||void 0===r?void 0:r.attributeFilter)&&{attributeFilter:r.attributeFilter}),{},{geometry:!!o},(null===r||void 0===r?void 0:r.dataSourceKeys)&&{dataSourceKeys:r.dataSourceKeys})})}function mf(e,t,n,r,i,o){return function(a,s){(0,Re.IW)(s());var u=(null===t||void 0===t?void 0:t.tiles)||(null===n||void 0===n?void 0:n.tiles)||[],l=(0,ie.reduce)(u,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return pc.data.spatialData.isTileLoading(r,n.level,Gr.tileAsString(t))?e:[].concat((0,g.Z)(e),[Gr.tileAsStringArray(t)])}),[]),c=(0,ie.reduce)(u,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return pc.data.attributeData.isTileLoading(e,n.level,Gr.tileAsString(r))?t:[].concat((0,g.Z)(t),[Gr.tileAsStringArray(r)])}),[]);o&&l.length>0&&a(Vh.addLoadingIndex(r,i,n.level,l)),c.length>0&&a(rh.addLoadingSpatialIndex(e,i,n.level,c))}}function yf(e,t,n,r,i,o,a,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},c=arguments.length>10?arguments[10]:void 0,h=arguments.length>11?arguments[11]:void 0;return function(f,d){var p=pc.app.getCompleteLocalConfiguration(d());f(mf(h,n,r,l,u,i));var v=t?tf({},t):nf,g=gf(l,e,v,h,n,i,o,a,s,r),m=v.offset+1;return ye(p,"rest/data/filtered","POST",null,g,void 0,null).then((function(e){if(!e.errors){if(e.spatialAttributeRelationsDataSources&&e.spatialData&&e.attributeData)return f(vf(e,i,o,a,s,u,l,c,h,m)),e;var t=new Error("no data");return f(Gc.actionGeneralError(t)),t}var n=new Error("no data");f(Gc.actionGeneralError(n))})).catch((function(e){return f(Gc.actionGeneralError(e)),e}))}}var bf={attributeData:rh,attributeDataSources:Mh,attributeRelations:$c,components:wh,spatialData:Vh,spatialDataSources:jh,spatialRelations:Oh,composeDataEndpointPayload:gf,ensure:function(e,t,n,r){return function(i,o){var a=o(),s=t,u=tf(tf({},t),{},{styleKey:e}),l=tf(tf({},u),r);n.tiles=n.tiles.map(Gr.tileAsStringArray);var c=null,h=pc.data.spatialData.getIndex(a,s,c)||{},f=pc.data.attributeData.getIndex(a,"spatialIndexes",l,c)||{},d=ff(f,n),p=pc.data.spatialDataSources.getIndexed(a,s,c),v=!!p&&function(e){return!(0,ie.isEmpty)(e)&&e.every((function(e){var t;return"vector"===(null===(t=e.data)||void 0===t?void 0:t.type)}))}(p),g=df(h,n),m=pf(a,s,c),y=!m&&g,b=tf({},n),_=tf({},n);if(!y&&d){var w=vo(f,n)||[],E=vo(h,n)||[],S=(0,ie.difference)(w,E),x=(0,ie.intersection)(w,E);b.tiles=S,_.tiles=x}var M=[];if(v){var k=(0,ie.isEmpty)(f),A=tf(tf({},n),{},{tiles:[n.tiles[0]]});k&&M.push(i(lf(A,e,c,s,u,l)))}else y&&M.push(i(hf(n,e,c,s,u,l))),m&&g&&!(0,ie.isEmpty)(_.tiles)&&M.push(i(cf(_,e,c,s,u,l))),!d||y||(0,ie.isEmpty)(b.tiles)||M.push(i(lf(b,e,c,s,u,l)));return Promise.all(M)}},ensureDataAndRelations:hf,getRestRelationsPages:rf,hasMissingAttributesData:ff,hasMissingSpatialData:df,hasSpatialOrAreaRelations:pf,loadIndexedPage:yf,loadMissingAttributeData:lf,loadMissingRelationsAndData:uf,loadMissingSpatialData:cf,processResult:vf,setLoading:mf},_f=Gc.add(wc.STYLES),wf=Gc.create(pc.styles.getSubstate,"styles",wc.STYLES),Ef=Gc.delete(pc.styles.getSubstate,"styles",wc.STYLES),Sf=Gc.saveEdited(pc.styles.getSubstate,"styles",wc.STYLES),xf=Gc.updateEdited(pc.styles.getSubstate,wc.STYLES),Mf=Gc.useIndexed(pc.styles.getSubstate,"styles",wc.STYLES),kf=Gc.useKeys(pc.styles.getSubstate,"styles",wc.STYLES),Af=Gc.useKeysClear(wc.STYLES),Tf=Gc.updateSubstateFromView(wc.STYLES),Pf=Gc.useIndexedClear(wc.STYLES),Of=Gc.clearIndex(wc.STYLES),Cf=Gc.refreshUses(pc.styles.getSubstate,"styles",wc.STYLES),Rf={add:_f,create:wf,delete:Ef,refreshUses:Cf,useIndexed:Mf,useIndexedClear:Pf,clearIndex:Of,useKeys:kf,useKeysClear:Af,updateStateFromView:Tf,updateStateFromViewWithData:function(e){return function(t){t(Tf(e)),e.data&&t(_f(e.data))}},saveEdited:Sf,updateEdited:xf},Lf=Gc.add(wc.SELECTIONS),If=Gc.setActiveKey(wc.SELECTIONS),Df=Gc.updateSubstateFromView(wc.SELECTIONS);function jf(e,t){return{type:wc.SELECTIONS.SET.FEATURE_KEYS_FILTER.KEYS,key:e,featureKeys:t}}var Nf={add:Lf,clearFeatureKeysFilter:function(e){return{type:wc.SELECTIONS.CLEAR.FEATURE_KEYS_FILTER,key:e}},setActiveSelectionFeatureKeysFilterKeys:function(e){return function(t,n){var r=pc.selections.getActiveKey(n());r&&e&&t(jf(r,e))}},setActiveKey:If,setFeatureKeysFilterKeys:jf,updateStateFromView:Df,updateStateFromViewWithData:function(e){return function(t){t(Df(e)),e.data&&t(Lf(e.data))}}},Bf=["areaTreeLevelKey","layerTemplateKey"];function zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zf(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ff=function(e){return function(t,n){pc.maps.isMapInUse(n(),e)||t(yd(e))}};function Uf(e,t,n){return function(r,i){r(Ff(e));var o=i(),a=pc.maps.getViewportByMapKey(o,e);if(a){var s=a.width,u=a.height,l=pc.maps.getVisibleTilesByMapKey(o,e,s,u);l&&(n=t||n?ea.mergeBackgroundLayerWithLayers(n,t):pc.maps.getAllLayersStateByMapKey(o,e))&&n.forEach((function(e){e.type||setTimeout((function(){r(Kf(e,l))}),0)}))}}}function Kf(e,t){return function(n,r){var i=r(),o=e.metadataModifiers?Zf({},e.metadataModifiers):{};e.layerTemplateKey?o.layerTemplateKey=e.layerTemplateKey:e.areaTreeLevelKey&&(o.areaTreeLevelKey=e.areaTreeLevelKey);var a=e.filterByActive?st.getActiveKeysByFilterByActive(i,e.filterByActive):null,s=Oe.mergeMetadataKeys(o,a),u=s.areaTreeLevelKey,l=s.layerTemplateKey,c=vn(s,Bf),h=Oe.convertModifiersToRequestFriendlyFormat(c);if(l||u){var f,d,p,v={};if(u&&(v=Zf(Zf({},h&&{modifiers:h}),{},{areaTreeLevelKey:u})),l&&(v=Zf(Zf({},h&&{modifiers:h}),{},{layerTemplateKey:l})),l){var m=pc.data.spatialDataSources.getIndexed(i,v,null),y=(null===m||void 0===m?void 0:m.some((function(e){var t;return[].concat((0,g.Z)(Xh),(0,g.Z)($h)).includes(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.type)})))||!1;if(m&&!y)return}var b=e.styleKey||null;b&&n(Rf.useKeys([e.styleKey],e.key+"_layerUse"));var _=Zf(Zf(Zf({},(null===e||void 0===e||null===(f=e.options)||void 0===f?void 0:f.attributeFilter)&&{attributeFilter:e.options.attributeFilter}),(null===e||void 0===e||null===(d=e.options)||void 0===d?void 0:d.dataSourceKeys)&&{dataSourceKeys:e.options.dataSourceKeys}),(null===e||void 0===e||null===(p=e.options)||void 0===p?void 0:p.featureKeys)&&{featureKeys:e.options.featureKeys});n(bf.ensure(b,v,t,_))}}}function Vf(e,t){return function(n,r){var i=r(),o=pc.maps.getMapSetMapKeys(i,e);if(o&&o.includes(t)){var a=pc.maps.getMapSetActiveMapKey(i,e);if(n(nd(e,t)),a===t){var s=pc.maps.getMapSetMapKeys(r(),e);(0,ie.isEmpty)(s)||n(ad(e,s[0]))}}}}function Hf(e,t){return function(n,r){var i,o,a=pc.maps.getMapSetByMapKey(r(),e),s=pc.maps.getMapByKey(r(),e);a&&a.sync&&s?(i=(0,ie.pickBy)(t,(function(e,t){return a.sync[t]})),o=(0,ie.omitBy)(t,(function(e,t){return a.sync[t]}))):s&&(o=t),i&&!(0,ie.isEmpty)(i)&&(i=nr.view.ensureViewIntegrity(i),n(pd(a.key,i))),o&&!(0,ie.isEmpty)(o)&&(o=nr.view.ensureViewIntegrity(o),n(dd(e,o)))}}var Wf=function(e){return{type:wc.MAPS.MAP.ADD,map:e}},Gf=function(e){return{type:wc.MAPS.SET.ADD,mapSet:e}},qf=function(e,t){return{type:wc.MAPS.SET.ADD_MAP,mapKey:e,mapSetKey:t}},Yf=function(e,t){return{type:wc.MAPS.MAP.LAYERS.ADD,mapKey:e,layerStates:t}},Xf=function(e,t,n){return{type:wc.MAPS.MAP.LAYERS.ADD_TO_INDEX,mapKey:e,layerState:t,index:n}},$f=function(e){return{type:wc.MAPS.MAP.REMOVE,mapKey:e}},Jf=function(e){return{type:wc.MAPS.SET.REMOVE,mapSetKey:e}},Qf=function(e,t){return{type:wc.MAPS.MAP.LAYERS.REMOVE_LAYER,mapKey:e,layerKey:t}},ed=function(e,t){return{type:wc.MAPS.MAP.LAYERS.REMOVE_LAYERS,mapKey:e,layerKeys:t}},td=function(e,t){return{type:wc.MAPS.MAP.LAYERS.REMOVE_LAYERS_BY_FILTER,mapKey:e,filter:t}},nd=function(e,t){return{type:wc.MAPS.SET.REMOVE_MAP,setKey:e,mapKey:t}},rd=function(e,t,n){return{type:wc.MAPS.MAP.LAYERS.SET_OPACITY,mapKey:e,layerKey:t,opacity:n}},id=function(e,t,n,r){return{type:wc.MAPS.MAP.LAYERS.SET_OPTION,mapKey:e,layerKey:t,optionKey:n,optionValue:r}},od=function(e,t,n){return{type:wc.MAPS.MAP.LAYERS.SET_STYLE_KEY,mapKey:e,layerKey:t,styleKey:n}},ad=function(e,t){return{type:wc.MAPS.SET.SET_ACTIVE_MAP_KEY,mapKey:t,setKey:e}},sd=function(e,t){return{type:wc.MAPS.SET.SET_BACKGROUND_LAYER,setKey:e,backgroundLayer:t}},ud=function(e,t){return{type:wc.MAPS.MAP.SET_BACKGROUND_LAYER,mapKey:e,backgroundLayer:t}},ld=function(e,t){return{type:wc.MAPS.SET.LAYERS.SET,setKey:e,layers:t}},cd=function(e,t){return{type:wc.MAPS.SET.SET_SYNC,mapSetKey:e,sync:t}},hd=function(e,t,n){return{type:wc.MAPS.MAP.VIEWPORT.SET,mapKey:e,width:t,height:n}},fd=function(e){return{type:wc.MAPS.UPDATE,data:e}},dd=function(e,t){return{type:wc.MAPS.MAP.VIEW.UPDATE,mapKey:e,update:t}},pd=function(e,t){return{type:wc.MAPS.SET.VIEW.UPDATE,setKey:e,update:t}},vd=function(e){return{type:wc.MAPS.SET.USE.CLEAR,mapSetKey:e}},gd=function(e){return{type:wc.MAPS.SET.USE.REGISTER,mapSetKey:e}},md=function(e){return{type:wc.MAPS.MAP.USE.CLEAR,mapKey:e}},yd=function(e){return{type:wc.MAPS.MAP.USE.REGISTER,mapKey:e}},bd={addMap:function(e){return function(t){e?e.key?(t(Wf(e)),t(Uf(e.key,null,null))):t(Gc.actionGeneralError("Undefined mapKey for map ".concat(e))):t(Gc.actionGeneralError("No map state given"))}},addMapLayers:function(e,t){return function(n,r){var i=r();pc.maps.getMapByKey(i,e)?(n(Yf(e,t)),n(Uf(e,null,null))):n(Gc.actionGeneralError("No map exists for mapKey ".concat(e)))}},addMapLayerToIndex:function(e,t,n){return function(r,i){var o=i();pc.maps.getMapByKey(o,e)?(r(Xf(e,t,n)),r(Uf(e,null,null))):r(Gc.actionGeneralError("No map exists for mapKey ".concat(e)))}},addMapSet:function(e){return function(t){if(e)if(e.key){var n;t(Gf(e)),null!==(n=e.maps)&&void 0!==n&&n.length&&(t(gd(e.key)),e.maps.forEach((function(e){return t(Uf(e,null,null))})))}else t(Gc.actionGeneralError("Undefined mapKey for map ".concat(e)));else t(Gc.actionGeneralError("No map state given"))}},addMapToSet:function(e,t){return function(n,r){if(e&&t){var i=r();pc.maps.getMapSetByKey(i,t)?(n(qf(e,t)),n(Uf(e,null,null))):n(Gc.actionGeneralError("No mapSet found for given key ".concat(t)))}else n(Gc.actionGeneralError("No mapKey or mapSetKey given"))}},ensureWithFilterByActive:function(e){return function(t,n){var r=n(),i=st.getAllActiveKeys(r),o=pc.maps.getAllMapsInUse(r);o&&i&&o.forEach((function(n){var i=pc.maps.getViewportByMapKey(r,n);if(i){var o=i.width,a=i.height,s=pc.maps.getVisibleTilesByMapKey(r,n,o,a);if(s){var u=pc.maps.getAllLayersStateByMapKey(r,n);u&&u.forEach((function(n){n.filterByActive&&(0,ie.isMatch)(n.filterByActive,e)&&setTimeout((function(){t(Kf(n,s))}),0)}))}}}))}},layerUse:Kf,mapSetUseClear:function(e){return function(t,n){pc.maps.isMapSetInUse(n(),e)&&t(vd(e))}},mapSetUseRegister:function(e){return function(t,n){pc.maps.isMapSetInUse(n(),e)||t(gd(e))}},mapUseClear:function(e){return function(t,n){pc.maps.isMapInUse(n(),e)&&t(md(e))}},mapUseRegister:Ff,refreshMapSetUse:function(e){return function(t,n){var r=pc.maps.getMapSetMaps(n(),e);r&&r.forEach((function(e){t(Uf(e.key,null,null))}))}},removeMap:function(e){return function(t,n){var r=n();if(pc.maps.getMapByKey(r,e)){var i=pc.maps.isMapInUse(r,e),o=pc.maps.getMapSets(r);i&&t(md(e)),o&&(0,ie.each)(o,(function(n){(0,ie.includes)(null===n||void 0===n?void 0:n.maps,e)&&t(Vf(n.key,e))})),t($f(e))}}},removeMapFromSet:Vf,removeMapLayer:function(e,t){return function(n,r){var i=r();n(pc.maps.getLayerStateByLayerKeyAndMapKey(i,e,t)?Qf(e,t):Gc.actionGeneralError("No layer with key ".concat(t," found for mapKey ").concat(e)))}},removeMapLayers:function(e,t){return function(n,r){if(null!==t&&void 0!==t&&t.length){var i=r(),o=[];t.forEach((function(t){pc.maps.getLayerStateByLayerKeyAndMapKey(i,e,t)?o.push(t):n(Gc.actionGeneralError("No layer with key ".concat(t," found for mapKey ").concat(e)))})),o.length&&n(ed(e,o))}}},removeMapLayersByFilter:function(e,t){return function(n,r){var i=r(),o=pc.maps.getMapLayersStateWithModifiersByMapKey(i,e),a=null===o||void 0===o?void 0:o.filter((function(e){return(0,ie.isMatch)(e,t)}));null!==a&&void 0!==a&&a.length?n(td(e,t)):n(Gc.actionGeneralError("No layers satisfying filter ".concat(t," found for mapKey ").concat(e)))}},removeAllMapLayers:function(e){return{type:wc.MAPS.MAP.LAYERS.REMOVE_ALL,mapKey:e}},removeMapSet:function(e){return function(t,n){var r=n();pc.maps.getMapSetByKey(r,e)&&(pc.maps.isMapSetInUse(r,e)&&t(vd(e)),t(Jf(e)))}},setActiveMapKey:function(e){return{type:wc.MAPS.SET_ACTIVE_MAP_KEY,mapKey:e}},setLayerSelectedFeatureKeys:function(e,t,n){return function(r,i){var o,a=i(),s=pc.maps.getLayerStateByLayerKeyAndMapKey(a,e,t);if(null!==s&&void 0!==s&&null!==(o=s.options)&&void 0!==o&&o.selectable){var u,l=pc.selections.getActiveKey(a);l&&null!==s&&void 0!==s&&null!==(u=s.options)&&void 0!==u&&u.selected&&Object.hasOwn(s.options.selected,l)&&r(Nf.setActiveSelectionFeatureKeysFilterKeys(n))}}},setMapLayerOpacity:function(e,t,n){return function(r,i){r(pc.maps.getLayerStateByLayerKeyAndMapKey(i(),e,t)?rd(e,t,n):Gc.actionGeneralError("No layer found for mapKey ".concat(e," and layerKey ").concat(t)))}},setMapLayerOption:function(e,t,n,r){return function(i,o){i(pc.maps.getLayerStateByLayerKeyAndMapKey(o(),e,t)?id(e,t,n,r):Gc.actionGeneralError("No layer found for mapKey ".concat(e," and layerKey ").concat(t)))}},setMapLayerStyleKey:function(e,t,n){return function(r,i){pc.maps.getLayerStateByLayerKeyAndMapKey(i(),e,t)&&r(od(e,t,n))}},setMapSetActiveMapKey:function(e){return function(t,n){var r=n(),i=pc.maps.getMapSetByMapKey(r,e);i&&(pc.maps.getMapSetActiveMapKey(r,i.key)!==e&&t(ad(i.key,e)))}},setMapBackgroundLayer:function(e,t){return function(n,r){var i=pc.maps.getMapByKey(r(),e);if(i){if(n(ud(e,t)),t.type)return;var o,a,s,u,l=pc.maps.getMapBackgroundLayerStateByMapKey(r(),e),c=pc.maps.getVisibleTilesByMapKey(r(),e,null===i||void 0===i||null===(o=i.data)||void 0===o||null===(a=o.viewport)||void 0===a?void 0:a.width,null===i||void 0===i||null===(s=i.data)||void 0===s||null===(u=s.viewport)||void 0===u?void 0:u.height);if(!c||!l)return;n(Kf(l,c))}}},setMapSetBackgroundLayer:function(e,t){return function(n,r){n(sd(e,t));var i=pc.maps.getMapSetMaps(r(),e);i&&i.forEach((function(e){n(Uf(e.key,null,null))}))}},setMapSetLayers:function(e,t){return function(n,r){if(pc.maps.getMapSetByKey(r(),e)){n(ld(e,t));var i=pc.maps.getMapSetMaps(r(),e);i&&i.forEach((function(e){n(Uf(e.key,null,null))}))}else n(Gc.actionGeneralError("No set exists for setKey ".concat(e)))}},setMapSetSync:function(e,t){return function(n,r){pc.maps.getMapSetByKey(r(),e)&&n(cd(e,t))}},setMapViewport:function(e,t,n){return function(r,i){if(e&&(0,ie.isNumber)(t)&&(0,ie.isNumber)(n)){var o=i(),a=pc.maps.getMapByKey(o,e),s=pc.maps.getViewportByMapKey(o,e);!a||s&&(null===s||void 0===s?void 0:s.width)===t&&(null===s||void 0===s?void 0:s.height)===n||r(hd(e,t,n))}}},updateMapAndSetView:Hf,updateSetView:function(e,t){return function(n,r){var i=pc.maps.getMapSetActiveMapKey(r(),e);i&&n(Hf(i,t))}},updateStateFromView:function(e){return function(t){e&&t(fd(e))}},use:Uf},_d={areaRelations:[pc.areaRelations.getSubstate,"area",wc.AREA_RELATIONS,"relations"],areaTrees:[pc.areas.areaTrees.getSubstate,"areaTrees",wc.AREAS.AREA_TREES],areaTreeLevels:[pc.areas.areaTrees.getSubstate,"areaTreeLevels",wc.AREAS.AREA_TREE_LEVELS],attributes:[pc.attributes.getSubstate,"attributes",wc.ATTRIBUTES],attributeSets:[pc.attributeSets.getSubstate,"attributes",wc.ATTRIBUTE_SETS],cases:[pc.cases.getSubstate,"cases",wc.CASES],layerTemplates:[pc.layerTemplates.getSubstate,"layerTemplates",wc.LAYER_TEMPLATES],periods:[pc.periods.getSubstate,"periods",wc.PERIODS],places:[pc.places.getSubstate,"places",wc.PLACES],scenarios:[pc.scenarios.getSubstate,"scenarios",wc.SCENARIOS],scopes:[pc.scopes.getSubstate,"scopes",wc.SCOPES],tags:[pc.tags.getSubstate,"tags",wc.TAGS],views:[pc.views.getSubstate,"views",wc.VIEWS,"views"]};var wd={ensureDependenciesOfActiveMetadataType:function(e){return function(t){var n=(0,re.Z)({},e,!0);oe().forIn(_d,(function(e){t(Gc.ensureIndexesWithFilterByActive.apply(Gc,(0,g.Z)(e))(n))})),t(wh.ensureWithFilterByActive(n)),t(bd.ensureWithFilterByActive(n))}}};function Ed(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Sd="function"===typeof Symbol&&Symbol.observable||"@@observable",xd=function(){return Math.random().toString(36).substring(7).split("").join(".")},Md={INIT:"@@redux/INIT"+xd(),REPLACE:"@@redux/REPLACE"+xd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+xd()}};function kd(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ad(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Ed(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Ed(1));return n(Ad)(e,t)}if("function"!==typeof e)throw new Error(Ed(2));var i=e,o=t,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){if(u)throw new Error(Ed(3));return o}function h(e){if("function"!==typeof e)throw new Error(Ed(4));if(u)throw new Error(Ed(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(Ed(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!kd(e))throw new Error(Ed(7));if("undefined"===typeof e.type)throw new Error(Ed(8));if(u)throw new Error(Ed(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:Md.INIT}),(r={dispatch:f,subscribe:h,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Ed(10));i=e,f({type:Md.REPLACE})}})[Sd]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Ed(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Sd]=function(){return this},e},r}function Td(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Md.INIT}))throw new Error(Ed(12));if("undefined"===typeof n(void 0,{type:Md.PROBE_UNKNOWN_ACTION()}))throw new Error(Ed(13))}))}(n)}catch(U1){o=U1}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],l=n[u],c=e[u],h=l(c,t);if("undefined"===typeof h){t&&t.type;throw new Error(Ed(14))}i[u]=h,r=r||h!==c}return(r=r||a.length!==Object.keys(e).length)?i:e}}function Pd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Od(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Ed(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Pd.apply(void 0,o)(n.dispatch),(0,V.Z)((0,V.Z)({},n),{},{dispatch:r})}}}n(6896);var Cd=n(1996),Rd=function(e){return{type:wc.APP.RECEIVE_CONFIGURATION,configuration:e}},Ld={add:Rd,setKey:function(e){return{type:wc.APP.SET_KEY,key:e}},updateLocalConfiguration:function(e){return{type:wc.APP.UPDATE_LOCAL_CONFIGURATION,update:e}},setBaseUrl:function(e){return{type:wc.APP.SET_BASE_URL,url:e}},setLocalConfiguration:function(e,t){return{type:wc.APP.SET_LOCAL_CONFIGURATION,path:e,value:t}},loadConfiguration:function(){return function(e,t){return ye(pc.app.getCompleteLocalConfiguration(t()),"rest/application/filtered/configurations","POST",null,{filter:{applicationKey:dt.getKey(t())}}).then((function(t){t.errors&&t.errors.configurations||t.data&&!t.data.configurations?e(Gc.actionGeneralError(t.errors.configurations||new Error("no data"))):t.data.configurations.length&&t.data.configurations[0].data&&t.data.configurations[0].data.data?e(Rd(t.data.configurations[0].data.data)):e(Gc.actionGeneralError(new Error("empty configuration")))})).catch((function(t){e(Gc.actionGeneralError(t))}))}}},Id=Gc.setActiveKey(wc.AREAS.AREA_TREE_LEVELS),Dd=Gc.useIndexed(pc.areas.areaTreeLevels.getSubstate,"areaTreeLevels",wc.AREAS.AREA_TREE_LEVELS),jd=Gc.useKeys(pc.areas.areaTreeLevels.getSubstate,"areaTreeLevels",wc.AREAS.AREA_TREE_LEVELS);var Nd={refreshUses:Gc.refreshUses(pc.areas.areaTreeLevels.getSubstate,"areaTreeLevels",wc.AREAS.AREA_TREE_LEVELS),setActiveKey:function(e){return function(t,n,r){t(Id(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("areaTreeLevel"))}},useIndexed:Dd,useIndexedClear:function(e){return{type:wc.AREAS.AREA_TREE_LEVELS.USE.INDEXED.CLEAR,componentId:e}},useKeys:jd},Bd=Gc.setActiveKey(wc.AREAS.AREA_TREES),zd=Gc.useIndexed(pc.areas.areaTrees.getSubstate,"areaTrees",wc.AREAS.AREA_TREES),Zd=Gc.useKeys(pc.areas.areaTrees.getSubstate,"areaTrees",wc.AREAS.AREA_TREES);var Fd={refreshUses:Gc.refreshUses(pc.areas.areaTrees.getSubstate,"areaTrees",wc.AREAS.AREA_TREES),setActiveKey:Bd,useIndexed:zd,useIndexedClear:function(e){return{type:wc.AREAS.AREA_TREES.USE.INDEXED.CLEAR,componentId:e}},useKeys:Zd,useKeysClear:Gc.useKeysClear(wc.AREAS.AREA_TREES)},Ud={areaTreeLevels:Nd,areaTrees:Fd},Kd=Gc.add(wc.ATTRIBUTES),Vd=Gc.create(pc.attributes.getSubstate,"attributes",wc.ATTRIBUTES),Hd=Gc.refreshUses(pc.attributes.getSubstate,"attributes",wc.ATTRIBUTES),Wd=Gc.delete(pc.attributes.getSubstate,"attributes",wc.ATTRIBUTES),Gd=Gc.saveEdited(pc.attributes.getSubstate,"attributes",wc.ATTRIBUTES),qd=Gc.setActiveKey(wc.ATTRIBUTES),Yd=Gc.setActiveKeys(wc.ATTRIBUTES),Xd=Gc.updateEdited(pc.attributes.getSubstate,wc.ATTRIBUTES),$d=Gc.updateStore(pc.attributes.getSubstate,wc.ATTRIBUTES),Jd=Gc.useIndexed(pc.attributes.getSubstate,"attributes",wc.ATTRIBUTES),Qd=Gc.useIndexedClear(wc.ATTRIBUTES),ep=Gc.clearIndex(wc.ATTRIBUTES),tp=Gc.useKeys(pc.attributes.getSubstate,"attributes",wc.ATTRIBUTES),np=Gc.useKeysClear(wc.ATTRIBUTES),rp={add:Kd,create:Vd,delete:Wd,updateStateFromView:Gc.updateSubstateFromView(wc.ATTRIBUTES),refreshUses:Hd,saveEdited:Gd,setActiveKey:function(e){return function(t,n,r){t(qd(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("attribute"))}},setActiveKeys:function(e){return function(t,n,r){t(Yd(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("attribute"))}},updateEdited:Xd,updateStore:$d,useIndexed:Jd,useIndexedClear:Qd,clearIndex:ep,useKeys:tp,useKeysClear:np},ip={setActiveKey:Gc.setActiveKey(wc.ATTRIBUTE_SETS),setActiveKeys:Gc.setActiveKeys(wc.ATTRIBUTE_SETS)},op=Gc.add(wc.CASES),ap=Gc.create(pc.cases.getSubstate,"cases",wc.CASES),sp=Gc.delete(pc.cases.getSubstate,"cases",wc.CASES),up=Gc.saveEdited(pc.cases.getSubstate,"cases",wc.CASES),lp=Gc.setActiveKey(wc.CASES),cp=Gc.setActiveKeys(wc.CASES),hp=Gc.updateEdited(pc.cases.getSubstate,wc.CASES),fp=Gc.updateSubstateFromView(wc.CASES),dp=Gc.useKeys(pc.cases.getSubstate,"cases",wc.CASES),pp=Gc.useKeysClear(wc.CASES),vp=Gc.useIndexed(pc.cases.getSubstate,"cases",wc.CASES),gp=Gc.useIndexedClear(wc.CASES),mp=Gc.clearIndex(wc.CASES),yp={add:op,create:ap,delete:sp,refreshUses:Gc.refreshUses(pc.cases.getSubstate,"cases",wc.CASES),saveEdited:up,setActiveKey:function(e){return function(t,n,r){t(lp(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("case"))}},setActiveKeys:function(e){return function(t,n,r){t(cp(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("case"))}},updateEdited:hp,updateStateFromView:fp,useIndexed:vp,useIndexedClear:gp,clearIndex:mp,useKeys:dp,useKeysClear:pp};function bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _p=Gc.updateStore(pc.components.getSubstate,wc.COMPONENTS);var wp={update:function(e,t){return function(n){n(function(e,t){return{type:wc.COMPONENTS.UPDATE,component:e,update:t}}(e,t))}},updateStateFromView:_p,updateStore:_p,set:function(e,t,n){return{type:wc.COMPONENTS.SET,component:e,path:t,value:n}},remove:function(e,t){return function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bp(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:wc.COMPONENTS.REMOVE,component:e},t?{path:t}:{})}(e,t)}},Ep=Gc.add(wc.LAYER_TEMPLATES),Sp=Gc.create(pc.layerTemplates.getSubstate,"layerTemplates",wc.LAYER_TEMPLATES),xp=Gc.delete(pc.layerTemplates.getSubstate,"layerTemplates",wc.LAYER_TEMPLATES),Mp=Gc.saveEdited(pc.layerTemplates.getSubstate,"layerTemplates",wc.LAYER_TEMPLATES),kp=Gc.setActiveKey(wc.LAYER_TEMPLATES),Ap=Gc.updateEdited(pc.layerTemplates.getSubstate,wc.LAYER_TEMPLATES),Tp=Gc.updateSubstateFromView(wc.LAYER_TEMPLATES),Pp=Gc.setActiveKeys(wc.LAYER_TEMPLATES),Op=Gc.useKeys(pc.layerTemplates.getSubstate,"layerTemplates",wc.LAYER_TEMPLATES),Cp=Gc.useKeysClear(wc.LAYER_TEMPLATES),Rp=Gc.useIndexed(pc.layerTemplates.getSubstate,"layerTemplates",wc.LAYER_TEMPLATES),Lp=Gc.refreshUses(pc.layerTemplates.getSubstate,"layerTemplates",wc.LAYER_TEMPLATES),Ip=Gc.useIndexedClear(wc.LAYER_TEMPLATES),Dp={add:Ep,clearIndex:Gc.clearIndex(wc.LAYER_TEMPLATES),create:Sp,delete:xp,saveEdited:Mp,refreshUses:Lp,setActiveKey:function(e){return function(t,n,r){t(kp(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("layerTemplate"))}},setActiveKeys:function(e){return function(t,n,r){t(Pp(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("layerTemplate"))}},updateEdited:Ap,updateStateFromView:Tp,useIndexed:Rp,useIndexedClear:Ip,useKeys:Op,useKeysClear:Cp},jp=Gc.add(wc.LAYER_TREES),Np=Gc.create(pc.layerTrees.getSubstate,"layerTrees",wc.LAYER_TREES,"application"),Bp=Gc.delete(pc.layerTrees.getSubstate,"layerTrees",wc.LAYER_TREES,"application"),zp=Gc.saveEdited(pc.layerTrees.getSubstate,"layerTrees",wc.LAYER_TREES,"application"),Zp=Gc.updateEdited(pc.layerTrees.getSubstate,wc.LAYER_TREES),Fp=Gc.useKeys(pc.layerTrees.getSubstate,"layerTrees",wc.LAYER_TREES,"application"),Up=Gc.useKeysClear(wc.LAYER_TREES),Kp=Gc.useIndexedClear(wc.LAYER_TREES),Vp=Gc.clearIndex(wc.LAYER_TREES),Hp=Gc.useIndexed(pc.layerTrees.getSubstate,"layerTrees",wc.LAYER_TREES,"application");var Wp={add:jp,create:Np,delete:Bp,ensureData:function(e,t){return function(n){return n(Hp(null,e,null,1,100,t)).then()}},refreshUses:Gc.refreshUses(pc.layerTrees.getSubstate,"layerTrees",wc.LAYER_TREES,"application"),saveEdited:zp,updateEdited:Zp,updateStateFromView:Gc.updateSubstateFromView(wc.LAYER_TREES),useIndexed:Hp,useIndexedClear:Kp,clearIndex:Vp,useKeys:Fp,useKeysClear:Up},Gp=Gc.add(wc.PERIODS),qp=Gc.create(pc.periods.getSubstate,"periods",wc.PERIODS),Yp=Gc.delete(pc.periods.getSubstate,"periods",wc.PERIODS),Xp=Gc.saveEdited(pc.periods.getSubstate,"periods",wc.PERIODS),$p=Gc.setActiveKey(wc.PERIODS),Jp=Gc.setActiveKeys(wc.PERIODS),Qp=Gc.updateEdited(pc.periods.getSubstate,wc.PERIODS),ev=Gc.updateSubstateFromView(wc.PERIODS),tv=Gc.useKeys(pc.periods.getSubstate,"periods",wc.PERIODS),nv=Gc.useKeysClear(wc.PERIODS),rv=Gc.useIndexed(pc.periods.getSubstate,"periods",wc.PERIODS),iv=Gc.useIndexedClear(wc.PERIODS),ov=Gc.clearIndex(wc.PERIODS),av={add:Gp,create:qp,delete:Yp,refreshUses:Gc.refreshUses(pc.periods.getSubstate,"periods",wc.PERIODS),saveEdited:Xp,setActiveKey:function(e){return function(t,n,r){t($p(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("period"))}},setActiveKeys:function(e){return function(t,n,r){t(Jp(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("period"))}},updateEdited:Qp,updateStateFromView:ev,useIndexed:rv,useIndexedClear:iv,clearIndex:ov,useKeys:tv,useKeysClear:nv},sv=Gc.add(wc.PLACES),uv=Gc.create(pc.places.getSubstate,"places",wc.PLACES),lv=Gc.delete(pc.places.getSubstate,"places",wc.PLACES),cv=Gc.saveEdited(pc.places.getSubstate,"places",wc.PLACES),hv=Gc.setActiveKey(wc.PLACES),fv=Gc.setActiveKeys(wc.PLACES),dv=Gc.updateEdited(pc.places.getSubstate,wc.PLACES),pv=Gc.updateSubstateFromView(wc.PLACES),vv=Gc.useIndexed(pc.places.getSubstate,"places",wc.PLACES),gv=Gc.useIndexedClear(wc.PLACES),mv=Gc.clearIndex(wc.PLACES),yv=Gc.useKeys(pc.places.getSubstate,"places",wc.PLACES),bv=Gc.useKeysClear(wc.PLACES),_v={add:sv,create:uv,delete:lv,refreshUses:Gc.refreshUses(pc.places.getSubstate,"places",wc.PLACES),saveEdited:cv,setActiveKey:function(e){return function(t,n,r){t(hv(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("place"))}},setActiveKeys:function(e){return function(t,n,r){t(fv(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("place"))}},updateEdited:dv,updateStateFromView:pv,useIndexed:vv,useIndexedClear:gv,clearIndex:mv,useKeys:yv,useKeysClear:bv},wv=Gc.add(wc.SCENARIOS),Ev=Gc.create(pc.scenarios.getSubstate,"scenarios",wc.SCENARIOS),Sv=Gc.delete(pc.scenarios.getSubstate,"scenarios",wc.SCENARIOS),xv=Gc.saveEdited(pc.scenarios.getSubstate,"scenarios",wc.SCENARIOS),Mv=Gc.setActiveKey(wc.SCENARIOS),kv=Gc.setActiveKeys(wc.SCENARIOS),Av=Gc.updateEdited(pc.scenarios.getSubstate,wc.SCENARIOS),Tv=Gc.updateSubstateFromView(wc.SCENARIOS),Pv=Gc.useKeys(pc.scenarios.getSubstate,"scenarios",wc.SCENARIOS),Ov=Gc.useKeysClear(wc.SCENARIOS),Cv=Gc.useIndexed(pc.scenarios.getSubstate,"scenarios",wc.SCENARIOS),Rv=Gc.useIndexedClear(wc.SCENARIOS),Lv=Gc.clearIndex(wc.SCENARIOS),Iv={add:wv,create:Ev,delete:Sv,refreshUses:Gc.refreshUses(pc.scenarios.getSubstate,"scenarios",wc.SCENARIOS),saveEdited:xv,setActiveKey:function(e){return function(t,n,r){t(Mv(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("scenario"))}},setActiveKeys:function(e){return function(t,n,r){t(kv(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("scenario"))}},updateEdited:Av,updateStateFromView:Tv,useIndexed:Cv,useIndexedClear:Rv,clearIndex:Lv,useKeys:Pv,useKeysClear:Ov},Dv=Gc.add(wc.SCOPES),jv=Gc.create(pc.scopes.getSubstate,"scopes",wc.SCOPES),Nv=Gc.delete(pc.scopes.getSubstate,"scopes",wc.SCOPES),Bv=Gc.saveEdited(pc.scopes.getSubstate,"scopes",wc.SCOPES),zv=Gc.setActiveKey(wc.SCOPES),Zv=Gc.setActiveKeys(wc.SCOPES),Fv=Gc.updateEdited(pc.scopes.getSubstate,wc.SCOPES),Uv=Gc.useKeys(pc.scopes.getSubstate,"scopes",wc.SCOPES),Kv=Gc.useKeysClear(wc.SCOPES),Vv=Gc.useIndexedClear(wc.SCOPES),Hv=Gc.useIndexed(pc.scopes.getSubstate,"scopes",wc.SCOPES),Wv=Gc.clearIndex(wc.SCOPES),Gv=Gc.refreshUses(pc.scopes.getSubstate,"scopes",wc.SCOPES),qv=function(e){return function(t,n,r){t(zv(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("scope"))}},Yv=function(e){return function(t,n,r){t(Zv(e)),r&&t(r.ensureDependenciesOfActiveMetadataType("scope"))}};var Xv={add:Dv,create:jv,delete:Nv,refreshUses:Gv,saveEdited:Bv,setActiveKey:qv,setActiveKeys:Yv,updateEdited:Fv,updateStateFromView:function(e){return function(t){e&&(e&&e.byKey&&t(Dv(oe().values(e.byKey))),e&&e.activeKey?t(qv(e.activeKey)):e&&e.activeKeys&&t(Yv(e.activeKeys)))}},useIndexed:Hv,useIndexedClear:Vv,clearIndex:Wv,useKeys:Uv,useKeysClear:Kv},$v={};function Jv(e,t){return function(n){"base"!==t&&n(tg(e,t)),n(ag(e,t))}}var Qv=function(e,t,n){return{type:wc.SCREENS.ADD,setKey:e,lineage:t,data:n}},eg=function(e){return{type:wc.SCREENS.SETS.ADD,setKey:e}},tg=function(e,t){return{type:wc.SCREENS.OPEN,setKey:e,lineage:t}},ng=function(e,t){return{type:wc.SCREENS.CLOSE,setKey:e,lineage:t}},rg=function(e,t){return{type:wc.SCREENS.REMOVE,setKey:e,lineage:t}},ig=function(e){return{type:wc.SCREENS.REMOVE_ALL,setKey:e}},og=function(e,t){return{type:wc.SCREENS.RETRACT,setKey:e,lineage:t}},ag=function(e,t){return{type:wc.SCREENS.TOP_HISTORY,setKey:e,lineage:t}},sg=function(e,t,n){return{type:wc.SCREENS.UPDATE,setKey:e,lineage:t,data:n}},ug={addOrUpdate:function(e,t,n,r,i,o){return function(a,s){pc.screens.getScreenByLineage(s(),t)?($v[t]&&clearTimeout($v[t]),a(sg(e,t,{width:n,minActiveWidth:r,desiredState:"opening",component:i,props:o}))):a(Qv(e,t,{width:n,minActiveWidth:r,desiredState:"opening",component:i,props:o})),setTimeout((function(){a(Jv(e,t))}),1)}},addSet:eg,close:function(e,t){return function(n){n(ng(e,t)),n(ag(e,t)),$v[t]=setTimeout((function(){n(rg(e,t))}),550)}},open:Jv,removeAllScreensFromSet:function(e){return function(t){t(ig(e))}},retract:function(e,t){return function(n){n(og(e,t)),n(ag(e,t))}},topHistory:function(e,t){return function(n){n(function(e){return function(t,n){pc.screens.getSetByKey(n(),e)||t(eg(e))}}(e)),n(ag(e,t))}}},lg=Gc.add(wc.TAGS),cg=Gc.create(pc.tags.getSubstate,"tags",wc.TAGS),hg=Gc.delete(pc.tags.getSubstate,"tags",wc.TAGS),fg=Gc.saveEdited(pc.tags.getSubstate,"tags",wc.TAGS),dg=Gc.updateEdited(pc.tags.getSubstate,wc.TAGS),pg=Gc.useKeys(pc.tags.getSubstate,"tags",wc.TAGS),vg=Gc.useKeysClear(wc.TAGS),gg=Gc.useIndexedClear(wc.TAGS),mg=Gc.useIndexed(pc.tags.getSubstate,"tags",wc.TAGS),yg=Gc.clearIndex(wc.TAGS),bg={add:lg,create:cg,delete:hg,saveEdited:fg,updateEdited:dg,useKeys:pg,useKeysClear:vg,refreshUses:Gc.refreshUses(pc.tags.getSubstate,"tags",wc.TAGS),useIndexed:mg,useIndexedClear:gg,clearIndex:yg,updateStateFromView:Gc.updateSubstateFromView(wc.TAGS)},_g=function(e,t,n){var r,i=st.getAllActiveKeys(e);null===t||void 0===t||null===(r=t.items)||void 0===r||r.forEach((function(t){var r;if((null===t||void 0===t||null===(r=t.periods)||void 0===r?void 0:r.length)>0)null===t||void 0===t||t.periods.forEach((function(e){var r=Ml.getTimelineMapLayerPeriodDefinition(t.layerState,null===e||void 0===e?void 0:e.key,i);n(t,r,e)}));else if((0,ie.isPlainObject)(null===t||void 0===t?void 0:t.periods)){var o=t.periods;(Ml.getPeriodKeysForFilteredSpatialRelations(e,o.filterByActive,o.filter,null,0,1e3)||[]).forEach((function(e){var r=Ml.getTimelineMapLayerPeriodDefinition(t.layerState,e,i);n(t,r,e)}))}}))};function wg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wg(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sg=function(e,t){return function(n,r){var i=r(),o=Ws.getLayersStateByMapKey(i,e);_g(i,t,(function(t,r){!!(null===o||void 0===o?void 0:o.find((function(e){return(0,ie.isMatch)(e,r)})))&&n(bd.removeMapLayersByFilter(e,r))}))}};var xg={toggleTimelineLayer:function(e,t,n,r,i){return function(o,a){var s,u,l,c=a(),h=st.getAllActiveKeys(c),f=Eg({},null!==e&&void 0!==e&&null!==(s=e.origin)&&void 0!==s&&s.originPeriod?{key:null===e||void 0===e||null===(u=e.origin)||void 0===u||null===(l=u.originPeriod)||void 0===l?void 0:l.key}:{}),d=Ml.getTimelineMapLayerPeriodDefinition(null===t||void 0===t?void 0:t.layerState,null===f||void 0===f?void 0:f.key,h),p=!!Ml.getMapLayerByTimelineLayerAndPeriod(n,t,f),v=Ws.getLayersStateByMapKey(c,n),m=t.mapZIndex,y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,i=new Set,o=function(e,n){!!(null===t||void 0===t?void 0:t.find((function(e){return(0,ie.isMatch)(e,n)})))&&i.add(null===e||void 0===e?void 0:e.mapZIndex)};n.forEach((function(t){_g(e,t,o)}));var a=(0,g.Z)(i).sort((function(e,t){return e-t})).filter((function(e){return e<r}));return 0===a.length?0:a.length}(c,v,i,m);if(!1!==r.controlMapState)if("toggle"===r.controlMapState){if(p)!1===r.allowNonActiveLayer||o(Sg(n,r));else o(Sg(n,r)),o(bd.addMapLayerToIndex(n,Eg(Eg(Eg({},t.layerState),d),{},{key:_c.uuid()}),y))}else{if(!0!==r.controlMapState)return;if(p){var b=1===function(e,t,n){var r=Ws.getLayersStateByMapKey(e,t),i=0,o=function(e,t){!!(null===r||void 0===r?void 0:r.find((function(e){return(0,ie.isMatch)(e,t)})))&&i++};return _g(e,n,o),i}(c,n,r);!1===r.allowNonActiveLayer&&b||o(bd.removeMapLayersByFilter(n,d))}else o(bd.addMapLayerToIndex(n,Eg(Eg(Eg({},t.layerState),d),{},{key:_c.uuid()}),y))}}},useRelationsForLayerRowItem:function(e,t,n,r,i){return function(o,a){var s=st.getAllActiveKeys(a()),u=Oe.mergeFilters(s,e,t);return o(Oh.ensureIndexed(u,n,r,i)).then((function(){var s=Ml.getPeriodKeysForFilteredSpatialRelations(a(),e,t,n,r,i);return o(av.useKeys(s))}))}}},Mg={mapTimeline:xg};function kg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ag(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kg(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tg=Gc.add(wc.USERS),Pg=Gc.create(pc.users.getSubstate,"users",wc.USERS,"user"),Og=Gc.delete(pc.users.getSubstate,"users",wc.USERS,"user"),Cg=Gc.saveEdited(pc.users.getSubstate,"users",wc.USERS,"user"),Rg=Gc.updateEdited(pc.users.getSubstate,wc.USERS),Lg=Gc.setActiveKey(wc.USERS),Ig=function(){return function(e){e(Gc.refreshUses(pc.users.getSubstate,"users",wc.USERS,"user")()),e(Gc.refreshUses(pc.users.getGroupsSubstate,"groups",wc.USERS.GROUPS,"user")())}},Dg=Gc.useKeys(pc.users.getSubstate,"users",wc.USERS,"user"),jg=Gc.useKeysClear(wc.USERS),Ng=Gc.useIndexed(pc.users.getSubstate,"users",wc.USERS,"user"),Bg=Gc.useIndexed(pc.users.getGroupsSubstate,"groups",wc.USERS.GROUPS,"user");function zg(){return function(e){e({type:wc.COMMON.DATA.CLEANUP_ON_LOGOUT}),e(Lg(null)),e(yp.refreshUses()),e(Xv.refreshUses()),e(_v.refreshUses()),e(av.refreshUses()),e(bg.refreshUses()),e(Ig())}}function Zg(){return function(e,t){var n=pc.app.getCompleteLocalConfiguration(t());return e({type:wc.USERS.CURRENT.REQUEST}),ye(n,"rest/user/current","GET",null,null).then((function(t){if(t.errors)throw new Error(t.errors);var n;0===t.key?e(Ug(Fg(t.groups))):t.key&&(e(Lg(t.key)),e(Tg(Ag(Ag({},n=t),{},{permissions:Ag(Ag({},n.permissions),{},{guest:{get:!1}}),groups:(0,ie.map)(n.groups,"key")}))),e(Ug(Fg(t.groups))))})).catch((function(t){return e(Gc.actionGeneralError(t)),t}))}}function Fg(e){return e.map((function(e){return Ag(Ag({},e),{},{permissions:{guest:{get:!1}}})}))}function Ug(e){return{type:wc.USERS.GROUPS.ADD,data:e}}function Kg(e){return{type:wc.USERS.LOGOUT_REQUEST_ERROR,error:e}}var Vg={add:Tg,create:Pg,delete:Og,saveEdited:Cg,updateEdited:Rg,apiLoadCurrentUser:Zg,apiLoginUser:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){var o=pc.app.getCompleteLocalConfiguration(i());return r({type:wc.USERS.LOGIN.REQUEST}),ye(o,"api/login/login","POST",null,{username:e,password:t,cookies:n,development:!1}).then((function(e){if(200===e.status)return r((function(e){e(Gc.actionDataSetOutdated()),e(Zg()),e(Xv.refreshUses()),e(_v.refreshUses()),e(av.refreshUses()),e(Ig())})),e})).catch((function(e){return r(Gc.actionGeneralError(e)),e}))}},apiLogoutUser:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return function(n,r){n({type:wc.USERS.LOGOUT_REQUEST});return ye(pc.app.getCompleteLocalConfiguration(r()),"api/login/logout","POST",null,{development:!1},null,null).then((function(e){console.log("#### logout user response",e),200===e.status?n(zg()):n(Kg("user#action logout Problem with logging out the User, please try later."))}),(function(r){console.log("#### logout user error",r),n(t-1?e(t-1):Kg("user#action logout Problem with logging out the User, please try later."))}))}},refreshUses:Ig,setActiveKey:Lg,useKeys:Dg,useKeysClear:jg,useIndexedUsers:Ng,useIndexedGroups:Bg,useIndexedUsersClear:function(e){return{type:wc.USERS.USE.INDEXED.CLEAR,componentId:e}},useIndexedGroupsClear:function(e){return{type:wc.USERS.GROUPS.USE.INDEXED.CLEAR,componentId:e}}},Hg=Gc.add(wc.VIEWS),Wg=Gc.setActiveKey(wc.VIEWS),Gg=Gc.setActiveKeys(wc.VIEWS),qg=Gc.create(pc.views.getSubstate,"views",wc.VIEWS,"views"),Yg=Gc.delete(pc.views.getSubstate,"views",wc.VIEWS,"views"),Xg=Gc.saveEdited(pc.views.getSubstate,"views",wc.VIEWS,"views"),$g=Gc.updateEdited(pc.views.getSubstate,wc.VIEWS,"views"),Jg=Gc.useKeys(pc.views.getSubstate,"views",wc.VIEWS,"views"),Qg=Gc.useKeysClear(wc.VIEWS),em=Gc.useIndexedClear(wc.VIEWS),tm=Gc.useIndexed(pc.views.getSubstate,"views",wc.VIEWS,"views"),nm=Gc.clearIndex(wc.VIEWS),rm=Gc.refreshUses(pc.views.getSubstate,"views",wc.VIEWS,"views"),im=Gc.updateSubstateFromView(wc.VIEWS),om=function(e,t){return function(n,r){return n(Gc.ensureKeys(pc.views.getSubstate,"views",wc.VIEWS,[e],"views")).then((function(){var i=pc.views.getDataByKey(r(),e);if(i&&i.state){var o,a,s=[];oe().each(t,(function(e,t){Object.hasOwn(e,"updateStateFromView")&&i.state[t]&&s.push(e.updateStateFromView(i.state[t]))})),t.data.components&&null!==(o=i.state.data)&&void 0!==o&&o.components&&s.push(t.data.components.addComponentsFromView(i.state.data.components)),t.data.components&&null!==(a=i.state.data)&&void 0!==a&&a.sets&&s.push(t.data.components.addSetsFromView(i.state.data.sets)),t.specific&&oe().each(t.specific,(function(e,t){Object.hasOwn(e,"updateStateFromView")&&i.state[t]&&s.push(e.updateStateFromView(i.state[t]))})),n(s)}else n(Gc.actionGeneralError("Views#apply: View or state of view doesn't exist! View key: "+e))})).catch((function(e){n(Gc.actionGeneralError("Views#apply: "+e))}))}},am={add:Hg,apply:om,applyAndSetActive:function(e,t){return function(n){return n(om(e,t)).then((function(){n(Wg(e))}))}},setActiveKey:Wg,setActiveKeys:Gg,create:qg,delete:Yg,saveEdited:Xg,updateEdited:$g,useKeys:Jg,useKeysClear:Qg,refreshUses:rm,useIndexed:tm,useIndexedClear:em,clearIndex:nm,updateStateFromView:im};function sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function um(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sm(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lm=function(e,t,n,r,i,o){return{type:wc.WINDOWS.ADD,setKey:e,windowKey:t,state:n,settings:r,component:i,props:o}},cm=function(e,t){return{type:wc.WINDOWS.OPEN,setKey:e,windowKey:t}},hm=function(e,t){return{type:wc.WINDOWS.UPDATE,windowKey:e,data:t}},fm={addOrOpen:function(e,t,n,r,i){return function(o,a){o(pc.windows.getWindow(a(),t)?cm(e,t):lm(e,t,"open",n,r,i))}},remove:function(e,t){return{type:wc.WINDOWS.REMOVE,setKey:e,windowKey:t}},topWindow:function(e,t){return{type:wc.WINDOWS.TOP,setKey:e,windowKey:t}},updateSettings:function(e,t){return function(n,r){var i=pc.windows.getWindow(r(),e),o=um(um({},i.data),{},{settings:um(um({},i.data.settings),t)});n(hm(e,o))}}},dm={app:Ld,areas:Ud,areaRelations:Yh,attributes:rp,attributeSets:ip,cases:yp,components:wp,data:bf,layerTemplates:Dp,layerTrees:Wp,maps:bd,periods:av,places:_v,scenarios:Iv,scopes:Xv,screens:ug,selections:Nf,styles:Rf,tags:bg,timeline:Mg,users:Vg,views:am,windows:fm},pm=["type"];function vm(e){var t=function(e,t){if("object"!==(0,pn.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==(0,pn.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,pn.Z)(t)?t:String(t)}function gm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gm(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ym={activeKey:null,byKey:null,count:null,editedByKey:null,indexes:null,inUse:{indexes:null,keys:null},lastChangedOn:null,loading:!1,loadingKeys:null},bm={add:function(e,t){var n;if(null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.length){var r=mm({},e.byKey);return t.data.forEach((function(e){r[e.key]=mm(mm({},r[e.key]),e),delete r[e.key].outdated,delete r[e.key].unreceived})),mm(mm({},e),{},{byKey:r})}return e},addUnreceivedKeys:function(e,t){var n;if(null!==t&&void 0!==t&&null!==(n=t.keys)&&void 0!==n&&n.length){var r=mm({},e.byKey);return t.keys.forEach((function(e){r[e]={key:e,unreceived:!0}})),mm(mm({},e),{},{byKey:r})}return e},addIndex:function(e,t){if(null!==t&&void 0!==t&&t.data){var n=e.indexes?(0,g.Z)(e.indexes):[],r=n.length?(0,ie.findIndex)(e.indexes,(function(e){return(0,ie.isEqual)(e.filter,t.filter)&&(0,ie.isEqual)(e.order,t.order)})):-1;if(r>-1){var i=mm({},n[r]),o=Oe.registerModelsToIndex(mm({},i.index),t.data,t.start);if(t.limit)for(var a=t.start;a<t.start+t.limit;a++)!0===o[a]&&delete o[a];n[r]=mm(mm({},i),{},{count:(0,ie.isNumber)(t.count)?t.count:(0,ie.isNumber)(i.count)?i.count:null,changedOn:t.changedOn||i.changedOn||null,index:o})}else n.push({filter:t.filter||null,order:t.order||null,count:(0,ie.isNumber)(t.count)?t.count:null,changedOn:t.changedOn||null,index:Oe.registerModelsToIndex({},t.data,t.start)});return mm(mm({},e),{},{indexes:n})}return e},registerUseIndexed:function(e,t){var n={filterByActive:t.filterByActive,filter:t.filter,order:t.order,start:t.start,length:t.length},r=!1;return e.inUse.indexes&&e.inUse.indexes[t.componentId]&&(r=(0,ie.find)(e.inUse.indexes[t.componentId],n)),r?e:mm(mm({},e),{},{inUse:mm(mm({},e.inUse),{},{indexes:mm(mm({},e.inUse.indexes),{},(0,re.Z)({},t.componentId,e.inUse.indexes&&e.inUse.indexes[t.componentId]?[].concat((0,g.Z)(e.inUse.indexes[t.componentId]),[n]):[n]))})})},useIndexedClear:function(e,t){var n;if(t.componentId&&null!==(n=e.inUse)&&void 0!==n&&n.indexes&&Object.hasOwn(e.inUse.indexes,t.componentId)){var r=mm({},e.inUse.indexes);return delete r[t.componentId],mm(mm({},e),{},{inUse:mm(mm({},e.inUse),{},{indexes:(0,ie.isEmpty)(r)?null:r})})}return e},useIndexedClearAll:function(e){var t;return e.inUse&&null!==(t=e.inUse)&&void 0!==t&&t.indexes?mm(mm({},e),{},{inUse:mm(mm({},e.inUse),{},{indexes:null})}):e},useKeysRegister:function(e,t){var n,r;return t.componentId&&null!==(n=t.keys)&&void 0!==n&&n.length?mm(mm({},e),{},{inUse:mm(mm({},e.inUse),{},{keys:mm(mm({},e.inUse.keys),{},(0,re.Z)({},t.componentId,null!==(r=e.inUse.keys)&&void 0!==r&&r[t.componentId]?(0,ie.union)(e.inUse.keys[t.componentId],t.keys):t.keys))})}):e},useKeysClear:function(e,t){if(t.componentId){var n=mm({},e.inUse.keys);return delete n[t.componentId],mm(mm({},e),{},{inUse:mm(mm({},e.inUse),{},{keys:(0,ie.isEmpty)(n)?null:n})})}return e},markDeleted:function(e,t){var n;return t.key&&null!==(n=e.byKey)&&void 0!==n&&n[t.key]?mm(mm({},e),{},{byKey:mm(mm({},e.byKey),{},(0,re.Z)({},t.key,mm(mm({},e.byKey[t.key]),{},{removed:!0})))}):e},remove:function(e,t){var n;if(null!==(n=t.keys)&&void 0!==n&&n.length&&e.byKey){var r=(0,ie.omit)(e.byKey,t.keys);return mm(mm({},e),{},{byKey:(0,ie.isEmpty)(r)?null:r})}return e},removeEdited:function(e,t){var n;if(null!==(n=t.keys)&&void 0!==n&&n.length&&e.editedByKey){var r=(0,ie.omit)(e.editedByKey,t.keys);return mm(mm({},e),{},{editedByKey:(0,ie.isEmpty)(r)?null:r})}return e},removeEditedActive:function(e){if(e.activeKey&&e.editedByKey){var t=(0,ie.omit)(e.editedByKey,e.activeKey);return mm(mm({},e),{},{editedByKey:(0,ie.isEmpty)(t)?null:t})}return e},removeEditedProperty:function(e,t){if(t.key&&e.editedByKey){var n=e.editedByKey[t.key],r=null===n||void 0===n?void 0:n.data;if(r&&Object.hasOwn(r,t.property)){var i=t.property,o=(r[i],vn(r,[i].map(vm)));if((0,ie.isEmpty)(o)){var a=mm({},e.editedByKey);return delete a[t.key],mm(mm({},e),{},{editedByKey:(0,ie.isEmpty)(a)?null:a})}return mm(mm({},e),{},{editedByKey:mm(mm({},e.editedByKey),{},(0,re.Z)({},t.key,mm(mm({},e.editedByKey[t.key]),{},{data:o})))})}return e}return e},setActive:function(e,t){return mm(mm({},e),{},{activeKey:t.key,activeKeys:null})},setActiveMultiple:function(e,t){return mm(mm({},e),{},{activeKeys:t.keys,activeKey:null})},updateEdited:function(e,t){var n;if(null!==(n=t.data)&&void 0!==n&&n.length){var r=mm({},e.editedByKey);return t.data.forEach((function(e){r[e.key]?r[e.key]=mm(mm({},r[e.key]),{},{data:mm(mm({},r[e.key].data),e.data)}):r[e.key]=e})),mm(mm({},e),{},{editedByKey:r})}return e},clearIndexes:function(e){var t;if(null!==(t=e.indexes)&&void 0!==t&&t.length){var n=(0,ie.map)(e.indexes,(function(e){return mm(mm({},e),{},{index:null,count:null,changedOn:null,outdated:e.index,outdatedCount:e.count})}));return mm(mm({},e),{},{indexes:n})}return e},clearIndex:function(e,t){var n;if(null!==(n=e.indexes)&&void 0!==n&&n.length){var r=(0,g.Z)(e.indexes).map((function(e){return Oe.isCorrespondingIndex(e,t.filter,t.order)?mm(mm({},e),{},{outdated:e.index,outdatedCount:e.count,index:null,count:null,changedOn:null}):e}));return mm(mm({},e),{},{indexes:r})}return e},dataSetOutdated:function(e){if(e.byKey){var t={};return(0,ie.each)(e.byKey,(function(e,n){t[n]=mm(mm({},e),{},{outdated:!0})})),mm(mm({},e),{},{byKey:t})}return e},cleanupOnLogout:function(e){if(e.byKey){var t={};return(0,ie.each)(e.byKey,(function(e,n){var r,i;null!==(r=e.permissions)&&void 0!==r&&null!==(i=r.guest)&&void 0!==i&&i.get&&(t[n]=mm(mm({},e),{},{permissions:{guest:e.permissions.guest}}))})),mm(mm({},e),{},{byKey:t})}return e},updateStore:function(e,t){if(t){t.type;var n=vn(t,pm);return mm(mm({},e),n)}return e}};function _m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_m(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Em={key:null};function Sm(e,t,n){var r=(0,g.Z)(t),i=r.shift();return r.length?wm(wm({},e),{},(0,re.Z)({},i,Sm(e[i],r,n))):wm(wm({},e),{},(0,re.Z)({},i,n))}function xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Mm=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xm(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Am=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?km(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):km(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym),Tm=Td({areaTreeLevels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.AREAS.AREA_TREE_LEVELS.ADD:return bm.add(e,t);case wc.AREAS.AREA_TREE_LEVELS.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.AREAS.AREA_TREE_LEVELS.INDEX.ADD:return bm.addIndex(e,t);case wc.AREAS.AREA_TREE_LEVELS.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.AREAS.AREA_TREE_LEVELS.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.AREAS.AREA_TREE_LEVELS.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.AREAS.AREA_TREE_LEVELS.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.AREAS.AREA_TREE_LEVELS.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.AREAS.AREA_TREE_LEVELS.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},areaTrees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Am,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.AREAS.AREA_TREES.ADD:return bm.add(e,t);case wc.AREAS.AREA_TREES.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.AREAS.AREA_TREES.INDEX.ADD:return bm.addIndex(e,t);case wc.AREAS.AREA_TREES.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.AREAS.AREA_TREES.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.AREAS.AREA_TREES.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.AREAS.AREA_TREES.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.AREAS.AREA_TREES.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.AREAS.AREA_TREES.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}}});function Pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Om=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pm(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function Cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Rm=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cm(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Im(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lm(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dm=Im(Im({},ym),{},{activeKeys:null});function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Nm=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jm(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);var Bm=n(1501),zm=n.n(Bm);function Zm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zm(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Um(e,t){var n={};return t&&t.rules&&(0,ie.each)(t.rules,(function(t){t.filter,t.styles&&(0,ie.each)(t.styles,(function(t){var r=null;r=t.attributeKey?Km(t,e):t,n=Fm(Fm({},n),r)}))})),n}function Km(e,t){if(Object.hasOwn(t,e.attributeKey)){var n=t[e.attributeKey];return e.attributeClasses?Hm(e.attributeClasses,n,e.attributeTransformations):e.attributeScale?Gm(e.attributeScale,n):e.attributeTransformation?function(e,t){var n=Object.keys(e)[0],r=e[n];r.inputTransformation&&(t=Xm(r.inputTransformation,t));return"arrowDirection"===n?{arrowDirection:t}:{}}(e.attributeTransformation,n):e.attributeValues?Wm(e.attributeValues,n):{}}return{}}function Vm(e,t){return t||0===t?e.values?Wm(e.values,t):e.valueClasses?Hm(e.valueClasses,t):e.scale?Gm(e.scale,t):{}:{}}function Hm(e,t,n){var r={};return(0,ie.each)(e,(function(e){var i=e.interval,o=e.intervalBounds;n&&(t=Xm(n,t)),o||(o=[!0,!1]),Ym(t,i[0],o[0])&&Ym(i[1],t,o[1])&&(r=e)})),r}function Wm(e,t){return e[t]||{}}function Gm(e,t){var n=Object.keys(e)[0],r=e[n],i=r.inputTransformation,o=r.inputInterval,a=r.inputIntervalBounds,s=r.outputInterval;if(i&&(t=Xm(i,t)),a||(a=[!0,!0]),!Ym(t,o[0],a[0])||!Ym(o[1],t,a[1]))return{};switch(n){case"outlineWidth":case"diagramOutlineWidth":case"outlineOpacity":case"diagramOpacity":case"fillOpacity":case"diagramFillOpacity":case"size":case"diagramSize":case"volume":case"diagramVolume":case"arrowLength":return(0,re.Z)({},n,qm(o,s,t));case"outlineColor":case"diagramOutlineColor":case"fill":case"diagramFill":case"color":var u=zm().scale(s).domain(o);return(0,re.Z)({},n,zm()(u(t)).hex());default:return{}}}function qm(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];if(n>=r&&n<=i)return(a-o)/(i-r)*(n-r)+o;throw new Error("map/style#scaleValue: Given value is out of input range!")}function Ym(e,t,n){return!(!e&&0!==e)&&(n?e>=t:e>t)}function Xm(e,t){return(0,ie.each)(e,(function(e){"abs"===e?t=Math.abs(t):"sign"===e&&(t=Math.sign(t))})),t}var $m={getStyleObject:Um,getStyleObjectForRaster:function(e,t){var n={};return t&&t.rules&&(0,ie.each)(t.rules,(function(t){t.filter,t.styles&&(0,ie.each)(t.styles,(function(t){var r;r=t.bandIndex>-1?Vm(t,e[t.bandIndex]):t,n=Fm(Fm({},n),r)}))})),n},getStyleObjectForVector:Um,getStyleObjectForAttribute:Km,getStyleObjectForBand:Vm,getStyleObjectForIntervals:Hm,getStyleObjectForScale:Gm,getStyleObjectForValues:Wm,getStyleObjectForValue:Wm,scaleValue:qm,isGreaterThan:Ym,doMathOperations:Xm,hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},DEFAULT_SIZE:15};var Jm=mn;function Qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qm(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ty={setHelper:function e(t,n,r){if(t&&n){var i=(0,g.Z)(n),o=i.shift();return i.length?ey(ey({},t),{},(0,re.Z)({},o,e(t[o],i,r))):""===o?ey({},t):"undefined"===typeof r?(delete t[o],ey({},t)):ey(ey({},t),{},(0,re.Z)({},o,r))}return t}};function ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ny(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iy={};function oy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ay=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oy(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function sy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var uy=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sy(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hy=cy(cy({},ym),{},{byDataSourceKey:{}});function fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var py={components:{byKey:{},inUse:[]},sets:{byKey:{}}};function vy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var gy=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vy(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function my(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var yy=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?my(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):my(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function by(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?by(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wy=_y(_y({},ym),{},{byDataSourceKey:{}}),Ey=function(e,t){var n=t.key,r=function(e,t,n,r){var i=Object.keys(n),o=e.byDataSourceKey[t]?_y({},e.byDataSourceKey[t]):{};return i.forEach((function(e){if(Object.hasOwn(o,e))o[e].geometries[r]=n[e];else{var t={geometries:{}};t.geometries[r]=n[e],o=_y(_y({},o),{},(0,re.Z)({},e,_y({},t)))}})),o}(e,n,t.data,t.level);return _y(_y({},e),{},{byDataSourceKey:_y(_y({},e.byDataSourceKey),{},(0,re.Z)({},n,r))})},Sy=function(e,t){var n=function(e,t){var n=_y({},e.byDataSourceKey);return(0,ie.forIn)(t,(function(e,t){Object.hasOwn(n,t)||(n[t]={});var r={};(0,ie.forIn)(e,(function(e,t){var n={geometries:{}};n.geometry=e,r[t]=n})),n[t]=_y(_y({},n[t]),r)})),n}(e,t.dataByDataSourceKey),r=Oe.getUpdatedIndexes(e,t.filter,t.order,t.indexData,t.changedOn);return _y(_y({},e),{},{byDataSourceKey:n,indexes:r})},xy=function(e,t){var n=function(e,t,n){var r=_y({},e.byDataSourceKey);return(0,ie.forIn)(t,(function(e,t){Object.hasOwn(r,t)||(r[t]={});var i={};(0,ie.forIn)(e,(function(e,o){if(Object.hasOwn(r[t],o))r[t][o].geometries[n]=e;else{var a={geometries:{}};a.geometries[n]=e,i[o]=a}})),r[t]=_y(_y({},r[t]),i)})),r}(e,t.dataByDataSourceKey,t.level),r=Oe.getUpdatedIndexes(e,t.filter,t.order,t.indexData,t.changedOn);return _y(_y({},e),{},{byDataSourceKey:n,indexes:r})};var My=Td({attributeData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.DATA.ATTRIBUTE_DATA.ADD:return function(e,t,n){return t&&n?cy(cy({},e),{},{byDataSourceKey:cy(cy({},e.byDataSourceKey),{},(0,re.Z)({},t,n))}):e}(e,t.key,t.data);case wc.DATA.ATTRIBUTE_DATA.ADD_WITH_SPATIAL_INDEX:return function(e,t,n,r,i,o,a){var s=cy(cy({},e.byDataSourceKey),{},(0,re.Z)({},t,e.byDataSourceKey[t]?cy(cy({},e.byDataSourceKey[t]),n):n)),u=Oe.getUpdatedIndexes(e,r,i,o,a,"spatialIndexes");return cy(cy({},e),{},{byDataSourceKey:s,spatialIndexes:u})}(e,t.attributeDataSourceKey,t.data,t.filter,t.order,t.indexData,t.changedOn);case wc.DATA.ATTRIBUTE_DATA.ADD_WITH_INDEX:return function(e,t,n,r,i,o,a,s,u){var l=Oe.getUpdatedByDataSourceKey(e.byDataSourceKey,n),c=cy({filter:r,order:i,data:t.map((function(e){return{key:e}})),start:o,count:a,changedOn:s},u&&{limit:u}),h=bm.addIndex(e,c);return cy(cy({},e),{},{byDataSourceKey:l,indexes:h.indexes})}(e,t.index,t.data,t.filter,t.order,t.start,t.total,t.changedOn,t.limit);case wc.DATA.ATTRIBUTE_DATA.UPDATE:return function(e,t,n){return t&&n?cy(cy({},e),{},{byDataSourceKey:cy(cy({},e.byDataSourceKey),{},(0,re.Z)({},t,e.byDataSourceKey[t]?cy(cy({},e.byDataSourceKey[t]),n):n))}):e}(e,t.key,t.data);case wc.DATA.ATTRIBUTE_DATA.INDEX.ADD:return bm.addIndex(e,t);case wc.DATA.ATTRIBUTE_DATA.SPATIAL_INDEX.ADD:return function(e,t,n,r,i){var o=Oe.getUpdatedIndexes(e,t,n,r,i,"spatialIndexes");return cy(cy({},e),{},{spatialIndexes:o})}(e,t.filter,t.order,t.indexData,t.changedOn);case wc.DATA.ATTRIBUTE_DATA.SPATIAL_INDEX.REMOVE:return function(e,t,n){var r=Oe.removeIndex(e.spatialIndexes,t,n);return cy(cy({},e),{},{spatialIndexes:r})}(e,t.filter,t.order);case wc.DATA.ATTRIBUTE_DATA.UPDATE_STORE:return bm.updateStore(e,t.data);default:return e}},attributeDataSources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.DATA.ATTRIBUTE_DATA_SOURCES.ADD:return bm.add(e,t);case wc.DATA.ATTRIBUTE_DATA_SOURCES.INDEX.ADD:return bm.addIndex(e,t);case wc.DATA.ATTRIBUTE_DATA_SOURCES.UPDATE_STORE:return bm.updateStore(e,t.data);default:return e}},attributeRelations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ay,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.DATA.ATTRIBUTE_RELATIONS.ADD:return bm.add(e,t);case wc.DATA.ATTRIBUTE_RELATIONS.INDEX.ADD:return bm.addIndex(e,t);case wc.DATA.ATTRIBUTE_RELATIONS.UPDATE_STORE:return bm.updateStore(e,t.data);default:return e}},components:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:py,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.DATA.COMPONENTS.COMPONENT.SET.ATTRIBUTE_KEYS:return function(e,t,n){return t&&null!==n&&void 0!==n&&n.length?dy(dy({},e),{},{components:dy(dy({},e.components),{},{byKey:dy(dy({},e.components.byKey),{},(0,re.Z)({},t,e.components.byKey[t]?dy(dy({},e.components.byKey[t]),{},{attributeKeys:n}):{attributeKeys:n}))})}):e}(e,t.componentKey,t.attributeKeys);case wc.DATA.COMPONENTS.COMPONENT.SET.ATTRIBUTE_ORDER:return function(e,t,n){return t&&null!==n&&void 0!==n&&n.length?dy(dy({},e),{},{components:dy(dy({},e.components),{},{byKey:dy(dy({},e.components.byKey),{},(0,re.Z)({},t,e.components.byKey[t]?dy(dy({},e.components.byKey[t]),{},{attributeOrder:n}):{attributeOrder:n}))})}):e}(e,t.componentKey,t.attributeOrder);case wc.DATA.COMPONENTS.COMPONENT.SET.FEATURE_KEYS:return function(e,t,n){return t&&null!==n&&void 0!==n&&n.length?dy(dy({},e),{},{components:dy(dy({},e.components),{},{byKey:dy(dy({},e.components.byKey),{},(0,re.Z)({},t,e.components.byKey[t]?dy(dy({},e.components.byKey[t]),{},{featureKeys:n}):{featureKeys:n}))})}):e}(e,t.componentKey,t.featureKeys);case wc.DATA.COMPONENTS.COMPONENT.USE.CLEAR:return function(e,t){if(t&&!(0,ie.isEmpty)(e.components.inUse)){var n=(0,ie.indexOf)(e.components.inUse,t);if(n>-1){var r=mn.removeItemByIndex(e.components.inUse,n);return dy(dy({},e),{},{components:dy(dy({},e.components),{},{inUse:r})})}return e}return e}(e,t.componentKey);case wc.DATA.COMPONENTS.COMPONENT.USE.REGISTER:return function(e,t){return t?dy(dy({},e),{},{components:dy(dy({},e.components),{},{inUse:[].concat((0,g.Z)(e.components.inUse),[t])})}):e}(e,t.componentKey);case wc.DATA.COMPONENTS.ADD_COMPONENTS:return function(e,t){return t?dy(dy({},e),{},{components:dy(dy({},e.components),{},{byKey:dy(dy({},e.components.byKey),t)})}):e}(e,t.components);case wc.DATA.COMPONENTS.ADD_SETS:return function(e,t){return t?dy(dy({},e),{},{sets:dy(dy({},e.sets),{},{byKey:dy(dy({},e.sets.byKey),t)})}):e}(e,t.sets);default:return e}},spatialData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.DATA.SPATIAL_DATA.ADD:return Ey(e,t);case wc.DATA.SPATIAL_DATA.ADD_WITH_TILED_INDEX:return xy(e,t);case wc.DATA.SPATIAL_DATA.ADD_WITH_INDEX:return Sy(e,t);case wc.DATA.SPATIAL_DATA.INDEX.ADD:return function(e,t){var n=Oe.getUpdatedIndexes(e,t.filter,t.order,t.indexData,t.changedOn);return _y(_y({},e),{},{indexes:n})}(e,t);case wc.DATA.SPATIAL_DATA.INDEX.REMOVE:return function(e,t){var n=Oe.removeIndex(e.indexes,t.filter,t.order);return _y(_y({},e),{},{indexes:n})}(e,t);case wc.DATA.SPATIAL_DATA.UPDATE_STORE:return bm.updateStore(e,t);default:return e}},spatialDataSources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.DATA.SPATIAL_DATA_SOURCES.ADD:return bm.add(e,t);case wc.DATA.SPATIAL_DATA_SOURCES.INDEX.ADD:return bm.addIndex(e,t);case wc.DATA.SPATIAL_DATA_SOURCES.UPDATE_STORE:return bm.updateStore(e,t);default:return e}},spatialRelations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.DATA.SPATIAL_RELATIONS.ADD:return bm.add(e,t);case wc.DATA.SPATIAL_RELATIONS.INDEX.ADD:return bm.addIndex(e,t);case wc.DATA.SPATIAL_RELATIONS.UPDATE_STORE:return bm.updateStore(e,t);case wc.DATA.SPATIAL_RELATIONS.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.DATA.SPATIAL_RELATIONS.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);default:return e}}});function ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ay=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ky(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function Ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Py=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ty(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ty(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function Oy(e){var t=function(e,t){if("object"!==(0,pn.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==(0,pn.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,pn.Z)(t)?t:String(t)}function Cy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ry(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cy(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ly={activeSetKey:null,activeMapKey:null,inUse:{maps:[],sets:[]},maps:{},sets:{}};function Iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Dy=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iy(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jy(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var By=Ny(Ny({},ym),{},{activeKeys:null});function zy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Zy=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zy(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function Fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Uy=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fy(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function Ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ky(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ky(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hy={screens:{},sets:{}},Wy={orderByHistory:[],orderBySpace:[]},Gy={width:null,minActiveWidth:null,desiredState:"open"};function qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qy(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xy=Yy({},ym);function $y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Jy=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$y(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function Qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var eb=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qy(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym),tb=["userId"];function nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nb(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ib=rb(rb({},ym),{},{groups:rb({},ym)});function ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ab=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ob(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ob(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ym);function sb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ub(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sb(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lb={windows:{},sets:{}},cb={orderByHistory:[]},hb={minWidth:100,minHeight:200,maxWidth:500,maxHeight:500,width:200,height:300,position:{top:50,left:50}},fb=function(e,t){var n=ub({},e.sets),r=oe().without((0,g.Z)(n[t.setKey].orderByHistory),t.windowKey);return r.push(t.windowKey),ub(ub({},e),{},{sets:ub(ub({},n),{},(0,re.Z)({},t.setKey,ub(ub({},n[t.setKey]),{},{orderByHistory:r})))})};var db={app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.APP.SET_BASE_URL:return function(e,t){return wm(wm({},e),{},{baseUrl:t.url})}(e,t);case wc.APP.SET_KEY:return function(e,t){return wm(wm({},e),{},{key:t.key})}(e,t);case wc.APP.SET_LOCAL_CONFIGURATION:return function(e,t){var n=t.path.split(".");return wm(wm({},e),{},{localConfiguration:Sm(e.localConfiguration,n,t.value)})}(e,t);case wc.APP.UPDATE_LOCAL_CONFIGURATION:return function(e,t){return wm(wm({},e),{},{localConfiguration:e.localConfiguration?wm(wm({},e.localConfiguration),t.update):t.update})}(e,t);case wc.APP.RECEIVE_CONFIGURATION:return function(e,t){return wm(wm({},e),{},{configuration:t.configuration})}(e,t);default:return e}},areas:Tm,areaRelations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Om,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.AREA_RELATIONS.ADD:return bm.add(e,t);case wc.AREA_RELATIONS.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.AREA_RELATIONS.INDEX.ADD:return bm.addIndex(e,t);case wc.AREA_RELATIONS.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.AREA_RELATIONS.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.AREA_RELATIONS.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);default:return e}},attributes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.ATTRIBUTES.ADD:return bm.add(e,t);case wc.ATTRIBUTES.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.ATTRIBUTES.DELETE:return bm.remove(e,t);case wc.ATTRIBUTES.EDITED.REMOVE:return bm.removeEdited(e,t);case wc.ATTRIBUTES.EDITED.REMOVE_ACTIVE:return bm.removeEditedActive(e,t);case wc.ATTRIBUTES.EDITED.REMOVE_PROPERTY:return bm.removeEditedProperty(e,t);case wc.ATTRIBUTES.EDITED.UPDATE:return bm.updateEdited(e,t);case wc.ATTRIBUTES.INDEX.ADD:return bm.addIndex(e,t);case wc.ATTRIBUTES.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.ATTRIBUTES.INDEX.CLEAR_INDEX:return bm.clearIndex(e,t);case wc.ATTRIBUTES.MARK_DELETED:return bm.markDeleted(e,t);case wc.ATTRIBUTES.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.ATTRIBUTES.SET_ACTIVE_KEYS:return bm.setActiveMultiple(e,t);case wc.ATTRIBUTES.UPDATE_STORE:return bm.updateStore(e,t);case wc.ATTRIBUTES.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.ATTRIBUTES.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);case wc.ATTRIBUTES.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.ATTRIBUTES.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.ATTRIBUTES.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},attributeSets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.ATTRIBUTE_SETS.ADD:return bm.add(e,t);case wc.ATTRIBUTE_SETS.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.ATTRIBUTE_SETS.DELETE:return bm.remove(e,t);case wc.ATTRIBUTE_SETS.EDITED.REMOVE:return bm.removeEdited(e,t);case wc.ATTRIBUTE_SETS.EDITED.REMOVE_ACTIVE:return bm.removeEditedActive(e,t);case wc.ATTRIBUTE_SETS.EDITED.REMOVE_PROPERTY:return bm.removeEditedProperty(e,t);case wc.ATTRIBUTE_SETS.EDITED.UPDATE:return bm.updateEdited(e,t);case wc.ATTRIBUTE_SETS.INDEX.ADD:return bm.addIndex(e,t);case wc.ATTRIBUTE_SETS.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.ATTRIBUTE_SETS.INDEX.CLEAR_INDEX:return bm.clearIndex(e,t);case wc.ATTRIBUTE_SETS.MARK_DELETED:return bm.markDeleted(e,t);case wc.ATTRIBUTE_SETS.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.ATTRIBUTE_SETS.SET_ACTIVE_KEYS:return bm.setActiveMultiple(e,t);case wc.ATTRIBUTE_SETS.UPDATE_STORE:return bm.updateStore(e,t);case wc.ATTRIBUTE_SETS.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.ATTRIBUTE_SETS.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);case wc.ATTRIBUTE_SETS.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.ATTRIBUTE_SETS.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.ATTRIBUTE_SETS.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},cases:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.CASES.ADD:return bm.add(e,t);case wc.CASES.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.CASES.DELETE:return bm.remove(e,t);case wc.CASES.EDITED.REMOVE:return bm.removeEdited(e,t);case wc.CASES.EDITED.REMOVE_ACTIVE:return bm.removeEditedActive(e,t);case wc.CASES.EDITED.REMOVE_PROPERTY:return bm.removeEditedProperty(e,t);case wc.CASES.EDITED.UPDATE:return bm.updateEdited(e,t);case wc.CASES.INDEX.ADD:return bm.addIndex(e,t);case wc.CASES.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.CASES.INDEX.CLEAR_INDEX:return bm.clearIndex(e,t);case wc.CASES.MARK_DELETED:return bm.markDeleted(e,t);case wc.CASES.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.CASES.SET_ACTIVE_KEYS:return bm.setActiveMultiple(e,t);case wc.CASES.UPDATE_STORE:return bm.updateStore(e,t);case wc.CASES.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.CASES.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);case wc.CASES.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.CASES.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.CASES.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},components:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.COMPONENTS.UPDATE:return function(e,t,n){return(0,ie.isEmpty)(n)?e:ry(ry({},e),{},(0,re.Z)({},t,e[t]?ry(ry({},e[t]),n):n))}(e,t.component,t.update);case wc.COMPONENTS.UPDATE_STORE:return bm.updateStore(e,t);case wc.COMPONENTS.SET:return function(e,t,n,r){if(t&&n){var i=n.split("."),o=e[t]||{};return ry(ry({},e),{},(0,re.Z)({},t,ty.setHelper(o,i,r)))}return e}(e,t.component,t.path,t.value);case wc.COMPONENTS.REMOVE:return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!n||null===n||""===n;if(t&&(r||n)){var i=!r&&n.split(".");return r?Jm.removeItemByKey(e,t):ry(ry({},e),{},(0,re.Z)({},t,ty.setHelper(e[t],i,void 0)))}return e}(e,t.component,t.path);default:return e}},data:My,layerTemplates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ay,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.LAYER_TEMPLATES.ADD:return bm.add(e,t);case wc.LAYER_TEMPLATES.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.LAYER_TEMPLATES.DELETE:return bm.remove(e,t);case wc.LAYER_TEMPLATES.EDITED.REMOVE:return bm.removeEdited(e,t);case wc.LAYER_TEMPLATES.EDITED.REMOVE_ACTIVE:return bm.removeEditedActive(e,t);case wc.LAYER_TEMPLATES.EDITED.REMOVE_PROPERTY:return bm.removeEditedProperty(e,t);case wc.LAYER_TEMPLATES.EDITED.UPDATE:return bm.updateEdited(e,t);case wc.LAYER_TEMPLATES.INDEX.ADD:return bm.addIndex(e,t);case wc.LAYER_TEMPLATES.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.LAYER_TEMPLATES.INDEX.CLEAR_INDEX:return bm.clearIndex(e,t);case wc.LAYER_TEMPLATES.MARK_DELETED:return bm.markDeleted(e,t);case wc.LAYER_TEMPLATES.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.LAYER_TEMPLATES.SET_ACTIVE_KEYS:return bm.setActiveMultiple(e,t);case wc.LAYER_TEMPLATES.UPDATE_STORE:return bm.updateStore(e,t);case wc.LAYER_TEMPLATES.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.LAYER_TEMPLATES.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.LAYER_TEMPLATES.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.LAYER_TEMPLATES.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.LAYER_TEMPLATES.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},layerTrees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Py,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.LAYER_TREES.ADD:return bm.add(e,t);case wc.LAYER_TREES.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.LAYER_TREES.DELETE:return bm.remove(e,t);case wc.LAYER_TREES.EDITED.REMOVE:return bm.removeEdited(e,t);case wc.LAYER_TREES.EDITED.REMOVE_PROPERTY:return bm.removeEditedProperty(e,t);case wc.LAYER_TREES.EDITED.UPDATE:return bm.updateEdited(e,t);case wc.LAYER_TREES.INDEX.ADD:return bm.addIndex(e,t);case wc.LAYER_TREES.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.LAYER_TREES.INDEX.CLEAR_INDEX:return bm.clearIndex(e,t);case wc.LAYER_TREES.MARK_DELETED:return bm.markDeleted(e,t);case wc.LAYER_TREES.UPDATE_STORE:return bm.updateStore(e,t);case wc.LAYER_TREES.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.LAYER_TREES.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.LAYER_TREES.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.LAYER_TREES.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.LAYER_TREES.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},maps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ly,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.MAPS.MAP.ADD:return function(e,t){return null!==t&&void 0!==t&&t.key?Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t.key,t))}):e}(e,t.map);case wc.MAPS.MAP.LAYERS.ADD:return function(e,t,n){var r;if(t&&n&&null!==(r=e.maps)&&void 0!==r&&r[t]){var i,o=null===(i=e.maps[t].data)||void 0===i?void 0:i.layers,a=o?[].concat((0,g.Z)(o),(0,g.Z)(n)):n;return Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t,Ry(Ry({},e.maps[t]),{},{data:e.maps[t].data?Ry(Ry({},e.maps[t].data),{},{layers:a}):{layers:a}})))})}return e}(e,t.mapKey,t.layerStates);case wc.MAPS.MAP.LAYERS.ADD_TO_INDEX:return function(e,t,n,r){var i;if(t&&n&&null!==(i=e.maps)&&void 0!==i&&i[t]){var o,a,s=null===(o=e.maps[t].data)||void 0===o?void 0:o.layers;return a=s?r>-1&&r<s.length?mn.addItemToIndex(s,r,n):[].concat((0,g.Z)(s),[n]):[n],Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t,Ry(Ry({},e.maps[t]),{},{data:e.maps[t].data?Ry(Ry({},e.maps[t].data),{},{layers:a}):{layers:a}})))})}return e}(e,t.mapKey,t.layerState,t.index);case wc.MAPS.MAP.LAYERS.REMOVE_LAYER:return function(e,t,n){if(n&&t){var r,i=(0,ie.findIndex)(null===(r=e.maps[t])||void 0===r?void 0:r.data.layers,{key:n});if(i>-1){var o,a=mn.removeItemByIndex(null===(o=e.maps[t])||void 0===o?void 0:o.data.layers,i);return Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t,Ry(Ry({},e.maps[t]),{},{data:Ry(Ry({},e.maps[t].data),{},{layers:a})})))})}return e}return e}(e,t.mapKey,t.layerKey);case wc.MAPS.MAP.LAYERS.REMOVE_LAYERS:return function(e,t,n){if(null!==n&&void 0!==n&&n.length&&t){var r,i,o=(0,g.Z)(null!==(r=e.maps[t])&&void 0!==r&&null!==(i=r.data)&&void 0!==i&&i.layers?e.maps[t].data.layers:[]);return n.forEach((function(e){var t=(0,ie.findIndex)(o,{key:e});t>-1&&(o=mn.removeItemByIndex(o,t))})),Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t,Ry(Ry({},e.maps[t]),{},{data:Ry(Ry({},e.maps[t].data),{},{layers:o})})))})}return e}(e,t.mapKey,t.layerKeys);case wc.MAPS.MAP.LAYERS.REMOVE_LAYERS_BY_FILTER:return function(e,t,n){if(!(0,ie.isEmpty)(n)&&t){var r,i,o=(0,g.Z)(null!==(r=e.maps[t])&&void 0!==r&&null!==(i=r.data)&&void 0!==i&&i.layers?e.maps[t].data.layers:[]),a=o.length;return(0,ie.remove)(o,(function(e){return(0,ie.isMatch)(e,n)})),a>0&&a!==o.length?Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t,Ry(Ry({},e.maps[t]),{},{data:Ry(Ry({},e.maps[t].data),{},{layers:o})})))}):e}return e}(e,t.mapKey,t.filter);case wc.MAPS.MAP.LAYERS.REMOVE_ALL:return function(e,t){var n,r,i;return t&&null!==(n=e.maps[t])&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&null!==(i=r.layers)&&void 0!==i&&i.length?Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t,Ry(Ry({},e.maps[t]),{},{data:Ry(Ry({},e.maps[t].data),{},{layers:[]})})))}):e}(e,t.mapKey);case wc.MAPS.MAP.LAYERS.SET_OPACITY:return function(e,t,n,r){var i,o,a=null===(i=e.maps[t])||void 0===i||null===(o=i.data)||void 0===o?void 0:o.layers;if(a){var s=a.map((function(e){return e.key===n?Ry(Ry({},e),{},{opacity:r}):e}));return Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t,Ry(Ry({},e.maps[t]),{},{data:Ry(Ry({},e.maps[t].data),{},{layers:s})})))})}return e}(e,t.mapKey,t.layerKey,t.opacity);case wc.MAPS.MAP.LAYERS.SET_OPTION:return function(e,t,n,r,i){var o,a,s=null===(o=e.maps[t])||void 0===o||null===(a=o.data)||void 0===a?void 0:a.layers;if(s){var u=s.map((function(e){return e.key===n?Ry(Ry({},e),{},{options:ty.setHelper(e.options||{},r.split("."),i)}):e}));return Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t,Ry(Ry({},e.maps[t]),{},{data:Ry(Ry({},e.maps[t].data),{},{layers:u})})))})}return e}(e,t.mapKey,t.layerKey,t.optionKey,t.optionValue);case wc.MAPS.MAP.LAYERS.SET_STYLE_KEY:return function(e,t,n,r){var i,o,a=null===(i=e.maps[t])||void 0===i||null===(o=i.data)||void 0===o?void 0:o.layers;if(a){var s=a.map((function(e){return e.key===n?Ry(Ry({},e),{},{styleKey:r}):e}));return Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t,Ry(Ry({},e.maps[t]),{},{data:Ry(Ry({},e.maps[t].data),{},{layers:s})})))})}return e}(e,t.mapKey,t.layerKey,t.styleKey);case wc.MAPS.MAP.REMOVE:return function(e,t){if(t&&e.maps[t]){var n=e.maps,r=(n[t],vn(n,[t].map(Oy)));return Ry(Ry({},e),{},{maps:r})}return e}(e,t.mapKey);case wc.MAPS.MAP.USE.CLEAR:return function(e,t){if(t){var n=(0,ie.indexOf)(e.inUse.maps,t);if(n>-1){var r=mn.removeItemByIndex(e.inUse.maps,n);return Ry(Ry({},e),{},{inUse:Ry(Ry({},e.inUse),{},{maps:r})})}return e}return e}(e,t.mapKey);case wc.MAPS.MAP.USE.REGISTER:return function(e,t){return t?Ry(Ry({},e),{},{inUse:Ry(Ry({},e.inUse),{},{maps:[].concat((0,g.Z)(e.inUse.maps),[t])})}):e}(e,t.mapKey);case wc.MAPS.MAP.VIEW.UPDATE:return function(e,t,n){var r;return n&&!(0,ie.isEmpty)(n)?Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t,Ry(Ry({},e.maps[t]),{},{data:Ry(Ry({},e.maps[t].data),{},{previousView:(null===(r=e.maps[t].data)||void 0===r?void 0:r.view)||null,view:e.maps[t].data.view?Ry(Ry({},e.maps[t].data.view),n):n})})))}):e}(e,t.mapKey,t.update);case wc.MAPS.MAP.VIEWPORT.SET:return function(e,t,n,r){var i;return t&&null!==(i=e.maps)&&void 0!==i&&i[t]&&n&&r?Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t,Ry(Ry({},e.maps[t]),{},{data:e.maps[t].data?Ry(Ry({},e.maps[t].data),{},{viewport:{width:n,height:r}}):{viewport:{width:n,height:r}}})))}):e}(e,t.mapKey,t.width,t.height);case wc.MAPS.MAP.SET_BACKGROUND_LAYER:return function(e,t,n){var r;return t&&null!==(r=e.maps)&&void 0!==r&&r[t]&&n?Ry(Ry({},e),{},{maps:Ry(Ry({},e.maps),{},(0,re.Z)({},t,Ry(Ry({},e.maps[t]),{},{data:e.maps[t].data?Ry(Ry({},e.maps[t].data),{},{backgroundLayer:n}):{backgroundLayer:n}})))}):e}(e,t.mapKey,t.backgroundLayer);case wc.MAPS.SET.ADD:return function(e,t){return null!==t&&void 0!==t&&t.key?Ry(Ry({},e),{},{sets:Ry(Ry({},e.sets),{},(0,re.Z)({},t.key,t))}):e}(e,t.mapSet);case wc.MAPS.SET.ADD_MAP:return function(e,t,n){return t&&n&&e.sets[n]?Ry(Ry({},e),{},{sets:Ry(Ry({},e.sets),{},(0,re.Z)({},n,Ry(Ry({},e.sets[n]),{},{maps:e.sets[n].maps?[].concat((0,g.Z)(e.sets[n].maps),[t]):[t]})))}):e}(e,t.mapKey,t.mapSetKey);case wc.MAPS.SET.REMOVE:return function(e,t){if(t&&e.sets[t]){var n=e.sets,r=(n[t],vn(n,[t].map(Oy)));return Ry(Ry({},e),{},{sets:r})}return e}(e,t.mapSetKey);case wc.MAPS.SET.REMOVE_MAP:return function(e,t,n){if(t&&n){var r,i=(0,ie.indexOf)(null===(r=e.sets[t])||void 0===r?void 0:r.maps,n);if(i>-1){var o=mn.removeItemByIndex(e.sets[t].maps,i);return Ry(Ry({},e),{},{sets:Ry(Ry({},e.sets),{},(0,re.Z)({},t,Ry(Ry({},e.sets[t]),{},{maps:o})))})}return e}return e}(e,t.setKey,t.mapKey);case wc.MAPS.SET.SET_ACTIVE_MAP_KEY:return function(e,t,n){var r;return t&&null!==(r=e.sets)&&void 0!==r&&r[t]?Ry(Ry({},e),{},{sets:Ry(Ry({},e.sets),{},(0,re.Z)({},t,Ry(Ry({},e.sets[t]),{},{activeMapKey:n})))}):e}(e,t.setKey,t.mapKey);case wc.MAPS.SET.SET_BACKGROUND_LAYER:return function(e,t,n){var r;return t&&null!==(r=e.sets)&&void 0!==r&&r[t]&&n?Ry(Ry({},e),{},{sets:Ry(Ry({},e.sets),{},(0,re.Z)({},t,Ry(Ry({},e.sets[t]),{},{data:Ry(Ry({},e.sets[t].data),{},{backgroundLayer:n})})))}):e}(e,t.setKey,t.backgroundLayer);case wc.MAPS.SET.SET_SYNC:return function(e,t,n){var r;return t&&null!==(r=e.sets)&&void 0!==r&&r[t]?Ry(Ry({},e),{},{sets:Ry(Ry({},e.sets),{},(0,re.Z)({},t,Ry(Ry({},e.sets[t]),{},{sync:n})))}):e}(e,t.mapSetKey,t.sync);case wc.MAPS.SET.LAYERS.SET:return function(e,t,n){var r;return t&&n&&null!==(r=e.sets)&&void 0!==r&&r[t]?Ry(Ry({},e),{},{sets:Ry(Ry({},e.sets),{},(0,re.Z)({},t,Ry(Ry({},e.sets[t]),{},{data:e.sets[t].data?Ry(Ry({},e.sets[t].data),{},{layers:n}):{layers:n}})))}):e}(e,t.setKey,t.layers);case wc.MAPS.SET.USE.CLEAR:return function(e,t){if(t){var n=(0,ie.indexOf)(e.inUse.sets,t);if(n>-1){var r=mn.removeItemByIndex(e.inUse.sets,n);return Ry(Ry({},e),{},{inUse:Ry(Ry({},e.inUse),{},{sets:r})})}return e}return e}(e,t.mapSetKey);case wc.MAPS.SET.USE.REGISTER:return function(e,t){return t?Ry(Ry({},e),{},{inUse:Ry(Ry({},e.inUse),{},{sets:[].concat((0,g.Z)(e.inUse.sets),[t])})}):e}(e,t.mapSetKey);case wc.MAPS.SET.VIEW.UPDATE:return function(e,t,n){var r;return n&&!(0,ie.isEmpty)(n)?Ry(Ry({},e),{},{sets:Ry(Ry({},e.sets),{},(0,re.Z)({},t,Ry(Ry({},e.sets[t]),{},{data:Ry(Ry({},e.sets[t].data),{},{previousView:(null===(r=e.sets[t].data)||void 0===r?void 0:r.view)||null,view:e.sets[t].data.view?Ry(Ry({},e.sets[t].data.view),n):n})})))}):e}(e,t.setKey,t.update);case wc.MAPS.SET_ACTIVE_MAP_KEY:return function(e,t){return t?Ry(Ry({},e),{},{activeMapKey:t}):e}(e,t.mapKey);case wc.MAPS.UPDATE:return function(e,t){return Ry(Ry({},e),t)}(e,t.data);default:return e}},periods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.PERIODS.ADD:return bm.add(e,t);case wc.PERIODS.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.PERIODS.DELETE:return bm.remove(e,t);case wc.PERIODS.EDITED.REMOVE:return bm.removeEdited(e,t);case wc.PERIODS.EDITED.REMOVE_ACTIVE:return bm.removeEditedActive(e,t);case wc.PERIODS.EDITED.REMOVE_PROPERTY:return bm.removeEditedProperty(e,t);case wc.PERIODS.EDITED.UPDATE:return bm.updateEdited(e,t);case wc.PERIODS.INDEX.ADD:return bm.addIndex(e,t);case wc.PERIODS.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.PERIODS.INDEX.CLEAR_INDEX:return bm.clearIndex(e,t);case wc.PERIODS.MARK_DELETED:return bm.markDeleted(e,t);case wc.PERIODS.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.PERIODS.SET_ACTIVE_KEYS:return bm.setActiveMultiple(e,t);case wc.PERIODS.UPDATE_STORE:return bm.updateStore(e,t);case wc.PERIODS.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.PERIODS.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);case wc.PERIODS.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.PERIODS.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.PERIODS.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},places:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:By,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.PLACES.ADD:return bm.add(e,t);case wc.PLACES.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.PLACES.DELETE:return bm.remove(e,t);case wc.PLACES.EDITED.REMOVE:return bm.removeEdited(e,t);case wc.PLACES.EDITED.REMOVE_ACTIVE:return bm.removeEditedActive(e,t);case wc.PLACES.EDITED.REMOVE_PROPERTY:return bm.removeEditedProperty(e,t);case wc.PLACES.EDITED.UPDATE:return bm.updateEdited(e,t);case wc.PLACES.INDEX.ADD:return bm.addIndex(e,t);case wc.PLACES.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.PLACES.INDEX.CLEAR_INDEX:return bm.clearIndex(e,t);case wc.PLACES.MARK_DELETED:return bm.markDeleted(e,t);case wc.PLACES.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.PLACES.SET_ACTIVE_KEYS:return bm.setActiveMultiple(e,t);case wc.PLACES.UPDATE_STORE:return bm.updateStore(e,t);case wc.PLACES.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.PLACES.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);case wc.PLACES.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.PLACES.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.PLACES.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},scenarios:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.SCENARIOS.ADD:return bm.add(e,t);case wc.SCENARIOS.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.SCENARIOS.DELETE:return bm.remove(e,t);case wc.SCENARIOS.EDITED.REMOVE:return bm.removeEdited(e,t);case wc.SCENARIOS.EDITED.REMOVE_ACTIVE:return bm.removeEditedActive(e,t);case wc.SCENARIOS.EDITED.REMOVE_PROPERTY:return bm.removeEditedProperty(e,t);case wc.SCENARIOS.EDITED.UPDATE:return bm.updateEdited(e,t);case wc.SCENARIOS.INDEX.ADD:return bm.addIndex(e,t);case wc.SCENARIOS.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.SCENARIOS.INDEX.CLEAR_INDEX:return bm.clearIndex(e,t);case wc.SCENARIOS.MARK_DELETED:return bm.markDeleted(e,t);case wc.SCENARIOS.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.SCENARIOS.SET_ACTIVE_KEYS:return bm.setActiveMultiple(e,t);case wc.SCENARIOS.UPDATE_STORE:return bm.updateStore(e,t);case wc.SCENARIOS.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.SCENARIOS.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.SCENARIOS.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.SCENARIOS.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.SCENARIOS.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},scopes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.SCOPES.ADD:return bm.add(e,t);case wc.SCOPES.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.SCOPES.DELETE:return bm.remove(e,t);case wc.SCOPES.EDITED.REMOVE:return bm.removeEdited(e,t);case wc.SCOPES.EDITED.REMOVE_ACTIVE:return bm.removeEditedActive(e,t);case wc.SCOPES.EDITED.REMOVE_PROPERTY:return bm.removeEditedProperty(e,t);case wc.SCOPES.EDITED.UPDATE:return bm.updateEdited(e,t);case wc.SCOPES.INDEX.ADD:return bm.addIndex(e,t);case wc.SCOPES.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.SCOPES.INDEX.CLEAR_INDEX:return bm.clearIndex(e,t);case wc.SCOPES.MARK_DELETED:return bm.markDeleted(e,t);case wc.SCOPES.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.SCOPES.SET_ACTIVE_KEYS:return bm.setActiveMultiple(e,t);case wc.SCOPES.UPDATE_STORE:return bm.updateStore(e,t);case wc.SCOPES.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.SCOPES.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.SCOPES.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);case wc.SCOPES.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.SCOPES.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},screens:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.SCREENS.ADD:return function(e,t){var n=Vy({},e.screens);n[t.lineage]={lineage:t.lineage,data:Vy(Vy({},Gy),t.data)};var r=Vy({},e.sets);return r[t.setKey]=Vy(Vy({},Wy),r[t.setKey]),r[t.setKey].orderBySpace=[].concat((0,g.Z)(r[t.setKey].orderBySpace),[t.lineage]),r[t.setKey].orderByHistory=[].concat((0,g.Z)(r[t.setKey].orderByHistory),[t.lineage]),Vy(Vy({},e),{},{screens:n,sets:r})}(e,t);case wc.SCREENS.CLOSE:return function(e,t){var n=Vy({},e.screens);return n[t.lineage]={lineage:t.lineage,data:Vy(Vy({},n[t.lineage].data),{},{desiredState:"closing"})},Vy(Vy({},e),{},{screens:n})}(e,t);case wc.SCREENS.OPEN:return function(e,t){var n=Vy({},e.screens);return n[t.lineage]={lineage:t.lineage,data:Vy(Vy({},n[t.lineage].data),{},{desiredState:"open"})},Vy(Vy({},e),{},{screens:n})}(e,t);case wc.SCREENS.REMOVE:return function(e,t){var n=Vy({},e.sets),r=oe().without((0,g.Z)(n[t.setKey].orderByHistory),t.lineage),i=oe().without((0,g.Z)(n[t.setKey].orderBySpace),t.lineage);return Vy(Vy({},e),{},{sets:Vy(Vy({},n),{},(0,re.Z)({},t.setKey,{orderByHistory:r,orderBySpace:i}))})}(e,t);case wc.SCREENS.REMOVE_ALL:return function(e,t){var n=Vy({},e.sets);return Vy(Vy({},e),{},{sets:Vy(Vy({},n),{},(0,re.Z)({},t.setKey,{orderByHistory:[],orderBySpace:[]}))})}(e,t);case wc.SCREENS.RETRACT:return function(e,t){var n=Vy({},e.screens);return n[t.lineage]={lineage:t.lineage,data:Vy(Vy({},n[t.lineage].data),{},{desiredState:"retracted"})},Vy(Vy({},e),{},{screens:n})}(e,t);case wc.SCREENS.SETS.ADD:return function(e,t){var n=Vy({},e.sets);return n[t.setKey]=Vy({},Wy),Vy(Vy({},e),{},{sets:n})}(e,t);case wc.SCREENS.TOP_HISTORY:return function(e,t){var n=Vy({},e.sets),r=oe().without((0,g.Z)(n[t.setKey].orderByHistory),t.lineage);return r.push(t.lineage),Vy(Vy({},e),{},{sets:Vy(Vy({},n),{},(0,re.Z)({},t.setKey,Vy(Vy({},n[t.setKey]),{},{orderByHistory:r})))})}(e,t);case wc.SCREENS.UPDATE:return function(e,t){var n=Vy({},e.screens);n[t.lineage]=Vy(Vy({},n[t.lineage]),{},{data:Vy(Vy({},n[t.lineage].data),t.data)});var r=Vy({},e.sets);r[t.setKey]=Vy(Vy({},Wy),r[t.setKey]);var i=oe().without(r[t.setKey].orderByHistory,t.lineage);if(i.push(t.lineage),r[t.setKey].orderByHistory=i,!oe().find(r[t.setKey].orderBySpace,(function(e){return e===t.lineage}))){var o=oe().without(r[t.setKey].orderBySpace,t.lineage);o.push(t.lineage),r[t.setKey].orderBySpace=o}return Vy(Vy({},e),{},{screens:n,sets:r})}(e,t);default:return e}},selections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.SELECTIONS.ADD:return bm.add(e,t);case wc.SELECTIONS.CLEAR.FEATURE_KEYS_FILTER:return function(e,t){var n=Yy(Yy({},e.byKey),{},(0,re.Z)({},t,Yy(Yy({},e.byKey[t]),{},{data:Yy(Yy({},e.byKey[t].data),{},{featureKeysFilter:null})})));return Yy(Yy({},e),{},{byKey:n})}(e,t.key);case wc.SELECTIONS.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.SELECTIONS.SET.FEATURE_KEYS_FILTER.KEYS:return function(e,t,n){var r=Yy(Yy({},e.byKey),{},(0,re.Z)({},t,Yy(Yy({},e.byKey[t]),{},{data:Yy(Yy({},e.byKey[t].data),{},{featureKeysFilter:Yy(Yy({},e.byKey[t].data.featureKeysFilter),{},{keys:n})})})));return Yy(Yy({},e),{},{byKey:r})}(e,t.key,t.featureKeys);default:return e}},styles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.STYLES.ADD:return bm.add(e,t);case wc.STYLES.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.STYLES.DELETE:return bm.remove(e,t);case wc.STYLES.EDITED.REMOVE:return bm.removeEdited(e,t);case wc.STYLES.EDITED.REMOVE_ACTIVE:return bm.removeEditedActive(e,t);case wc.STYLES.EDITED.REMOVE_PROPERTY:return bm.removeEditedProperty(e,t);case wc.STYLES.EDITED.UPDATE:return bm.updateEdited(e,t);case wc.STYLES.INDEX.ADD:return bm.addIndex(e,t);case wc.STYLES.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.STYLES.UPDATE_STORE:return bm.updateStore(e,t);case wc.STYLES.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.STYLES.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.STYLES.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.STYLES.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.STYLES.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);case wc.STYLES.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.STYLES.INDEX.CLEAR_INDEX:return bm.clearIndex(e,t);case wc.STYLES.MARK_DELETED:return bm.markDeleted(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.TAGS.ADD:return bm.add(e,t);case wc.TAGS.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.TAGS.DELETE:return bm.remove(e,t);case wc.TAGS.EDITED.REMOVE:return bm.removeEdited(e,t);case wc.TAGS.EDITED.REMOVE_ACTIVE:return bm.removeEditedActive(e,t);case wc.TAGS.EDITED.REMOVE_PROPERTY:return bm.removeEditedProperty(e,t);case wc.TAGS.EDITED.UPDATE:return bm.updateEdited(e,t);case wc.TAGS.INDEX.ADD:return bm.addIndex(e,t);case wc.TAGS.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.TAGS.INDEX.CLEAR_INDEX:return bm.clearIndex(e,t);case wc.TAGS.MARK_DELETED:return bm.markDeleted(e,t);case wc.TAGS.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.TAGS.SET_ACTIVE_KEYS:return bm.setActiveMultiple(e,t);case wc.TAGS.UPDATE_STORE:return bm.updateStore(e,t);case wc.TAGS.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.TAGS.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.TAGS.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.TAGS.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.TAGS.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ib,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.USERS.ADD:return bm.add(e,t);case wc.USERS.INDEX.ADD:return bm.addIndex(e,t);case wc.USERS.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.USERS.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.USERS.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.USERS.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.USERS.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.USERS.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.USERS.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.COMMON.DATA.SET_OUTDATED:return rb(rb({},bm.dataSetOutdated(e,t)),{},{groups:bm.dataSetOutdated(e.groups,t)});case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return rb(rb({},bm.cleanupOnLogout(e,t)),{},{groups:bm.cleanupOnLogout(e.groups,t)});case wc.USERS_LOAD_REQUEST:return function(e){return rb(rb({},e),{},{loading:!0})}(e);case wc.USERS_LOAD_REQUEST_ERROR:return function(e){return rb(rb({},e),{},{loading:!1})}(e);case wc.USERS_UPDATE:return function(e,t){var n=t.data,r=(n.userId,vn(n,tb));return r.activeKey=t.data.userId,rb(rb({},e),r)}(e,t);case wc.USERS.GROUPS.ADD:return rb(rb({},e),{},{groups:bm.add(e.groups,t)});case wc.USERS.GROUPS.INDEX.ADD:return rb(rb({},e),{},{groups:bm.addIndex(e.groups,t)});case wc.USERS.GROUPS.INDEX.CLEAR_ALL:return rb(rb({},e),{},{groups:bm.clearIndexes(e.groups,t)});case wc.USERS.GROUPS.ADD_UNRECEIVED:return rb(rb({},e),{},{groups:bm.addUnreceivedKeys(e.groups,t)});case wc.USERS.GROUPS.USE.INDEXED.CLEAR:return rb(rb({},e),{},{groups:bm.useIndexedClear(e.groups,t)});case wc.USERS.GROUPS.USE.KEYS.CLEAR:return rb(rb({},e),{},{groups:bm.useKeysClear(e.groups,t)});case wc.USERS.GROUPS.USE.INDEXED.REGISTER:return rb(rb({},e),{},{groups:bm.registerUseIndexed(e.groups,t)});default:return e}},views:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ab,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.VIEWS.ADD:return bm.add(e,t);case wc.VIEWS.ADD_UNRECEIVED:return bm.addUnreceivedKeys(e,t);case wc.VIEWS.DELETE:return bm.remove(e,t);case wc.VIEWS.EDITED.REMOVE:return bm.removeEdited(e,t);case wc.VIEWS.EDITED.REMOVE_ACTIVE:return bm.removeEditedActive(e,t);case wc.VIEWS.EDITED.REMOVE_PROPERTY:return bm.removeEditedProperty(e,t);case wc.VIEWS.EDITED.UPDATE:return bm.updateEdited(e,t);case wc.VIEWS.INDEX.ADD:return bm.addIndex(e,t);case wc.VIEWS.SET_ACTIVE_KEY:return bm.setActive(e,t);case wc.VIEWS.UPDATE_STORE:return bm.updateStore(e,t);case wc.VIEWS.USE.KEYS.REGISTER:return bm.useKeysRegister(e,t);case wc.VIEWS.USE.KEYS.CLEAR:return bm.useKeysClear(e,t);case wc.VIEWS.USE.INDEXED.REGISTER:return bm.registerUseIndexed(e,t);case wc.VIEWS.USE.INDEXED.CLEAR:return bm.useIndexedClear(e,t);case wc.VIEWS.USE.INDEXED.CLEAR_ALL:return bm.useIndexedClearAll(e,t);case wc.VIEWS.INDEX.CLEAR_ALL:return bm.clearIndexes(e,t);case wc.VIEWS.INDEX.CLEAR_INDEX:return bm.clearIndex(e,t);case wc.VIEWS.MARK_DELETED:return bm.markDeleted(e,t);case wc.COMMON.DATA.SET_OUTDATED:return bm.dataSetOutdated(e,t);case wc.COMMON.DATA.CLEANUP_ON_LOGOUT:return bm.cleanupOnLogout(e,t);default:return e}},windows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wc.WINDOWS.ADD:return function(e,t){var n=ub({},e.windows);n[t.windowKey]={key:t.windowKey,data:{state:t.state?t.state:null,settings:ub(ub({},hb),t.settings),component:t.component,props:t.props}};var r=ub({},e.sets);return r[t.setKey]=ub(ub({},cb),r[t.setKey]),r[t.setKey].orderByHistory=[].concat((0,g.Z)(r[t.setKey].orderByHistory),[t.windowKey]),ub(ub({},e),{},{windows:n,sets:r})}(e,t);case wc.WINDOWS.OPEN:return function(e,t){var n=ub({},e.windows);n[t.windowKey]={key:t.windowKey,data:ub(ub({},n[t.windowKey].data),{},{state:"open"})};var r=ub({},e.sets);return r[t.setKey]=ub(ub({},cb),r[t.setKey]),r[t.setKey].orderByHistory=[].concat((0,g.Z)(r[t.setKey].orderByHistory),[t.windowKey]),ub(ub({},e),{},{windows:n,sets:r})}(e,t);case wc.WINDOWS.REMOVE:return function(e,t){var n=ub({},e.sets);if(oe().isEmpty(n)||oe().isEmpty(n[t.setKey])||!t.windowKey)return e;var r=oe().without((0,g.Z)(n[t.setKey].orderByHistory),t.windowKey),i=ub({},e.windows);return i[t.windowKey]&&(i[t.windowKey]={key:t.windowKey,data:ub(ub({},i[t.windowKey].data),{},{state:"close"})}),ub(ub({},e),{},{windows:i,sets:ub(ub({},n),{},(0,re.Z)({},t.setKey,{orderByHistory:r}))})}(e,t);case wc.WINDOWS.SETS.ADD:case wc.WINDOWS.TOP:return fb(e,t);case wc.WINDOWS.UPDATE:return function(e,t){var n=ub({},e.windows);return n[t.windowKey]={key:t.windowKey,data:ub(ub({},n[t.windowKey].data),t.data)},ub(ub({},e),{},{windows:n})}(e,t);default:return e}}},pb=n(9475),vb=n.n(pb),gb=n(77),mb=n.n(gb),yb=n(1725),bb=n.n(yb),_b="bodyAttributes",wb="htmlAttributes",Eb="titleAttributes",Sb={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},xb=(Object.keys(Sb).map((function(e){return Sb[e]})),"charset"),Mb="cssText",kb="href",Ab="http-equiv",Tb="innerHTML",Pb="itemprop",Ob="name",Cb="property",Rb="rel",Lb="src",Ib="target",Db={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},jb="defaultTitle",Nb="defer",Bb="encodeSpecialCharacters",zb="onChangeClientState",Zb="titleTemplate",Fb=Object.keys(Db).reduce((function(e,t){return e[Db[t]]=t,e}),{}),Ub=[Sb.NOSCRIPT,Sb.SCRIPT,Sb.STYLE],Kb="data-react-helmet",Vb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Wb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},qb=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Yb=function(e){var t=e_(e,Sb.TITLE),n=e_(e,Zb);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=e_(e,jb);return t||r||void 0},Xb=function(e){return e_(e,zb)||function(){}},$b=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return Wb({},e,t)}),{})},Jb=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[Sb.BASE]})).map((function(e){return e[Sb.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t}),[])},Qb=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&o_("Helmet: "+e+' should be of type "Array". Instead found type "'+Vb(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,o=Object.keys(e),a=0;a<o.length;a++){var s=o[a],u=s.toLowerCase();-1===t.indexOf(u)||n===Rb&&"canonical"===e[n].toLowerCase()||u===Rb&&"stylesheet"===e[u].toLowerCase()||(n=u),-1===t.indexOf(s)||s!==Tb&&s!==Mb&&s!==Pb||(n=s)}if(!n||!e[n])return!1;var l=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][l]&&(i[n][l]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],u=bb()({},r[s],i[s]);r[s]=u}return e}),[]).reverse()},e_=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},t_=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){t_(t)}),0)}}(),n_=function(e){return clearTimeout(e)},r_="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||t_:n.g.requestAnimationFrame||t_,i_="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||n_:n.g.cancelAnimationFrame||n_,o_=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},a_=null,s_=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,u=e.onChangeClientState,l=e.scriptTags,c=e.styleTags,h=e.title,f=e.titleAttributes;c_(Sb.BODY,r),c_(Sb.HTML,i),l_(h,f);var d={baseTag:h_(Sb.BASE,n),linkTags:h_(Sb.LINK,o),metaTags:h_(Sb.META,a),noscriptTags:h_(Sb.NOSCRIPT,s),scriptTags:h_(Sb.SCRIPT,l),styleTags:h_(Sb.STYLE,c)},p={},v={};Object.keys(d).forEach((function(e){var t=d[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(v[e]=d[e].oldTags)})),t&&t(),u(e,p,v)},u_=function(e){return Array.isArray(e)?e.join(""):e},l_=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=u_(e)),c_(Sb.TITLE,t)},c_=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(Kb),i=r?r.split(","):[],o=[].concat(i),a=Object.keys(t),s=0;s<a.length;s++){var u=a[s],l=t[u]||"";n.getAttribute(u)!==l&&n.setAttribute(u,l),-1===i.indexOf(u)&&i.push(u);var c=o.indexOf(u);-1!==c&&o.splice(c,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);i.length===o.length?n.removeAttribute(Kb):n.getAttribute(Kb)!==a.join(",")&&n.setAttribute(Kb,a.join(","))}},h_=function(e,t){var n=document.head||document.querySelector(Sb.HEAD),r=n.querySelectorAll(e+"["+Kb+"]"),i=Array.prototype.slice.call(r),o=[],a=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===Tb)n.innerHTML=t.innerHTML;else if(r===Mb)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var s="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,s)}n.setAttribute(Kb,"true"),i.some((function(e,t){return a=t,n.isEqualNode(e)}))?i.splice(a,1):o.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:o}},f_=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},d_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[Db[n]||n]=e[n],t}),t)},p_=function(e,n,r){switch(e){case Sb.TITLE:return{toComponent:function(){return function(e,n,r){var i,o=((i={key:n})[Kb]=!0,i),a=d_(r,o);return[t.createElement(Sb.TITLE,a,n)]}(0,n.title,n.titleAttributes)},toString:function(){return function(e,t,n,r){var i=f_(n),o=u_(t);return i?"<"+e+" "+Kb+'="true" '+i+">"+qb(o,r)+"</"+e+">":"<"+e+" "+Kb+'="true">'+qb(o,r)+"</"+e+">"}(e,n.title,n.titleAttributes,r)}};case _b:case wb:return{toComponent:function(){return d_(n)},toString:function(){return f_(n)}};default:return{toComponent:function(){return function(e,n){return n.map((function(n,r){var i,o=((i={key:r})[Kb]=!0,i);return Object.keys(n).forEach((function(e){var t=Db[e]||e;if(t===Tb||t===Mb){var r=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:r}}else o[t]=n[e]})),t.createElement(e,o)}))}(e,n)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===Tb||e===Mb)})).reduce((function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+qb(r[t],n)+'"';return e?e+" "+i:i}),""),o=r.innerHTML||r.cssText||"",a=-1===Ub.indexOf(e);return t+"<"+e+" "+Kb+'="true" '+i+(a?"/>":">"+o+"</"+e+">")}),"")}(e,n,r)}}}},v_=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,u=e.scriptTags,l=e.styleTags,c=e.title,h=void 0===c?"":c,f=e.titleAttributes;return{base:p_(Sb.BASE,t,r),bodyAttributes:p_(_b,n,r),htmlAttributes:p_(wb,i,r),link:p_(Sb.LINK,o,r),meta:p_(Sb.META,a,r),noscript:p_(Sb.NOSCRIPT,s,r),script:p_(Sb.SCRIPT,u,r),style:p_(Sb.STYLE,l,r),title:p_(Sb.TITLE,{title:h,titleAttributes:f},r)}},g_=function(e){var n,r;return r=n=function(n){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,n.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r.prototype.shouldComponentUpdate=function(e){return!mb()(this.props,e)},r.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case Sb.SCRIPT:case Sb.NOSCRIPT:return{innerHTML:t};case Sb.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},r.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,o=e.nestedChildren;return Wb({},r,((t={})[n.type]=[].concat(r[n.type]||[],[Wb({},i,this.mapNestedChildrenToProps(n,o))]),t))},r.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,o=e.newChildProps,a=e.nestedChildren;switch(r.type){case Sb.TITLE:return Wb({},i,((t={})[r.type]=a,t.titleAttributes=Wb({},o),t));case Sb.BODY:return Wb({},i,{bodyAttributes:Wb({},o)});case Sb.HTML:return Wb({},i,{htmlAttributes:Wb({},o)})}return Wb({},i,((n={})[r.type]=Wb({},o),n))},r.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=Wb({},t);return Object.keys(e).forEach((function(t){var r;n=Wb({},n,((r={})[t]=e[t],r))})),n},r.prototype.warnOnInvalidChildren=function(e,t){return!0},r.prototype.mapChildrenToProps=function(e,n){var r=this,i={};return t.Children.forEach(e,(function(e){if(e&&e.props){var t=e.props,o=t.children,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[Fb[n]||n]=e[n],t}),t)}(Gb(t,["children"]));switch(r.warnOnInvalidChildren(e,o),e.type){case Sb.LINK:case Sb.META:case Sb.NOSCRIPT:case Sb.SCRIPT:case Sb.STYLE:i=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:a,nestedChildren:o});break;default:n=r.mapObjectTypeChildren({child:e,newProps:n,newChildProps:a,nestedChildren:o})}}})),n=this.mapArrayTypeChildrenToProps(i,n)},r.prototype.render=function(){var n=this.props,r=n.children,i=Gb(n,["children"]),o=Wb({},i);return r&&(o=this.mapChildrenToProps(r,o)),t.createElement(e,o)},Hb(r,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),r}(t.Component),n.propTypes={base:dn().object,bodyAttributes:dn().object,children:dn().oneOfType([dn().arrayOf(dn().node),dn().node]),defaultTitle:dn().string,defer:dn().bool,encodeSpecialCharacters:dn().bool,htmlAttributes:dn().object,link:dn().arrayOf(dn().object),meta:dn().arrayOf(dn().object),noscript:dn().arrayOf(dn().object),onChangeClientState:dn().func,script:dn().arrayOf(dn().object),style:dn().arrayOf(dn().object),title:dn().string,titleAttributes:dn().object,titleTemplate:dn().string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var t=e.rewind();return t||(t=v_({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},r}(vb()((function(e){return{baseTag:Jb([kb,Ib],e),bodyAttributes:$b(_b,e),defer:e_(e,Nb),encode:e_(e,Bb),htmlAttributes:$b(wb,e),linkTags:Qb(Sb.LINK,[Rb,kb],e),metaTags:Qb(Sb.META,[Ob,xb,Ab,Cb,Pb],e),noscriptTags:Qb(Sb.NOSCRIPT,[Tb],e),onChangeClientState:Xb(e),scriptTags:Qb(Sb.SCRIPT,[Lb,Tb],e),styleTags:Qb(Sb.STYLE,[Mb],e),title:Yb(e),titleAttributes:$b(Eb,e)}}),(function(e){a_&&i_(a_),e.defer?a_=r_((function(){s_(e,(function(){a_=null}))})):(s_(e),a_=null)}),v_)((function(){return null})));g_.renderStatic=g_.rewind;var m_=g_,y_=z((function(e){return{activeUser:pc.users.getActive(e),loginOverlayOpen:pc.components.get(e,"App_Container","loginOverlayOpen")}}),(function(e){return{onLogIn:function(t,n){e(dm.users.apiLoginUser(t,n))},onLoginOverlayClose:function(){e(dm.components.set("App_Container","loginOverlayOpen",!1))}}})),b_=z((function(e,t){return(0,Re.IW)(e),pc.data.components.getDataForCartesianChart(t)}),(function(){return function(e,t){return{onMount:function(){e(dm.data.components.use(t.stateComponentKey))},onUnmount:function(){e(dm.data.components.componentUseClear(t.stateComponentKey))}}}})),__=z((function(e,t){return(0,Re.IW)(e),t.stateMapKey?{backgroundLayer:pc.maps.getMapBackgroundLayer(t.stateMapKey),layers:pc.maps.getMapLayers(t.stateMapKey),viewport:pc.maps.getViewportByMapKey(e,t.stateMapKey),view:pc.maps.getViewByMapKey(e,t.stateMapKey),viewLimits:pc.maps.getViewLimitsByMapKey(e,t.stateMapKey),mapKey:t.stateMapKey}:{backgroundLayer:pc.maps.getMapBackgroundLayer(t.mapKey,t.backgroundLayer),layers:pc.maps.getMapLayers(t.mapKey,t.layers)}}),(function(){var e="Map_"+_c.randomString(6);return function(t,n){if(n.stateMapKey)return{onMount:function(e,r){t(dm.maps.setMapViewport(n.stateMapKey,e,r)),t(dm.maps.use(n.stateMapKey,null,null))},onResize:function(e,r){t(dm.maps.setMapViewport(n.stateMapKey,e,r)),t(dm.maps.use(n.stateMapKey,null,null))},onUnmount:function(){t(dm.maps.mapUseClear(n.stateMapKey))},refreshUse:function(){},onViewChange:function(e){t(dm.maps.updateMapAndSetView(n.stateMapKey,e))},onPropViewChange:function(e,r,i){t(dm.maps.setMapViewport(n.stateMapKey,r,i)),t(dm.maps.use(n.stateMapKey,void 0,void 0))},resetHeading:function(){},onClick:function(){t(dm.maps.setMapSetActiveMapKey(n.stateMapKey))},onLayerClick:function(e,r,i,o,a){"function"===typeof n.onLayerClick?n.onLayerClick(e,r,i,o,a):t(dm.maps.setLayerSelectedFeatureKeys(n.stateMapKey,r,i))}};var r=n.mapKey||e;return{onMount:function(){t(dm.maps.use(r,n.backgroundLayer,n.layers))},onUnmount:function(){},refreshUse:function(){},onViewChange:n.onViewChange||function(){},onClick:n.onClick||function(){}}}})),w_=z((function(e,t){if(t.stateMapSetKey){var n=pc.maps.getMapSetActiveMapKey(e,t.stateMapSetKey);return{activeMapKey:n,activeMapView:pc.maps.getMapSetActiveMapView(e,t.stateMapSetKey),maps:pc.maps.getMapSetMapKeys(e,t.stateMapSetKey),view:pc.maps.getMapSetView(e,t.stateMapSetKey),activeMapViewport:pc.maps.getViewportByMapKey(e,n),viewLimits:pc.maps.getMapSetViewLimits(e,t.stateMapSetKey)}}return{backgroundLayer:null,layers:null}}),(function(){return function(e,t){return t.stateMapSetKey?{onMount:function(){e(dm.maps.mapSetUseRegister(t.stateMapSetKey))},onUnmount:function(){e(dm.maps.mapSetUseClear(t.stateMapSetKey))},updateView:function(t,n){e(dm.maps.updateMapAndSetView(n,t))},resetHeading:function(){},onMapRemove:function(n){e(dm.maps.removeMapFromSet(t.stateMapSetKey,n))}}:{onMount:function(){},onUnmount:function(){},refreshUse:function(){}}}})),E_=z((function(e,t){return{screens:pc.screens.getScreensBySetKey(e,t.setKey),set:pc.screens.getSetByKey(e,t.setKey)}}),(function(e,t){return{onFocusScreen:function(n){e(dm.screens.topHistory(t.setKey,n))},onCloseScreen:function(n){e(dm.screens.close(t.setKey,n))},onOpenScreen:function(n){e(dm.screens.open(t.setKey,n))},onRetractScreen:function(n){e(dm.screens.retract(t.setKey,n))}}})),S_=z((function(){return{}}),(function(e){return{onMount:function(){},toggleLayer:function(t,n,r,i,o){e(xg.toggleTimelineLayer(t,n,r,i,o))}}})),x_=("layer_row_item_".concat(_c.uuid()),z((function(e,t){var n,r=(0,ie.isPlainObject)(null===t||void 0===t||null===(n=t.layer)||void 0===n?void 0:n.periods)?t.layer.periods:null,i=r?Ml.getPeriodKeysForFilteredSpatialRelations(e,r.filterByActive,r.filter,null,0,1e3):null;return{periodsByConfig:r?gu.getByKeys(e,i):null,periodKeys:i}}),(function(e){return{onMount:function(){},usePeriods:function(t){var n=t.filterByActive,r=t.filter;e(xg.useRelationsForLayerRowItem(n,r,null,1,1e3))}}}))),M_={AppContainer:y_,CartesianChart:b_,Map:__,MapSet:w_,Screens:E_,timeline:{LayerRow:S_,LayerRowItem:x_,LayerRowPeriodItem:z((function(e,t){var n,r;(0,Re.IW)(e);return{parsedPeriod:function(e){var t,n,r;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.start&&null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.end){var i=gc.parse("".concat(e.data.start,"/").concat(e.data.end));return{start:i.start,end:i.end}}if(null!==e&&void 0!==e&&null!==(r=e.data)&&void 0!==r&&r.period){var o=gc.parse(e.data.period);return{start:o.start.toString(),end:o.end.toString()}}return null}(null===t||void 0===t||null===(n=t.originPeriod)||void 0===n||!n.key||null!==t&&void 0!==t&&null!==(r=t.originPeriod)&&void 0!==r&&r.data?t.originPeriod:gu.getByKey(e,t.originPeriod.key)),active:Ml.getTimelineLayerPeriodActive(t.mapKey,t.layer,t.originPeriod)}}),(function(){return{onMount:function(){}}}))},User:z((function(e){return{user:pc.users.getActiveUser(e)}}),(function(e){return{login:function(){e(dm.components.set("App_Container","loginOverlayOpen",!0))},logout:function(){e(dm.users.apiLogoutUser())}}})),WindowsContainer:z((function(e,t){return{set:pc.windows.getSetByKey(e,t.setKey),windows:pc.windows.getWindowsBySetKeyAsObject(e,t.setKey)}}),(function(e,t){return{onWindowClick:function(n){e(dm.windows.topWindow(t.setKey,n))},onWindowClose:function(n){e(dm.windows.remove(t.setKey,n))},onWindowDragStart:function(n){e(dm.windows.topWindow(t.setKey,n))},onWindowDragStop:function(t,n){e(dm.windows.updateSettings(t,{position:n}))},onWindowResize:function(t,n,r,i){e(dm.windows.updateSettings(t,{width:n,height:r,position:i}))}}}))},k_=n(184),A_=function(e){var n=e.disabled,r=e.required,i=e.unfocusable,o=e.onFocus,a=e.onBlur,s=e.onChange,u=e.value,l=e.large,c=e.editing,h=e.inverted,f=e.placeholder,d=e.invisible,p=(0,t.useRef)(),g=v((0,t.useState)(36),2),m=g[0],y=g[1],b=v((0,t.useState)(),2),_=b[0],w=b[1],E=v((0,t.useState)(),2),S=E[0],x=E[1];(0,t.useEffect)((function(){!function(){var e;p.current&&"undefined"!=typeof(null===(e=p.current)||void 0===e?void 0:e.scrollHeight)&&Math.abs(p.current.scrollHeight-m)>2&&p.current.scrollHeight>36&&y(p.current.scrollHeight)}()}),[u]);var M=bn()("ptr-editable-text",{disabled:n,empty:!(u||S),large:l,editing:c,required:r,inverted:h,invisible:d}),k=u||S||"",A={height:k.length?m:36};if(n)return(0,k_.jsx)("div",{className:M,children:u||S||""});var T=!r||u||S?null:(0,k_.jsx)("div",{className:"ptr-editable-text-message",children:"Required field"});return(0,k_.jsxs)("div",{children:[(0,k_.jsx)("textarea",{tabIndex:i?-1:0,className:M,style:A,ref:p,value:k,placeholder:f,onFocus:function(){w(!0),o&&o()},onBlur:function(){w(!1),a&&a()},spellCheck:_,onChange:function(e){(u||""===u)&&s?s(e.target.value):x(e.target.value)}}),T]})};A_.propTypes={disabled:dn().bool,required:dn().bool,unfocusable:dn().bool,onFocus:dn().func,onChange:dn().func,onBlur:dn().func,value:dn().string,large:dn().bool,editing:dn().bool,inverted:dn().bool,placeholder:dn().string,invisible:dn().bool};var T_=A_,P_=function(e){var n=e.className,r=e.children,i=e.disabled,o=e.multiline,a=e.inverted,s=e.password,u=e.email,l=e.date,c=e.number,h=e.name,f=e.onChange,d=e.placeholder,p=e.unfocusable,g=e.value,m=v((0,t.useState)(g),2),y=m[0],b=m[1],_=v((0,t.useState)(),2),w=_[0],E=_[1],S=function(e){(y||""===y)&&f?f(e.target.value):b(e.target.value)},x=function(e){(y||""===y)&&f?(""===e&&(e=null),f(e)):b(e)},M=function(){E(!1)},k=function(){E(!0)},A=bn()("ptr-input-text",{empty:!(y||g),focus:w,input:!o,inverted:!!a,multiline:o,disabled:i},n);return(0,k_.jsxs)("div",{className:A,children:[o?(0,k_.jsx)(T_,{invisible:!0,disabled:i,unfocusable:p,value:g||y||"",name:h,onChange:x,onFocus:k,onBlur:M}):function(){var e="text";return s?e="password":u?e="email":l?e="date":c&&(e="number"),(0,k_.jsx)("input",{type:e,disabled:i,tabIndex:p?-1:0,placeholder:w?null:d,value:g||y||"",name:h,onChange:S,autoFocus:w,onBlur:M,onFocus:k})}(),r]})};P_.propTypes={className:dn().string,children:dn().node,disabled:dn().bool,inverted:dn().bool,name:dn().string,onChange:dn().func,placeholder:dn().string,unfocusable:dn().bool,value:dn().string,password:dn().bool,email:dn().bool,date:dn().bool,number:dn().bool,multiline:dn().bool};var O_=P_,C_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M16,18.692c-0.192,0-0.361-0.073-0.509-0.221L5.17,8.149C5.022,8.003,4.948,7.833,4.948,7.641 c0-0.191,0.074-0.362,0.222-0.509l1.107-1.107c0.148-0.147,0.316-0.222,0.509-0.222s0.362,0.074,0.51,0.222L16,14.729l8.704-8.704 c0.147-0.147,0.317-0.222,0.51-0.222c0.191,0,0.361,0.074,0.509,0.222l1.107,1.107c0.147,0.146,0.222,0.317,0.222,0.509 c0,0.192-0.074,0.362-0.222,0.509L16.51,18.472C16.361,18.619,16.192,18.692,16,18.692z M16,27.197 c-0.192,0-0.361-0.073-0.509-0.222L5.17,16.654c-0.147-0.146-0.222-0.316-0.222-0.509c0-0.191,0.074-0.362,0.222-0.51l1.107-1.107 c0.148-0.146,0.316-0.221,0.509-0.221s0.362,0.074,0.51,0.221L16,23.233l8.704-8.705c0.147-0.146,0.317-0.221,0.51-0.221 c0.191,0,0.361,0.074,0.509,0.221l1.107,1.107c0.147,0.147,0.222,0.318,0.222,0.51c0,0.192-0.074,0.362-0.222,0.509L16.51,26.976 C16.361,27.124,16.192,27.197,16,27.197z"})})},R_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M13.308,16c0-0.192,0.073-0.361,0.221-0.509L23.851,5.17c0.146-0.147,0.316-0.222,0.509-0.222 c0.191,0,0.362,0.074,0.509,0.222l1.107,1.107c0.147,0.148,0.222,0.316,0.222,0.509s-0.074,0.362-0.222,0.51L17.271,16l8.704,8.704 c0.147,0.147,0.222,0.317,0.222,0.51c0,0.191-0.074,0.361-0.222,0.509l-1.107,1.107c-0.146,0.147-0.317,0.222-0.509,0.222 c-0.192,0-0.362-0.074-0.509-0.222L13.528,16.51C13.381,16.361,13.308,16.192,13.308,16z M4.803,16c0-0.192,0.073-0.361,0.222-0.509 L15.346,5.17c0.146-0.147,0.316-0.222,0.509-0.222c0.191,0,0.362,0.074,0.51,0.222l1.107,1.107c0.146,0.148,0.221,0.316,0.221,0.509 s-0.074,0.362-0.221,0.51L8.767,16l8.705,8.704c0.146,0.147,0.221,0.317,0.221,0.51c0,0.191-0.074,0.361-0.221,0.509l-1.107,1.107 c-0.147,0.147-0.318,0.222-0.51,0.222c-0.192,0-0.362-0.074-0.509-0.222L5.024,16.51C4.876,16.361,4.803,16.192,4.803,16z"})})},L_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M18.692,16c0,0.192-0.073,0.361-0.221,0.509L8.15,26.83c-0.147,0.147-0.317,0.222-0.509,0.222 c-0.191,0-0.362-0.074-0.509-0.222l-1.107-1.107c-0.147-0.148-0.222-0.316-0.222-0.509s0.074-0.362,0.222-0.51L14.729,16 L6.024,7.296C5.877,7.148,5.803,6.979,5.803,6.787s0.074-0.362,0.222-0.509L7.132,5.17C7.279,5.022,7.45,4.948,7.641,4.948 c0.192,0,0.362,0.074,0.509,0.222l10.322,10.32C18.619,15.639,18.692,15.808,18.692,16z M27.197,16c0,0.192-0.073,0.361-0.222,0.509 L16.654,26.83c-0.146,0.147-0.316,0.222-0.509,0.222c-0.191,0-0.362-0.074-0.51-0.222l-1.107-1.107 c-0.147-0.148-0.221-0.316-0.221-0.509s0.074-0.362,0.221-0.51L23.233,16l-8.705-8.704c-0.147-0.147-0.221-0.317-0.221-0.509 s0.074-0.362,0.221-0.509l1.107-1.107c0.147-0.148,0.318-0.222,0.51-0.222c0.192,0,0.362,0.074,0.509,0.222l10.321,10.32 C27.124,15.639,27.197,15.808,27.197,16z"})})},I_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M16,13.308c0.192,0,0.361,0.073,0.509,0.221L26.83,23.851c0.147,0.146,0.222,0.316,0.222,0.509 c0,0.191-0.074,0.362-0.222,0.509l-1.107,1.107c-0.148,0.147-0.316,0.222-0.509,0.222s-0.362-0.074-0.51-0.222L16,17.271 l-8.704,8.704c-0.147,0.147-0.317,0.222-0.509,0.222s-0.362-0.074-0.509-0.222L5.17,24.868c-0.148-0.146-0.222-0.317-0.222-0.509 c0-0.192,0.074-0.362,0.222-0.509l10.32-10.322C15.639,13.381,15.808,13.308,16,13.308z M16,4.803c0.192,0,0.361,0.073,0.509,0.222 L26.83,15.346c0.147,0.146,0.222,0.316,0.222,0.509c0,0.191-0.074,0.362-0.222,0.51l-1.107,1.107 c-0.148,0.146-0.316,0.221-0.509,0.221s-0.362-0.074-0.51-0.221L16,8.767l-8.704,8.705c-0.147,0.146-0.317,0.221-0.509,0.221 s-0.362-0.074-0.509-0.221L5.17,16.364c-0.148-0.147-0.222-0.318-0.222-0.51c0-0.192,0.074-0.362,0.222-0.509l10.32-10.321 C15.639,4.876,15.808,4.803,16,4.803z"})})},D_=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("rect",{className:"line",x:"5.578",y:"15",width:"21.125",height:"2"}),(0,k_.jsx)("polygon",{className:"line",points:"12.977,25.095 3.882,16 12.977,6.905 14.391,8.319 6.71,16 14.391,23.681"})]})},j_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"m 19.203116,23.592532 q -1.800558,0 -3.293425,-0.273502 v -1.584035 h 2.529897 q 0.683756,0 0.957259,-0.136751 0.273502,-0.136751 0.273502,-0.490025 v -0.273502 q 0,-0.67236 -0.991446,-0.706548 l -2.051268,-0.09117 V 18.52134 l 1.9601,-0.125355 q 0.512817,-0.02279 0.740736,-0.159543 0.239315,-0.136751 0.239315,-0.444441 V 17.59827 q 0,-0.387462 -0.273503,-0.558401 -0.262106,-0.170939 -0.900278,-0.170939 h -2.336167 v -1.572638 q 1.777766,-0.296295 2.997131,-0.296295 1.185177,0 1.823349,0.535609 0.638172,0.524213 0.638172,1.584035 v 0.603984 q 0,1.219365 -1.002842,1.549847 0.512817,0.159543 0.820507,0.649568 0.30769,0.478629 0.30769,1.185177 v 0.376066 q 0,1.014238 -0.649568,1.561242 -0.638172,0.547005 -1.789161,0.547005 z m -7.79002,-6.7236 L 10,16.9601 v -1.253553 l 1.641014,-0.706548 h 1.743578 v 8.524158 H 11.413096 Z M 9.4765625,3.3515625 A 1.5001498,1.5001498 0 0 0 8,4.8730469 v 2.1484375 a 1.5001498,1.5001498 0 1 0 3,0 V 4.8730469 A 1.5001498,1.5001498 0 0 0 9.4765625,3.3515625 Z M 22.476562,3.4785156 A 1.50015,1.50015 0 0 0 21,5 v 2.1542969 a 1.50015,1.50015 0 1 0 3,0 V 5 A 1.50015,1.50015 0 0 0 22.476562,3.4785156 Z M 5,6.3515625 A 1.0001,1.1771578 0 0 0 4,7.5292969 V 11.822266 A 1.0001,1.1771578 0 0 0 5,13 h 22 a 1.0001,1.1771578 0 0 0 1,-1.177734 V 7.5292969 A 1.0001,1.1771578 0 0 0 27,6.3515625 h -2 v 0.8027344 a 2.50025,2.50025 0 1 1 -5,0 V 6.3515625 h -8 v 0.8164063 a 2.50025,2.50025 0 1 1 -5,0 V 6.3515625 Z M 5,10 a 1.0001,1.0001 0 0 0 -1,1 v 16 a 1.0001,1.0001 0 0 0 1,1 h 22 a 1.0001,1.0001 0 0 0 1,-1 V 11 a 1.0001,1.0001 0 0 0 -1,-1 z m 1,2 H 26 V 26 H 6 Z"})})},N_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M 26,16 A 10,10 0 0 1 16,26 10,10 0 0 1 6,16 10,10 0 0 1 16,6 10,10 0 0 1 26,16 Z"})})},B_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M 21.292969,3.2929688 8.5859375,16 21.292969,28.707031 22.707031,27.292969 11.414062,16 22.707031,4.7070312 Z"})})},z_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M 10,3.2929688 8.5859375,4.7070312 19.878906,16 8.5859375,27.292969 10,28.707031 22.707031,16 Z"})})},Z_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M 29.009766 2.9902344 L 28.5 2.9960938 C 28.5 2.9960938 27.713516 3.0026237 26.796875 3.1367188 C 25.880234 3.2708164 24.818205 3.4747606 24.150391 4.1425781 C 23.482576 4.8103924 23.280583 5.8704688 23.146484 6.7871094 C 23.012386 7.7037499 23.003906 8.4902344 23.003906 8.4902344 L 23 9 L 23.509766 8.9960938 C 23.509766 8.9960938 24.29625 8.9876138 25.212891 8.8535156 C 26.129531 8.7194166 27.189607 8.5174204 27.857422 7.8496094 C 28.525236 7.1817989 28.729183 6.1197656 28.863281 5.203125 C 28.99738 4.2864844 29.003906 3.5 29.003906 3.5 L 29.009766 2.9902344 z M 18.990234 4 L 18.603516 4.3300781 C 18.603516 4.3300781 18.004663 4.8412729 17.388672 5.5332031 C 16.772681 6.2251333 16.090124 7.063066 16.007812 8.0039062 C 15.925503 8.9447444 16.452973 9.8893506 16.939453 10.677734 C 17.425933 11.466119 17.925781 12.072266 17.925781 12.072266 L 18.25 12.466797 L 18.636719 12.134766 C 18.636719 12.134766 19.235573 11.623571 19.851562 10.931641 C 20.467554 10.23971 21.148153 9.4017729 21.230469 8.4609375 C 21.312779 7.5200995 20.787261 6.5774467 20.300781 5.7890625 C 19.814301 5.0006783 19.314453 4.3925781 19.314453 4.3925781 L 18.990234 4 z M 13.990234 9 L 13.603516 9.3300781 C 13.603516 9.3300781 13.004663 9.841273 12.388672 10.533203 C 11.772681 11.225133 11.090124 12.063066 11.007812 13.003906 C 10.925503 13.944744 11.452973 14.88935 11.939453 15.677734 C 12.425933 16.466118 12.925781 17.072266 12.925781 17.072266 L 13.25 17.466797 L 13.636719 17.134766 C 13.636719 17.134766 14.235572 16.623571 14.851562 15.931641 C 15.467553 15.23971 16.148153 14.401772 16.230469 13.460938 C 16.312779 12.5201 15.787261 11.577448 15.300781 10.789062 C 14.814301 10.000678 14.314453 9.3925781 14.314453 9.3925781 L 13.990234 9 z M 23.892578 10.765625 C 23.775221 10.758183 23.656668 10.759242 23.539062 10.769531 C 22.598225 10.851841 21.76029 11.532446 21.068359 12.148438 C 20.376429 12.764428 19.865234 13.363281 19.865234 13.363281 L 19.533203 13.75 L 19.927734 14.074219 C 19.927734 14.074219 20.533881 14.574068 21.322266 15.060547 C 22.11065 15.547026 23.055257 16.074497 23.996094 15.992188 C 24.936932 15.909878 25.774866 15.227319 26.466797 14.611328 C 27.158727 13.995338 27.669922 13.396484 27.669922 13.396484 L 28 13.009766 L 27.607422 12.685547 C 27.607422 12.685547 26.999322 12.1857 26.210938 11.699219 C 25.521101 11.273548 24.714076 10.81772 23.892578 10.765625 z M 8.9902344 14 L 8.6035156 14.330078 C 8.6035156 14.330078 8.0046629 14.841273 7.3886719 15.533203 C 6.7726809 16.225133 6.0901237 17.063066 6.0078125 18.003906 C 5.9254995 18.944744 6.4529733 19.88935 6.9394531 20.677734 C 7.425933 21.466118 7.9257814 22.072266 7.9257812 22.072266 L 8.1914062 22.394531 L 2.9296875 27.65625 L 4.34375 29.070312 L 9.6054688 23.808594 L 9.9277344 24.074219 C 9.9277344 24.074219 10.533881 24.574068 11.322266 25.060547 C 12.11065 25.547026 13.055257 26.074497 13.996094 25.992188 C 14.936932 25.909878 15.774866 25.227319 16.466797 24.611328 C 17.158727 23.995338 17.669922 23.396484 17.669922 23.396484 L 18 23.009766 L 17.607422 22.685547 C 17.607422 22.685547 16.999322 22.1857 16.210938 21.699219 C 15.422553 21.212738 14.479903 20.687216 13.539062 20.769531 C 12.598225 20.851841 11.76029 21.532447 11.068359 22.148438 C 10.416896 22.728402 9.9595286 23.254283 9.9042969 23.318359 L 8.6816406 22.095703 C 8.7457168 22.040471 9.2715977 21.583104 9.8515625 20.931641 C 10.467553 20.23971 11.148153 19.401772 11.230469 18.460938 C 11.312781 17.5201 10.787261 16.577447 10.300781 15.789062 C 9.8143016 15.000679 9.3144531 14.392578 9.3144531 14.392578 L 8.9902344 14 z M 18.892578 15.765625 C 18.775221 15.758183 18.656668 15.759242 18.539062 15.769531 C 17.598225 15.851841 16.76029 16.532446 16.068359 17.148438 C 15.376429 17.764428 14.865234 18.363281 14.865234 18.363281 L 14.533203 18.75 L 14.927734 19.074219 C 14.927734 19.074219 15.533881 19.574068 16.322266 20.060547 C 17.11065 20.547026 18.055257 21.074497 18.996094 20.992188 C 19.936932 20.909878 20.774866 20.227319 21.466797 19.611328 C 22.158727 18.995338 22.669922 18.396484 22.669922 18.396484 L 23 18.009766 L 22.607422 17.685547 C 22.607422 17.685547 21.999322 17.1857 21.210938 16.699219 C 20.521101 16.273548 19.714076 15.81772 18.892578 15.765625 z"})})},F_=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"polygon",d:"M8 8 l0 18 l16 0 l0 -18",strokeWidth:"2",stroke:"black",strokeLinejoin:"round",fill:"transparent"}),(0,k_.jsx)("path",{className:"line",d:"M5 8 l22 0",strokeWidth:"2",stroke:"black",strokeLinecap:"round"}),(0,k_.jsx)("path",{className:"line",d:"M14 12 l0 10",strokeWidth:"2",stroke:"black",strokeLinecap:"round"}),(0,k_.jsx)("path",{className:"line",d:"M18 12 l0 10",strokeWidth:"2",stroke:"black",strokeLinecap:"round"}),(0,k_.jsx)("path",{className:"polygon",d:"M10 8 l3 -4 l6 0 l3 4",strokeWidth:"2",stroke:"black",strokeLinejoin:"round",fill:"transparent"})]})},U_=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("circle",{className:"line",cx:"16",cy:"8",r:"2.4"}),(0,k_.jsx)("circle",{className:"line",cx:"16",cy:"16",r:"2.4"}),(0,k_.jsx)("circle",{className:"line",cx:"16",cy:"24",r:"2.4"})]})},K_=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"M5 27 l22 0",strokeWidth:"2",stroke:"black"}),(0,k_.jsx)("path",{className:"line",d:"M16 5 l0 18",strokeWidth:"2",stroke:"black"}),(0,k_.jsx)("path",{className:"line",d:"M9 16 l8 8",strokeWidth:"2",stroke:"black"}),(0,k_.jsx)("path",{className:"line",d:"M23 16 l-8 8",strokeWidth:"2",stroke:"black"})]})},V_=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"M5.382,26.619l1.641-5.399l0.059-0.059l15.781-15.78l3.757,3.758L10.78,24.977L5.382,26.619z M7.597,21.562 l-1.242,4.083l4.082-1.242L25.703,9.139l-2.841-2.842L7.597,21.562z"}),(0,k_.jsx)("rect",{className:"line",x:"6.628",y:"22.713",transform:"matrix(-0.7071 -0.7071 0.7071 -0.7071 -0.9941 45.6625)",width:"4.664",height:"0.649"}),(0,k_.jsx)("polygon",{className:"line",points:"7.99,25.49 5.968,26.031 6.509,24.009"})]})},H_=function(){return(0,k_.jsx)("g",{transform:"scale(0.015,-0.015) translate(300,-1636)",children:(0,k_.jsx)("path",{className:"line",d:"M755 480q0 -13 -10 -23l-332 -332l144 -144q19 -19 19 -45t-19 -45t-45 -19h-448q-26 0 -45 19t-19 45v448q0 26 19 45t45 19t45 -19l144 -144l332 332q10 10 23 10t23 -10l114 -114q10 -10 10 -23zM1536 1344v-448q0 -26 -19 -45t-45 -19t-45 19l-144 144l-332 -332\nq-10 -10 -23 -10t-23 10l-114 114q-10 10 -10 23t10 23l332 332l-144 144q-19 19 -19 45t19 45t45 19h448q26 0 45 -19t19 -45z"})})},W_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M26,12.832c0,0.174-0.066,0.327-0.2,0.461l-9.339,9.337c-0.134,0.134-0.287,0.201-0.461,0.201s-0.327-0.067-0.461-0.201 L6.2,13.293C6.066,13.159,6,13.006,6,12.832s0.066-0.327,0.2-0.461l1.002-1.002c0.134-0.134,0.287-0.2,0.461-0.2 s0.327,0.066,0.461,0.2L16,19.243l7.876-7.874c0.134-0.134,0.287-0.2,0.461-0.2s0.327,0.066,0.461,0.2l1.002,1.002 C25.934,12.505,26,12.658,26,12.832z"})})},G_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M 18 4 A 1 1 0 0 0 17 5 A 1 1 0 0 0 18 6 L 24.585938 6 L 11.292969 19.292969 A 1 1 0 0 0 11.292969 20.707031 A 1 1 0 0 0 12.707031 20.707031 L 26 7.4140625 L 26 14 A 1 1 0 0 0 27 15 A 1 1 0 0 0 28 14 L 28 5 A 1.0001 1.0001 0 0 0 27.998047 4.9882812 A 1 1 0 0 0 27.953125 4.7070312 A 1.0001 1.0001 0 0 0 27.947266 4.6835938 A 1 1 0 0 0 27.810547 4.4160156 A 1 1 0 0 0 27.808594 4.4121094 A 1.0001 1.0001 0 0 0 27.806641 4.4101562 A 1 1 0 0 0 27.707031 4.2929688 A 1 1 0 0 0 27.654297 4.2578125 A 1.0001 1.0001 0 0 0 27.449219 4.1210938 A 1 1 0 0 0 27.349609 4.0703125 A 1.0001 1.0001 0 0 0 27 4 L 18 4 z M 8 7 C 8 7 7.5600844 7.0086177 7.0585938 7.1757812 C 6.5571031 7.3429448 5.9108194 7.6751182 5.2929688 8.2929688 C 4.6751182 8.9108192 4.3429448 9.5571029 4.1757812 10.058594 C 4.0086177 10.560084 4 11 4 11 L 4 24 C 4 24 4.00862 24.439916 4.1757812 24.941406 C 4.3429449 25.442897 4.6751183 26.089181 5.2929688 26.707031 C 5.9108193 27.324882 6.5571031 27.657055 7.0585938 27.824219 C 7.5600844 27.991382 8 28 8 28 L 21 28 C 21 28 21.439916 27.9914 21.941406 27.824219 C 22.442897 27.657055 23.089181 27.324882 23.707031 26.707031 C 24.324882 26.089181 24.657055 25.442897 24.824219 24.941406 C 24.991382 24.439916 25 24 25 24 L 25 19 A 1 1 0 0 0 24 18 A 1 1 0 0 0 23 19 L 23 24 C 23 24 23.008601 24.06009 22.925781 24.308594 C 22.842941 24.557102 22.675117 24.91082 22.292969 25.292969 C 21.91082 25.675117 21.557102 25.842945 21.308594 25.925781 C 21.060086 26.008617 21 26 21 26 L 8 26 C 8 26 7.9399151 26.008601 7.6914062 25.925781 C 7.4428976 25.842946 7.0891798 25.675117 6.7070312 25.292969 C 6.3248828 24.91082 6.1570551 24.557102 6.0742188 24.308594 C 5.9913825 24.060085 6 24 6 24 L 6 11 C 6 11 5.9913797 10.93991 6.0742188 10.691406 C 6.1570547 10.442898 6.3248828 10.08918 6.7070312 9.7070312 C 7.0891797 9.3248827 7.4428976 9.1570549 7.6914062 9.0742188 C 7.9399149 8.9913824 8 9 8 9 L 13 9 A 1 1 0 0 0 14 8 A 1 1 0 0 0 13 7 L 8 7 z "})})},q_=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"m 9,1.5 c -2.198703,0 -4,1.8012974 -4,4 v 21 c 0,2.198703 1.801297,4 4,4 h 14 c 2.198703,0 4,-1.801297 4,-4 v -15 -1.324219 A 1.0001,1.0001 0 0 0 26.707031,9.46875 L 19.015625,1.7929688 A 1.0001,1.0001 0 0 0 18.310547,1.5 H 17.042969 A 1.0001,1.0001 0 0 0 17,1.5 Z m 0,2 h 6.953125 c -0.0097,0.2214834 -0.02148,0.2963688 -0.02148,0.4960938 V 8.5 c 0,2.198703 1.801297,4 4,4 H 24.5 25 v 14 c 0,1.125297 -0.874703,2 -2,2 H 9 c -1.1252976,0 -2,-0.874703 -2,-2 v -21 c 0,-1.1252972 0.8747024,-2 2,-2 z M 17.953125,3.5546875 24.908203,10.5 H 24.5 19.931641 c -1.125298,0 -2,-0.8747028 -2,-2 V 3.9960938 c 0,-0.1442488 0.01276,-0.2455428 0.02148,-0.4414063 z"}),(0,k_.jsx)("path",{className:"line",d:"m 10.480661,24.00091 q -0.8341334,0 -1.3690667,-0.272 -0.5258667,-0.272 -0.816,-1.024533 -0.2901334,-0.752533 -0.2901334,-2.1488 0,-1.350933 0.2992,-2.0944 0.3082667,-0.752533 0.8432,-1.0336 0.5349334,-0.281067 1.3328001,-0.281067 0.752533,0 1.3056,0.1088 0.562133,0.1088 0.906667,0.253867 v 1.369067 q -0.2992,-0.06347 -0.779734,-0.1088 -0.480533,-0.04533 -1.042666,-0.04533 -0.444267,0 -0.670934,0.136 -0.2266664,0.126934 -0.3354664,0.5168 -0.099733,0.389867 -0.099733,1.1968 0,0.770667 0.0816,1.151467 0.090667,0.3808 0.3263997,0.544 0.235734,0.154133 0.716267,0.154133 1.187733,0 1.804267,-0.0816 v 1.369067 q -0.725334,0.290133 -2.212267,0.290133 z"}),(0,k_.jsx)("path",{className:"line",d:"m 15.638178,24.00091 q -1.160534,0 -2.166934,-0.262933 V 22.34171 q 0.906667,0.0816 2.076267,0.0816 0.4624,0 0.68,-0.09973 0.2176,-0.1088 0.2176,-0.362667 v -0.1088 q 0,-0.1904 -0.136,-0.290133 -0.136,-0.1088 -0.335467,-0.1088 h -0.480533 q -1.078933,0 -1.613867,-0.471467 -0.525866,-0.480533 -0.525866,-1.541333 v -0.2992 q 0,-0.988267 0.589333,-1.486933 0.589333,-0.498667 1.731733,-0.498667 0.997334,0 2.103467,0.262933 v 1.396267 q -1.015467,-0.0816 -1.885867,-0.0816 -0.4352,0 -0.6528,0.1088 -0.2176,0.09973 -0.2176,0.389867 v 0.09067 q 0,0.4624 0.589334,0.4624 h 0.5984 q 0.915733,0 1.405333,0.507734 0.498667,0.507733 0.498667,1.323733 v 0.2992 q 0,0.834133 -0.290134,1.296533 -0.290133,0.453334 -0.825066,0.6256 -0.525867,0.1632 -1.36,0.1632 z"}),(0,k_.jsx)("path",{className:"line",d:"m 18.40252,17.209977 h 1.8224 l 1.2784,4.823467 1.2784,-4.823467 h 1.804266 L 22.59132,23.94651 h -2.194134 z"})]})},Y_=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"M 6,2 C 3.8012972,2 2,3.8012973 2,6 v 21 c 0,2.198703 1.8012972,4 4,4 h 14 c 2.198703,0 4,-1.801297 4,-4 v -4 h -2 v 4 c 0,1.125297 -0.874703,2 -2,2 H 6 C 4.8747028,29 4,28.125297 4,27 V 6 C 4,4.8747029 4.8747028,4 6,4 h 6.953125 c -0.0097,0.2214834 -0.02148,0.2963688 -0.02148,0.4960938 V 9 c 0,2.198703 1.801297,4 4,4 H 21.5 22 v 4 h 2 V 12 10.675781 A 1.0001,1.0001 0 0 0 23.707031,9.96875 L 16.015625,2.2929688 A 1.0001,1.0001 0 0 0 15.310547,2 H 14.042969 A 1.0001,1.0001 0 0 0 14,2 Z M 14.953125,4.0546875 21.908203,11 H 21.5 16.931641 c -1.125298,0 -2,-0.874703 -2,-2 V 4.4960938 c 0,-0.1442488 0.01276,-0.2455428 0.02148,-0.4414063 z"}),(0,k_.jsx)("path",{className:"line",d:"m 26.990234,15.990234 a 1.0001,1.0001 0 0 0 -0.697265,1.716797 L 27.585938,19 H 15 a 1.0001,1.0001 0 1 0 0,2 h 12.585938 l -1.292969,1.292969 a 1.0001,1.0001 0 1 0 1.414062,1.414062 l 2.91211,-2.912109 a 1.0001,1.0001 0 0 0 0.0039,-1.587891 1.0001,1.0001 0 0 0 -0.0059,-0.0039 l -2.910157,-2.910156 a 1.0001,1.0001 0 0 0 -0.716797,-0.302735 z"})]})},X_=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"m 9,1.5 c -2.198703,0 -4,1.8012974 -4,4 v 21 c 0,2.198703 1.801297,4 4,4 h 14 c 2.198703,0 4,-1.801297 4,-4 v -15 -1.324219 A 1.0001,1.0001 0 0 0 26.707031,9.46875 L 19.015625,1.7929688 A 1.0001,1.0001 0 0 0 18.310547,1.5 H 17.042969 A 1.0001,1.0001 0 0 0 17,1.5 Z m 0,2 h 6.953125 c -0.0097,0.2214834 -0.02148,0.2963688 -0.02148,0.4960938 V 8.5 c 0,2.198703 1.801297,4 4,4 H 24.5 25 v 14 c 0,1.125297 -0.874703,2 -2,2 H 9 c -1.1252976,0 -2,-0.874703 -2,-2 v -21 c 0,-1.1252972 0.8747024,-2 2,-2 z M 17.953125,3.5546875 24.908203,10.5 H 24.5 19.931641 c -1.125298,0 -2,-0.8747028 -2,-2 V 3.9960938 c 0,-0.1442488 0.01276,-0.2455428 0.02148,-0.4414063 z"}),(0,k_.jsx)("path",{className:"line",d:"m 23.058594,19.001953 c 0,0 -0.700885,-0.04464 -1.50586,0.08203 -0.804974,0.126674 -1.913068,0.374916 -2.451172,1.478516 -0.45985,0.943111 -0.255741,1.87634 -0.09961,2.394531 0.07807,0.259096 0.12878,0.441691 0.136719,0.511719 0.0079,0.07003 0.01564,-0.0037 0.0098,0.0059 0.08047,-0.130195 -0.27278,0.18517 -0.650391,0.328125 -0.377612,0.142956 -0.720703,0.222657 -0.720703,0.222657 a 1.0001,1.0001 0 1 0 0.445312,1.949218 c 0,0 0.459952,-0.102246 0.984375,-0.300781 0.524424,-0.198535 1.17221,-0.384205 1.644531,-1.148437 0.256988,-0.415814 0.317228,-0.914151 0.275391,-1.283203 -0.04184,-0.369053 -0.144037,-0.63929 -0.210937,-0.861329 -0.133801,-0.444077 -0.191728,-0.586196 -0.01758,-0.943359 0.01949,-0.03996 0.411168,-0.291471 0.966796,-0.378906 0.555629,-0.08744 1.076172,-0.06055 1.076172,-0.06055 a 1.0001,1.0001 0 1 0 0.117188,-1.996094 z m -5.134766,-5.003906 a 1.0001,1.0001 0 0 0 -0.146484,1.976562 c 0,0 0.343091,0.0797 0.720703,0.222657 0.377611,0.142955 0.730856,0.45832 0.650391,0.328125 0.0059,0.0095 -0.0018,-0.06417 -0.0098,0.0059 -0.0079,0.07003 -0.05865,0.252623 -0.136719,0.511719 -0.156132,0.518191 -0.360241,1.45142 0.09961,2.394531 0.538104,1.1036 1.646198,1.351842 2.451172,1.478516 0.804975,0.126673 1.50586,0.08203 1.50586,0.08203 a 1.0001,1.0001 0 1 0 -0.117188,-1.996094 c 0,0 -0.520543,0.02689 -1.076172,-0.06055 -0.555628,-0.08743 -0.94731,-0.338941 -0.966796,-0.378906 -0.17415,-0.357163 -0.116223,-0.499282 0.01758,-0.943359 0.0669,-0.222039 0.1691,-0.492276 0.210937,-0.861329 0.04184,-0.369052 -0.0184,-0.867389 -0.275391,-1.283203 C 20.37921,14.710414 19.731424,14.524744 19.207,14.326209 18.682577,14.127674 18.222625,14.025428 18.222625,14.025428 a 1.0001,1.0001 0 0 0 -0.298828,-0.02734 z m -8.9824218,5.003906 a 1.0001,1.0001 0 1 0 0.1171876,1.996094 c 0,0 0.5205436,-0.02689 1.0761722,0.06055 0.555628,0.08743 0.94731,0.338941 0.966796,0.378906 0.17415,0.357163 0.116223,0.499282 -0.01758,0.943359 -0.0669,0.222039 -0.1691,0.492276 -0.210937,0.861329 -0.04184,0.369052 0.0184,0.867389 0.275391,1.283203 0.472321,0.764232 1.120107,0.949902 1.644531,1.148437 0.524424,0.198535 0.984375,0.300781 0.984375,0.300781 a 1.0001,1.0001 0 1 0 0.445312,-1.949218 c 0,0 -0.343091,-0.0797 -0.720703,-0.222657 -0.377612,-0.142955 -0.730855,-0.458319 -0.650391,-0.328125 -0.0059,-0.0095 0.0018,0.06417 0.0098,-0.0059 0.0079,-0.07003 0.05865,-0.252623 0.136719,-0.511719 0.156132,-0.518191 0.360241,-1.45142 -0.09961,-2.394531 -0.538104,-1.1036 -1.646198,-1.351842 -2.451172,-1.478516 -0.8049746,-0.126673 -1.5058597,-0.08203 -1.5058598,-0.08203 z m 5.1035158,-5.003906 a 1.0001,1.0001 0 0 0 -0.267578,0.02734 c 0,0 -0.459951,0.102246 -0.984375,0.300781 -0.524424,0.198535 -1.17221,0.384205 -1.644531,1.148437 -0.256988,0.415814 -0.317228,0.914151 -0.275391,1.283203 0.04184,0.369053 0.144037,0.63929 0.210937,0.861329 0.133801,0.444077 0.191728,0.586196 0.01758,0.943359 -0.01949,0.03996 -0.411168,0.291471 -0.966796,0.378906 -0.5556286,0.08744 -1.0761722,0.06055 -1.0761722,0.06055 a 1.0001,1.0001 0 1 0 -0.1171876,1.996094 c 0,0 0.7008852,0.04464 1.5058598,-0.08203 0.804974,-0.126674 1.913068,-0.374916 2.451172,-1.478516 0.45985,-0.943111 0.255741,-1.87634 0.09961,-2.394531 -0.07807,-0.259096 -0.12878,-0.441691 -0.136719,-0.511719 -0.0079,-0.07003 -0.01564,0.0037 -0.0098,-0.0059 -0.08046,0.130194 0.272779,-0.18517 0.650391,-0.328125 0.377612,-0.142956 0.720703,-0.222657 0.720703,-0.222657 a 1.0001,1.0001 0 0 0 -0.177734,-1.976562 z"})]})},$_=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"m 9,1.5 c -2.198703,0 -4,1.8012974 -4,4 v 21 c 0,2.198703 1.801297,4 4,4 h 14 c 2.198703,0 4,-1.801297 4,-4 v -15 -1.324219 A 1.0001,1.0001 0 0 0 26.707031,9.46875 L 19.015625,1.7929688 A 1.0001,1.0001 0 0 0 18.310547,1.5 H 17.042969 A 1.0001,1.0001 0 0 0 17,1.5 Z m 0,2 h 6.953125 c -0.0097,0.2214834 -0.02148,0.2963688 -0.02148,0.4960938 V 8.5 c 0,2.198703 1.801297,4 4,4 H 24.5 25 v 14 c 0,1.125297 -0.874703,2 -2,2 H 9 c -1.1252976,0 -2,-0.874703 -2,-2 v -21 c 0,-1.1252972 0.8747024,-2 2,-2 z M 17.953125,3.5546875 24.908203,10.5 H 24.5 19.931641 c -1.125298,0 -2,-0.8747028 -2,-2 V 3.9960938 c 0,-0.1442488 0.01276,-0.2455428 0.02148,-0.4414063 z"}),(0,k_.jsx)("path",{className:"line",d:"m 17.596711,20.583751 3.329625,5.362759 H 17.773505 L 15.858234,22.867344 14.178689,25.94651 H 11.025858 L 14.355483,20.451156 10.981659,15 H 14.13449 L 16.108693,18.197029 17.847169,15 H 21 Z"})]})},J_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M 5,4 H 28 L 18.535874,15 18.453432,25 13,27 V 15 L 4,4 h 1"})})},Q_=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z"})})},ew=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M 13.357422 2.6210938 L 13.007812 6.0410156 L 11.150391 6.8457031 L 8.3984375 4.6816406 L 4.671875 8.4082031 L 6.8359375 11.064453 L 6.0292969 13.009766 L 2.6210938 13.357422 L 2.6210938 18.642578 L 6.0292969 18.990234 L 6.8339844 20.933594 L 4.6523438 23.587891 L 8.3886719 27.326172 L 11.0625 25.164062 L 13.005859 25.96875 L 13.335938 29.378906 L 18.642578 29.378906 L 18.990234 25.970703 L 20.935547 25.164062 L 23.591797 27.328125 L 27.328125 23.591797 L 25.164062 20.935547 L 25.970703 18.990234 L 29.378906 18.642578 L 29.378906 13.357422 L 25.970703 13.009766 L 25.164062 11.0625 L 27.308594 8.40625 L 23.572266 4.6699219 L 20.933594 6.8339844 L 18.986328 6.0292969 L 18.621094 2.6210938 L 13.357422 2.6210938 z M 15.164062 4.6210938 L 16.824219 4.6210938 L 17.125 7.421875 L 21.275391 9.140625 L 23.439453 7.3652344 L 24.623047 8.5488281 L 22.861328 10.728516 L 24.580078 14.878906 L 27.378906 15.164062 L 27.378906 16.835938 L 24.580078 17.121094 L 22.859375 21.273438 L 24.636719 23.455078 L 23.455078 24.636719 L 21.273438 22.859375 L 17.121094 24.580078 L 16.835938 27.378906 L 15.152344 27.378906 L 14.880859 24.580078 L 10.728516 22.861328 L 8.53125 24.638672 L 7.3476562 23.457031 L 9.140625 21.275391 L 7.4199219 17.121094 L 6.8261719 17.060547 L 4.6210938 16.835938 L 4.6210938 15.164062 L 7.4199219 14.878906 L 9.140625 10.726562 L 7.3632812 8.5449219 L 8.5566406 7.3515625 L 10.849609 9.1542969 L 14.878906 7.4101562 L 15.164062 4.6210938 z M 16 10 C 12.698136 10 10 12.698136 10 16 C 10 19.301864 12.698136 22 16 22 C 19.301864 22 22 19.301864 22 16 C 22 12.698136 19.301864 10 16 10 z M 16 12 C 18.220984 12 20 13.779016 20 16 C 20 18.220984 18.220984 20 16 20 C 13.779016 20 12 18.220984 12 16 C 12 13.779016 13.779016 12 16 12 z "})})},tw=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"m 17.066669,3.5074879 c -0.412302,0.021037 -0.835994,0.078277 -1.036695,0.078277 h -3.066173 c 0.08405,0.080218 0.167095,0.159979 0.250105,0.240559 1.945977,1.8754824 4.137662,3.6586073 5.771507,5.8249651 1.546386,2.051849 2.115393,4.505765 2.115393,7.031578 0,5.273663 -4.720205,8.721677 -8.137005,12.010768 h 5.00401 C 22.311904,24.509947 26.655079,20.323742 31,16.140654 27.948087,13.199269 24.893695,10.260147 21.841574,7.3201574 20.571426,6.0972821 19.302716,4.8745876 18.032723,3.6506778 17.879088,3.502499 17.47897,3.4864506 17.066669,3.5074879 Z M 9.3305967,8.1201116 c -1.9666419,0.00312 -3.9249945,0.6665327 -5.4622164,1.9512004 -2.4080237,2.012852 -3.45646161,5.316134 -2.5392348,8.333653 0.9285423,3.052946 3.6843736,5.244671 6.8120204,5.683683 3.1495081,0.43983 6.4260001,-0.946707 8.2000071,-3.606475 0.854213,-1.281889 1.321628,-2.801649 1.323075,-4.341519 -0.0039,-3.171127 -1.993,-6.035014 -4.874183,-7.304593 C 11.692805,8.3530837 10.510581,8.1182394 9.3305967,8.1201116 Z"})})},nw=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"m15.923 1a15 15 0 1 0 0.15385 0z"}),(0,k_.jsx)("path",{className:"line",d:"m16 1v30.001m15-15h-30.001m3.3847-9.2309a20.001 20 0 0 0 23.231 0m0 18.462a20.001 20 0 0 0-23.231 0m10.462-23.847a19.231 19.231 0 0 0 0 29.385m2.3078 0a19.231 19.231 0 0 0 0-29.385"})]})},rw=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"M20.653,25.472h-1.695V13.243c0-0.423-0.343-0.766-0.766-0.766h-3.207h-1.179h-2.46c-0.423,0-0.766,0.343-0.766,0.766v0.563 c0,0.424,0.343,0.766,0.766,0.766h1.694v10.899h-1.695c-0.423,0-0.766,0.343-0.766,0.766v0.563c0,0.424,0.343,0.766,0.766,0.766 h2.456c0.002,0,0.003,0.001,0.005,0.001h4.386c0.002,0,0.003-0.001,0.005-0.001h2.456c0.423,0,0.766-0.342,0.766-0.766v-0.563 C21.419,25.814,21.076,25.472,20.653,25.472z"}),(0,k_.jsx)("circle",{className:"line",cx:"16",cy:"7.583",r:"3.151"})]})},iw=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{d:"M5 5 l0 17 l5 0 l0 -12 l12 0 l0 -5",strokeWidth:"2",className:"polygonFilled"}),(0,k_.jsx)("path",{d:"M10 22 l0 5 l17 0 l0 -17 l-5 0 l0 12 l-12 0",strokeWidth:"2",className:"polygon"}),(0,k_.jsx)("path",{d:"M10 10 L22 22",strokeWidth:"2",className:"line"}),(0,k_.jsx)("path",{d:"M16 10 L22 16",strokeWidth:"2",className:"line"}),(0,k_.jsx)("path",{d:"M10 16 L16 22",strokeWidth:"2",className:"line"})]})},ow=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"M 16,2.8828125 1.7636719,10 3.5527344,10.894531 16,17.117188 30.236328,10 Z M 16,5.1171875 25.763672,10 16,14.882812 6.2363281,10 Z"}),(0,k_.jsx)("path",{className:"line",d:"M 9.5527344,12.105469 1.7636719,16 16,23.117188 30.236328,16 22.447266,12.105469 21.552734,13.894531 25.763672,16 16,20.882812 6.2363281,16 10.447266,13.894531 Z"}),(0,k_.jsx)("path",{className:"line",d:"M 9.5527344,18.105469 1.7636719,22 16,29.117188 30.236328,22 22.447266,18.105469 21.552734,19.894531 25.763672,22 16,26.882812 6.2363281,22 10.447266,19.894531 Z"})]})},aw=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"M 10,25 A 3.5,3.5 0 0 1 6.5,28.5 3.5,3.5 0 0 1 3,25 3.5,3.5 0 0 1 6.5,21.5 3.5,3.5 0 0 1 10,25 Z"}),(0,k_.jsx)("path",{className:"line",d:"m 4,12.5 h 5 c 0.554,0 1,0.446 1,1 v 5 c 0,0.554 -0.446,1 -1,1 H 4 c -0.554,0 -1,-0.446 -1,-1 v -5 c 0,-0.554 0.446,-1 1,-1 z"}),(0,k_.jsx)("path",{className:"line",d:"M 6.5488281,4.0214844 C 6.3688189,4.0168495 6.200219,4.1093556 6.1074219,4.2636719 l -3,4.9785156 C 2.9071078,9.5751818 3.1465554,9.9994087 3.5351562,10 h 6 C 9.9237571,9.9994087 10.163205,9.5751818 9.9628906,9.2421875 l -3,-4.9785156 C 6.8751262,4.1176904 6.7190891,4.0264234 6.5488281,4.0214844 Z M 8.6503906,9 V 9 H 4.4199219 Z"}),(0,k_.jsx)("path",{className:"line",d:"m 14.080078,6 a 1.0001,1.0001 0 1 0 0,2 h 13.853516 a 1.0001,1.0001 0 1 0 0,-2 z"}),(0,k_.jsx)("path",{className:"line",d:"m 14.080078,15 a 1.0001,1.0001 0 1 0 0,2 h 13.853516 a 1.0001,1.0001 0 1 0 0,-2 z"}),(0,k_.jsx)("path",{className:"line",d:"m 14.080078,24 a 1.0001,1.0001 0 1 0 0,2 h 13.853516 a 1.0001,1.0001 0 1 0 0,-2 z"})]})},sw=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})},uw=function(){return(0,k_.jsx)("g",{transform:"matrix(0.0625,0,0,0.0625,0,0.1875)",children:(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{d:"M 467,61 H 45 C 20.218,61 0,81.196 0,106 v 300 c 0,24.72 20.128,45 45,45 h 422 c 24.72,0 45,-20.128 45,-45 V 106 C 512,81.28 491.872,61 467,61 Z M 460.786,91 256.954,294.833 51.359,91 Z M 30,399.788 V 112.069 l 144.479,143.24 z M 51.213,421 195.783,276.43 246.44,326.652 c 5.864,5.814 15.327,5.795 21.167,-0.046 L 317,277.213 460.787,421 Z M 482,399.787 338.213,256 482,112.212 Z"})})})},lw=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M 15.973181,1.0000323 C 10.20627,1.0000323 5.472,5.7343036 5.472,11.501214 c 0,2.142994 0.6571191,4.141902 1.7746652,5.809762 l -0.01943,0.01295 8.7481048,13.68133 8.750266,-13.718032 -0.0065,-0.0043 c 1.106059,-1.662174 1.755279,-3.650816 1.755279,-5.781703 0,-5.7669107 -4.734271,-10.501182 -10.501181,-10.501182 z m 0,5.5269375 c 2.779931,0 4.974244,2.1943126 4.974244,4.9742442 0,1.055909 -0.318581,2.025146 -0.863584,2.823921 l -0.01728,-0.01083 -0.09282,0.144649 c -0.899757,1.223244 -2.339865,2.016507 -4.000552,2.016507 -1.702708,0 -3.180297,-0.828217 -4.073958,-2.104986 l -0.0151,-0.02375 -0.0022,0.0022 c -0.555634,-0.803598 -0.882965,-1.780604 -0.882965,-2.847725 0,-2.779932 2.194312,-4.9742446 4.974244,-4.9742446 z"})})},cw=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"})})},hw=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("rect",{className:"line",x:"4",y:"15.2",width:"24",height:"1.6"})})},fw=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M27.088,17.484c0,0.423-0.343,0.766-0.766,0.766H5.677c-0.423,0-0.766-0.343-0.766-0.766v-2.969 c0-0.423,0.343-0.766,0.766-0.766h20.646c0.423,0,0.766,0.343,0.766,0.766V17.484z"})})},dw=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"m 11,27 a 1.0001,1.0001 0 1 0 0,2 h 10 a 1.0001,1.0001 0 1 0 0,-2 z m 3,-5 -1,6 h 6 L 18,22 M 4,4 A 1.0001,1.0001 0 0 0 3,5 v 17 a 1.0001,1.0001 0 0 0 1,1 h 24 a 1.0001,1.0001 0 0 0 1,-1 V 5 A 1.0001,1.0001 0 0 0 28,4 Z M 5,6 H 27 V 21 H 5 Z"})})},pw=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M 4 4 A 1.0001 1.0001 0 0 0 3 5 L 3 22 A 1.0001 1.0001 0 0 0 4 23 L 13.833984 23 L 13.166016 27 L 11 27 A 1.0001 1.0001 0 1 0 11 29 L 21 29 A 1.0001 1.0001 0 1 0 21 27 L 18.833984 27 L 18.166016 23 L 28 23 A 1.0001 1.0001 0 0 0 29 22 L 29 5 A 1.0001 1.0001 0 0 0 28 4 L 4 4 z M 5 6 L 27 6 L 27 21 L 5 21 L 5 6 z M 18.9375 7.5957031 L 14.888672 15.099609 L 11.439453 10.1875 L 8.1503906 15.470703 L 9.8496094 16.529297 L 11.539062 13.8125 L 15.111328 18.898438 L 19.0625 11.576172 L 22.152344 16.529297 L 23.847656 15.470703 L 18.9375 7.5957031 z"})})},vw=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M16.983,3.272l7.351,22.055c0.139,0.398,0.055,0.75-0.252,1.057c-0.037,0.038-0.104,0.089-0.193,0.148 c-0.209,0.13-0.431,0.182-0.667,0.149c-0.237-0.029-0.44-0.131-0.609-0.298l-6.617-6.616l-6.617,6.616 c-0.168,0.167-0.371,0.269-0.609,0.298c-0.237,0.032-0.459-0.02-0.666-0.149c-0.207-0.13-0.352-0.306-0.437-0.528 c-0.084-0.222-0.087-0.446-0.011-0.677l7.352-22.055c0.045-0.153,0.131-0.292,0.253-0.414c0.207-0.206,0.452-0.306,0.735-0.298 c0.223-0.008,0.425,0.054,0.609,0.184C16.788,2.874,16.915,3.05,16.983,3.272z"})})},gw=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M 1.1520605,1.5273295 7.6519281,0.02736121 C 8.3581638,-0.13513535 9.083149,0.23360686 9.3706432,0.89609287 L 12.370582,7.895945 c 0.262495,0.6124871 0.0875,1.3312219 -0.431241,1.7499631 L 8.151918,12.745843 c 2.249954,4.793648 6.181124,8.781064 11.074775,11.074766 l 3.099937,-3.78742 c 0.424991,-0.518739 1.137477,-0.693736 1.749964,-0.431241 l 6.999858,2.999936 c 0.668736,0.293744 1.037479,1.018729 0.874982,1.724964 l -1.49997,6.499863 c -0.156246,0.674985 -0.756234,1.162475 -1.46247,1.162475 -16.005924,0 -28.9994098,-12.968476 -28.9994098,-28.9993874 0,-0.6999852 0.48124021,-1.3062224 1.1624763,-1.4624691 z"})})},mw=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("rect",{className:"line",x:"15.2",y:"4",width:"1.6",height:"24"}),(0,k_.jsx)("rect",{className:"line",x:"4",y:"15.2",width:"24",height:"1.6"})]})},yw=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"M27.088,17.484c0,0.423-0.343,0.766-0.766,0.766H5.677c-0.423,0-0.766-0.343-0.766-0.766v-2.969 c0-0.423,0.343-0.766,0.766-0.766h20.646c0.423,0,0.766,0.343,0.766,0.766V17.484z"}),(0,k_.jsx)("path",{className:"line",d:"M17.484,4.912c0.423,0,0.766,0.343,0.766,0.766v20.646c0,0.423-0.343,0.766-0.766,0.766h-2.969 c-0.423,0-0.766-0.343-0.766-0.766V5.677c0-0.423,0.343-0.766,0.766-0.766H17.484z"})]})},bw=function(){return(0,k_.jsx)("g",{transform:"scale(0.016,-0.016) translate(450,-1636)",children:(0,k_.jsx)("path",{className:"line",d:"M480 672v448q0 14 -9 23t-23 9t-23 -9t-9 -23v-448q0 -14 9 -23t23 -9t23 9t9 23zM1152 320q0 -26 -19 -45t-45 -19h-429l-51 -483q-2 -12 -10.5 -20.5t-20.5 -8.5h-1q-27 0 -32 27l-76 485h-404q-26 0 -45 19t-19 45q0 123 78.5 221.5t177.5 98.5v512q-52 0 -90 38\nt-38 90t38 90t90 38h640q52 0 90 -38t38 -90t-38 -90t-90 -38v-512q99 0 177.5 -98.5t78.5 -221.5z"})})},_w=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"polygon",d:"M11 11 L11 5 L27 5 L27 21 L21 21",strokeWidth:"3"}),(0,k_.jsx)("rect",{className:"polygon",x:"5",y:"11",width:"16",height:"16",strokeWidth:"3"}),(0,k_.jsx)("rect",{className:"line",x:"5",y:"11",width:"16",height:"4"})]})},ww=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M19.586 0c-.818 0-1.508.19-2.073.565-.563.377-.97.936-1.213 1.68a3.193 3.193 0 0 0-.112.437 8.365 8.365 0 0 0-.078.53 9 9 0 0 0-.05.727c-.01.282-.013.621-.013 1.016a31.121 31.123 0 0 0 .014 1.017 9 9 0 0 0 .05.727 7.946 7.946 0 0 0 .077.53h-.005a3.334 3.334 0 0 0 .113.438c.245.743.65 1.303 1.214 1.68.565.376 1.256.564 2.075.564.8 0 1.536-.213 2.105-.603.57-.39.94-.916 1.175-1.65.076-.235.135-.558.177-.93a10.9 10.9 0 0 0 .043-1.207v-.82c0-.095-.047-.142-.14-.142h-3.064c-.094 0-.14.047-.14.141v.956c0 .094.046.14.14.14h1.666c.056 0 .084.03.084.086 0 .36 0 .62-.036.865-.038.244-.1.447-.147.606-.108.385-.348.664-.638.876-.29.212-.738.35-1.227.35-.545 0-.901-.15-1.21-.353-.306-.203-.517-.454-.67-.915a3.136 3.136 0 0 1-.147-.762 17.366 17.367 0 0 1-.034-.656c-.01-.26-.014-.572-.014-.939a26.401 26.403 0 0 1 .014-.938 15.821 15.822 0 0 1 .035-.656 3.19 3.19 0 0 1 .148-.76 1.89 1.89 0 0 1 .742-1.01c.344-.244.593-.352 1.137-.352.508 0 .815.096 1.144.303.33.207.528.492.764.925.047.094.111.118.198.07l1.044-.43c.075-.048.09-.115.042-.199a3.549 3.549 0 0 0-.466-.742 3 3 0 0 0-.679-.607 3.313 3.313 0 0 0-.903-.41A4.068 4.068 0 0 0 19.586 0zM8.217 5.836c-1.69 0-3.036.086-4.297.086-1.146 0-2.291 0-3.007-.029v.831l1.088.2c.744.144 1.174.488 1.174 2.264v11.288c0 1.777-.43 2.12-1.174 2.263l-1.088.2v.832c.773-.029 2.12-.086 3.465-.086 1.29 0 2.951.057 3.667.086v-.831l-1.49-.2c-.773-.115-1.174-.487-1.174-2.264v-4.784c.688.057 1.29.057 2.206.057 1.748 3.123 3.41 5.472 4.355 6.56.86 1.032 2.177 1.691 3.839 1.691.487 0 1.003-.086 1.318-.23v-.744c-1.031 0-2.063-.716-2.808-1.518-1.26-1.376-2.95-3.582-4.355-6.074 2.32-.545 4.04-2.722 4.04-4.9 0-3.208-2.492-4.698-5.758-4.698zm-.515 1.29c2.406 0 3.839 1.26 3.839 3.552 0 2.263-1.547 3.782-4.097 3.782-.974 0-1.404-.03-2.063-.086v-7.19c.66-.059 1.547-.059 2.32-.059z"})})},Ew=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M27,16c0,1.489-0.292,2.913-0.874,4.269c-0.581,1.354-1.366,2.526-2.349,3.509s-2.154,1.768-3.509,2.349 C18.913,26.708,17.489,27,16,27c-1.642,0-3.204-0.346-4.684-1.038c-1.48-0.693-2.741-1.669-3.781-2.93 c-0.067-0.095-0.098-0.202-0.093-0.322s0.045-0.216,0.122-0.293l1.962-1.977c0.096-0.086,0.215-0.129,0.358-0.129 c0.152,0.02,0.263,0.077,0.329,0.172c0.697,0.907,1.552,1.609,2.564,2.105c1.012,0.495,2.086,0.744,3.223,0.744 c0.994,0,1.94-0.193,2.843-0.58s1.684-0.909,2.342-1.568c0.659-0.658,1.182-1.439,1.568-2.342s0.58-1.849,0.58-2.843 c0-0.993-0.193-1.941-0.58-2.843s-0.909-1.683-1.568-2.342c-0.658-0.659-1.439-1.182-2.342-1.568S16.994,8.667,16,8.667 c-0.936,0-1.833,0.17-2.693,0.509s-1.623,0.823-2.292,1.454l1.962,1.977c0.296,0.287,0.363,0.616,0.2,0.988 c-0.162,0.382-0.444,0.573-0.845,0.573H5.917c-0.248,0-0.463-0.091-0.645-0.272C5.091,13.713,5,13.499,5,13.25V6.833 c0-0.401,0.191-0.683,0.573-0.845c0.373-0.163,0.702-0.095,0.988,0.201l1.862,1.848c1.021-0.965,2.189-1.712,3.502-2.242 C13.238,5.265,14.596,5,16,5c1.489,0,2.913,0.292,4.269,0.874c1.354,0.583,2.526,1.366,3.509,2.349s1.768,2.153,2.349,3.509 C26.708,13.087,27,14.51,27,16z"})})},Sw=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M5.874,11.732c0.581-1.356,1.366-2.526,2.349-3.509s2.154-1.767,3.509-2.349C13.087,5.292,14.511,5,16,5 c1.403,0,2.762,0.265,4.074,0.795c1.313,0.53,2.48,1.277,3.502,2.242l1.862-1.848c0.286-0.296,0.616-0.363,0.988-0.201 C26.809,6.151,27,6.432,27,6.833v6.417c0,0.249-0.091,0.463-0.272,0.645s-0.396,0.272-0.645,0.272h-6.417 c-0.4,0-0.683-0.191-0.845-0.573c-0.162-0.373-0.096-0.702,0.2-0.988l1.963-1.977c-0.669-0.63-1.433-1.115-2.292-1.454 S16.936,8.667,16,8.667c-0.994,0-1.94,0.193-2.843,0.58s-1.684,0.91-2.342,1.568c-0.659,0.659-1.182,1.439-1.568,2.342 s-0.58,1.85-0.58,2.843c0,0.994,0.193,1.94,0.58,2.843s0.909,1.684,1.568,2.342c0.658,0.659,1.439,1.182,2.342,1.568 s1.849,0.58,2.843,0.58c1.136,0,2.21-0.249,3.223-0.744c1.012-0.496,1.866-1.198,2.563-2.105c0.066-0.095,0.177-0.152,0.329-0.172 c0.144,0,0.263,0.043,0.358,0.129l1.962,1.977c0.077,0.077,0.117,0.173,0.122,0.293s-0.026,0.228-0.093,0.322 c-1.041,1.261-2.302,2.236-3.781,2.93C19.203,26.654,17.642,27,16,27c-1.489,0-2.913-0.292-4.269-0.874 c-1.354-0.581-2.526-1.366-3.509-2.349s-1.768-2.154-2.349-3.509C5.292,18.913,5,17.489,5,16C5,14.51,5.292,13.087,5.874,11.732z"})})},xw=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"M 13,3 C 7.4889972,3 3,7.4889972 3,13 3,18.511003 7.4889972,23 13,23 18.511003,23 23,18.511003 23,13 23,7.4889972 18.511003,3 13,3 Z m 0,2 c 4.430123,0 8,3.5698773 8,8 0,4.430123 -3.569877,8 -8,8 C 8.5698773,21 5,17.430123 5,13 5,8.5698773 8.5698773,5 13,5 Z"}),(0,k_.jsx)("path",{className:"line",d:"m 20.707031,19.292969 -1.414062,1.414062 9,9 1.414062,-1.414062 z"})]})},Mw=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"m 9,1.5 c -2.198703,0 -4,1.8012974 -4,4 v 21 c 0,2.198703 1.801297,4 4,4 h 14 c 2.198703,0 4,-1.801297 4,-4 v -15 -1.324219 A 1.0001,1.0001 0 0 0 26.707031,9.46875 L 19.015625,1.7929688 A 1.0001,1.0001 0 0 0 18.310547,1.5 H 17.042969 A 1.0001,1.0001 0 0 0 17,1.5 Z m 0,2 h 6.953125 c -0.0097,0.2214834 -0.02148,0.2963688 -0.02148,0.4960938 V 8.5 c 0,2.198703 1.801297,4 4,4 H 24.5 25 v 14 c 0,1.125297 -0.874703,2 -2,2 H 9 c -1.1252976,0 -2,-0.874703 -2,-2 v -21 c 0,-1.1252972 0.8747024,-2 2,-2 z M 17.953125,3.5546875 24.908203,10.5 H 24.5 19.931641 c -1.125298,0 -2,-0.8747028 -2,-2 V 3.9960938 c 0,-0.1442488 0.01276,-0.2455428 0.02148,-0.4414063 z"}),(0,k_.jsx)("path",{className:"line",d:"M 11.5 11 A 2.4999993 2.4999993 0 0 0 9 13.5 A 2.4999993 2.4999993 0 0 0 10.923828 15.929688 L 11.494141 22.214844 A 2.4999993 2.4999993 0 0 0 10 24.5 A 2.4999993 2.4999993 0 0 0 12.5 27 A 2.4999993 2.4999993 0 0 0 14.955078 24.962891 L 17.753906 24.59375 A 2.4999993 2.4999993 0 0 0 20 26 A 2.4999993 2.4999993 0 0 0 22.5 23.5 A 2.4999993 2.4999993 0 0 0 21.107422 21.261719 L 21.388672 19.417969 A 2.4999993 2.4999993 0 0 0 23.5 16.949219 A 2.4999993 2.4999993 0 0 0 21 14.449219 A 2.4999993 2.4999993 0 0 0 18.988281 15.470703 L 13.992188 13.654297 A 2.4999993 2.4999993 0 0 0 14 13.5 A 2.4999993 2.4999993 0 0 0 11.5 11 z M 13.455078 15.052734 L 18.501953 16.888672 A 2.4999993 2.4999993 0 0 0 18.5 16.949219 A 2.4999993 2.4999993 0 0 0 19.90625 19.195312 L 19.625 21.03125 A 2.4999993 2.4999993 0 0 0 17.533203 23.109375 L 14.777344 23.474609 A 2.4999993 2.4999993 0 0 0 12.986328 22.048828 L 12.421875 15.822266 A 2.4999993 2.4999993 0 0 0 13.455078 15.052734 z "})]})},kw=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("circle",{className:"line",cx:"6.998",cy:"16",r:"3.15"}),(0,k_.jsx)("circle",{className:"line",cx:"24.005",cy:"8.513",r:"3.149"}),(0,k_.jsx)("circle",{className:"line",cx:"24.005",cy:"23.484",r:"3.149"}),(0,k_.jsx)("path",{className:"line",d:"M19.623,10.034c-0.003-0.005-0.002-0.012-0.004-0.018c-0.003-0.005-0.008-0.009-0.012-0.014 c-0.042-0.082-0.111-0.149-0.206-0.184l0,0l-0.264-0.096L16.36,8.711c-0.199-0.072-0.418,0.03-0.492,0.229l-0.095,0.265 c-0.073,0.2,0.029,0.418,0.229,0.49l1.724,0.627l-6.156,2.87c-0.192,0.089-0.275,0.317-0.185,0.509l0.119,0.255 c0.09,0.192,0.317,0.275,0.509,0.185l6.155-2.87l-0.627,1.722c-0.072,0.199,0.029,0.418,0.229,0.491l0.264,0.096 c0.199,0.072,0.418-0.03,0.492-0.229l1.01-2.778l0.097-0.263V10.31C19.665,10.216,19.658,10.119,19.623,10.034z"}),(0,k_.jsx)("path",{className:"line",d:"M19.623,21.83c-0.003,0.006-0.002,0.013-0.004,0.018c-0.003,0.006-0.008,0.01-0.012,0.015 c-0.042,0.081-0.111,0.149-0.206,0.185l0,0l-0.264,0.096l-2.777,1.012c-0.199,0.071-0.418-0.031-0.492-0.229l-0.095-0.265 c-0.073-0.199,0.029-0.418,0.229-0.49l1.724-0.627l-6.156-2.871c-0.192-0.089-0.275-0.316-0.185-0.508l0.119-0.256 c0.09-0.191,0.317-0.274,0.509-0.185l6.155,2.87l-0.627-1.723c-0.072-0.199,0.029-0.418,0.229-0.49l0.264-0.097 c0.199-0.071,0.418,0.03,0.492,0.229l1.01,2.777l0.097,0.264l0,0C19.665,21.648,19.658,21.746,19.623,21.83z"})]})},Aw=function(){return(0,k_.jsxs)("g",{transform:"matrix(0.05117622,0,0,0.05117622,2.9443694,-1.5263058)",children:[(0,k_.jsx)("path",{className:"line",d:"m 224.595,201.822 h -93.576 c -6.879,0 -13.674,3.236 -15.211,7.307 l -24.902,66.025 c -2.188,5.797 2.867,10.61 11.34,10.61 h 115.271 c 8.477,0 15.584,-4.813 15.873,-10.611 l 3.295,-66.024 c 0.203,-4.072 -5.211,-7.307 -12.09,-7.307 z"}),(0,k_.jsx)("path",{className:"line",d:"m 379.204,201.821 -93.574,0.001 c -6.879,0 -12.293,3.236 -12.092,7.307 l 3.293,66.024 c 0.291,5.798 7.4,10.611 15.873,10.611 h 115.275 c 8.473,0 13.525,-4.813 11.338,-10.611 l -24.902,-66.024 c -1.536,-4.072 -8.334,-7.308 -15.211,-7.308 z"}),(0,k_.jsx)("path",{className:"line",d:"M 419.61,319.696 H 295.565 c -9.117,0 -16.227,5.703 -15.865,12.927 l 6.236,125.035 c 0.586,11.742 10.93,21.594 23.078,21.594 h 165.289 c 12.148,0 18.283,-9.852 13.855,-21.594 L 440.994,332.623 c -2.722,-7.225 -12.267,-12.927 -21.384,-12.927 z"}),(0,k_.jsx)("path",{className:"line",d:"m 214.657,319.696 -124.043,10e-4 c -9.121,0 -18.662,5.702 -21.387,12.926 L 22.065,457.657 c -4.428,11.742 1.703,21.594 13.855,21.594 h 165.285 c 12.152,0 22.492,-9.852 23.076,-21.594 l 6.24,-125.035 c 0.363,-7.223 -6.745,-12.926 -15.864,-12.926 z"})]})},Tw=function(){return(0,k_.jsxs)("g",{transform:"matrix(0.05016772,0,0,0.05016772,3.2140793,3.141888)",children:[(0,k_.jsx)("path",{className:"line",d:"M 210.81,37.038 H 55.599 c -11.047,0 -20,8.954 -20,20 v 155.211 c 0,11.046 8.953,20 20,20 H 210.81 c 11.045,0 20,-8.954 20,-20 V 57.038 c 0,-11.046 -8.956,-20 -20,-20 z"}),(0,k_.jsx)("path",{className:"line",d:"m 454.127,37.038 h -155.21 c -11.047,0 -20,8.954 -20,20 v 155.211 c 0,11.046 8.953,20 20,20 h 155.211 c 11.045,0 20,-8.954 20,-20 V 57.038 c -10e-4,-11.046 -8.956,-20 -20.001,-20 z"}),(0,k_.jsx)("path",{className:"line",d:"m 454.127,280.369 h -155.21 c -11.047,0 -20,8.954 -20,20 V 455.58 c 0,11.046 8.953,20 20,20 h 155.211 c 11.045,0 20,-8.954 20,-20 V 300.369 c -10e-4,-11.046 -8.956,-20 -20.001,-20 z"}),(0,k_.jsx)("path",{className:"line",d:"M 210.81,280.369 H 55.599 c -11.047,0 -20,8.954 -20,20 V 455.58 c 0,11.046 8.953,20 20,20 H 210.81 c 11.045,0 20,-8.954 20,-20 V 300.369 c 0,-11.046 -8.956,-20 -20,-20 z"})]})},Pw=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"M 7.7070312,6.2929688 6.2929688,7.7070312 24.292969,25.707031 25.707031,24.292969 Z"}),(0,k_.jsx)("path",{className:"line",d:"M 24.292969,6.2929688 6.2929688,24.292969 7.7070312,25.707031 25.707031,7.7070312 Z"})]})},Ow=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("polygon",{className:"line",points:"23.313,10.729 16.001,23.396 8.688,10.729"})})},Cw=function(){return(0,k_.jsx)("g",{children:(0,k_.jsx)("path",{className:"line",d:"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"})})},Rw=function(){return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("path",{className:"line",d:"M4 27 l24 0",strokeWidth:"2"}),(0,k_.jsx)("path",{className:"line",d:"M4 28 l0 -6",strokeWidth:"2"}),(0,k_.jsx)("path",{className:"line",d:"M28 28 l0 -6",strokeWidth:"2"}),(0,k_.jsx)("path",{className:"line",d:"M16 5 l0 18",strokeWidth:"2"}),(0,k_.jsx)("path",{className:"line",d:"M16 5 l7 7",strokeWidth:"2"}),(0,k_.jsx)("path",{className:"line",d:"M16 5 l-7 7",strokeWidth:"2"})]})},Lw=function(e){switch(e){case"angle-double-right":return(0,k_.jsx)(L_,{});case"angle-double-left":return(0,k_.jsx)(R_,{});case"angle-double-up":return(0,k_.jsx)(I_,{});case"angle-double-down":return(0,k_.jsx)(C_,{});case"arrow-left":case"back":return(0,k_.jsx)(D_,{});case"calendar":return(0,k_.jsx)(j_,{});case"circle":return(0,k_.jsx)(N_,{});case"chevron-left":return(0,k_.jsx)(B_,{});case"chevron-right":return(0,k_.jsx)(z_,{});case"crop":return(0,k_.jsx)(Z_,{});case"delete":return(0,k_.jsx)(F_,{});case"dots":return(0,k_.jsx)(U_,{});case"download":return(0,k_.jsx)(K_,{});case"edit":return(0,k_.jsx)(V_,{});case"expand":return(0,k_.jsx)(H_,{});case"expand-row":return(0,k_.jsx)(W_,{});case"external-link":return(0,k_.jsx)(G_,{});case"facebook":return(0,k_.jsx)(Q_,{});case"filter":return(0,k_.jsx)(J_,{});case"file-export":return(0,k_.jsx)(Y_,{});case"file-csv":case"csv":return(0,k_.jsx)(q_,{});case"file-json":case"json":return(0,k_.jsx)(X_,{});case"file-xls":case"xls":case"excel":return(0,k_.jsx)($_,{});case"gear":case"settings":return(0,k_.jsx)(ew,{});case"gisat":return(0,k_.jsx)(tw,{});case"globe":return(0,k_.jsx)(nw,{});case"info":return(0,k_.jsx)(rw,{});case"layers":return(0,k_.jsx)(ow,{});case"legend":return(0,k_.jsx)(aw,{});case"linkedin":return(0,k_.jsx)(sw,{});case"mail":return(0,k_.jsx)(uw,{});case"map-pin":return(0,k_.jsx)(lw,{});case"menu":return(0,k_.jsx)(cw,{});case"minus":return(0,k_.jsx)(hw,{});case"minus-thick":return(0,k_.jsx)(fw,{});case"monitor":case"display":return(0,k_.jsx)(dw,{});case"monitoring":return(0,k_.jsx)(pw,{});case"north-arrow":return(0,k_.jsx)(vw,{});case"opacity":return(0,k_.jsx)(iw,{});case"phone":return(0,k_.jsx)(gw,{});case"plus":return(0,k_.jsx)(mw,{});case"plus-thick":return(0,k_.jsx)(yw,{});case"pushpin":return(0,k_.jsx)(bw,{});case"researchgate":return(0,k_.jsx)(ww,{});case"restore":return(0,k_.jsx)(_w,{});case"rotate-left":return(0,k_.jsx)(Ew,{});case"rotate-right":return(0,k_.jsx)(Sw,{});case"search":return(0,k_.jsx)(xw,{});case"shapefile":return(0,k_.jsx)(Mw,{});case"share":return(0,k_.jsx)(kw,{});case"tilt-less":return(0,k_.jsx)(Tw,{});case"tilt-more":return(0,k_.jsx)(Aw,{});case"times":case"close":return(0,k_.jsx)(Pw,{});case"triangle-down":return(0,k_.jsx)(Ow,{});case"twitter":return(0,k_.jsx)(Cw,{});case"upload":return(0,k_.jsx)(Rw,{});default:return(0,k_.jsxs)("g",{children:[(0,k_.jsx)("rect",{x:"4.844",y:"4.844",fill:"none",stroke:"#FF3333",strokeMiterlimit:"10",width:"22.313",height:"22.313"}),(0,k_.jsx)("line",{fill:"none",stroke:"#FF3333",strokeMiterlimit:"10",x1:"27.156",y1:"4.844",x2:"4.844",y2:"27.156"}),(0,k_.jsx)("line",{fill:"none",stroke:"#FF3333",strokeMiterlimit:"10",x1:"4.844",y1:"4.844",x2:"27.156",y2:"27.156"})]})}},Iw=function(e){var t=e.style,n=e.className,r=e.icon;return(0,k_.jsx)("svg",{style:t,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 32 32",xmlSpace:"preserve",className:bn()("ptr-icon",n),children:"function"===typeof r?r():Lw(r)})};Iw.propTypes={className:dn().string,icon:dn().oneOfType([dn().func,dn().string]),style:dn().object};var Dw=Iw,jw=function(e){var n=e.open,r=e.bottom,i=e.top,o=e.left,a=e.right,s=e.className,u=e.children;return(0,k_.jsx)("div",{className:bn()("ptr-menu",s,{open:n,bottom:r,top:i,left:o,right:a}),style:{height:n?2*t.Children.toArray(u).filter((function(e){return(0,t.isValidElement)(e)})).length+"rem":0},onClick:function(e){e.preventDefault()},children:u})};jw.propTypes={bottom:dn().bool,children:dn().node,className:dn().string,left:dn().bool,open:dn().bool,right:dn().bool,top:dn().bool};var Nw=jw,Bw=function(e){var n=e.selected,r=e.disabled,i=e.className,o=e.children,a=e.onClick,s=t.Children.map(o,(function(e){return"string"===typeof e?(0,k_.jsx)("div",{className:"ptr-menu-item-caption",children:e}):e}));return(0,k_.jsx)("div",{className:bn()("ptr-menu-item",i,{selected:n,disabled:r}),onClick:function(e){a&&a(e),e.preventDefault()},children:s})};function zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zw(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Bw.propTypes={children:dn().node,className:dn().string,disabled:dn().bool,onClick:dn().func,selected:dn().bool};var Fw=function(e){var n=e.children,r=e.circular,i=e.className,o=e.disabled,a=void 0!==o&&o,s=e.ghost,u=e.icon,l=e.inverted,c=e.invisible,h=e.large,f=e.onClick,d=e.onHold,p=e.primary,g=e.secondary,m=e.side,y=e.small,b=e.title,_=e.unfocusable,w=e.holdStart,E=void 0===w?300:w,S=e.holdStep,x=void 0===S?50:S,M=e.id,k=(0,t.useRef)(),A=v((0,t.useState)(!1),2),T=A[0],P=A[1],O=v((0,t.useState)(!1),2),C=O[0],R=O[1],L=(0,t.useRef)(),I=(0,t.useRef)(),D=function(){clearTimeout(L.current),clearInterval(I.current)},j=function(){d(),I.current=setInterval(d,x),R(!0)},N=function(){d&&!a&&(D(),L.current=setTimeout(j,E))},B=function(){d&&(D(),C&&R(!1))},z=function(e){e.stopPropagation(),N()},Z=function(e){e.stopPropagation(),B()},F=function(){k.current.addEventListener("touchstart",z),k.current.addEventListener("touchend",Z)},U=function(){var e,t;null===(e=k.current)||void 0===e||e.removeEventListener("touchstart",z),null===(t=k.current)||void 0===t||t.removeEventListener("touchend",Z)};(0,t.useEffect)((function(){return"function"===typeof d&&F(),function(){"function"===typeof d&&U()}}),[]);var K=(0,t.useRef)();(0,t.useEffect)((function(){K.current&&!d?U():!K.current&&d&&F()}),[d]),(0,t.useEffect)((function(){a&&C&&D()}),[a]);var V=function(e){a||(f&&f(e),P(!T))},H=null;u&&(H=(0,k_.jsx)(Dw,{icon:u}));var W=!1,G=t.Children.map(n,(function(e){if(e){if("string"===typeof e||"number"===typeof e)return W=!0,(0,k_.jsx)("div",{className:"ptr-button-caption",children:e});if("object"===(0,pn.Z)(e)&&e.type===t.Fragment)return W=!0,(0,k_.jsx)("div",{className:"ptr-button-content",children:e});if("object"===(0,pn.Z)(e)&&e.type===Nw){var n=Zw(Zw({},e.props),{},{open:!!T,className:bn()(e.props.className,"ptr-button-menu")});return(0,t.cloneElement)(e,n,e.props.children)}return W=!0,e}})),q=bn()("ptr-button",{circular:!!r,disabled:a,ghost:!!s,icon:!!H&&!W,invisible:!!c,inverted:!!l,large:!!h,primary:!!p,secondary:!!g,side:!!m,"side-left":"left"===m,"side-right":"right"===m,"side-top":"top"===m,"side-bottom":"bottom"===m,small:y},i);return(0,k_.jsxs)("div",{className:q,id:M,onBlur:function(){P(!1)},onClick:V,onKeyPress:function(e){(32===e.charCode||13===e.charCode)&&V(e)},tabIndex:a||_?"-1":"0",title:b,ref:k,onMouseLeave:B,onMouseDown:N,onMouseUp:B,children:[H,G]})};Fw.propTypes={circular:dn().bool,className:dn().string,disabled:dn().bool,ghost:dn().bool,icon:dn().string,inverted:dn().bool,invisible:dn().bool,large:dn().bool,onClick:dn().func.isRequired,onHold:dn().func,primary:dn().bool,secondary:dn().bool,side:dn().string,small:dn().bool,title:dn().string,unfocusable:dn().bool,holdStart:dn().number,holdStep:dn().number,children:dn().node,id:dn().string};var Uw=Fw;dn().node,dn().bool;dn().node,dn().bool,dn().string;var Kw=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Vw={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},Hw=function(e){return Vw[e]};var Ww,Gw={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(Kw,Hw)}},qw=(0,t.createContext)();var Yw=function(){function e(){(0,Vt.Z)(this,e),this.usedNamespaces={}}return(0,Ht.Z)(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function Xw(){return Ww}function $w(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var Jw={};function Qw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&Jw[t[0]]||("string"===typeof t[0]&&(Jw[t[0]]=new Date),$w.apply(void 0,t))}function eE(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tE(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rE=function(e,n){var r=(0,t.useRef)();return(0,t.useEffect)((function(){r.current=n?r.current:e}),[e,n]),r.current};function iE(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.i18n,i=(0,t.useContext)(qw)||{},o=i.i18n,a=i.defaultNS,s=r||o||Xw();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Yw),!s){Qw("You will need to pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[u,{},!1];return l.t=u,l.i18n={},l.ready=!1,l}s.options.react&&void 0!==s.options.react.wait&&Qw("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=nE(nE(nE({},Gw),s.options.react),n),h=c.useSuspense,f=c.keyPrefix,d=e||a||s.options&&s.options.defaultNS;d="string"===typeof d?[d]:d||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(d);var p=(s.isInitialized||s.initializedStoreOnce)&&d.every((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!a(r,e)||i&&!a(o,e)))}(e,t,n):(Qw("i18n.languages were undefined or empty",t.languages),!0)}(e,s,c)}));function g(){return s.getFixedT(null,"fallback"===c.nsMode?d:d[0],f)}var m=v((0,t.useState)(g),2),y=m[0],b=m[1],_=d.join(),w=rE(_),E=(0,t.useRef)(!0);(0,t.useEffect)((function(){var e=c.bindI18n,t=c.bindI18nStore;function n(){E.current&&b(g)}return E.current=!0,p||h||eE(s,d,(function(){E.current&&b(g)})),p&&w&&w!==_&&E.current&&b(g),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){E.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,_]);var S=(0,t.useRef)(!0);(0,t.useEffect)((function(){E.current&&!S.current&&b(g),S.current=!1}),[s,f]);var x=[y,s,p];if(x.t=y,x.i18n=s,x.ready=p,p)return x;if(!p&&!h)return x;throw new Promise((function(e){eE(s,d,(function(){e()}))}))}var oE=["forwardedRef"];function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aE(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uE(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){function i(i){var o=i.forwardedRef,a=vn(i,oE),s=v(iE(e,sE(sE({},a),{},{keyPrefix:n.keyPrefix})),3),u=s[0],l=s[1],c=s[2],h=sE(sE({},a),{},{t:u,i18n:l,tReady:c});return n.withRef&&o?h.ref=o:!n.withRef&&o&&(h.forwardedRef=o),(0,t.createElement)(r,h)}i.displayName="withI18nextTranslation(".concat(function(e){return e.displayName||e.name||("string"===typeof e&&e.length>0?e:"Unknown")}(r),")"),i.WrappedComponent=r;return n.withRef?(0,t.forwardRef)((function(e,n){return(0,t.createElement)(i,Object.assign({},e,{forwardedRef:n}))})):i}}var lE=function(e){var n=e.onClose,r=e.onLogin,i=e.open,o=e.opening,a=e.loginRequired,s=e.t,u=v((0,t.useState)(""),2),l=u[0],c=u[1],h=v((0,t.useState)(""),2),f=h[0],d=h[1],p=v((0,t.useState)(!1),2),g=p[0],m=p[1];(0,t.useEffect)((function(){o&&setTimeout((function(){m(!0)}),10)}),[]);var y=function(){m(!1),n&&setTimeout((function(){n()}),350)};return(0,k_.jsx)("div",{className:bn()("ptr-login-overlay",{open:g||i}),children:(0,k_.jsxs)("div",{className:"ptr-login",children:[(0,k_.jsx)("div",{children:(0,k_.jsx)(O_,{inverted:!0,email:!0,transparent:!0,placeholder:"E-mail",onChange:function(e){c(e)},value:l})}),(0,k_.jsx)("div",{children:(0,k_.jsx)(O_,{inverted:!0,password:!0,transparent:!0,placeholder:s("user.passphrase"),onChange:function(e){d(e)},value:f})}),(0,k_.jsxs)("div",{children:[(0,k_.jsx)(Uw,{primary:!0,onClick:function(){r(l,f),y()},children:s("user.login")}),a?null:(0,k_.jsx)(Uw,{invisible:!0,inverted:!0,onClick:function(){y()},children:s("cancelCapitalized")})]})]})})};lE.propTypes={onClose:dn().func,onLogin:dn().func,open:dn().bool,opening:dn().bool,loginRequired:dn().bool,t:dn().func};var cE=uE(["common"])(lE),hE=function(e){var n=e.activeUser,r=e.loginRequired,i=e.light,o=e.dark,a=e.onLoginOverlayClose,s=e.onMount,u=e.loginOverlayOpen,l=e.onLogIn,c=e.children,h=e.appKey;(0,t.useEffect)((function(){"function"===typeof s&&s()}),[]);var f=bn()(h,{"ptr-light":i||!o,"ptr-dark":o});return(0,k_.jsx)("div",{id:"ptr-app",className:f,children:function(){var e=u?(0,k_.jsx)(cE,{onLogin:l,onClose:a,opening:!0}):null;return r&&!n?(0,k_.jsx)(cE,{open:!0,loginRequired:!0,onLogin:l}):(0,k_.jsxs)(k_.Fragment,{children:[e,c]})}()},"ptr-app")};hE.propTypes={appKey:dn().string,activeUser:dn().object,loginRequired:dn().bool,light:dn().bool,dark:dn().bool,onLoginOverlayClose:dn().func,onMount:dn().func,children:dn().node,loginOverlayOpen:dn().bool,onLogIn:dn().func};var fE=hE,dE=n(8714),pE=function(e,t,n,r,i){fetch("".concat(e,"?q=").concat(n,"&fuzzy=0.7&maxRows=").concat(r,"&inclBbox=true&username=").concat(t)).then((function(e){return e.json()})).then((function(e){null!==e&&void 0!==e&&e.geonames?i(function(e,t){return null!==e&&void 0!==e&&e.length?e.map((function(e){var t=e.toponymName,n=e.countryName,r=e.adminName1,i=e.geonameId,o=e.name,a=e.bbox,s=e.lat,u=e.lng,l="".concat(t),c=[];return n&&c.push(n),r&&c.push(r),c.length&&(l="".concat(l," (").concat(c.join(", "),")")),{id:i,name:o,description:l,bbox:a,lat:s,lon:u,pantherMapView:nr.view.getViewFromBoundingBox({minLat:(null===a||void 0===a?void 0:a.south)||Number(s)-.001,minLon:(null===a||void 0===a?void 0:a.east)||Number(u)-.001,maxLat:(null===a||void 0===a?void 0:a.north)||Number(s)+.001,maxLon:(null===a||void 0===a?void 0:a.west)||Number(u)+.001},!0),originalData:e}})):[{name:t,description:"No location found for given string",info:!0}]}(e.geonames,n)):console.warn("No geonames found")}),(function(e){throw new Error(e)}))},vE=function(e){var t=e.name,n=e.description;return e.info?(0,k_.jsx)("div",{className:"ptr-GeonamesSearchSuggestionItem is-disabled",children:(0,k_.jsx)("div",{className:"ptr-GeonamesSearchSuggestionItem-description",children:n})}):(0,k_.jsxs)("div",{className:"ptr-GeonamesSearchSuggestionItem",children:[(0,k_.jsx)("div",{className:"ptr-GeonamesSearchSuggestionItem-name",children:t}),(0,k_.jsx)("div",{className:"ptr-GeonamesSearchSuggestionItem-description",children:n})]})};vE.propTypes={name:dn().string,description:dn().string,info:dn().string};var gE=function(e){var n=e.className,r=e.onPlaceSelect,i=e.apiKey,o=void 0===i?"pavel.vlach":i,a=e.apiUrl,s=void 0===a?"https://secure.geonames.org/searchJSON":a,u=e.autoFocus,l=e.maxPlaces,c=void 0===l?5:l,h=e.hideClearIcon,f=e.hideSearchIcon,d=e.placeholder,p=void 0===d?"Search place...":d,g=v((0,t.useState)([]),2),m=g[0],y=g[1],b=bn()("ptr-GeonamesSearch",{},n);return(0,k_.jsx)("div",{className:b,children:(0,k_.jsx)(dE.R,{autoFocus:u,items:m,inputDebounce:50,onSearch:function(e){pE(s,o,e,c,y)},onSelect:function(e){r&&r(e)},placeholder:p,formatResult:vE,showClear:!h,showIcon:!f})})};gE.propTypes={autoFocus:dn().bool,className:dn().string,apiKey:dn().string,apiUrl:dn().string,hideClearIcon:dn().bool,hideSearchIcon:dn().bool,maxPlaces:dn().number,onPlaceSelect:dn().func.isRequired,placeholder:dn().string};function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mE(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bE=function(e){var n=e.activeScreenKey,r=e.children,i=v((0,t.useState)(n||null),2),o=i[0],a=i[1],s=v((0,t.useState)(t.Children.count(r)),1)[0];(0,t.useEffect)((function(){o!==n&&a(n)}),[n]);var u=function(e){a(e)},l=0,c=t.Children.map(r,(function(e,n){return e.props.screenKey===o&&(l=n),(0,k_.jsx)("div",{style:{width:100/s+"%"},children:(0,t.cloneElement)(e,yE(yE({},e.props),{},{switchScreen:u}))})}));return(0,k_.jsx)("div",{className:"ptr-screen-viewport",children:(0,k_.jsx)("div",{className:"ptr-screen-container",style:{width:100*s+"%",left:-100*l+"%"},children:c})})};bE.propTypes={activeScreenKey:dn().string,children:dn().node};var _E=function(e){var n=e.content,r=e.disabled,i=e.focused,o=e.onFocus,a=e.onCloseClick,s=e.onOpenClick,u=e.onRetractClick,l=e.noControls,c=e.lineage,h=e.minWidth,f=e.width,d=(0,t.useRef)(),p=v((0,t.useState)(!1),2),g=p[0],m=p[1];(0,t.useEffect)((function(){var e;!0!==r&&null!==d&&void 0!==d&&null!==(e=d.current)&&void 0!==e&&e.children[0]&&d.current.children[0].focus()}),[]);var y=(0,t.useRef)();(0,t.useEffect)((function(){var e;i&&y.current!==i&&!r&&null!==d&&void 0!==d&&null!==(e=d.current)&&void 0!==e&&e.children[0]&&d.current.children[0].focus(),y.current=i,r&&m(!1)}),[i,r]);var b=r?-1:0,_=bn()("ptr-screen",{base:"base"===c,disabled:r,open:!r,focused:g}),w={};(f||0===f)&&(w.width="".concat(f,"rem"));var E={};r&&(E.overflow="hidden");var S={};return(h||0===h)&&(S.minWidth="".concat(h,"rem")),(0,k_.jsxs)("div",{className:_,style:w,onFocus:function(){r||(o(c),m(!0))},onBlur:function(){m(!1)},ref:d,children:[(0,k_.jsx)("div",{className:"ptr-screen-scroll",style:E,tabIndex:b,children:(0,k_.jsx)("div",{style:S,children:n})}),(0,k_.jsx)("div",{className:"ptr-screen-overlay",onClick:s}),l?null:(0,k_.jsx)("div",{className:"ptr-screen-controls top",children:(0,k_.jsx)(Uw,{ghost:!0,icon:"close",side:"left",unfocusable:r,onClick:a})}),!l&&r?(0,k_.jsx)("div",{className:"ptr-screen-controls middle",children:(0,k_.jsx)(Uw,{ghost:!0,icon:"chevron-left",side:"left",unfocusable:r,onClick:s})}):null,l||r?null:(0,k_.jsx)("div",{className:"ptr-screen-controls middle",children:(0,k_.jsx)(Uw,{ghost:!0,icon:"chevron-right",side:"left",unfocusable:r,onClick:u})})]})};_E.propTypes={content:dn().oneOfType([dn().element,dn().array]),disabled:dn().bool,focused:dn().bool,onFocus:dn().func,onCloseClick:dn().func,onOpenClick:dn().func,onRetractClick:dn().func,noControls:dn().bool,lineage:dn().string,minWidth:dn().number,width:dn().number};var wE=_E;function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EE(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xE=function(e){var n=e.children,r=e.set,i=e.screens,o=e.onCloseScreen,a=e.onFocusScreen,s=e.onOpenScreen,u=e.onRetractScreen,l=e.baseActiveWidth,c=void 0===l?40:l,h=v((0,t.useState)(),2),f=h[0],d=h[1],p=(0,t.useRef)(),m=function(){var e=null,t=null;if(p.current&&"undefined"!==typeof p.current.clientWidth&&(t=p.current.clientWidth),document&&document.documentElement&&(e=getComputedStyle(document.documentElement).fontSize,e=Number(e.slice(0,-2))),t&&e){var n=t/e;n!==f&&d(n)}};(0,t.useEffect)((function(){m()}),[]),(0,t.useEffect)((function(){return"undefined"!==typeof window&&window.addEventListener("resize",m,{passive:!0}),function(){"undefined"!==typeof window&&window.removeEventListener("resize",m)}}),[]);var y=function(e,t,n){return(0,k_.jsx)(wE,{lineage:e.lineage,focused:e.focused,disabled:e.computedDisabled,width:e.computedWidth,minWidth:e.minActiveWidth,content:t,contentWidth:e.contentWidth,onFocus:a,onCloseClick:o,onOpenClick:s,onRetractClick:u,noControls:n},e.lineage)};return(0,k_.jsx)("div",{className:"ptr-screens",ref:p,children:function(){if(f&&r){var e={},o=[r.orderByHistory].reverse(),a=(0,g.Z)(r.orderBySpace);n&&(oe().includes(o,"base")||o.push("base"),oe().includes(a,"base")||a.unshift("base"));var s=5*o.length,u=f-s,l=null,h=!1,d=!1;if(o.forEach((function(t){e[t]={lineage:t};var n=i[t];l||h||d||(n&&n.data&&"open"===n.data.desiredState&&(n.data.width+1>u+5?l=n.lineage:d=!0),"base"===t&&(h=!0)),n&&n.data&&"closing"===n.data.desiredState&&(u+=5)})),l)o.forEach((function(t){t!==l?(e[t].computedDisabled=!0,e[t].computedWidth=0):(e[t].computedWidth=f,e[t].focused=!0,e[t].minActiveWidth=0)}));else{var p=!1;o.forEach((function(t){var n=i[t];if(u)if(n&&n.data&&n.data.width)"open"===n.data.desiredState?(n.data.width+1<=u+5?e[t].computedWidth=n.data.width+1:(e[t].computedWidth=u+5,e[t].computedDisabled=!0),u-=e[t].computedWidth-5):"retracted"===n.data.desiredState?(e[t].computedWidth=5,e[t].computedDisabled=!0):"opening"===n.data.desiredState?(e[t].computedWidth=0,e[t].computedDisabled=!1,u-=n.data.width-5):(e[t].computedWidth=0,e[t].computedDisabled=!0);else if(n&&n.data&&"retracted"===n.data.desiredState)e[t].computedWidth=5,e[t].computedDisabled=!0;else if(n&&n.data&&"closing"===n.data.desiredState)e[t].computedWidth=0,e[t].computedDisabled=!0;else{"base"===t&&(h||c+1<=u+5)?(e[t].computedWidth=c+1,u-=c-5):(e[t].computedWidth=u+5,u=0),"base"!==t||h||(e[t].computedDisabled=e[t].computedWidth<c)}else e[t].computedWidth=5,e[t].computedDisabled=!0;var r=n&&"closing"===n.data.desiredState;p||!r&&e[t].computedDisabled||(e[t].focused=!0,p=!0)}))}var v=[];return a.forEach((function(r){var o=e[r],a=i[r];if(a&&a.data&&(a.data.minActiveWidth||o.minActiveWidth)&&(o.minActiveWidth=Object.hasOwn(o,"minActiveWidth")?o.minActiveWidth:a.data.minActiveWidth),a&&a.data&&a.data.width&&(o.contentWidth=a.data.width?a.data.width:null),"base"===r){var s=n;o.computedDisabled&&(s=t.cloneElement(n,{unfocusable:!0})),v.push(y(o,s,!0))}else v.push(y(o,t.createElement(a.data.component,SE(SE({},a.data.props),{},{unfocusable:o.computedDisabled}),null)))})),v}if(n){return y({lineage:"base"},n,!0)}return null}()})};xE.propTypes={set:dn().shape({orderBySpace:dn().array,orderByHistory:dn().array}),screens:dn().object,onCloseScreen:dn().func,onFocusScreen:dn().func,onOpenScreen:dn().func,onRetractScreen:dn().func,baseActiveWidth:dn().number,children:dn().node};var ME=function(e){var n=e.user,r=e.inverted,i=e.logout,o=e.onMount,a=e.t,s=e.login;if((0,t.useEffect)((function(){"function"===typeof o&&o()}),[]),n){var u=n.data.name||n.data.email;return(0,k_.jsxs)("div",{className:"ptr-user",children:[(0,k_.jsx)("div",{className:"ptr-user-image"}),(0,k_.jsx)("div",{className:"ptr-user-name",children:u}),(0,k_.jsx)("div",{className:"ptr-user-options",children:(0,k_.jsx)(Uw,{onClick:function(){},icon:"dots",invisible:!0,inverted:r,children:(0,k_.jsx)(Nw,{bottom:!0,left:!0,children:(0,k_.jsx)(Bw,{onClick:i,children:a("user.logout")})})})})]})}return(0,k_.jsx)("div",{className:"ptr-user",children:(0,k_.jsx)("div",{className:"ptr-user-login",children:(0,k_.jsx)(Uw,{invisible:!0,inverted:r,onClick:s,children:a("user.login")})})})};ME.propTypes={user:dn().object,inverted:dn().bool,onMount:dn().func,logout:dn().func,login:dn().func,t:dn().func};uE()(ME);var kE=n(2355),AE=function(e,t){return AE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},AE(e,t)};var TE=function(){return TE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},TE.apply(this,arguments)};var PE=n(1677),OE={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},CE=function(e){function n(t){var n=e.call(this,t)||this;return n.isResizing=!1,n.state={original:{x:0,y:0},bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(e,t){function n(){this.constructor=e}AE(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,e),n.prototype.componentDidMount=function(){var e=this.getOffsetFromParent(),t=e.left,n=e.top,r=this.getDraggablePosition(),i=r.x,o=r.y;this.draggable.setState({x:i-t,y:o-n}),this.forceUpdate()},n.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},n.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},n.prototype.getParentSize=function(){return this.resizable.getParentSize()},n.prototype.getMaxSizesFromProps=function(){return{maxWidth:"undefined"===typeof this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:"undefined"===typeof this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},n.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},n.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},n.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},n.prototype.onDragStart=function(e,t){if(this.props.onDragStart&&this.props.onDragStart(e,t),this.props.bounds){var n,r=this.getParent(),i=this.props.scale;if("parent"===this.props.bounds)n=r;else{if("body"===this.props.bounds){var o=r.getBoundingClientRect(),a=o.left,s=o.top,u=document.body.getBoundingClientRect(),l=-(a-r.offsetLeft*i-u.left)/i,c=-(s-r.offsetTop*i-u.top)/i,h=(document.body.offsetWidth-this.resizable.size.width*i)/i+l,f=(document.body.offsetHeight-this.resizable.size.height*i)/i+c;return this.setState({bounds:{top:c,right:h,bottom:f,left:l}})}if("window"===this.props.bounds){if(!this.resizable)return;var d=r.getBoundingClientRect(),p=d.left,v=d.top,g=-(p-r.offsetLeft*i)/i,m=-(v-r.offsetTop*i)/i;h=(window.innerWidth-this.resizable.size.width*i)/i+g,f=(window.innerHeight-this.resizable.size.height*i)/i+m;return this.setState({bounds:{top:m,right:h,bottom:f,left:g}})}n=document.querySelector(this.props.bounds)}if(n instanceof HTMLElement&&r instanceof HTMLElement){var y=n.getBoundingClientRect(),b=y.left,_=y.top,w=r.getBoundingClientRect(),E=(b-w.left)/i,S=_-w.top;if(this.resizable){var x=this.getOffsetFromParent();this.setState({bounds:{top:S-x.top,right:E+(n.offsetWidth-this.resizable.size.width)-x.left/i,bottom:S+(n.offsetHeight-this.resizable.size.height)-x.top,left:E-x.left/i}})}}}},n.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.getOffsetFromParent();this.props.onDrag(e,TE({},t,{x:t.x-n.left,y:t.y-n.top}))}},n.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.getOffsetFromParent(),r=n.left,i=n.top;return this.props.onDragStop(e,TE({},t,{x:t.x+r,y:t.y+i}))}},n.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.isResizing=!0;var r=this.props.scale;if(this.setState({original:this.getDraggablePosition()}),this.props.bounds){var i=this.getParent(),o=void 0;o="parent"===this.props.bounds?i:"body"===this.props.bounds?document.body:"window"===this.props.bounds?window:document.querySelector(this.props.bounds);var a=this.getSelfElement();if(a instanceof Element&&(o instanceof HTMLElement||o===window)&&i instanceof HTMLElement){var s=this.getMaxSizesFromProps(),u=s.maxWidth,l=s.maxHeight,c=this.getParentSize();if(u&&"string"===typeof u)if(u.endsWith("%")){var h=Number(u.replace("%",""))/100;u=c.width*h}else u.endsWith("px")&&(u=Number(u.replace("px","")));if(l&&"string"===typeof l)if(l.endsWith("%")){h=Number(l.replace("%",""))/100;l=c.width*h}else l.endsWith("px")&&(l=Number(l.replace("px","")));var f=a.getBoundingClientRect(),d=f.left,p=f.top,v="window"===this.props.bounds?{left:0,top:0}:o.getBoundingClientRect(),g=v.left,m=v.top,y=this.getOffsetWidth(o),b=this.getOffsetHeight(o),_=t.toLowerCase().endsWith("left"),w=t.toLowerCase().endsWith("right"),E=t.startsWith("top"),S=t.startsWith("bottom");if(_&&this.resizable){var x=(d-g)/r+this.resizable.size.width;this.setState({maxWidth:x>Number(u)?u:x})}if(w||this.props.lockAspectRatio&&!_){x=y+(g-d)/r;this.setState({maxWidth:x>Number(u)?u:x})}if(E&&this.resizable){x=(p-m)/r+this.resizable.size.height;this.setState({maxHeight:x>Number(l)?l:x})}if(S||this.props.lockAspectRatio&&!E){x=b+(m-p)/r;this.setState({maxHeight:x>Number(l)?l:x})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},n.prototype.onResize=function(e,t,n,r){var i,o,a=this.getOffsetFromParent();/left/i.test(t)&&(i=this.state.original.x-r.width,this.props.position||this.draggable.setState({x:i}),i+=a.left),/top/i.test(t)&&(o=this.state.original.y-r.height,this.props.position||this.draggable.setState({y:o}),o+=a.top),this.props.onResize&&("undefined"===typeof i&&(i=this.getDraggablePosition().x+a.left),"undefined"===typeof o&&(o=this.getDraggablePosition().y+a.top),this.props.onResize(e,t,n,r,{x:i,y:o}))},n.prototype.onResizeStop=function(e,t,n,r){this.isResizing=!1;var i=this.getMaxSizesFromProps(),o=i.maxWidth,a=i.maxHeight;if(this.setState({maxWidth:o,maxHeight:a}),this.props.onResizeStop){var s=this.getDraggablePosition();this.props.onResizeStop(e,t,n,r,s)}},n.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},n.prototype.updatePosition=function(e){this.draggable.setState(e)},n.prototype.getOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var r=t.getBoundingClientRect(),i=r.left,o=r.top,a=n.getBoundingClientRect(),s=this.getDraggablePosition();return{left:a.left-i-s.x*e,top:a.top-o-s.y*e}},n.prototype.render=function(){var e=this,n=this.props,r=n.disableDragging,i=n.style,o=n.dragHandleClassName,a=n.position,s=n.onMouseDown,u=n.dragAxis,l=n.dragGrid,c=n.bounds,h=n.enableUserSelectHack,f=n.cancel,d=n.children,p=(n.onResizeStart,n.onResize,n.onResizeStop,n.onDragStart,n.onDrag,n.onDragStop,n.resizeHandleStyles),v=n.resizeHandleClasses,g=n.enableResizing,m=n.resizeGrid,y=n.resizeHandleWrapperClass,b=n.resizeHandleWrapperStyle,_=n.scale,w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}(n,["disableDragging","style","dragHandleClassName","position","onMouseDown","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale"]),E=this.props.default?TE({},this.props.default):void 0;delete w.default;var S,x=TE({},OE,r||o?{cursor:"auto"}:{cursor:"move"},i),M=this.getOffsetFromParent(),k=M.left,A=M.top;return a&&(S={x:a.x-k,y:a.y-A}),(0,t.createElement)(PE,{ref:function(t){t&&(e.draggable=t)},handle:o?"."+o:void 0,defaultPosition:E,onMouseDown:s,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:u,disabled:r,grid:l,bounds:c?this.state.bounds:void 0,position:S,enableUserSelectHack:h,cancel:f,scale:_},(0,t.createElement)(kE.Resizable,TE({},w,{ref:function(t){t&&(e.resizable=t)},defaultSize:E,size:this.props.size,enable:g,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:x,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.isResizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.isResizing?this.state.maxHeight:this.props.maxHeight,grid:m,handleWrapperClass:y,handleWrapperStyle:b,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:p,handleClasses:v,scale:this.props.scale}),d))},n.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},n}(t.Component),RE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},LE=t.createContext&&t.createContext(RE),IE=function(){return IE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},IE.apply(this,arguments)},DE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function jE(e){return e&&e.map((function(e,n){return t.createElement(e.tag,IE({key:n},e.attr),jE(e.child))}))}function NE(e){return function(n){return t.createElement(BE,IE({attr:IE({},e.attr)},n),jE(e.child))}}function BE(e){var n=function(n){var r,i=e.attr,o=e.size,a=e.title,s=DE(e,["attr","size","title"]),u=o||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",IE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:IE(IE({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==LE?t.createElement(LE.Consumer,null,(function(e){return n(e)})):n(RE)}function zE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 3h8v8H3zm10 0h8v8h-8zM3 13h8v8H3zm15 0h-2v3h-3v2h3v3h2v-3h3v-2h-3z"}}]})(e)}function ZE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"}}]})(e)}function FE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}}]})(e)}function UE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7.5 21H2V9h5.5v12zm7.25-18h-5.5v18h5.5V3zM22 11h-5.5v10H22V11z"}}]})(e)}function KE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11 7L9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"}}]})(e)}function VE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}}]})(e)}function HE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6 19h12v2H6z"}}]})(e)}function WE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 7h9v2h-9zM13 15h9v2h-9zM16 11h6v2h-6zM13 12L8 7v4H2v2h6v4z"}}]})(e)}function GE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}}]})(e)}function qE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20.94 11A8.994 8.994 0 0013 3.06V1h-2v2.06A8.994 8.994 0 003.06 11H1v2h2.06A8.994 8.994 0 0011 20.94V23h2v-2.06A8.994 8.994 0 0020.94 13H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}}]})(e)}function YE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"circle",attr:{cx:"7",cy:"14",r:"3"}},{tag:"circle",attr:{cx:"11",cy:"6",r:"3"}},{tag:"circle",attr:{cx:"16.6",cy:"17.6",r:"3"}}]})(e)}function XE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}}]})(e)}function $E(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2v2zm0 15H5l5-6v6zm9-15h-5v2h5v13l-5-6v9h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}}]})(e)}function JE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}}]})(e)}function QE(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M18 13v7H4V6h5.02c.05-.71.22-1.38.48-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5l-2-2zm-1.5 5h-11l2.75-3.53 1.96 2.36 2.75-3.54zm2.8-9.11c.44-.7.7-1.51.7-2.39C20 4.01 17.99 2 15.5 2S11 4.01 11 6.5s2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21 13.42 22.42 12 19.3 8.89zM15.5 9a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"}}]})(e)}function eS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}}]})(e)}function tS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}}]})(e)}function nS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}}]})(e)}function rS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function iS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}}]})(e)}function oS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}}]})(e)}function aS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}function sS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15 11V5l-3-3-3 3v2H3v14h18V11h-6zm-8 8H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm6 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm6 12h-2v-2h2v2zm0-4h-2v-2h2v2z"}}]})(e)}function uS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}}]})(e)}function lS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.35 18.5C8.66 17.56 10.26 17 12 17s3.34.56 4.65 1.5c-1.31.94-2.91 1.5-4.65 1.5s-3.34-.56-4.65-1.5zm10.79-1.38a9.947 9.947 0 00-12.28 0A7.957 7.957 0 014 12c0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.95-.7 3.73-1.86 5.12z"}},{tag:"path",attr:{d:"M12 6c-1.93 0-3.5 1.57-3.5 3.5S10.07 13 12 13s3.5-1.57 3.5-3.5S13.93 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"}}]})(e)}function cS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function hS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 19V5h6v14H5zm14 0h-6v-7h6v7zm0-9h-6V5h6v5z"}}]})(e)}function fS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9 21h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.58 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2zM9 9l4.34-4.34L12 10h9v2l-3 7H9V9zM1 9h4v12H1V9z"}}]})(e)}function dS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function pS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 5h2v3h10V5h2v5h2V5c0-1.1-.9-2-2-2h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v-2H5V5zm7-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"}},{tag:"path",attr:{d:"M20.3 18.9c.4-.7.7-1.5.7-2.4 0-2.5-2-4.5-4.5-4.5S12 14 12 16.5s2 4.5 4.5 4.5c.9 0 1.7-.3 2.4-.7l2.7 2.7 1.4-1.4-2.7-2.7zm-3.8.1c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"}}]})(e)}function vS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9.37 5.51A7.35 7.35 0 009.1 7.5c0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27A7.014 7.014 0 0112 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49zM12 3a9 9 0 109 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 01-4.4 2.26 5.403 5.403 0 01-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"}}]})(e)}function gS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M8 19h3v4h2v-4h3l-4-4-4 4zm8-14h-3V1h-2v4H8l4 4 4-4zM4 11v2h16v-2H4z"}}]})(e)}function mS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4l-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"}}]})(e)}function yS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M9.17 6l2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}}]})(e)}function bS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M12 4.53L17.74 9l-1.89 1.47 1.43 1.42L21 9l-9-7-2.59 2.02 1.42 1.42zm9 9.54l-1.63-1.27-.67.52 1.43 1.43zM3.41.86L2 2.27l4.22 4.22L3 9l9 7 2.1-1.63 1.42 1.42-3.53 2.75-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21l1.41-1.41L3.41.86zM12 13.47L6.26 9l1.39-1.08 5.02 5.02-.67.53z"}}]})(e)}function _S(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M14.17 13.71l1.4-2.42c.09-.15.05-.34-.08-.45l-1.48-1.16c.03-.22.05-.45.05-.68s-.02-.46-.05-.69l1.48-1.16c.13-.11.17-.3.08-.45l-1.4-2.42c-.09-.15-.27-.21-.43-.15l-1.74.7c-.36-.28-.75-.51-1.18-.69l-.26-1.85a.364.364 0 00-.35-.29h-2.8c-.17 0-.32.13-.35.3L6.8 4.15c-.42.18-.82.41-1.18.69l-1.74-.7c-.16-.06-.34 0-.43.15l-1.4 2.42c-.09.15-.05.34.08.45l1.48 1.16c-.03.22-.05.45-.05.68s.02.46.05.69l-1.48 1.16c-.13.11-.17.3-.08.45l1.4 2.42c.09.15.27.21.43.15l1.74-.7c.36.28.75.51 1.18.69l.26 1.85c.03.16.18.29.35.29h2.8c.17 0 .32-.13.35-.3l.26-1.85c.42-.18.82-.41 1.18-.69l1.74.7c.16.06.34 0 .43-.15zM8.81 11c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM21.92 18.67l-.96-.74c.02-.14.04-.29.04-.44 0-.15-.01-.3-.04-.44l.95-.74c.08-.07.11-.19.05-.29l-.9-1.55c-.05-.1-.17-.13-.28-.1l-1.11.45c-.23-.18-.48-.33-.76-.44l-.17-1.18a.216.216 0 00-.21-.2h-1.79c-.11 0-.21.08-.22.19l-.17 1.18c-.27.12-.53.26-.76.44l-1.11-.45a.23.23 0 00-.28.1l-.9 1.55c-.05.1-.04.22.05.29l.95.74a3.145 3.145 0 000 .88l-.95.74c-.08.07-.11.19-.05.29l.9 1.55c.05.1.17.13.28.1l1.11-.45c.23.18.48.33.76.44l.17 1.18c.02.11.11.19.22.19h1.79c.11 0 .21-.08.22-.19l.17-1.18c.27-.12.53-.26.75-.44l1.12.45c.1.04.22 0 .28-.1l.9-1.55c.06-.09.03-.21-.05-.28zm-4.29.16a1.35 1.35 0 11.001-2.701 1.35 1.35 0 01-.001 2.701z"}}]})(e)}function wS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"}},{tag:"path",attr:{d:"M17.51 3.87L15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"}}]})(e)}function ES(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6.23 20.23L8 22l10-10L8 2 6.23 3.77 14.46 12z"}}]})(e)}function SS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}}]})(e)}function xS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M16 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8l-5-5zm3 16H5V5h10v4h4v10zM7 17h10v-2H7v2zm5-10H7v2h5V7zm-5 6h10v-2H7v2z"}}]})(e)}function MS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}}]})(e)}function kS(e){return NE({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"}}]})(e)}function AS(e){return NE({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"}}]})(e)}function TS(e){return NE({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M19.586 0c-.818 0-1.508.19-2.073.565-.563.377-.97.936-1.213 1.68a3.193 3.193 0 0 0-.112.437 8.365 8.365 0 0 0-.078.53 9 9 0 0 0-.05.727c-.01.282-.013.621-.013 1.016a31.121 31.123 0 0 0 .014 1.017 9 9 0 0 0 .05.727 7.946 7.946 0 0 0 .077.53h-.005a3.334 3.334 0 0 0 .113.438c.245.743.65 1.303 1.214 1.68.565.376 1.256.564 2.075.564.8 0 1.536-.213 2.105-.603.57-.39.94-.916 1.175-1.65.076-.235.135-.558.177-.93a10.9 10.9 0 0 0 .043-1.207v-.82c0-.095-.047-.142-.14-.142h-3.064c-.094 0-.14.047-.14.141v.956c0 .094.046.14.14.14h1.666c.056 0 .084.03.084.086 0 .36 0 .62-.036.865-.038.244-.1.447-.147.606-.108.385-.348.664-.638.876-.29.212-.738.35-1.227.35-.545 0-.901-.15-1.21-.353-.306-.203-.517-.454-.67-.915a3.136 3.136 0 0 1-.147-.762 17.366 17.367 0 0 1-.034-.656c-.01-.26-.014-.572-.014-.939a26.401 26.403 0 0 1 .014-.938 15.821 15.822 0 0 1 .035-.656 3.19 3.19 0 0 1 .148-.76 1.89 1.89 0 0 1 .742-1.01c.344-.244.593-.352 1.137-.352.508 0 .815.096 1.144.303.33.207.528.492.764.925.047.094.111.118.198.07l1.044-.43c.075-.048.09-.115.042-.199a3.549 3.549 0 0 0-.466-.742 3 3 0 0 0-.679-.607 3.313 3.313 0 0 0-.903-.41A4.068 4.068 0 0 0 19.586 0zM8.217 5.836c-1.69 0-3.036.086-4.297.086-1.146 0-2.291 0-3.007-.029v.831l1.088.2c.744.144 1.174.488 1.174 2.264v11.288c0 1.777-.43 2.12-1.174 2.263l-1.088.2v.832c.773-.029 2.12-.086 3.465-.086 1.29 0 2.951.057 3.667.086v-.831l-1.49-.2c-.773-.115-1.174-.487-1.174-2.264v-4.784c.688.057 1.29.057 2.206.057 1.748 3.123 3.41 5.472 4.355 6.56.86 1.032 2.177 1.691 3.839 1.691.487 0 1.003-.086 1.318-.23v-.744c-1.031 0-2.063-.716-2.808-1.518-1.26-1.376-2.95-3.582-4.355-6.074 2.32-.545 4.04-2.722 4.04-4.9 0-3.208-2.492-4.698-5.758-4.698zm-.515 1.29c2.406 0 3.839 1.26 3.839 3.552 0 2.263-1.547 3.782-4.097 3.782-.974 0-1.404-.03-2.063-.086v-7.19c.66-.059 1.547-.059 2.32-.059z"}}]})(e)}function PS(e){return NE({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"}}]})(e)}function OS(e){return NE({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M23.82698 11.163a2.2419 2.2419 0 00-.46698-.68697 2.1499 2.1499 0 00-1.52393-.62697 2.10991 2.10991 0 00-1.20695.36499 2.2469 2.2469 0 00-.49498.45398c-.06.075-.125.17499-.163.23599a2.68689 2.68689 0 00-.20498.46398c.006-.27.046-.67197.20499-.89797V8.52212a.42698.42698 0 00-.137-.32199.44298.44298 0 00-.31698-.132.43998.43998 0 00-.32299.132.43998.43998 0 00-.13.32199v1.73292a2.3699 2.3699 0 00-.59197-.29898 2.1239 2.1239 0 00-1.49994.06 2.1599 2.1599 0 00-1.15295 1.14695l-.024.06a2.2419 2.2419 0 00-.48997-.74697 2.1529 2.1529 0 00-1.52394-.62698 2.10991 2.10991 0 00-.84296.167 2.2299 2.2299 0 00-.68697.45998 2.10591 2.10591 0 00-.46598.68697l-.023.056-.023-.056a2.1549 2.1549 0 00-1.98992-1.31395c-.30098 0-.58197.056-.84196.167a2.2299 2.2299 0 00-.68597.45998c-.2.19599-.35499.42398-.46698.68697l-.02.053-.022-.053a2.2429 2.2429 0 00-.46698-.68698 2.1479 2.1479 0 00-1.52293-.62697 2.10991 2.10991 0 00-.84197.167 2.2289 2.2289 0 00-.64197.41798v-.072a.46298.46298 0 00-.46198-.46298H.53398a.46298.46298 0 000 .92596h2.54889L.091 14.84985a.46198.46198 0 00-.091.27499v.30198c0 .256.207.46298.46298.46298h3.44985a.46198.46198 0 00.46198-.42998 2.1689 2.1689 0 001.34695.47198c.44598 0 .84396-.12 1.19494-.35998.283-.192.50698-.43098.66998-.71997v.62597c0 .127.043.235.13.32199a.43598.43598 0 00.32398.132c.12 0 .22399-.044.31598-.132a.42698.42698 0 00.138-.32199V13.8579h-.002l.002-.003H7.36069a.43998.43998 0 00-.41799.28699l-.074.152a1.23395 1.23395 0 01-.45997.53197 1.23395 1.23395 0 01-.68697.197c-.168 0-.32999-.031-.48498-.095a1.17495 1.17495 0 01-.39999-.27 1.38194 1.38194 0 01-.26998-.39998 1.16495 1.16495 0 01-.1-.47698v-.40598h4.02783v-1.37494a1.23695 1.23695 0 01.36498-.87796 1.23995 1.23995 0 01.88996-.36499c.167 0 .32899.032.48398.095.155.065.289.154.39999.27.112.11499.19999.24898.26898.39997.067.151.102.311.102.47798v3.47686c0 .12799.043.23599.13.32298a.43798.43798 0 00.32398.132c.12 0 .224-.044.31599-.132a.43098.43098 0 00.137-.32299v-.62297a2.1439 2.1439 0 001.86791 1.07795c.29399 0 .57398-.056.83697-.168.26199-.11099.49298-.26398.69297-.45997a2.11191 2.11191 0 00.48398-.73297l.018.047c.111.26199.26699.48998.46598.68697.19999.195.42798.34799.68697.45998.25799.11.53997.167.84296.167a2.1469 2.1469 0 001.52294-.62698c.19499-.196.35098-.42498.46698-.68697l.024-.06.024.06c.115.26199.26998.48998.46598.68697a2.1439 2.1439 0 001.52393.62697c.29398 0 .57397-.056.83696-.168a2.2199 2.2199 0 00.69297-.45997 2.11691 2.11691 0 00.63498-1.52194v-1.78192a2.07991 2.07991 0 00-.173-.83696zM1.15995 14.96485l2.4199-3.25886c-.012.096-.02.194-.02.29399v1.77992c0 .296.058.57398.174.83797.05399.123.11799.23899.18998.34698zm5.81775-2.49989H4.4678v-.46498a1.24195 1.24195 0 01.76498-1.14695c.15199-.064.31498-.096.48998-.096.16799 0 .32998.032.48398.095.15599.065.28998.154.39998.26999.112.115.19999.24899.26999.39998.068.151.1.31099.1.47798zm8.05766 1.31594a1.24895 1.24895 0 01-1.25395 1.24295c-.168 0-.32898-.032-.48498-.096a1.16795 1.16795 0 01-.39998-.26999 1.37594 1.37594 0 01-.26899-.39998 1.15895 1.15895 0 01-.1-.47698v-1.78092a1.23995 1.23995 0 011.25495-1.24295c.16599 0 .32798.032.48198.095.15599.065.28998.154.39998.26999.112.115.201.24899.26999.39998.067.152.101.31099.101.47798zm4.02783 0c0 .167-.033.32599-.1.47798a1.37994 1.37994 0 01-.27.39999 1.15995 1.15995 0 01-.39998.26998 1.25995 1.25995 0 01-.48397.094 1.23195 1.23195 0 01-.88997-.36398 1.24195 1.24195 0 01-.36598-.87796v-1.78093c0-.16699.035-.32598.102-.47798a1.39994 1.39994 0 01.26998-.39998 1.15995 1.15995 0 01.39999-.26999 1.26995 1.26995 0 01.48398-.095 1.24995 1.24995 0 01.88996.36499 1.24995 1.24995 0 01.36398.87796zm4.02782 0a1.22395 1.22395 0 01-.36398.87797c-.116.116-.24999.20499-.39998.26998a1.24995 1.24995 0 01-.48998.094 1.26995 1.26995 0 01-.48498-.095 1.16895 1.16895 0 01-.39999-.26998 1.37994 1.37994 0 01-.26998-.39999 1.15695 1.15695 0 01-.1-.47698v-1.78092a1.23995 1.23995 0 011.25494-1.24295c.167 0 .32799.032.48298.095.156.065.29.154.39999.27.112.11499.20099.24898.26998.39997.067.152.1.311.1.47798v1.77993z"}}]})(e)}function CS(e){return NE({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 0 0-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"}}]})(e)}function RS(e){return NE({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 0 0-11.3 0l-42.4 42.3a8.03 8.03 0 0 0 0 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 0 0 4.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 0 0 0 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 0 0 391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 0 0-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 0 0-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 0 0-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]})(e)}function LS(e){return NE({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 0 0-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0 0 13.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 0 0 0 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 0 0-11.3 0l-42.4 42.3a8.03 8.03 0 0 0 0 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 0 0 4.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 0 0-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 0 0-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]})(e)}function IS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.996 9c1.413 0 2.16-.747 2.705-1.293.49-.49.731-.707 1.292-.707s.802.217 1.292.707C11.83 8.253 12.577 9 13.991 9c1.415 0 2.163-.747 2.71-1.293.491-.49.732-.707 1.295-.707s.804.217 1.295.707C19.837 8.253 20.585 9 22 9V7c-.563 0-.804-.217-1.295-.707C20.159 5.747 19.411 5 17.996 5s-2.162.747-2.709 1.292c-.491.491-.731.708-1.296.708-.562 0-.802-.217-1.292-.707C12.154 5.747 11.407 5 9.993 5s-2.161.747-2.706 1.293c-.49.49-.73.707-1.291.707s-.801-.217-1.291-.707C4.16 5.747 3.413 5 2 5v2c.561 0 .801.217 1.291.707C3.836 8.253 4.583 9 5.996 9zm0 5c1.413 0 2.16-.747 2.705-1.293.49-.49.731-.707 1.292-.707s.802.217 1.292.707c.545.546 1.292 1.293 2.706 1.293 1.415 0 2.163-.747 2.71-1.293.491-.49.732-.707 1.295-.707s.804.217 1.295.707C19.837 13.253 20.585 14 22 14v-2c-.563 0-.804-.217-1.295-.707-.546-.546-1.294-1.293-2.709-1.293s-2.162.747-2.709 1.292c-.491.491-.731.708-1.296.708-.562 0-.802-.217-1.292-.707C12.154 10.747 11.407 10 9.993 10s-2.161.747-2.706 1.293c-.49.49-.73.707-1.291.707s-.801-.217-1.291-.707C4.16 10.747 3.413 10 2 10v2c.561 0 .801.217 1.291.707C3.836 13.253 4.583 14 5.996 14zm0 5c1.413 0 2.16-.747 2.705-1.293.49-.49.731-.707 1.292-.707s.802.217 1.292.707c.545.546 1.292 1.293 2.706 1.293 1.415 0 2.163-.747 2.71-1.293.491-.49.732-.707 1.295-.707s.804.217 1.295.707C19.837 18.253 20.585 19 22 19v-2c-.563 0-.804-.217-1.295-.707-.546-.546-1.294-1.293-2.709-1.293s-2.162.747-2.709 1.292c-.491.491-.731.708-1.296.708-.562 0-.802-.217-1.292-.707C12.154 15.747 11.407 15 9.993 15s-2.161.747-2.706 1.293c-.49.49-.73.707-1.291.707s-.801-.217-1.291-.707C4.16 15.747 3.413 15 2 15v2c.561 0 .801.217 1.291.707C3.836 18.253 4.583 19 5.996 19z"}}]})(e)}function DS(e){return NE({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M0 8c0-2.2 1.8-4 4-4s4 1.8 4 4-1.8 4-4 4-4-1.8-4-4z"}}]})(e)}function jS(e){return NE({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 12H0V4h8v8z"}}]})(e)}function NS(e){return NE({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.48 7.27c.26.26 1.28 1.33 1.28 1.33l.56-.58-.88-.91 1.69-1.8s-.76-.74-.43-.45c.32-1.19.03-2.51-.87-3.44C4.93.5 3.66.2 2.52.51l1.93 2-.51 1.96-1.89.52-1.93-2C-.19 4.17.1 5.48 1 6.4c.94.98 2.29 1.26 3.48.87zm6.44 1.94l-2.33 2.3 3.84 3.98c.31.33.73.49 1.14.49.41 0 .82-.16 1.14-.49.63-.65.63-1.7 0-2.35l-3.79-3.93zM16 2.53L13.55 0 6.33 7.46l.88.91-4.31 4.46-.99.53-1.39 2.27.35.37 2.2-1.44.51-1.02L7.9 9.08l.88.91L16 2.53z"}}]})(e)}function BS(e){return NE({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z",clipRule:"evenodd"}}]})(e)}function zS(e){return NE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"}}]})(e)}function ZS(e){return NE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"}}]})(e)}function FS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M17.303 5.197A7.5 7.5 0 006.697 15.803a.75.75 0 01-1.061 1.061A9 9 0 1121 10.5a.75.75 0 01-1.5 0c0-1.92-.732-3.839-2.197-5.303zm-2.121 2.121a4.5 4.5 0 00-6.364 6.364.75.75 0 11-1.06 1.06A6 6 0 1118 10.5a.75.75 0 01-1.5 0c0-1.153-.44-2.303-1.318-3.182zm-3.634 1.314a.75.75 0 01.82.311l5.228 7.917a.75.75 0 01-.777 1.148l-2.097-.43 1.045 3.9a.75.75 0 01-1.45.388l-1.044-3.899-1.601 1.42a.75.75 0 01-1.247-.606l.569-9.47a.75.75 0 01.554-.68z",clipRule:"evenodd"}}]})(e)}function US(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM8.547 4.505a8.25 8.25 0 1011.672 8.214l-.46-.46a2.252 2.252 0 01-.422-.586l-1.08-2.16a.414.414 0 00-.663-.107.827.827 0 01-.812.21l-1.273-.363a.89.89 0 00-.738 1.595l.587.39c.59.395.674 1.23.172 1.732l-.2.2c-.211.212-.33.498-.33.796v.41c0 .409-.11.809-.32 1.158l-1.315 2.191a2.11 2.11 0 01-1.81 1.025 1.055 1.055 0 01-1.055-1.055v-1.172c0-.92-.56-1.747-1.414-2.089l-.654-.261a2.25 2.25 0 01-1.384-2.46l.007-.042a2.25 2.25 0 01.29-.787l.09-.15a2.25 2.25 0 012.37-1.048l1.178.236a1.125 1.125 0 001.302-.795l.208-.73a1.125 1.125 0 00-.578-1.315l-.665-.332-.091.091a2.25 2.25 0 01-1.591.659h-.18c-.249 0-.487.1-.662.274a.931.931 0 01-1.458-1.137l1.279-2.132z",clipRule:"evenodd"}}]})(e)}function KS(e){return NE({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 13h16v2h-16zM2 9h2v3h-2zM5 5h2v7h-2zM8 8h2v4h-2zM11 2h2v10h-2z"}}]})(e)}function VS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3.707 6.293l2.586 -2.586a1 1 0 0 1 1.414 0l5.586 5.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1 -1.414 0l-5.586 -5.586a1 1 0 0 1 0 -1.414z"}},{tag:"path",attr:{d:"M6 10l-3 3l3 3l3 -3"}},{tag:"path",attr:{d:"M10 6l3 -3l3 3l-3 3"}},{tag:"path",attr:{d:"M12 12l1.5 1.5"}},{tag:"path",attr:{d:"M14.5 17a2.5 2.5 0 0 0 2.5 -2.5"}},{tag:"path",attr:{d:"M15 21a6 6 0 0 0 6 -6"}}]})(e)}function HS(e){return NE({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M15 13v4"}},{tag:"path",attr:{d:"M13 15h4"}},{tag:"path",attr:{d:"M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"}},{tag:"path",attr:{d:"M22 22l-3 -3"}},{tag:"path",attr:{d:"M6 18h-1a2 2 0 0 1 -2 -2v-1"}},{tag:"path",attr:{d:"M3 11v-1"}},{tag:"path",attr:{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}},{tag:"path",attr:{d:"M10 3h1"}},{tag:"path",attr:{d:"M15 3h1a2 2 0 0 1 2 2v1"}}]})(e)}function WS(e){return NE({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm160 215.5v6.93c0 5.87-3.32 11.24-8.57 13.86l-15.39 7.7a15.485 15.485 0 0 1-15.53-.97l-18.21-12.14a15.52 15.52 0 0 0-13.5-1.81l-2.65.88c-9.7 3.23-13.66 14.79-7.99 23.3l13.24 19.86c2.87 4.31 7.71 6.9 12.89 6.9h8.21c8.56 0 15.5 6.94 15.5 15.5v11.34c0 3.35-1.09 6.62-3.1 9.3l-18.74 24.98c-1.42 1.9-2.39 4.1-2.83 6.43l-4.3 22.83c-.62 3.29-2.29 6.29-4.76 8.56a159.608 159.608 0 0 0-25 29.16l-13.03 19.55a27.756 27.756 0 0 1-23.09 12.36c-10.51 0-20.12-5.94-24.82-15.34a78.902 78.902 0 0 1-8.33-35.29V367.5c0-8.56-6.94-15.5-15.5-15.5h-25.88c-14.49 0-28.38-5.76-38.63-16a54.659 54.659 0 0 1-16-38.63v-14.06c0-17.19 8.1-33.38 21.85-43.7l27.58-20.69a54.663 54.663 0 0 1 32.78-10.93h.89c8.48 0 16.85 1.97 24.43 5.77l14.72 7.36c3.68 1.84 7.93 2.14 11.83.84l47.31-15.77c6.33-2.11 10.6-8.03 10.6-14.7 0-8.56-6.94-15.5-15.5-15.5h-10.09c-4.11 0-8.05-1.63-10.96-4.54l-6.92-6.92a15.493 15.493 0 0 0-10.96-4.54H199.5c-8.56 0-15.5-6.94-15.5-15.5v-4.4c0-7.11 4.84-13.31 11.74-15.04l14.45-3.61c3.74-.94 7-3.23 9.14-6.44l8.08-12.11c2.87-4.31 7.71-6.9 12.89-6.9h24.21c8.56 0 15.5-6.94 15.5-15.5v-21.7C359.23 71.63 422.86 131.02 441.93 208H423.5c-8.56 0-15.5 6.94-15.5 15.5z"}}]})(e)}function GS(e){return NE({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.92 462.7l-288-448C341.03 5.54 330.89 0 320 0s-21.03 5.54-26.92 14.7l-288 448a32.001 32.001 0 0 0-1.17 32.64A32.004 32.004 0 0 0 32 512h576c11.71 0 22.48-6.39 28.09-16.67a31.983 31.983 0 0 0-1.17-32.63zM320 91.18L405.39 224H320l-64 64-38.06-38.06L320 91.18z"}}]})(e)}var qS=function(e){var t=e.icon,n=e.className,r=e.style,i=null,o=bn()("ptr-react-icon",n);switch(t){case"ri-add-map":i=(0,k_.jsx)(zE,{});break;case"ri-applications":i=(0,k_.jsx)(hS,{});break;case"ri-back":i=(0,k_.jsx)(tS,{});break;case"ri-bar-chart":i=(0,k_.jsx)(UE,{});break;case"ri-check":i=(0,k_.jsx)(SS,{});break;case"ri-chevron-down":i=(0,k_.jsx)(oS,{});break;case"ri-chevron-up":i=(0,k_.jsx)(iS,{});break;case"ri-chevron-left":i=(0,k_.jsx)(wS,{});break;case"ri-chevron-right":i=(0,k_.jsx)(ES,{});break;case"ri-city":i=(0,k_.jsx)(sS,{});break;case"ri-close":i=(0,k_.jsx)(rS,{});break;case"ri-collections":o=bn()(o,"clockwise270"),i=(0,k_.jsx)(JE,{});break;case"ri-compare":i=(0,k_.jsx)($E,{});break;case"ri-dashboard":i=(0,k_.jsx)(ZE,{});break;case"ri-database":i=(0,k_.jsx)(ZS,{});break;case"ri-datasets":i=(0,k_.jsx)(yS,{});break;case"ri-dark-mode":i=(0,k_.jsx)(vS,{});break;case"ri-download":i=(0,k_.jsx)(mS,{});break;case"ri-forward":i=(0,k_.jsx)(nS,{});break;case"ri-globe":i=(0,k_.jsx)(WS,{});break;case"ri-globe-outline":i=(0,k_.jsx)(US,{});break;case"ri-help":i=(0,k_.jsx)(FE,{});break;case"ri-info":i=(0,k_.jsx)(cS,{});break;case"ri-line-chart-basic":i=(0,k_.jsx)(XE,{});break;case"ri-location-search":i=(0,k_.jsx)(qE,{});break;case"ri-login":i=(0,k_.jsx)(KE,{});break;case"ri-logout":i=(0,k_.jsx)(VE,{});break;case"ri-3D-view":i=(0,k_.jsx)(GS,{});break;case"ri-more-dots":i=(0,k_.jsx)(aS,{});break;case"ri-plus":case"ri-add":i=(0,k_.jsx)(dS,{});break;case"ri-read-more":i=(0,k_.jsx)(WE,{});break;case"ri-remove-layers":i=(0,k_.jsx)(bS,{});break;case"ri-satellite":i=(0,k_.jsx)(VS,{});break;case"ri-scatter-chart-basic":i=(0,k_.jsx)(YE,{});break;case"ri-selection":i=(0,k_.jsx)(BS,{});break;case"ri-share":i=(0,k_.jsx)(MS,{});break;case"ri-star":i=(0,k_.jsx)(uS,{});break;case"ri-story":i=(0,k_.jsx)(xS,{});break;case"ri-thumb-up":i=(0,k_.jsx)(fS,{});break;case"ri-tune":case"ri-configure":case"ri-settings":i=(0,k_.jsx)(eS,{});break;case"ri-use-case":i=(0,k_.jsx)(pS,{});break;case"ri-user":i=(0,k_.jsx)(lS,{});break;case"ri-facebook":i=(0,k_.jsx)(kS,{});break;case"ri-twitter":i=(0,k_.jsx)(PS,{});break;case"ri-linkedin":i=(0,k_.jsx)(AS,{});break;case"ri-researchgate":i=(0,k_.jsx)(TS,{});break;case"ri-zenodo":i=(0,k_.jsx)(OS,{});break;case"ri-home":i=(0,k_.jsx)(CS,{});break;case"ri-dot":i=(0,k_.jsx)(DS,{});break;case"ri-square":i=(0,k_.jsx)(jS,{});break;case"ri-filter":i=(0,k_.jsx)(GE,{});break;case"ri-services":i=(0,k_.jsx)(_S,{});break;case"ri-imgSearch":i=(0,k_.jsx)(QE,{});break;case"ri-tools":i=(0,k_.jsx)(NS,{});break;case"ri-tooltip":i=(0,k_.jsx)(FS,{});break;case"ri-statistics":i=(0,k_.jsx)(KS,{});break;case"ri-vertical-align-center":i=(0,k_.jsx)(gS,{});break;case"ri-water":i=(0,k_.jsx)(IS,{});break;case"ri-minimise":i=(0,k_.jsx)(HE,{});break;case"ri-zoom-in-area":i=(0,k_.jsx)(HS,{});break;case"ri-clipboard-copy":i=(0,k_.jsx)(zS,{});break;case"ri-fullscreen-exit":i=(0,k_.jsx)(RS,{});break;case"ri-fullscreen":i=(0,k_.jsx)(LS,{})}return(0,k_.jsx)(LE.Provider,{value:{className:o,style:r},children:i})};qS.propTypes={icon:dn().string,className:dn().string,style:dn().object};var YS=qS,XS=function(e){var t=e.icon,n=e.className,r=e.style;return t&&t.startsWith("ri-")?(0,k_.jsx)(YS,{icon:t,className:n,style:r}):(0,k_.jsx)(Dw,{icon:t,className:n,style:r})};XS.propTypes={icon:dn().string,className:dn().string,style:dn().object};var $S=XS,JS=function(e){var t=e.containerHeight,n=e.containerWidth,r=e.content,i=e.icon,o=e.onDragStart,a=e.onDragStop,s=e.onClick,u=e.onCloseClick,l=e.onResize,c=e.title,h=e.windowKey,f=e.withoutHeader,d=e.height,p=e.width,v=e.minHeight,g=e.minWidth,m=e.maxHeight,y=e.maxWidth,b=function(e){e.stopPropagation(),u&&u(h)},_=function(e,r,i,o){var a=r,s=t-(r+o),u=e,l=n-(e+i),c={top:null,bottom:null,left:null,right:null};return a>s&&s>0?c.bottom=s:c.top=a,u>l&&l>0?c.right=l:c.left=u,c},w=function(e){var t=bn()("ptr-window-controls",{fixed:e});return(0,k_.jsx)("div",{className:t,children:(0,k_.jsx)("div",{className:"ptr-window-control close",onClick:b,children:(0,k_.jsx)($S,{icon:"close"})})})},E="ptr-window-handle",S=bn()("ptr-window",(0,re.Z)({},E,!!f)),x=p||"auto",M=d||"auto";x>n&&n&&(x=n),M>t&&t&&(M=t);var k=function(e,r){var i=k.top,o=k.bottom,a=k.left,s=k.right;return{x:a||0===a?a+e<n?a:n-e:s+e<n?n-(s+e):0,y:i||0===i?i+r<t?i:t-r:o+r<t?t-(o+r):0}}(x,M);return(0,k_.jsxs)(CE,{bounds:"parent",className:S,dragHandleClassName:E,minWidth:g||100,minHeight:v||100,maxWidth:y||"auto",maxHeight:m||"auto",onDragStop:function(e,t){var n=_(t.x,t.y,p,d),r=e.target.className&&"ptr-window-control close"===e.target.className,i=oe().find(e.path,(function(e){return"ptr-window-control close"===e.className}));r||i?b(e):a&&a(h,n)},onDragStart:function(){o&&o(h)},onClick:function(){s&&s(h)},onResize:function(e,t,n,r,i){if(l){var o=_(i.x,i.y,n.offsetWidth,n.offsetHeight);l(h,n.offsetWidth,n.offsetHeight,o)}},position:{x:k.x,y:k.y},size:{renderWidth:x,renderHeight:M},children:[f?w(!0):function(e){var t="ptr-window-header "+e;return(0,k_.jsxs)("div",{className:t,children:[(0,k_.jsxs)("div",{className:"ptr-window-title",title:c,children:[i?(0,k_.jsx)($S,{icon:i}):null,c]}),w()]})}(E),(0,k_.jsx)("div",{className:"ptr-window-content",children:r})]})};JS.propTypes={containerHeight:dn().number,containerWidth:dn().number,content:dn().oneOfType([dn().element,dn().array]),icon:dn().string,onDragStart:dn().func,onDragStop:dn().func,onClick:dn().func,onCloseClick:dn().func,onResize:dn().func,title:dn().string,windowKey:dn().string,withoutHeader:dn().bool,height:dn().number,width:dn().number,minWidth:dn().number,minHeight:dn().number,maxWidth:dn().number,maxHeight:dn().number};var QS=JS;function ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nx=function(e){var n=e.onWindowClick,r=e.onWindowClose,i=e.onWindowDragStart,o=e.onWindowDragStop,a=e.onWindowResize,s=e.set,u=e.windows,l=e.children,c=v((0,t.useState)({width:null,height:null}),2),h=c[0],f=c[1],d=(0,t.useRef)(),p=function(){var e=null,t=null;d.current&&"undefined"!==typeof d.current.clientWidth&&"undefined"!==typeof d.current.clientHeight&&(t=d.current.clientHeight,e=d.current.clientWidth),(e||t)&&(e===h.width&&t===h.height||f({width:e,height:t}))};(0,t.useEffect)((function(){return p(),"undefined"!==typeof window&&window.addEventListener("resize",p,{passive:!0}),function(){"undefined"!==typeof window&&window.removeEventListener("resize",p)}}),[]);var g=function(e){n(e)},m=function(e){r(e)},y=function(e){i(e)},b=function(e,t){o(e,t)},_=function(e,t,n,r){a(e,t,n,r)},w=function(e,t,n,r){return(0,k_.jsx)(QS,tx({containerHeight:h.height,containerWidth:h.width,content:r,onClick:g,onCloseClick:m,onDragStart:y,onDragStop:b,onResize:_,windowKey:e,withoutTilte:!n.title,zIndex:t},n),e)};return(0,k_.jsxs)("div",{className:"ptr-windows-container",ref:d,children:[l,s?s.orderByHistory.map((function(e,n){var r=u[e];return r.data.component&&"function"===typeof r.data.component?w(r.key,n,r.data.settings,(0,t.createElement)(r.data.component,tx({},r.data.props))):w(r.key,n,r.data.settings,(0,t.cloneElement)(r.data.component))})):null]})};nx.propTypes={onWindowClick:dn().func,onWindowClose:dn().func,onWindowDragStart:dn().func,onWindowDragStop:dn().func,onWindowResize:dn().func,set:dn().shape({orderByHistory:dn().array}),windows:dn().object,children:dn().node};var rx="APP-TEMPLATE-REPLACE-APP-KEY",ix=n(9053),ox=n(1426);n(7066).config();var ax=(0,V.Z)((0,V.Z)({},dm),{},{init:function(e){return function(t){t(dm.app.setBaseUrl(e));var n=function(e){var t={};hn()(ln()(sn()({},En,e)),(function(e){Object.hasOwn({NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"},"REACT_APP_".concat(e))&&(t[e]={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"}["REACT_APP_".concat(e)])}));var n={};"undefined"!==typeof window&&Object.hasOwn(window,"runtimeConfig")&&(n=window.runtimeConfig);var r={};return"undefined"!==typeof window&&Object.hasOwn(window,"__PRELOADED_STATE__")&&Object.hasOwn(window.__PRELOADED_STATE__,"app")&&Object.hasOwn(window.__PRELOADED_STATE__.app,"localConfiguration")&&(r=window.__PRELOADED_STATE__.app.localConfiguration),sn()({},En,e,t,n,r)}(function(){if(null!==ox&&void 0!==ox){var e,t,n,r,i=null===(e={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"})||void 0===e?void 0:e.REACT_APP_apiBackendProtocol,o=null===(t={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"})||void 0===t?void 0:t.REACT_APP_apiBackendHost,a=null===(n={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"})||void 0===n?void 0:n.REACT_APP_apiBackendPath,s=null===(r={NODE_ENV:"production",PUBLIC_URL:"/app-3Dflus-data-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiBackendProtocol:"https",REACT_APP_apiBackendHost:"APP-TEMPLATE-REPLACE-DEV-BE",REACT_APP_requestPageSize:"5000",REACT_APP_apiBackendPath:"backend"})||void 0===r?void 0:r.REACT_APP_requestPageSize;return(0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)({},i?{apiBackendProtocol:i}:{}),o?{apiBackendHost:o}:{}),a?{apiBackendPath:a}:{}),s?{requestPageSize:s}:{})}return{}}());t(dm.app.updateLocalConfiguration(n)),t(dm.app.setKey(rx))}},APPTEMPLATEREPLACESTORENAME:(0,V.Z)({},ix)});var sx=n(136),ux=n(9388),lx=n(1120),cx=n(9611);var hx=n(8814);function fx(e,t,n){return fx=(0,hx.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,cx.Z)(i,n.prototype),i},fx.apply(null,arguments)}function dx(e){var t="function"===typeof Map?new Map:void 0;return dx=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return fx(e,arguments,(0,lx.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,cx.Z)(n,e)},dx(e)}var px,vx=n(9199);function gx(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,d.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mx.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(px||(px={}));var yx,bx="popstate";function _x(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function wx(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(U1){}}}function Ex(e,t){return{usr:e.state,key:e.key,idx:t}}function Sx(e,t,n,r){return void 0===n&&(n=null),mx({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Mx(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function xx(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function Mx(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function kx(e,t,n,r){void 0===r&&(r={});var i=r,o=i.window,a=void 0===o?document.defaultView:o,s=i.v5Compat,u=void 0!==s&&s,l=a.history,c=px.Pop,h=null,f=d();function d(){return(l.state||{idx:null}).idx}function p(){c=px.Pop;var e=d(),t=null==e?null:e-f;f=e,h&&h({action:c,location:g.location,delta:t})}function v(e){var t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:xx(e);return _x(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,l.replaceState(mx({},l.state,{idx:f}),""));var g={get action(){return c},get location(){return e(a,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(bx,p),h=e,function(){a.removeEventListener(bx,p),h=null}},createHref:function(e){return t(a,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=px.Push;var r=Sx(g.location,e,t);n&&n(r,e);var i=Ex(r,f=d()+1),o=g.createHref(r);try{l.pushState(i,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;a.location.assign(o)}u&&h&&h({action:c,location:g.location,delta:1})},replace:function(e,t){c=px.Replace;var r=Sx(g.location,e,t);n&&n(r,e);var i=Ex(r,f=d()),o=g.createHref(r);l.replaceState(i,"",o),u&&h&&h({action:c,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(yx||(yx={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Ax(e,t,n){void 0===n&&(n="/");var r=Fx(("string"===typeof t?Mx(t):t).pathname||"/",n);if(null==r)return null;var i=Tx(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=Bx(i[a],Zx(r));return o}function Tx(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,o){var a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(_x(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var s=Hx([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(_x(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Tx(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Nx(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,o=gx(Px(e.path));try{for(o.s();!(r=o.n()).done;){var a=r.value;i(e,t,a)}}catch(YJ){o.e(YJ)}finally{o.f()}}else i(e,t)})),t}function Px(e){var t=e.split("/");if(0===t.length)return[];var n,r=f(n=t)||(0,vx.Z)(n)||(0,d.Z)(n)||p(),i=r[0],o=r.slice(1),a=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===o.length)return a?[s,""]:[s];var u=Px(o.join("/")),l=[];return l.push.apply(l,(0,g.Z)(u.map((function(e){return""===e?s:[s,e].join("/")})))),a&&l.push.apply(l,(0,g.Z)(u)),l.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var Ox=/^:\w+$/,Cx=3,Rx=2,Lx=1,Ix=10,Dx=-2,jx=function(e){return"*"===e};function Nx(e,t){var n=e.split("/"),r=n.length;return n.some(jx)&&(r+=Dx),t&&(r+=Rx),n.filter((function(e){return!jx(e)})).reduce((function(e,t){return e+(Ox.test(t)?Cx:""===t?Lx:Ix)}),r)}function Bx(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=zx({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var h=s.route;o.push({params:r,pathname:Hx([i,c.pathname]),pathnameBase:Wx(Hx([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=Hx([i,c.pathnameBase]))}return o}function zx(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);wx("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),r=v(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),l=a.slice(1),c=o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return wx(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{});return{params:c,pathname:s,pathnameBase:u,pattern:e}}function Zx(e){try{return decodeURI(e)}catch(t){return wx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Fx(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Ux(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Kx(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Vx(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=Mx(e):(_x(!(i=mx({},e)).pathname||!i.pathname.includes("?"),Ux("?","pathname","search",i)),_x(!i.pathname||!i.pathname.includes("#"),Ux("#","pathname","hash",i)),_x(!i.search||!i.search.includes("#"),Ux("#","search","hash",i)));var o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(r||null==s)o=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}o=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Mx(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Gx(o),hash:qx(s)}}(i,o),h=s&&"/"!==s&&s.endsWith("/"),f=(a||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!f||(c.pathname+="/"),c}var Hx=function(e){return e.join("/").replace(/\/\/+/g,"/")},Wx=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Gx=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},qx=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Yx=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n)}(dx(Error));function Xx(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var $x=["post","put","patch","delete"],Jx=(new Set($x),["get"].concat($x));new Set(Jx),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx.apply(this,arguments)}var eM=r.startTransition,tM=t.createContext(null);var nM=t.createContext(null);var rM=t.createContext(null);var iM=t.createContext(null);var oM=t.createContext(null);var aM=t.createContext({outlet:null,matches:[],isDataRoute:!1});var sM=t.createContext(null);function uM(){return null!=t.useContext(oM)}function lM(){return uM()||_x(!1),t.useContext(oM).location}function cM(e){t.useContext(iM).static||t.useLayoutEffect(e)}function hM(){return t.useContext(aM).isDataRoute?function(){var e=wM(vM.UseNavigateStable).router,n=SM(gM.UseNavigateStable),r=t.useRef(!1);cM((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,Qx({fromRouteId:n},i)))}),[e,n]);return i}():function(){uM()||_x(!1);var e=t.useContext(tM),n=t.useContext(iM),r=n.basename,i=n.navigator,o=t.useContext(aM).matches,a=lM().pathname,s=JSON.stringify(Kx(o).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);cM((function(){u.current=!0}));var l=t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var o=Vx(t,JSON.parse(s),a,"path"===n.relative);null==e&&"/"!==r&&(o.pathname="/"===o.pathname?r:Hx([r,o.pathname])),(n.replace?i.replace:i.push)(o,n.state,n)}else i.go(t)}),[r,i,s,a,e]);return l}()}function fM(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(aM).matches,o=lM().pathname,a=JSON.stringify(Kx(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return Vx(e,JSON.parse(a),o,"path"===r)}),[e,a,o,r])}function dM(e,n,r){uM()||_x(!1);var i,o=t.useContext(iM).navigator,a=t.useContext(aM).matches,s=a[a.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),c=(s&&s.route,lM());if(n){var h,f="string"===typeof n?Mx(n):n;"/"===l||(null==(h=f.pathname)?void 0:h.startsWith(l))||_x(!1),i=f}else i=c;var d=i.pathname||"/",p=Ax(e,{pathname:"/"===l?d:d.slice(l.length)||"/"});var v=_M(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Hx([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Hx([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),a,r);return n&&v?t.createElement(oM.Provider,{value:{location:Qx({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:px.Pop}},v):v}function pM(){var e=function(){var e,n=t.useContext(sM),r=EM(gM.UseRouteError),i=SM(gM.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=Xx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}var vM,gM,mM=t.createElement(pM,null),yM=function(e){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e){var t;return(0,Vt.Z)(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return(0,Ht.Z)(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(aM.Provider,{value:this.props.routeContext},t.createElement(sM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function bM(e){var n=e.routeContext,r=e.match,i=e.children,o=t.useContext(tM);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(aM.Provider,{value:n},i)}function _M(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var o;if(null==(o=r)||!o.errors)return null;e=r.matches}var a=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=a.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||_x(!1),a=a.slice(0,Math.min(a.length,u+1))}return a.reduceRight((function(e,i,o){var u=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;r&&(l=i.route.errorElement||mM);var c=n.concat(a.slice(0,o+1)),h=function(){var n;return n=u?l:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(bM,{match:i,routeContext:{outlet:e,matches:c,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(yM,{location:r.location,revalidation:r.revalidation,component:l,error:u,children:h(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):h()}),null)}function wM(e){var n=t.useContext(tM);return n||_x(!1),n}function EM(e){var n=t.useContext(nM);return n||_x(!1),n}function SM(e){var n=function(e){var n=t.useContext(aM);return n||_x(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||_x(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(vM||(vM={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(gM||(gM={}));var xM;function MM(e){_x(!1)}function kM(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,o=void 0===i?null:i,a=e.location,s=e.navigationType,u=void 0===s?px.Pop:s,l=e.navigator,c=e.static,h=void 0!==c&&c;uM()&&_x(!1);var f=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:f,navigator:l,static:h}}),[f,l,h]);"string"===typeof a&&(a=Mx(a));var p=a,v=p.pathname,g=void 0===v?"/":v,m=p.search,y=void 0===m?"":m,b=p.hash,_=void 0===b?"":b,w=p.state,E=void 0===w?null:w,S=p.key,x=void 0===S?"default":S,M=t.useMemo((function(){var e=Fx(g,f);return null==e?null:{location:{pathname:e,search:y,hash:_,state:E,key:x},navigationType:u}}),[f,g,y,_,E,x,u]);return null==M?null:t.createElement(iM.Provider,{value:d},t.createElement(oM.Provider,{children:o,value:M}))}function AM(e){var t=e.children,n=e.location;return dM(PM(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(xM||(xM={}));var TM=new Promise((function(){}));t.Component;function PM(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var o=[].concat((0,g.Z)(n),[i]);if(e.type!==t.Fragment){e.type!==MM&&_x(!1),e.props.index&&e.props.children&&_x(!1);var a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=PM(e.props.children,o)),r.push(a)}else r.push.apply(r,PM(e.props.children,o))}})),r}function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OM.apply(this,arguments)}function CM(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var RM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function LM(e){var n=e.basename,r=e.children,i=e.future,o=e.window,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),kx((function(e,t){var n=Mx(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,o=n.search,a=void 0===o?"":o,s=n.hash;return Sx("",{pathname:i,search:a,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,o=i.indexOf("#");r=-1===o?i:i.slice(0,o)}return r+"#"+("string"===typeof t?t:xx(t))}),(function(e,t){wx("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}({window:o,v5Compat:!0}));var s=a.current,u=v(t.useState({action:s.action,location:s.location}),2),l=u[0],c=u[1],h=(i||{}).v7_startTransition,f=t.useCallback((function(e){h&&eM?eM((function(){return c(e)})):c(e)}),[c,h]);return t.useLayoutEffect((function(){return s.listen(f)}),[s,f]),t.createElement(kM,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}var IM="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,DM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jM=t.forwardRef((function(e,n){var r,i=e.onClick,o=e.relative,a=e.reloadDocument,s=e.replace,u=e.state,l=e.target,c=e.to,h=e.preventScrollReset,f=CM(e,RM),d=t.useContext(iM).basename,p=!1;if("string"===typeof c&&DM.test(c)&&(r=c,IM))try{var v=new URL(window.location.href),g=c.startsWith("//")?new URL(v.protocol+c):new URL(c),m=Fx(g.pathname,d);g.origin===v.origin&&null!=m?c=m+g.search+g.hash:p=!0}catch(U1){}var y=function(e,n){var r=(void 0===n?{}:n).relative;uM()||_x(!1);var i=t.useContext(iM),o=i.basename,a=i.navigator,s=fM(e,{relative:r}),u=s.hash,l=s.pathname,c=s.search,h=l;return"/"!==o&&(h="/"===l?o:Hx([o,l])),a.createHref({pathname:h,search:c,hash:u})}(c,{relative:o}),b=function(e,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=r.preventScrollReset,u=r.relative,l=hM(),c=lM(),h=fM(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==o?o:xx(c)===xx(h);l(e,{replace:n,state:a,preventScrollReset:s,relative:u})}}),[c,l,h,o,a,i,e,s,u])}(c,{replace:s,state:u,target:l,preventScrollReset:h,relative:o});return t.createElement("a",OM({},f,{href:r||y,onClick:p||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:l}))}));var NM,BM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(NM||(NM={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(BM||(BM={}));var zM=[{key:"efate_deflate",type:"rgbCOG",creation:"gdal_translate efate.tif efate_deflate.tif -of COG -co compress=deflate -co TILING_SCHEME=GoogleMapsCompatible",url_local:"/app-3Dflus-data-test/static/data/efate_deflate.tif",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/eman/versions/v3/Manila/jrc_gsw_mercator_comp_cog_deflate_float32.tif",description:"",options:{type:"image",useChannel:5,useColorsBasedOnValues:!0,clipLow:0,colorsBasedOnValues:[[1,"#deebf7"],[2,"#9ecae1"],[3,"#3182bd"]]},view:{center:{lat:14.5991729,lon:120.9089351},boxRange:4e3}},{key:"rio_cogeo_deflate_float32_heatmap_Manila_flood",type:"rgbCOG",creation:"rio cogeo create --cog-profile=deflate --blocksize=256 --overview-blocksize=256 --web-optimized --aligned-levels=8 --dtype=float32 --config CHECK_DISK_FREE_SPACE=FALSE",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/eman/versions/v3/Manila/jrc_gsw_mercator_comp_cog_deflate_float32.tif",description:"",options:{type:"image",useChannel:30,useHeatMap:!0,colorScaleValueRange:[0,3],clipLow:1,colorScale:["red","yellow"]},view:{center:{lat:14.5991729,lon:120.9089351},boxRange:4e3}},{key:"rio_cogeo_deflate_float32_singleColorClipped_Manila_flood",type:"rgbCOG",creation:"rio cogeo create --cog-profile=deflate --blocksize=256 --overview-blocksize=256 --web-optimized --aligned-levels=8 --dtype=float32 --config CHECK_DISK_FREE_SPACE=FALSE",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/eman/versions/v3/Manila/jrc_gsw_mercator_comp_cog_deflate_float32.tif",description:"",options:{type:"image",useChannel:10,useSingleColor:!0,clipLow:1,clipHigh:3,color:"red",clippedColor:[245,245,220,80]},view:{center:{lat:14.5991729,lon:120.9089351},boxRange:6e3}},{key:"rio_cogeo_deflate_int16_heatmapCustomRange_Nepal_wetSnow",type:"rgbCOG",creation:"rio cogeo create --cog-profile=deflate --blocksize=256 --overview-blocksize=256 --web-optimized --aligned-levels=8 --config CHECK_DISK_FREE_SPACE=FALSE --nodata 0 --zoom-level 16",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/esaGdaAdbNepal23/rasters/snow_cover_cog/WET_SNOW_3857_2017-2021_cog_deflate_in16_zoom16_levels8.tif",description:"",options:{type:"image",useChannel:1,useHeatMap:!0,colorScale:["#fde725","#5dc962","#20908d","#3a528b","#440154"],colorScaleValueRange:[1,100,200,300,366]},view:{center:{lat:28.104,lon:85.547},boxRange:1e4}},{key:"rio_cogeo_deflate_int16_heatmapCustomRange_Nepal_snow",type:"rgbCOG",creation:"rio cogeo create --cog-profile=deflate --blocksize=256 --overview-blocksize=256 --web-optimized --aligned-levels=8 --config CHECK_DISK_FREE_SPACE=FALSE --nodata 0 --zoom-level 16",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/esaGdaAdbNepal23/rasters/snow_cover_cog/SNOW_3857_2017-2021_cog_deflate_in16_zoom16_levels8.tif",description:"",options:{type:"image",useChannel:1,useHeatMap:!0,colorScale:["#fde725","#5dc962","#20908d","#3a528b","#440154"],colorScaleValueRange:[1,100,200,300,366]},view:{center:{lat:28.104,lon:85.547},boxRange:1e4}},{key:"rio_cogeo_deflate_float32_heatmap_Nepal_slope",type:"rgbCOG",creation:"rio cogeo create --cog-profile=deflate --blocksize=256 --overview-blocksize=256 --web-optimized --aligned-levels=8 --dtype=float32 --zoom-level=16 ",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/esaGdaAdbNepal23/rasters/copdem_cog/copdem_slope_cog_deflate_float32_zoom16_levels8.tif",description:"",options:{type:"image",useChannel:0,useHeatMap:!0,colorScale:["#ffffff","#feff51","#fd8c3b","#ff0037"],colorScaleValueRange:[0,15,30,45]},view:{center:{lat:28.104,lon:85.547},boxRange:1e4}},{key:"rio_cogeo_deflate_float32_heatmap_Nepal_dem",type:"rgbCOG",creation:"rio cogeo create --cog-profile=deflate --blocksize=256 --overview-blocksize=256 --web-optimized --aligned-levels=8 --dtype=float32 --zoom-level=16",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/esaGdaAdbNepal23/rasters/copdem_cog/copdem_cog_deflate_float32_zoom16_levels8.tif",description:"",options:{type:"image",useChannel:0,useHeatMap:!0,colorScale:["#00883f","#109435","#20a02a","#31ac1f","#92b118","#fab014","#c88723","#ac692c","#af5a2d","#c8846c","#ffffff"],colorScaleValueRange:[900,1400,1900,2400,2900,3400,3900,4400,4900,5400,5800]},view:{center:{lat:28.104,lon:85.547},boxRange:1e4}},{key:"rio_cogeo_deflate_float32_heatmap_clipLow_clipHigh_Nepal_dem",type:"rgbCOG",creation:"rio cogeo create --cog-profile=deflate --blocksize=256 --overview-blocksize=256 --web-optimized --aligned-levels=8 --dtype=float32 --zoom-level=16",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/esaGdaAdbNepal23/rasters/copdem_cog/copdem_cog_deflate_float32_zoom16_levels8.tif",description:"",options:{type:"image",useChannel:0,useHeatMap:!0,clipLow:2e3,clipHigh:5e3,colorScale:["#00883f","#109435","#20a02a","#31ac1f","#92b118","#fab014","#c88723","#ac692c","#af5a2d","#c8846c","#ffffff"],colorScaleValueRange:[900,1400,1900,2400,2900,3400,3900,4400,4900,5400,5800]},view:{center:{lat:28.104,lon:85.547},boxRange:1e4}},{key:"rio_cogeo_deflate_uint8_rgb_Nepal_sentinel",type:"rgbCOG",creation:"rio cogeo create --cog-profile=deflate --blocksize=256 --overview-blocksize=256 --web-optimized --aligned-levels=8 --dtype=float32 --zoom-level=16",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/esaGdaAdbNepal23/rasters/sentinel_cog/2017-11-19-00_00_2017-11-19-23_59_Sentinel-2_L1C_SWIR_cog_nodata.tif",description:"",options:{type:"image"},view:{center:{lat:28.104,lon:85.547},boxRange:1e4}},{key:"rio_cogeo_deflate_uint16_global_DEM_WMSoverlay",type:"heightCOG",creation:"tbd",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/eman/versions/v3/DEM/dtm.bareearth_ensemble_p10_250m_s_2018_go_epsg4326_v20230221_deflate_cog.tif",description:"",options:{type:"terrain",multiplier:.1},bitmapUrl:"https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoiam9ldmVjeiIsImEiOiJja3lpcms5N3ExZTAzMm5wbWRkeWFuNTA3In0.dHgiiwOgD-f7gD7qP084rg",view:{center:{lat:28.104,lon:85.547},boxRange:2e4}},{key:"rio_cogeo_deflate_uint16_global_DEM_no_overlay",type:"heightCOG",creation:"tbd",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/eman/versions/v3/DEM/dtm.bareearth_ensemble_p10_250m_s_2018_go_epsg4326_v20230221_deflate_cog.tif",description:"",options:{type:"terrain",multiplier:.1},view:{center:{lat:28.104,lon:85.547},boxRange:2e4,pitch:60}},{key:"rio_cogeo_deflate_float32_local_DEM_no_overlay",type:"heightCOG",creation:"rio cogeo create --cog-profile=deflate --blocksize=256 --overview-blocksize=256 --web-optimized --aligned-levels=8 --dtype=float32 --zoom-level=16 --config CHECK_DISK_FREE_SPACE=FALSE",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/esaGdaAdbNepal23/rasters/copdem_cog/copdem_cog_deflate_float32_zoom16_levels8.tif",description:"",options:{type:"terrain"},view:{center:{lat:28.104,lon:85.547},boxRange:18e3,pitch:60}},{key:"rio_cogeo_deflate_float32_local_DEM_snow_overlay",type:"heightCOG",creation:"rio cogeo create --cog-profile=deflate --blocksize=256 --overview-blocksize=256 --web-optimized --aligned-levels=8 --dtype=float32 --zoom-level=16 --config CHECK_DISK_FREE_SPACE=FALSE",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/esaGdaAdbNepal23/rasters/copdem_cog/copdem_cog_deflate_float32_zoom16_levels8.tif",description:"",options:{type:"terrain"},view:{center:{lat:28.104,lon:85.547},boxRange:18e3}},{key:"rio_cogeo_deflate_float32_local_DEM_no_overlay_exaggeration",type:"heightCOG",creation:"rio cogeo create --cog-profile=deflate --blocksize=256 --overview-blocksize=256 --web-optimized --aligned-levels=8 --dtype=float32 --zoom-level=16 --config CHECK_DISK_FREE_SPACE=FALSE",url_local:"",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/esaGdaAdbNepal23/rasters/copdem_cog/copdem_cog_deflate_float32_zoom16_levels8.tif",description:"",options:{type:"terrain",multiplier:3},view:{center:{lat:28.104,lon:85.547},boxRange:18e3,pitch:60}},{key:"manila_height_and_tiled_vector",type:"heightAndTiledVectors",creation:"gdal_translate pamzam_10m_Mercator_COG.tif pamzam_10m_Mercator_COG_height.tif -of COG -co COMPRESS=DEFLATE -co TILING_SCHEME=GoogleMapsCompatible",url_local:"/app-3Dflus-data-test/static/data/pamzam_10m_Mercator_COG_height_packbits.tif",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/eman/versions/v3/DEM/luzon_dem_deflate_cog.tif",description:"",bitmapUrl:"https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoiam9ldmVjeiIsImEiOiJja3lpcms5N3ExZTAzMm5wbWRkeWFuNTA3In0.dHgiiwOgD-f7gD7qP084rg",options:{type:"terrain",multiplier:3},vectorUrl:"https://gisat-gis.eu-central-1.linodeobjects.com/eman/mvt/142_decimated_2/{z}/{x}/{y}.mvt",view:{center:{lat:14.65,lon:121.11},boxRange:11586,pitch:60,bearing:0}},{key:"vector_01",type:"vector",creation:"ogr2ogr -f MVT 142_decimated response.json -dsco MAXZOOM=17 -dsco TILE_EXTENSION=mvt -dsco COMPRESS=NO",url_local:"/app-3Dflus-data-test/static/data/142_decimated/{z}/{x}/{y}.mvt",url_public:"https://gisat-gis.eu-central-1.linodeobjects.com/eman/mvt/142_decimated_2/{z}/{x}/{y}.mvt",publish:"s3cmd put ~/_WORK/GISAT/git/app-3Dflus-data-test/public/static/142_decimated/ s3://gisat-gis/eman/mvt/142_decimated_2/ --recursive --acl-public",description:"",view:{center:{lat:14.5991729,lon:120.9089351},boxRange:4e3}}],ZM=function(){var e=zM.map((function(e){return(0,k_.jsx)(jM,{to:"".concat("./map/raster/").concat(e.key),children:e.key},e.key)}));return(0,k_.jsx)("div",{className:"APP-TEMPLATE-REPLACE-APP-STYLE-PREFIX-App ptr-light",children:e})},FM=z((function(){return{}}),(function(){return{}}))(ZM),UM=n(7326);function KM(){return KM="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,lx.Z)(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},KM.apply(this,arguments)}var VM=n(1426);function HM(e){if("undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof VM&&"object"===typeof VM.versions&&Boolean(VM.versions.electron))return!0;var t="object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent,n=e||t;return!!(n&&n.indexOf("Electron")>=0)}var WM=n(1426);function GM(){return!("object"===typeof WM&&"[object process]"===String(WM)&&!WM.browser)||HM()}var qM="undefined"!==typeof __VERSION__?__VERSION__:"untranspiled source";GM();var YM,XM=function(){function e(t,n){(0,Vt.Z)(this,e);var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";(0,re.Z)(this,"storage",void 0),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"config",void 0),this.storage=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(U1){return null}}(r),this.id=t,this.config=n,this._loadConfiguration()}return(0,Ht.Z)(e,[{key:"getConfiguration",value:function(){return this.config}},{key:"setConfiguration",value:function(e){if(Object.assign(this.config,e),this.storage){var t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}},{key:"_loadConfiguration",value:function(){var e={};if(this.storage){var t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}]),e}();function $M(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>r&&(n=Math.min(n,r/e.width));var o=e.width*n,a=e.height*n,s=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),s]}function JM(e){return"string"===typeof e?YM[e.toUpperCase()]||YM.WHITE:e}function QM(e,t){if(!e)throw new Error(t||"Assertion failed")}!function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(YM||(YM={}));var ek=n(1426),tk={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof n.g&&n.g,document:"undefined"!==typeof document&&document,process:"object"===typeof ek&&ek},nk=tk.window||tk.self||tk.global,rk=tk.process||{};function ik(){var e,t,n;if(GM&&"performance"in nk)e=null===nk||void 0===nk||null===(t=nk.performance)||void 0===t||null===(n=t.now)||void 0===n?void 0:n.call(t);else if("hrtime"in rk){var r,i=null===rk||void 0===rk||null===(r=rk.hrtime)||void 0===r?void 0:r.call(rk);e=1e3*i[0]+i[1]/1e6}else e=Date.now();return e}var ok={debug:GM&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},ak={enabled:!0,level:0};function sk(){}var uk={},lk={once:!0},ck=function(){function e(){(0,Vt.Z)(this,e);var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""}).id;(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"VERSION",qM),(0,re.Z)(this,"_startTs",ik()),(0,re.Z)(this,"_deltaTs",ik()),(0,re.Z)(this,"_storage",void 0),(0,re.Z)(this,"userData",{}),(0,re.Z)(this,"LOG_THROTTLE_TIMEOUT",0),this.id=t,this.userData={},this._storage=new XM("__probe-".concat(this.id,"__"),ak),this.timeStamp("".concat(this.id," started")),function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"],r=Object.getPrototypeOf(e),i=gx(Object.getOwnPropertyNames(r));try{var o=function(){var r=t.value;"function"===typeof e[r]&&(n.find((function(e){return r===e}))||(e[r]=e[r].bind(e)))};for(i.s();!(t=i.n()).done;)o()}catch(YJ){i.e(YJ)}finally{i.f()}}(this),Object.seal(this)}return(0,Ht.Z)(e,[{key:"level",get:function(){return this.getLevel()},set:function(e){this.setLevel(e)}},{key:"isEnabled",value:function(){return this._storage.config.enabled}},{key:"getLevel",value:function(){return this._storage.config.level}},{key:"getTotal",value:function(){return Number((ik()-this._startTs).toPrecision(10))}},{key:"getDelta",value:function(){return Number((ik()-this._deltaTs).toPrecision(10))}},{key:"priority",get:function(){return this.level},set:function(e){this.level=e}},{key:"getPriority",value:function(){return this.level}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.setConfiguration({enabled:e}),this}},{key:"setLevel",value:function(e){return this._storage.setConfiguration({level:e}),this}},{key:"get",value:function(e){return this._storage.config[e]}},{key:"set",value:function(e,t){this._storage.setConfiguration((0,re.Z)({},e,t))}},{key:"settings",value:function(){console.table?console.table(this._storage.config):console.log(this._storage.config)}},{key:"assert",value:function(e,t){QM(e,t)}},{key:"warn",value:function(e){return this._getLogFunction(0,e,ok.warn,arguments,lk)}},{key:"error",value:function(e){return this._getLogFunction(0,e,ok.error,arguments)}},{key:"deprecated",value:function(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}},{key:"removed",value:function(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}},{key:"probe",value:function(e,t){return this._getLogFunction(e,t,ok.log,arguments,{time:!0,once:!0})}},{key:"log",value:function(e,t){return this._getLogFunction(e,t,ok.debug,arguments)}},{key:"info",value:function(e,t){return this._getLogFunction(e,t,console.info,arguments)}},{key:"once",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._getLogFunction(e,t,ok.debug||ok.info,arguments,lk)}},{key:"table",value:function(e,t,n){return t?this._getLogFunction(e,t,console.table||sk,n&&[n],{tag:dk(t)}):sk}},{key:"image",value:function(e){var t=e.logLevel,n=e.priority,r=e.image,i=e.message,o=void 0===i?"":i,a=e.scale,s=void 0===a?1:a;return this._shouldLog(t||n)?GM?function(e){var t=e.image,n=e.message,r=void 0===n?"":n,i=e.scale,o=void 0===i?1:i;if("string"===typeof t){var a=new Image;return a.onload=function(){var e,t=$M(a,r,o);(e=console).log.apply(e,(0,g.Z)(t))},a.src=t,sk}var s=t.nodeName||"";if("img"===s.toLowerCase()){var u;return(u=console).log.apply(u,(0,g.Z)($M(t,r,o))),sk}if("canvas"===s.toLowerCase()){var l=new Image;return l.onload=function(){var e;return(e=console).log.apply(e,(0,g.Z)($M(l,r,o)))},l.src=t.toDataURL(),sk}return sk}({image:r,message:o,scale:s}):function(e){e.image,e.message,e.scale;return console.warn("removed"),sk}({image:r,message:o,scale:s}):sk}},{key:"time",value:function(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}},{key:"timeEnd",value:function(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}},{key:"timeStamp",value:function(e,t){return this._getLogFunction(e,t,console.timeStamp||sk)}},{key:"group",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1},r=fk({logLevel:e,message:t,opts:n}),i=n.collapsed;return r.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}},{key:"groupCollapsed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},n,{collapsed:!0}))}},{key:"groupEnd",value:function(e){return this._getLogFunction(e,"",console.groupEnd||sk)}},{key:"withGroup",value:function(e,t,n){this.group(e,t)();try{n()}finally{this.groupEnd(e)()}}},{key:"trace",value:function(){console.trace&&console.trace()}},{key:"_shouldLog",value:function(e){return this.isEnabled()&&this.getLevel()>=hk(e)}},{key:"_getLogFunction",value:function(e,t,n,r,i){if(this._shouldLog(e)){var o;i=fk({logLevel:e,message:t,args:r,opts:i}),QM(n=n||i.method),i.total=this.getTotal(),i.delta=this.getDelta(),this._deltaTs=ik();var a=i.tag||i.message;if(i.once){if(uk[a])return sk;uk[a]=ik()}return t=function(e,t,n){if("string"===typeof t){var r=n.time?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=Math.max(t-e.length,0);return"".concat(" ".repeat(n)).concat(e)}((s=n.total)<10?"".concat(s.toFixed(2),"ms"):s<100?"".concat(s.toFixed(1),"ms"):s<1e3?"".concat(s.toFixed(0),"ms"):"".concat((s/1e3).toFixed(2),"s")):"";t=n.time?"".concat(e,": ").concat(r,"  ").concat(t):"".concat(e,": ").concat(t),i=t,o=n.color,a=n.background,GM||"string"!==typeof i||(o&&(o=JM(o),i="\x1b[".concat(o,"m").concat(i,"\x1b[39m")),a&&(o=JM(a),i="\x1b[".concat(a+10,"m").concat(i,"\x1b[49m"))),t=i}var i,o,a;var s;return t}(this.id,i.message,i),(o=n).bind.apply(o,[console,t].concat((0,g.Z)(i.args)))}return sk}}]),e}();function hk(e){if(!e)return 0;var t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return QM(Number.isFinite(t)&&t>=0),t}function fk(e){var t=e.logLevel,n=e.message;e.logLevel=hk(t);for(var r=e.args?Array.from(e.args):[];r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":void 0!==n&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t)}"function"===typeof e.message&&(e.message=e.message());var i=typeof e.message;return QM("string"===i||"object"===i),Object.assign(e,{args:r},e.opts)}function dk(e){for(var t in e)for(var n in e[t])return n||"untitled";return"empty"}(0,re.Z)(ck,"VERSION",qM);var pk=new ck({id:"luma.gl"});function vk(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}var gk="Invalid WebGLRenderingContext",mk="Requires WebGL2";function yk(e){return"undefined"!==typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext||("undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&Number.isFinite(e._version)))}function bk(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}function _k(e){return vk(yk(e),gk),e}function wk(e){return vk(bk(e),mk),e}var Ek={};function Sk(e,t){var n;Ek[e]=!0,void 0!==t&&(n=t,globalThis.console&&globalThis.console.error&&globalThis.console.error(n))}var xk=function e(t){var n=t.gl;this.ext=t,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(t.maxVertexAttribs);for(var r=0;r<this.attribs.length;r++){var i=new e.VertexAttrib(n);this.attribs[r]=i}this.maxAttrib=0};(xk.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};var Mk,kk=function(e){var t=this;this.gl=e,function(e){var t=e.getError;e.getError=function(){var n;do{0!==(n=t.apply(e))&&(Ek[n]=!0)}while(0!==n);for(n in Ek)if(Ek[n])return delete Ek[n],parseInt(n,10);return 0}}(e);var n=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(e){return e===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:n.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(e){var r=t.currentVertexArrayObject;return r.maxAttrib=Math.max(r.maxAttrib,e),r.attribs[e].enabled=!0,n.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(e){var r=t.currentVertexArrayObject;return r.maxAttrib=Math.max(r.maxAttrib,e),r.attribs[e].enabled=!1,n.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(e,r){switch(e){case 34962:t.currentArrayBuffer=r;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=r}return n.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(e,r){var i=t.currentVertexArrayObject.attribs[e];switch(r){case 34975:return i.buffer;case 34338:return i.enabled;case 34339:return i.size;case 34340:return i.stride;case 34341:return i.type;case 34922:return i.normalized;default:return n.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(e,r,i,o,a,s){var u=t.currentVertexArrayObject;u.maxAttrib=Math.max(u.maxAttrib,e);var l=u.attribs[e];return l.buffer=t.currentArrayBuffer,l.size=r,l.type=i,l.normalized=o,l.stride=a,l.offset=s,l.recache(),n.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",(function(){var e;e="OESVertexArrayObject emulation library context restored",globalThis.console&&globalThis.console.log&&globalThis.console.log(e),t.reset_()}),!0),this.reset_()};kk.prototype.VERTEX_ARRAY_BINDING_OES=34229,kk.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(var e=0;e<this.vertexArrayObjects.length;++e)this.vertexArrayObjects.isAlive=!1;var t=this.gl;this.maxVertexAttribs=t.getParameter(34921),this.defaultVertexArrayObject=new xk(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},kk.prototype.createVertexArrayOES=function(){var e=new xk(this);return this.vertexArrayObjects.push(e),e},kk.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},kk.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof xk&&e.hasBeenBound&&e.ext===this)},kk.prototype.bindVertexArrayOES=function(e){var t=this.gl;if(!e||e.isAlive){var n=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;var i=this.currentVertexArrayObject;if(r!==i){r&&i.elementArrayBuffer===r.elementArrayBuffer||n.bindBuffer.call(t,34963,i.elementArrayBuffer);for(var o=this.currentArrayBuffer,a=Math.max(r?r.maxAttrib:0,i.maxAttrib),s=0;s<=a;s++){var u=i.attribs[s],l=r?r.attribs[s]:null;if(r&&u.enabled===l.enabled||(u.enabled?n.enableVertexAttribArray.call(t,s):n.disableVertexAttribArray.call(t,s)),u.enabled){var c=!1;r&&u.buffer===l.buffer||(o!==u.buffer&&(n.bindBuffer.call(t,34962,u.buffer),o=u.buffer),c=!0),(c||u.cached!==l.cached)&&n.vertexAttribPointer.call(t,s,u.size,u.type,u.normalized,u.stride,u.offset)}}this.currentArrayBuffer!==o&&n.bindBuffer.call(t,34962,this.currentArrayBuffer)}}else Sk(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject")};var Ak,Tk="OES_element_index",Pk="WEBGL_draw_buffers",Ok="WEBGL_debug_renderer_info",Ck=function(e){return bk(e)?void 0:0},Rk=(Mk={},(0,re.Z)(Mk,3074,(function(e){return bk(e)?void 0:36064})),(0,re.Z)(Mk,35723,(function(e){return bk(e)?void 0:4352})),(0,re.Z)(Mk,35977,Ck),(0,re.Z)(Mk,32937,Ck),(0,re.Z)(Mk,36795,(function(e,t){var n=bk(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return n&&n.GPU_DISJOINT_EXT?t(n.GPU_DISJOINT_EXT):0})),(0,re.Z)(Mk,37445,(function(e,t){var n=e.getExtension(Ok);return t(n&&n.UNMASKED_VENDOR_WEBGL||7936)})),(0,re.Z)(Mk,37446,(function(e,t){var n=e.getExtension(Ok);return t(n&&n.UNMASKED_RENDERER_WEBGL||7937)})),(0,re.Z)(Mk,34047,(function(e,t){var n=e.luma.extensions.EXT_texture_filter_anisotropic;return n?t(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),(0,re.Z)(Mk,32883,Ck),(0,re.Z)(Mk,35071,Ck),(0,re.Z)(Mk,37447,Ck),(0,re.Z)(Mk,36063,(function(e,t){if(!bk(e)){var n=e.getExtension(Pk);return n?t(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),(0,re.Z)(Mk,35379,Ck),(0,re.Z)(Mk,35374,Ck),(0,re.Z)(Mk,35377,Ck),(0,re.Z)(Mk,34852,(function(e){if(!bk(e)){var t=e.getExtension(Pk);return t?t.MAX_DRAW_BUFFERS_WEBGL:0}})),(0,re.Z)(Mk,36203,(function(e){return e.getExtension(Tk)?2147483647:65535})),(0,re.Z)(Mk,33001,(function(e){return e.getExtension(Tk)?16777216:65535})),(0,re.Z)(Mk,33e3,(function(e){return 16777216})),(0,re.Z)(Mk,37157,Ck),(0,re.Z)(Mk,35373,Ck),(0,re.Z)(Mk,35657,Ck),(0,re.Z)(Mk,36183,Ck),(0,re.Z)(Mk,37137,Ck),(0,re.Z)(Mk,34045,Ck),(0,re.Z)(Mk,35978,Ck),(0,re.Z)(Mk,35979,Ck),(0,re.Z)(Mk,35968,Ck),(0,re.Z)(Mk,35376,Ck),(0,re.Z)(Mk,35375,Ck),(0,re.Z)(Mk,35659,Ck),(0,re.Z)(Mk,37154,Ck),(0,re.Z)(Mk,35371,Ck),(0,re.Z)(Mk,35658,Ck),(0,re.Z)(Mk,35076,Ck),(0,re.Z)(Mk,35077,Ck),(0,re.Z)(Mk,35380,Ck),Mk);var Lk="ANGLE_instanced_arrays";var Ik,Dk,jk,Nk=(Ak={},(0,re.Z)(Ak,"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){vk(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),(0,re.Z)(Ak,Lk,{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(e,t){vk(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),(0,re.Z)(Ak,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){vk(!1)}}),(0,re.Z)(Ak,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){vk(!1)},deleteQuery:function(){vk(!1)},beginQuery:function(){vk(!1)},endQuery:function(){},getQuery:function(e,t){return this.getQueryObject(e,t)},getQueryParameter:function(e,t){return this.getQueryObject(e,t)},getQueryObject:function(){}}),Ak),Bk={readBuffer:function(e,t,n){bk(e)&&t(n)},getVertexAttrib:function(e,t,n,r){var i,o=function(e,t){return{webgl2:bk(e),ext:e.getExtension(t)}}(e,Lk),a=o.webgl2,s=o.ext;switch(r){case 35069:i=!!a&&void 0;break;case 35070:i=a||s?void 0:0}return void 0!==i?i:t(n,r)},getProgramParameter:function(e,t,n,r){if(!bk(e))switch(r){case 35967:return 35981;case 35971:case 35382:return 0}return t(n,r)},getInternalformatParameter:function(e,t,n,r,i){return bk(e)||32937!==i?e.getInternalformatParameter(n,r,i):new Int32Array([0])},getTexParameter:function(e,t,n,r){if(34046===r){var i=e.luma.extensions.EXT_texture_filter_anisotropic;r=i&&i.TEXTURE_MAX_ANISOTROPY_EXT||34046}return t(n,r)},getParameter:function(e,t,n){var r=Rk[n],i="function"===typeof r?r(e,t,n):r;return void 0!==i?i:t(n)},hint:function(e,t,n,r){return t(n,r)}};function zk(e,t){var n=t.extension,r=t.target,i=t.target2,o=Nk[n];vk(o);for(var a=o.meta,s=(void 0===a?{}:a).suffix,u=void 0===s?"":s,l=e.getExtension(n),c=function(){var t=f[h],n="".concat(t).concat(u),a=null;"meta"===t||"function"===typeof e[t]||(l&&"function"===typeof l[n]?a=function(){return l[n].apply(l,arguments)}:"function"===typeof o[t]&&(a=o[t].bind(r))),a&&(r[t]=a,i[t]=a)},h=0,f=Object.keys(o);h<f.length;h++)c()}globalThis.polyfillContext=function(e){e.luma=e.luma||{};var t=e.luma;return t.polyfilled||(!function(e){if("function"!==typeof e.createVertexArray){var t=e.getSupportedExtensions;e.getSupportedExtensions=function(){var e=t.call(this)||[];return e.indexOf("OES_vertex_array_object")<0&&e.push("OES_vertex_array_object"),e};var n=e.getExtension;e.getExtension=function(t){return n.call(this,t)||("OES_vertex_array_object"!==t?null:(e.__OESVertexArrayObject||(this.__OESVertexArrayObject=new kk(this)),this.__OESVertexArrayObject))}}}(e),function(e){e.luma.extensions={};var t,n=e.getSupportedExtensions()||[],r=gx(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.luma[i]=e.getExtension(i)}}catch(YJ){r.e(YJ)}finally{r.f()}}(e),function(e,t){var n,r=gx(Object.getOwnPropertyNames(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;"overrides"!==i&&zk(e,{extension:i,target:e.luma,target2:e})}}catch(YJ){r.e(YJ)}finally{r.f()}}(e,Nk),function(e,t){var n=t.target,r=t.target2;Object.keys(Bk).forEach((function(t){if("function"===typeof Bk[t]){var i=e[t]?e[t].bind(e):function(){},o=Bk[t].bind(null,e,i);n[t]=o,r[t]=o}}))}(e,{target:t,target2:e}),t.polyfilled=!0),e};var Zk=(Ik={},(0,re.Z)(Ik,3042,!1),(0,re.Z)(Ik,32773,new Float32Array([0,0,0,0])),(0,re.Z)(Ik,32777,32774),(0,re.Z)(Ik,34877,32774),(0,re.Z)(Ik,32969,1),(0,re.Z)(Ik,32968,0),(0,re.Z)(Ik,32971,1),(0,re.Z)(Ik,32970,0),(0,re.Z)(Ik,3106,new Float32Array([0,0,0,0])),(0,re.Z)(Ik,3107,[!0,!0,!0,!0]),(0,re.Z)(Ik,2884,!1),(0,re.Z)(Ik,2885,1029),(0,re.Z)(Ik,2929,!1),(0,re.Z)(Ik,2931,1),(0,re.Z)(Ik,2932,513),(0,re.Z)(Ik,2928,new Float32Array([0,1])),(0,re.Z)(Ik,2930,!0),(0,re.Z)(Ik,3024,!0),(0,re.Z)(Ik,36006,null),(0,re.Z)(Ik,2886,2305),(0,re.Z)(Ik,33170,4352),(0,re.Z)(Ik,2849,1),(0,re.Z)(Ik,32823,!1),(0,re.Z)(Ik,32824,0),(0,re.Z)(Ik,10752,0),(0,re.Z)(Ik,32938,1),(0,re.Z)(Ik,32939,!1),(0,re.Z)(Ik,3089,!1),(0,re.Z)(Ik,3088,new Int32Array([0,0,1024,1024])),(0,re.Z)(Ik,2960,!1),(0,re.Z)(Ik,2961,0),(0,re.Z)(Ik,2968,4294967295),(0,re.Z)(Ik,36005,4294967295),(0,re.Z)(Ik,2962,519),(0,re.Z)(Ik,2967,0),(0,re.Z)(Ik,2963,4294967295),(0,re.Z)(Ik,34816,519),(0,re.Z)(Ik,36003,0),(0,re.Z)(Ik,36004,4294967295),(0,re.Z)(Ik,2964,7680),(0,re.Z)(Ik,2965,7680),(0,re.Z)(Ik,2966,7680),(0,re.Z)(Ik,34817,7680),(0,re.Z)(Ik,34818,7680),(0,re.Z)(Ik,34819,7680),(0,re.Z)(Ik,2978,[0,0,1024,1024]),(0,re.Z)(Ik,3333,4),(0,re.Z)(Ik,3317,4),(0,re.Z)(Ik,37440,!1),(0,re.Z)(Ik,37441,!1),(0,re.Z)(Ik,37443,37444),(0,re.Z)(Ik,35723,4352),(0,re.Z)(Ik,36010,null),(0,re.Z)(Ik,35977,!1),(0,re.Z)(Ik,3330,0),(0,re.Z)(Ik,3332,0),(0,re.Z)(Ik,3331,0),(0,re.Z)(Ik,3314,0),(0,re.Z)(Ik,32878,0),(0,re.Z)(Ik,3316,0),(0,re.Z)(Ik,3315,0),(0,re.Z)(Ik,32877,0),Ik),Fk=function(e,t,n){return t?e.enable(n):e.disable(n)},Uk=function(e,t,n){return e.hint(n,t)},Kk=function(e,t,n){return e.pixelStorei(n,t)};function Vk(e){return Array.isArray(e)||ArrayBuffer.isView(e)}var Hk=(Dk={},(0,re.Z)(Dk,3042,Fk),(0,re.Z)(Dk,32773,(function(e,t){return e.blendColor.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,32777,"blendEquation"),(0,re.Z)(Dk,34877,"blendEquation"),(0,re.Z)(Dk,32969,"blendFunc"),(0,re.Z)(Dk,32968,"blendFunc"),(0,re.Z)(Dk,32971,"blendFunc"),(0,re.Z)(Dk,32970,"blendFunc"),(0,re.Z)(Dk,3106,(function(e,t){return e.clearColor.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,3107,(function(e,t){return e.colorMask.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,2884,Fk),(0,re.Z)(Dk,2885,(function(e,t){return e.cullFace(t)})),(0,re.Z)(Dk,2929,Fk),(0,re.Z)(Dk,2931,(function(e,t){return e.clearDepth(t)})),(0,re.Z)(Dk,2932,(function(e,t){return e.depthFunc(t)})),(0,re.Z)(Dk,2928,(function(e,t){return e.depthRange.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,2930,(function(e,t){return e.depthMask(t)})),(0,re.Z)(Dk,3024,Fk),(0,re.Z)(Dk,35723,Uk),(0,re.Z)(Dk,36006,(function(e,t){var n=bk(e)?36009:36160;return e.bindFramebuffer(n,t)})),(0,re.Z)(Dk,2886,(function(e,t){return e.frontFace(t)})),(0,re.Z)(Dk,33170,Uk),(0,re.Z)(Dk,2849,(function(e,t){return e.lineWidth(t)})),(0,re.Z)(Dk,32823,Fk),(0,re.Z)(Dk,32824,"polygonOffset"),(0,re.Z)(Dk,10752,"polygonOffset"),(0,re.Z)(Dk,35977,Fk),(0,re.Z)(Dk,32938,"sampleCoverage"),(0,re.Z)(Dk,32939,"sampleCoverage"),(0,re.Z)(Dk,3089,Fk),(0,re.Z)(Dk,3088,(function(e,t){return e.scissor.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,2960,Fk),(0,re.Z)(Dk,2961,(function(e,t){return e.clearStencil(t)})),(0,re.Z)(Dk,2968,(function(e,t){return e.stencilMaskSeparate(1028,t)})),(0,re.Z)(Dk,36005,(function(e,t){return e.stencilMaskSeparate(1029,t)})),(0,re.Z)(Dk,2962,"stencilFuncFront"),(0,re.Z)(Dk,2967,"stencilFuncFront"),(0,re.Z)(Dk,2963,"stencilFuncFront"),(0,re.Z)(Dk,34816,"stencilFuncBack"),(0,re.Z)(Dk,36003,"stencilFuncBack"),(0,re.Z)(Dk,36004,"stencilFuncBack"),(0,re.Z)(Dk,2964,"stencilOpFront"),(0,re.Z)(Dk,2965,"stencilOpFront"),(0,re.Z)(Dk,2966,"stencilOpFront"),(0,re.Z)(Dk,34817,"stencilOpBack"),(0,re.Z)(Dk,34818,"stencilOpBack"),(0,re.Z)(Dk,34819,"stencilOpBack"),(0,re.Z)(Dk,2978,(function(e,t){return e.viewport.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,3333,Kk),(0,re.Z)(Dk,3317,Kk),(0,re.Z)(Dk,37440,Kk),(0,re.Z)(Dk,37441,Kk),(0,re.Z)(Dk,37443,Kk),(0,re.Z)(Dk,3330,Kk),(0,re.Z)(Dk,3332,Kk),(0,re.Z)(Dk,3331,Kk),(0,re.Z)(Dk,36010,(function(e,t){return e.bindFramebuffer(36008,t)})),(0,re.Z)(Dk,3314,Kk),(0,re.Z)(Dk,32878,Kk),(0,re.Z)(Dk,3316,Kk),(0,re.Z)(Dk,3315,Kk),(0,re.Z)(Dk,32877,Kk),(0,re.Z)(Dk,"framebuffer",(function(e,t){var n=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,n)})),(0,re.Z)(Dk,"blend",(function(e,t){return t?e.enable(3042):e.disable(3042)})),(0,re.Z)(Dk,"blendColor",(function(e,t){return e.blendColor.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,"blendEquation",(function(e,t){t=Vk(t)?t:[t,t],e.blendEquationSeparate.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,"blendFunc",(function(e,t){t=Vk(t)&&2===t.length?[].concat((0,g.Z)(t),(0,g.Z)(t)):t,e.blendFuncSeparate.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,"clearColor",(function(e,t){return e.clearColor.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,"clearDepth",(function(e,t){return e.clearDepth(t)})),(0,re.Z)(Dk,"clearStencil",(function(e,t){return e.clearStencil(t)})),(0,re.Z)(Dk,"colorMask",(function(e,t){return e.colorMask.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,"cull",(function(e,t){return t?e.enable(2884):e.disable(2884)})),(0,re.Z)(Dk,"cullFace",(function(e,t){return e.cullFace(t)})),(0,re.Z)(Dk,"depthTest",(function(e,t){return t?e.enable(2929):e.disable(2929)})),(0,re.Z)(Dk,"depthFunc",(function(e,t){return e.depthFunc(t)})),(0,re.Z)(Dk,"depthMask",(function(e,t){return e.depthMask(t)})),(0,re.Z)(Dk,"depthRange",(function(e,t){return e.depthRange.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,"dither",(function(e,t){return t?e.enable(3024):e.disable(3024)})),(0,re.Z)(Dk,"derivativeHint",(function(e,t){e.hint(35723,t)})),(0,re.Z)(Dk,"frontFace",(function(e,t){return e.frontFace(t)})),(0,re.Z)(Dk,"mipmapHint",(function(e,t){return e.hint(33170,t)})),(0,re.Z)(Dk,"lineWidth",(function(e,t){return e.lineWidth(t)})),(0,re.Z)(Dk,"polygonOffsetFill",(function(e,t){return t?e.enable(32823):e.disable(32823)})),(0,re.Z)(Dk,"polygonOffset",(function(e,t){return e.polygonOffset.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,"sampleCoverage",(function(e,t){return e.sampleCoverage.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,"scissorTest",(function(e,t){return t?e.enable(3089):e.disable(3089)})),(0,re.Z)(Dk,"scissor",(function(e,t){return e.scissor.apply(e,(0,g.Z)(t))})),(0,re.Z)(Dk,"stencilTest",(function(e,t){return t?e.enable(2960):e.disable(2960)})),(0,re.Z)(Dk,"stencilMask",(function(e,t){var n=v(t=Vk(t)?t:[t,t],2),r=n[0],i=n[1];e.stencilMaskSeparate(1028,r),e.stencilMaskSeparate(1029,i)})),(0,re.Z)(Dk,"stencilFunc",(function(e,t){var n=v(t=Vk(t)&&3===t.length?[].concat((0,g.Z)(t),(0,g.Z)(t)):t,6),r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5];e.stencilFuncSeparate(1028,r,i,o),e.stencilFuncSeparate(1029,a,s,u)})),(0,re.Z)(Dk,"stencilOp",(function(e,t){var n=v(t=Vk(t)&&3===t.length?[].concat((0,g.Z)(t),(0,g.Z)(t)):t,6),r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5];e.stencilOpSeparate(1028,r,i,o),e.stencilOpSeparate(1029,a,s,u)})),(0,re.Z)(Dk,"viewport",(function(e,t){return e.viewport.apply(e,(0,g.Z)(t))})),Dk);function Wk(e,t,n){return void 0!==t[e]?t[e]:n[e]}var Gk={blendEquation:function(e,t,n){return e.blendEquationSeparate(Wk(32777,t,n),Wk(34877,t,n))},blendFunc:function(e,t,n){return e.blendFuncSeparate(Wk(32969,t,n),Wk(32968,t,n),Wk(32971,t,n),Wk(32970,t,n))},polygonOffset:function(e,t,n){return e.polygonOffset(Wk(32824,t,n),Wk(10752,t,n))},sampleCoverage:function(e,t,n){return e.sampleCoverage(Wk(32938,t,n),Wk(32939,t,n))},stencilFuncFront:function(e,t,n){return e.stencilFuncSeparate(1028,Wk(2962,t,n),Wk(2967,t,n),Wk(2963,t,n))},stencilFuncBack:function(e,t,n){return e.stencilFuncSeparate(1029,Wk(34816,t,n),Wk(36003,t,n),Wk(36004,t,n))},stencilOpFront:function(e,t,n){return e.stencilOpSeparate(1028,Wk(2964,t,n),Wk(2965,t,n),Wk(2966,t,n))},stencilOpBack:function(e,t,n){return e.stencilOpSeparate(1029,Wk(34817,t,n),Wk(34818,t,n),Wk(34819,t,n))}},qk={enable:function(e,t){return e((0,re.Z)({},t,!0))},disable:function(e,t){return e((0,re.Z)({},t,!1))},pixelStorei:function(e,t,n){return e((0,re.Z)({},t,n))},hint:function(e,t,n){return e((0,re.Z)({},t,n))},bindFramebuffer:function(e,t,n){var r;switch(t){case 36160:return e((r={},(0,re.Z)(r,36006,n),(0,re.Z)(r,36010,n),r));case 36009:return e((0,re.Z)({},36006,n));case 36008:return e((0,re.Z)({},36010,n));default:return null}},blendColor:function(e,t,n,r,i){return e((0,re.Z)({},32773,new Float32Array([t,n,r,i])))},blendEquation:function(e,t){var n;return e((n={},(0,re.Z)(n,32777,t),(0,re.Z)(n,34877,t),n))},blendEquationSeparate:function(e,t,n){var r;return e((r={},(0,re.Z)(r,32777,t),(0,re.Z)(r,34877,n),r))},blendFunc:function(e,t,n){var r;return e((r={},(0,re.Z)(r,32969,t),(0,re.Z)(r,32968,n),(0,re.Z)(r,32971,t),(0,re.Z)(r,32970,n),r))},blendFuncSeparate:function(e,t,n,r,i){var o;return e((o={},(0,re.Z)(o,32969,t),(0,re.Z)(o,32968,n),(0,re.Z)(o,32971,r),(0,re.Z)(o,32970,i),o))},clearColor:function(e,t,n,r,i){return e((0,re.Z)({},3106,new Float32Array([t,n,r,i])))},clearDepth:function(e,t){return e((0,re.Z)({},2931,t))},clearStencil:function(e,t){return e((0,re.Z)({},2961,t))},colorMask:function(e,t,n,r,i){return e((0,re.Z)({},3107,[t,n,r,i]))},cullFace:function(e,t){return e((0,re.Z)({},2885,t))},depthFunc:function(e,t){return e((0,re.Z)({},2932,t))},depthRange:function(e,t,n){return e((0,re.Z)({},2928,new Float32Array([t,n])))},depthMask:function(e,t){return e((0,re.Z)({},2930,t))},frontFace:function(e,t){return e((0,re.Z)({},2886,t))},lineWidth:function(e,t){return e((0,re.Z)({},2849,t))},polygonOffset:function(e,t,n){var r;return e((r={},(0,re.Z)(r,32824,t),(0,re.Z)(r,10752,n),r))},sampleCoverage:function(e,t,n){var r;return e((r={},(0,re.Z)(r,32938,t),(0,re.Z)(r,32939,n),r))},scissor:function(e,t,n,r,i){return e((0,re.Z)({},3088,new Int32Array([t,n,r,i])))},stencilMask:function(e,t){var n;return e((n={},(0,re.Z)(n,2968,t),(0,re.Z)(n,36005,t),n))},stencilMaskSeparate:function(e,t,n){return e((0,re.Z)({},1028===t?2968:36005,n))},stencilFunc:function(e,t,n,r){var i;return e((i={},(0,re.Z)(i,2962,t),(0,re.Z)(i,2967,n),(0,re.Z)(i,2963,r),(0,re.Z)(i,34816,t),(0,re.Z)(i,36003,n),(0,re.Z)(i,36004,r),i))},stencilFuncSeparate:function(e,t,n,r,i){var o;return e((o={},(0,re.Z)(o,1028===t?2962:34816,n),(0,re.Z)(o,1028===t?2967:36003,r),(0,re.Z)(o,1028===t?2963:36004,i),o))},stencilOp:function(e,t,n,r){var i;return e((i={},(0,re.Z)(i,2964,t),(0,re.Z)(i,2965,n),(0,re.Z)(i,2966,r),(0,re.Z)(i,34817,t),(0,re.Z)(i,34818,n),(0,re.Z)(i,34819,r),i))},stencilOpSeparate:function(e,t,n,r,i){var o;return e((o={},(0,re.Z)(o,1028===t?2964:34817,n),(0,re.Z)(o,1028===t?2965:34818,r),(0,re.Z)(o,1028===t?2966:34819,i),o))},viewport:function(e,t,n,r,i){return e((0,re.Z)({},2978,[t,n,r,i]))}},Yk=function(e,t){return e.isEnabled(t)},Xk=(jk={},(0,re.Z)(jk,3042,Yk),(0,re.Z)(jk,2884,Yk),(0,re.Z)(jk,2929,Yk),(0,re.Z)(jk,3024,Yk),(0,re.Z)(jk,32823,Yk),(0,re.Z)(jk,32926,Yk),(0,re.Z)(jk,32928,Yk),(0,re.Z)(jk,3089,Yk),(0,re.Z)(jk,2960,Yk),(0,re.Z)(jk,35977,Yk),jk);function $k(e){for(var t in e)return!1;return!0}function Jk(e,t){if(e===t)return!0;var n=Array.isArray(e)||ArrayBuffer.isView(e),r=Array.isArray(t)||ArrayBuffer.isView(t);if(n&&r&&e.length===t.length){for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}return!1}function Qk(e,t){var n=e[t].bind(e);e[t]=function(){var t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache&&e.state.enable?e.state.cache[t]:n.apply(void 0,arguments)},Object.defineProperty(e[t],"name",{value:"".concat(t,"-from-cache"),configurable:!1})}function eA(e,t,n){var r=e[t].bind(e);e[t]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=n.apply(void 0,[e.state._updateCache].concat(i)),s=a.valueChanged,u=a.oldValue;return s&&r.apply(void 0,i),u},Object.defineProperty(e[t],"name",{value:"".concat(t,"-to-cache"),configurable:!1})}var tA=function(){function e(t){(0,Vt.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.copyState,i=void 0!==r&&r,o=n.log,a=void 0===o?function(){}:o;this.gl=t,this.program=null,this.stateStack=[],this.enable=!0,this.cache=i?function(e,t){if("number"===typeof(t=t||Zk)){var n=t,r=Xk[n];return r?r(e,n):e.getParameter(n)}var i,o=Array.isArray(t)?t:Object.keys(t),a={},s=gx(o);try{for(s.s();!(i=s.n()).done;){var u=i.value,l=Xk[u];a[u]=l?l(e,Number(u)):e.getParameter(Number(u))}}catch(YJ){s.e(YJ)}finally{s.f()}return a}(t):Object.assign({},Zk),this.log=a,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return(0,Ht.Z)(e,[{key:"push",value:function(){this.stateStack.push({})}},{key:"pop",value:function(){vk(this.stateStack.length>0);var e=this.stateStack[this.stateStack.length-1];iA(this.gl,e),this.stateStack.pop()}},{key:"_updateCache",value:function(e){var t,n=!1,r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var i in e){vk(void 0!==i);var o=e[i],a=this.cache[i];Jk(o,a)||(n=!0,t=a,r&&!(i in r)&&(r[i]=a),this.cache[i]=o)}return{valueChanged:n,oldValue:t}}}]),e}();function nA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enable,r=void 0===n||n,i=t.copyState;if(vk(void 0!==i),!e.state){var o=globalThis.polyfillContext;for(var a in o&&o(e),e.state=new tA(e,{copyState:i}),function(e){var t=e.useProgram.bind(e);e.useProgram=function(n){e.state.program!==n&&(t(n),e.state.program=n)}}(e),qk){eA(e,a,qk[a])}Qk(e,"getParameter"),Qk(e,"isEnabled")}return e.state.enable=r,e}function rA(e){vk(e.state),e.state.pop()}function iA(e,t){if(vk(yk(e),"setParameters requires a WebGL context"),!$k(t)){var n={};for(var r in t){var i=Number(r),o=Hk[r];o&&("string"===typeof o?n[o]=!0:o(e,t[r],i))}var a=e.state&&e.state.cache;if(a)for(var s in n){(0,Gk[s])(e,t,a)}}}function oA(e,t,n){if($k(t))return n(e);var r,i=t.nocatch,o=void 0===i||i;if(function(e){e.state||nA(e,{copyState:!1}),e.state.push()}(e),iA(e,t),o)r=n(e),rA(e);else try{r=n(e)}finally{rA(e)}return r}function aA(e){var t=e.luma;if(e.canvas&&t){var n=t.canvasSizeInfo,r="clientWidth"in n?n.clientWidth:e.canvas.clientWidth;return r?e.drawingBufferWidth/r:1}return 1}function sA(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(e,t,n,r,i){var o,a=uA(e[0],t,n),s=lA(e[1],t,r,i),u=uA(e[0]+1,t,n),l=u===n-1?u:u-1;u=lA(e[1]+1,t,r,i),i?(o=s,s=u=0===u?u:u+1):o=u===r-1?u:u-1;return{x:a,y:s,width:Math.max(l-a+1,1),height:Math.max(o-s+1,1)}}(t,aA(e),e.drawingBufferWidth,e.drawingBufferHeight,n)}function uA(e,t,n){return Math.min(Math.round(e*t),n-1)}function lA(e,t,n,r){return r?Math.max(0,n-1-Math.round(e*t)):Math.min(Math.round(e*t),n-1)}var cA=GM(),hA=cA&&"undefined"!==typeof document,fA={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function dA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};vk(cA,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils");var t,n=e=Object.assign({},fA,e),r=n.width,i=n.height;function o(t){if(e.throwOnError)throw new Error(t);return console.error(t),null}e.onError=o;var a=function(e){var t,n=e.canvas,r=e.width,i=void 0===r?800:r,o=e.height,a=void 0===o?600:o,s=e.onError;if("string"===typeof n){hA&&"complete"===document.readyState||s("createGLContext called on canvas '".concat(n,"' before page was loaded")),t=document.getElementById(n)}else n?t=n:((t=document.createElement("canvas")).id="lumagl-canvas",t.style.width=Number.isFinite(i)?"".concat(i,"px"):"100%",t.style.height=Number.isFinite(a)?"".concat(a,"px"):"100%",document.body.insertBefore(t,document.body.firstChild));return t}({canvas:e.canvas,width:r,height:i,onError:o});return t=function(e,t){var n=t.onError,r=null,i=function(e){return r=e.statusMessage||r};e.addEventListener("webglcontextcreationerror",i,!1);var o=t.webgl1,a=void 0===o||o,s=t.webgl2,u=void 0===s||s,l=null;u&&(l=(l=l||e.getContext("webgl2",t))||e.getContext("experimental-webgl2",t));a&&(l=(l=l||e.getContext("webgl",t))||e.getContext("experimental-webgl",t));if(e.removeEventListener("webglcontextcreationerror",i,!1),!l)return n("Failed to create ".concat(u&&!a?"WebGL2":"WebGL"," context: ").concat(r||"Unknown error"));t.onContextLost&&e.addEventListener("webglcontextlost",t.onContextLost,!1);t.onContextRestored&&e.addEventListener("webglcontextrestored",t.onContextRestored,!1);return l}(a,e),t?(function(e){var t=bk(e)?"WebGL2":"WebGL1",n=function(e){var t=e.getParameter(7936),n=e.getParameter(7937),r=e.getExtension("WEBGL_debug_renderer_info"),i=r&&e.getParameter(r.UNMASKED_VENDOR_WEBGL||7936),o=r&&e.getParameter(r.UNMASKED_RENDERER_WEBGL||7937);return{vendor:i||t,renderer:o||n,vendorMasked:t,rendererMasked:n,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e),r=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",i=e.debug?" debug":"";pk.info(1,"".concat(t).concat(i," context ").concat(r))()}(t=pA(t,e)),t):null}function pA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e._instrumented)return e;e._version=e._version||function(e){if("undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext)return 2;return 1}(e),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var n=t=Object.assign({},fA,t),r=n.manageState,i=n.debug;return r&&nA(e,{copyState:!1,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pk.log.apply(pk,[1].concat(t))()}}),cA&&i&&(globalThis.makeDebugContext?(e=globalThis.makeDebugContext(e,t),pk.level=Math.max(pk.level,1)):pk.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),e._instrumented=!0,e}function vA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.canvas){!function(e,t,n){var r="width"in n?n.width:e.canvas.clientWidth,i="height"in n?n.height:e.canvas.clientHeight;r&&i||(pk.log(1,"Canvas clientWidth/clientHeight is 0")(),t=1,r=e.canvas.width||1,i=e.canvas.height||1);e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var o=e.luma.canvasSizeInfo;if(o.clientWidth!==r||o.clientHeight!==i||o.devicePixelRatio!==t){var a=t,s=Math.floor(r*a),u=Math.floor(i*a);e.canvas.width=s,e.canvas.height=u,e.drawingBufferWidth===s&&e.drawingBufferHeight===u||(pk.warn("Device pixel ratio clamped")(),a=Math.min(e.drawingBufferWidth/r,e.drawingBufferHeight/i),e.canvas.width=Math.floor(r*a),e.canvas.height=Math.floor(i*a)),Object.assign(e.luma.canvasSizeInfo,{clientWidth:r,clientHeight:i,devicePixelRatio:t})}}(e,function(e){var t="undefined"===typeof window?1:window.devicePixelRatio||1;return Number.isFinite(e)?e<=0?1:e:e?t:1}(t.useDevicePixels),t)}else{var n=e.getExtension("STACKGL_resize_drawingbuffer");n&&"width"in t&&"height"in t&&n.resize(t.width,t.height)}}var gA=n(1426);function mA(){var e;if("undefined"!==typeof window&&window.performance)e=window.performance.now();else if("undefined"!==typeof gA&&gA.hrtime){var t=gA.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}var yA=function(){function e(t,n){(0,Vt.Z)(this,e),(0,re.Z)(this,"name",void 0),(0,re.Z)(this,"type",void 0),(0,re.Z)(this,"sampleSize",1),(0,re.Z)(this,"time",void 0),(0,re.Z)(this,"count",void 0),(0,re.Z)(this,"samples",void 0),(0,re.Z)(this,"lastTiming",void 0),(0,re.Z)(this,"lastSampleTime",void 0),(0,re.Z)(this,"lastSampleCount",void 0),(0,re.Z)(this,"_count",0),(0,re.Z)(this,"_time",0),(0,re.Z)(this,"_samples",0),(0,re.Z)(this,"_startTime",0),(0,re.Z)(this,"_timerPending",!1),this.name=t,this.type=n,this.reset()}return(0,Ht.Z)(e,[{key:"setSampleSize",value:function(e){return this.sampleSize=e,this}},{key:"incrementCount",value:function(){return this.addCount(1),this}},{key:"decrementCount",value:function(){return this.subtractCount(1),this}},{key:"addCount",value:function(e){return this._count+=e,this._samples++,this._checkSampling(),this}},{key:"subtractCount",value:function(e){return this._count-=e,this._samples++,this._checkSampling(),this}},{key:"addTime",value:function(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}},{key:"timeStart",value:function(){return this._startTime=mA(),this._timerPending=!0,this}},{key:"timeEnd",value:function(){return this._timerPending?(this.addTime(mA()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}},{key:"getSampleAverageCount",value:function(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}},{key:"getSampleAverageTime",value:function(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}},{key:"getSampleHz",value:function(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}},{key:"getAverageCount",value:function(){return this.samples>0?this.count/this.samples:0}},{key:"getAverageTime",value:function(){return this.samples>0?this.time/this.samples:0}},{key:"getHz",value:function(){return this.time>0?this.samples/(this.time/1e3):0}},{key:"reset",value:function(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}},{key:"_checkSampling",value:function(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}]),e}(),bA=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"stats",{}),this.id=t.id,this.stats={},this._initializeStats(t.stats),Object.seal(this)}return(0,Ht.Z)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}},{key:"size",get:function(){return Object.keys(this.stats).length}},{key:"reset",value:function(){for(var e in this.stats)this.stats[e].reset();return this}},{key:"forEach",value:function(e){for(var t in this.stats)e(this.stats[t])}},{key:"getTable",value:function(){var e={};return this.forEach((function(t){e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}},{key:"_initializeStats",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){return e._getOrCreate(t)}))}},{key:"_getOrCreate",value:function(e){if(!e||!e.name)return null;var t=e.name,n=e.type;return this.stats[t]||(this.stats[t]=e instanceof yA?e:new yA(t,n)),this.stats[t]}}]),e}(),_A="8.5.20",wA=new(function(){function e(){(0,Vt.Z)(this,e),this.stats=new Map}return(0,Ht.Z)(e,[{key:"get",value:function(e){return this.stats.has(e)||this.stats.set(e,new bA({id:e})),this.stats.get(e)}}]),e}());if(globalThis.luma&&globalThis.luma.VERSION!==_A)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(_A));globalThis.luma||(GM()&&pk.log(1,"luma.gl ".concat(_A," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:_A,version:_A,log:pk,stats:wA,globals:{modules:{},nodeIO:{}}});globalThis.luma;function EA(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}function SA(e,t){if("string"!==typeof t)return t;var n=Number(t);if(!isNaN(n))return n;var r=e[t=t.replace(/^.*\./,"")];return EA(void 0!==r,"Accessing undefined constant GL.".concat(t)),r}function xA(e,t){for(var n in t=Number(t),e)if(e[n]===t)return"GL.".concat(n);return String(t)}var MA={};function kA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";MA[e]=MA[e]||1;var t=MA[e]++;return"".concat(e,"-").concat(t)}function AA(e){return EA("number"===typeof e,"Input must be a number"),e&&0===(e&e-1)}function TA(e){var t=!0;for(var n in e){t=!1;break}return t}function PA(e,t,n,r){var i="See luma.gl ".concat(n," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(e);r.forEach((function(e){o.methodName||(o[e]=function(){throw pk.removed("Calling removed method ".concat(t,".").concat(e,": "),i)(),new Error(e)})}))}var OA="Resource subclass must define virtual methods",CA=function(e){function t(e){(0,Vt.Z)(this,t);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_k(e);var r=n.id,i=n.userData,o=void 0===i?{}:i;this.gl=e,this.gl2=e,this.id=r||kA(this[Symbol.toStringTag]),this.userData=o,this._bound=!1,this._handle=n.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}return(0,Ht.Z)(t,[{key:e,get:function(){return"Resource"}},{key:"toString",value:function(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}},{key:"handle",get:function(){return this._handle}},{key:"delete",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).deleteChildren,t=void 0!==e&&e,n=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,n&&t&&n.filter(Boolean).forEach((function(e){return e.delete()})),this}},{key:"bind",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!==typeof t?(this._bindHandle(t),this):(this._bound?e=t():(this._bindHandle(this.handle),this._bound=!0,e=t(),this._bound=!1,this._bindHandle(null)),e)}},{key:"unbind",value:function(){this.bind(null)}},{key:"getParameter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};EA(e=SA(this.gl,e));var n=(this.constructor.PARAMETERS||{})[e];if(n){var r=bk(this.gl);if(!((!("webgl2"in n)||r)&&(!("extension"in n)||this.gl.getExtension(n.extension)))){var i=n.webgl1,o="webgl2"in n?n.webgl2:n.webgl1;return r?o:i}}return this._getParameter(e,t)}},{key:"getParameters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.parameters,r=t.keys,i=this.constructor.PARAMETERS||{},o=bk(this.gl),a={},s=gx(n||Object.keys(i));try{for(s.s();!(e=s.n()).done;){var u=e.value,l=i[u];if(l&&(!("webgl2"in l)||o)&&(!("extension"in l)||this.gl.getExtension(l.extension))){var c=r?xA(this.gl,u):u;a[c]=this.getParameter(u,t),r&&"GLenum"===l.type&&(a[c]=xA(this.gl,a[c]))}}}catch(YJ){s.e(YJ)}finally{s.f()}return a}},{key:"setParameter",value:function(e,t){EA(e=SA(this.gl,e));var n=(this.constructor.PARAMETERS||{})[e];if(n){var r=bk(this.gl);if(!((!("webgl2"in n)||r)&&(!("extension"in n)||this.gl.getExtension(n.extension))))throw new Error("Parameter not available on this platform");"GLenum"===n.type&&(t=SA(t))}return this._setParameter(e,t),this}},{key:"setParameters",value:function(e){for(var t in e)this.setParameter(t,e[t]);return this}},{key:"stubRemovedMethods",value:function(e,t,n){return PA(this,e,t,n)}},{key:"initialize",value:function(e){}},{key:"_createHandle",value:function(){throw new Error(OA)}},{key:"_deleteHandle",value:function(){throw new Error(OA)}},{key:"_bindHandle",value:function(e){throw new Error(OA)}},{key:"_getOptsFromHandle",value:function(){throw new Error(OA)}},{key:"_getParameter",value:function(e,t){throw new Error(OA)}},{key:"_setParameter",value:function(e,t){throw new Error(OA)}},{key:"_context",value:function(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_addStats",value:function(){var e=this[Symbol.toStringTag],t=wA.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}},{key:"_removeStats",value:function(){var e=this[Symbol.toStringTag];wA.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}},{key:"_trackAllocatedMemory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(e,t),this._trackAllocatedMemoryForContext(e,t,this.gl.canvas&&this.gl.canvas.id),this.byteLength=e}},{key:"_trackAllocatedMemoryForContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=wA.get("Memory Usage".concat(n));r.get("GPU Memory").addCount(e),r.get("".concat(t," Memory")).addCount(e)}},{key:"_trackDeallocatedMemory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(e),this._trackDeallocatedMemoryForContext(e,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}},{key:"_trackDeallocatedMemoryForContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=wA.get("Memory Usage".concat(t));n.get("GPU Memory").subtractCount(this.byteLength),n.get("".concat(e," Memory")).subtractCount(this.byteLength)}}]),t}(Symbol.toStringTag),RA="Failed to deduce GL constant from typed array";function LA(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(RA)}}function IA(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clamped,n=void 0===t||t;switch(e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return n?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function DA(e){for(var t=e.data,n=e.width,r=e.height,i=Math.round(n/2),o=Math.round(r/2),a=new Uint8Array(i*o*4),s=0;s<o;s++)for(var u=0;u<i;u++)for(var l=0;l<4;l++)a[4*(s*i+u)+l]=t[4*(2*s*n+2*u)+l];return{data:a,width:i,height:o}}function jA(e,t,n){var r=n.removedProps,i=void 0===r?{}:r,o=n.deprecatedProps,a=void 0===o?{}:o,s=n.replacedProps,u=void 0===s?{}:s;for(var l in i)if(l in t){var c=i[l]?"".concat(e,".").concat(i[l]):"N/A";pk.removed("".concat(e,".").concat(l),c)()}for(var h in a)if(h in t){var f=a[h];pk.deprecated("".concat(e,".").concat(h),"".concat(e,".").concat(f))()}var d=null;for(var p in u)if(p in t){var v=u[p];pk.deprecated("".concat(e,".").concat(p),"".concat(e,".").concat(v))(),(d=d||Object.assign({},t))[v]=t[p],delete d[p]}return d||t}var NA,BA,zA,ZA={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},FA={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},UA=function(){function e(){var t=this;(0,Vt.Z)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach((function(e){return t._assign(e)})),Object.freeze(this)}return(0,Ht.Z)(e,[{key:"toString",value:function(){return JSON.stringify(this)}},{key:"BYTES_PER_ELEMENT",get:function(){return e.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return e.getBytesPerVertex(this)}},{key:"_assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==(e=jA("Accessor",e,FA)).type&&(this.type=e.type,5124!==e.type&&5125!==e.type||(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&("boolean"===typeof e.index?this.index=e.index?1:0:this.index=e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}}],[{key:"getBytesPerElement",value:function(e){return IA(e.type||5126).BYTES_PER_ELEMENT}},{key:"getBytesPerVertex",value:function(e){return EA(e.size),IA(e.type||5126).BYTES_PER_ELEMENT*e.size}},{key:"resolve",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fx(e,[ZA].concat(n))}}]),e}(),KA={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},VA={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:KA},HA={removedProps:KA},WA=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e){var t;(0,Vt.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,i)).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),t.target=i.target||(t.gl.webgl2?36662:34962),t.initialize(i),Object.seal((0,UM.Z)(t)),t}return(0,Ht.Z)(r,[{key:t,get:function(){return"Buffer"}},{key:"getElementCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/UA.getBytesPerElement(e))}},{key:"getVertexCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/UA.getBytesPerVertex(e))}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=jA("Buffer",e,VA),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}},{key:"setProps",value:function(e){return"accessor"in(e=jA("Buffer",e,HA))&&this.setAccessor(e.accessor),this}},{key:"setAccessor",value:function(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new UA(e),this}},{key:"reallocate",value:function(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}},{key:"setData",value:function(e){return this.initialize(e)}},{key:"subData",value:function(e){ArrayBuffer.isView(e)&&(e={data:e});var t=e,n=t.data,r=t.offset,i=void 0===r?0:r,o=t.srcOffset,a=void 0===o?0:o,s=e.byteLength||e.length;EA(n);var u=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(u,this.handle),0!==a||void 0!==s?(wk(this.gl),this.gl.bufferSubData(this.target,i,n,a,s)):this.gl.bufferSubData(u,i,n),this.gl.bindBuffer(u,null),this.debugData=null,this._inferType(n),this}},{key:"copyData",value:function(e){var t=e.sourceBuffer,n=e.readOffset,r=void 0===n?0:n,i=e.writeOffset,o=void 0===i?0:i,a=e.size,s=this.gl;return wk(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,r,o,a),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dstData,n=void 0===t?null:t,r=e.srcByteOffset,i=void 0===r?0:r,o=e.dstOffset,a=void 0===o?0:o,s=e.length,u=void 0===s?0:s;wk(this.gl);var l,c,h=IA(this.accessor.type||5126,{clamped:!1}),f=this._getAvailableElementCount(i),d=a;n?l=(c=n.length)-d:c=d+(l=Math.min(f,u||f));var p=Math.min(f,l);return EA((u=u||p)<=p),n=n||new h(c),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,i,n,a,u),this.gl.bindBuffer(36662,null),n}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?this.target:t,r=e.index,i=void 0===r?this.accessor&&this.accessor.index:r,o=e.offset,a=void 0===o?0:o,s=e.size;return 35345===n||35982===n?void 0!==s?this.gl.bindBufferRange(n,i,this.handle,a,s):(EA(0===a),this.gl.bindBufferBase(n,i,this.handle)):this.gl.bindBuffer(n,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?this.target:t,r=e.index,i=void 0===r?this.accessor&&this.accessor.index:r;return 35345===n||35982===n?this.gl.bindBufferBase(n,i,null):this.gl.bindBuffer(n,null),this}},{key:"getDebugData",value:function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}},{key:"invalidateDebugData",value:function(){this.debugData=null}},{key:"_setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;EA(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();var r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,this.usage),this.gl.bufferSubData(r,t,e),this.gl.bindBuffer(r,null),this.debugData=e.slice(0,10),this.bytesUsed=n,this._trackAllocatedMemory(n);var i=LA(e);return EA(i),this.setAccessor(new UA(this.accessor,{type:i})),this}},{key:"_setByteLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;EA(e>=0),this._trackDeallocatedMemory();var n=e;0===e&&(n=new Float32Array(0));var r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}},{key:"_getTarget",value:function(){return this.gl.webgl2?36663:this.target}},{key:"_getAvailableElementCount",value:function(e){var t=e/IA(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-t}},{key:"_inferType",value:function(e){this.accessor.type||this.setAccessor(new UA(this.accessor,{type:LA(e)}))}},{key:"_createHandle",value:function(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_getParameter",value:function(e){this.gl.bindBuffer(this.target,this.handle);var t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}},{key:"type",get:function(){return pk.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return pk.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}},{key:"setByteLength",value:function(e){return pk.deprecated("setByteLength","reallocate")(),this.reallocate(e)}},{key:"updateAccessor",value:function(e){return pk.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new UA(this.accessor,e),this}}]),r}(CA,Symbol.toStringTag),GA=(NA={},(0,re.Z)(NA,6407,{dataFormat:6407,types:[5121,33635]}),(0,re.Z)(NA,6408,{dataFormat:6408,types:[5121,32819,32820]}),(0,re.Z)(NA,6406,{dataFormat:6406,types:[5121]}),(0,re.Z)(NA,6409,{dataFormat:6409,types:[5121]}),(0,re.Z)(NA,6410,{dataFormat:6410,types:[5121]}),(0,re.Z)(NA,33326,{dataFormat:6403,types:[5126],gl2:!0}),(0,re.Z)(NA,33328,{dataFormat:33319,types:[5126],gl2:!0}),(0,re.Z)(NA,34837,{dataFormat:6407,types:[5126],gl2:!0}),(0,re.Z)(NA,34836,{dataFormat:6408,types:[5126],gl2:!0}),NA),qA=(BA={},(0,re.Z)(BA,6403,1),(0,re.Z)(BA,36244,1),(0,re.Z)(BA,33319,2),(0,re.Z)(BA,33320,2),(0,re.Z)(BA,6407,3),(0,re.Z)(BA,36248,3),(0,re.Z)(BA,6408,4),(0,re.Z)(BA,36249,4),(0,re.Z)(BA,6402,1),(0,re.Z)(BA,34041,1),(0,re.Z)(BA,6406,1),(0,re.Z)(BA,6409,1),(0,re.Z)(BA,6410,2),BA),YA=(zA={},(0,re.Z)(zA,5126,4),(0,re.Z)(zA,5125,4),(0,re.Z)(zA,5124,4),(0,re.Z)(zA,5123,2),(0,re.Z)(zA,5122,2),(0,re.Z)(zA,5131,2),(0,re.Z)(zA,5120,1),(0,re.Z)(zA,5121,1),zA);var XA=[9729,9728],$A=globalThis.WebGLBuffer||function(){},JA=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e,t){var i;(0,Vt.Z)(this,r);var o=t.id,a=void 0===o?kA("texture"):o,s=t.handle,u=t.target;return(i=n.call(this,e,{id:a,handle:s})).target=u,i.textureUnit=void 0,i.loaded=!1,i.width=void 0,i.height=void 0,i.depth=void 0,i.format=void 0,i.type=void 0,i.dataFormat=void 0,i.border=void 0,i.textureUnit=void 0,i.mipmaps=void 0,i}return(0,Ht.Z)(r,[{key:t,get:function(){return"Texture"}},{key:"toString",value:function(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data;if(n instanceof Promise)return n.then((function(n){return e.initialize(Object.assign({},t,{pixels:n,data:n}))})),this;var r="undefined"!==typeof HTMLVideoElement&&n instanceof HTMLVideoElement;if(r&&n.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,n.addEventListener("loadeddata",(function(){return e.initialize(t)})),this;var i=t.pixels,o=void 0===i?null:i,a=t.format,s=void 0===a?6408:a,u=t.border,l=void 0===u?0:u,c=t.recreate,h=void 0!==c&&c,f=t.parameters,d=void 0===f?{}:f,p=t.pixelStore,v=void 0===p?{}:p,g=t.textureUnit,m=void 0===g?void 0:g;n||(n=o);var y=t.width,b=t.height,_=t.dataFormat,w=t.type,E=t.compressed,S=void 0!==E&&E,x=t.mipmaps,M=void 0===x||x,k=t.depth,A=void 0===k?0:k,T=this._deduceParameters({format:s,type:w,dataFormat:_,compressed:S,data:n,width:y,height:b});return y=T.width,b=T.height,S=T.compressed,_=T.dataFormat,w=T.type,this.width=y,this.height=b,this.depth=A,this.format=s,this.type=w,this.dataFormat=_,this.border=l,this.textureUnit=m,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),M&&this._isNPOT()&&(pk.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),M=!1,this._updateForNPOT(d)),this.mipmaps=M,this.setImageData({data:n,width:y,height:b,depth:A,format:s,type:w,dataFormat:_,border:l,mipmaps:M,parameters:v,compressed:S}),M&&this.generateMipmap(),this.setParameters(d),h&&(this.data=n),r&&(this._video={video:n,parameters:d,lastTime:n.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?n.currentTime:-1}),this}},{key:"update",value:function(){if(this._video){var e=this._video,t=e.video,n=e.parameters;if(e.lastTime===t.currentTime||t.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:t,parameters:n}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=t.currentTime}}},{key:"resize",value:function(e){var t=e.height,n=e.width,r=e.mipmaps,i=void 0!==r&&r;return n!==this.width||t!==this.height?this.initialize({width:n,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:i}):this}},{key:"generateMipmap",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(pk.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),oA(this.gl,t,(function(){e.gl.generateMipmap(e.target)})),this.gl.bindTexture(this.target,null),this)}},{key:"setImageData",value:function(e){this._trackDeallocatedMemory("Texture");var t=e.target,n=void 0===t?this.target:t,r=e.pixels,i=void 0===r?null:r,o=e.level,a=void 0===o?0:o,s=e.format,u=void 0===s?this.format:s,l=e.border,c=void 0===l?this.border:l,h=e.offset,f=void 0===h?0:h,d=e.parameters,p=void 0===d?{}:d,g=e.data,m=void 0===g?null:g,y=e.type,b=void 0===y?this.type:y,_=e.width,w=void 0===_?this.width:_,E=e.height,S=void 0===E?this.height:E,x=e.dataFormat,M=void 0===x?this.dataFormat:x,k=e.compressed,A=void 0!==k&&k;m||(m=i);var T=this._deduceParameters({format:u,type:b,dataFormat:M,compressed:A,data:m,width:w,height:S});b=T.type,M=T.dataFormat,A=T.compressed,w=T.width,S=T.height;var P=this.gl;P.bindTexture(this.target,this.handle);var O,C,R=this._getDataType({data:m,compressed:A});m=R.data,O=R.dataType;var L=0;if(oA(this.gl,p,(function(){switch(O){case"null":P.texImage2D(n,a,u,w,S,c,M,b,m);break;case"typed-array":P.texImage2D(n,a,u,w,S,c,M,b,m,f);break;case"buffer":(C=wk(P)).bindBuffer(35052,m.handle||m),C.texImage2D(n,a,u,w,S,c,M,b,f),C.bindBuffer(35052,null);break;case"browser-object":bk(P)?P.texImage2D(n,a,u,w,S,c,M,b,m):P.texImage2D(n,a,u,M,b,m);break;case"compressed":var e,t=gx(m.entries());try{for(t.s();!(e=t.n()).done;){var r=v(e.value,2),i=r[0],o=r[1];P.compressedTexImage2D(n,i,o.format,o.width,o.height,c,o.data),L+=o.levelSize}}catch(YJ){t.e(YJ)}finally{t.f()}break;default:EA(!1,"Unknown image data type")}})),"compressed"===O)this._trackAllocatedMemory(L,"Texture");else if(m&&m.byteLength)this._trackAllocatedMemory(m.byteLength,"Texture");else{var I=qA[this.dataFormat]||4,D=YA[this.type]||1;this._trackAllocatedMemory(this.width*this.height*I*D,"Texture")}return this.loaded=!0,this}},{key:"setSubImageData",value:function(e){var t=this,n=e.target,r=void 0===n?this.target:n,i=e.pixels,o=void 0===i?null:i,a=e.data,s=void 0===a?null:a,u=e.x,l=void 0===u?0:u,c=e.y,h=void 0===c?0:c,f=e.width,d=void 0===f?this.width:f,p=e.height,v=void 0===p?this.height:p,g=e.level,m=void 0===g?0:g,y=e.format,b=void 0===y?this.format:y,_=e.type,w=void 0===_?this.type:_,E=e.dataFormat,S=void 0===E?this.dataFormat:E,x=e.compressed,M=void 0!==x&&x,k=e.offset,A=void 0===k?0:k,T=e.border,P=(void 0===T&&this.border,e.parameters),O=void 0===P?{}:P,C=this._deduceParameters({format:b,type:w,dataFormat:S,compressed:M,data:s,width:d,height:v});if(w=C.type,S=C.dataFormat,M=C.compressed,d=C.width,v=C.height,EA(0===this.depth,"texSubImage not supported for 3D textures"),s||(s=o),s&&s.data){var R=s;s=R.data,d=R.shape[0],v=R.shape[1]}s instanceof WA&&(s=s.handle),this.gl.bindTexture(this.target,this.handle),oA(this.gl,O,(function(){if(M)t.gl.compressedTexSubImage2D(r,m,l,h,d,v,b,s);else if(null===s)t.gl.texSubImage2D(r,m,l,h,d,v,S,w,null);else if(ArrayBuffer.isView(s))t.gl.texSubImage2D(r,m,l,h,d,v,S,w,s,A);else if(s instanceof $A){var e=wk(t.gl);e.bindBuffer(35052,s),e.texSubImage2D(r,m,l,h,d,v,S,w,A),e.bindBuffer(35052,null)}else if(bk(t.gl)){wk(t.gl).texSubImage2D(r,m,l,h,d,v,S,w,s)}else t.gl.texSubImage2D(r,m,l,h,S,w,s)})),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function(){return pk.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(34016)-33984}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}},{key:"_getDataType",value:function(e){var t=e.data,n=e.compressed;return void 0!==n&&n?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof WA?{data:t.handle,dataType:"buffer"}:t instanceof $A?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}},{key:"_deduceParameters",value:function(e){var t=e.format,n=e.data,r=e.width,i=e.height,o=e.dataFormat,a=e.type,s=e.compressed,u=GA[t];o=o||u&&u.dataFormat,a=a||u&&u.types[0],s=s||u&&u.compressed;var l=this._deduceImageSize(n,r,i);return{dataFormat:o,type:a,compressed:s,width:r=l.width,height:i=l.height,format:t,data:n}}},{key:"_deduceImageSize",value:function(e,t,n){var r;return EA(r="undefined"!==typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?{width:e.width,height:e.height}:"undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:n}:{width:t>=0?t:1,height:n>=0?n:1},"Could not deduced texture size"),EA(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),EA(void 0===n||r.height===n,"Deduced texture height does not match supplied height"),r}},{key:"_createHandle",value:function(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}},{key:"_getParameter",value:function(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);var t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}},{key:"_setParameter",value:function(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:EA(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function(){return!bk(this.gl)&&(!(!this.width||!this.height)&&(!AA(this.width)||!AA(this.height)))}},{key:"_updateForNPOT",value:function(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function(e,t){if(this._isNPOT())switch(e){case 10241:-1===XA.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.format,r=t.linearFiltering,i=!0;return n&&(i=i&&function(e,t){var n=GA[t];if(!n)return!1;if(void 0===n.gl1&&void 0===n.gl2)return!0;var r=bk(e)&&n.gl2||n.gl1;return"string"===typeof r?e.getExtension(r):r}(e,n),i=i&&(!r||function(e,t){var n=GA[t];switch(n&&n.types[0]){case 5126:return e.getExtension("OES_texture_float_linear");case 5131:return e.getExtension("OES_texture_half_float_linear");default:return!0}}(e,n))),i}}]),r}(CA,Symbol.toStringTag),QA="";var eT,tT=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e){var t;(0,Vt.Z)(this,r);var i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _k(e),(a instanceof Promise||"string"===typeof a)&&(a={data:a}),"string"===typeof a.data&&(a=Object.assign({},a,{data:(i=a.data,EA("string"===typeof i),i=QA+i,new Promise((function(e,t){try{var n=new Image;n.onload=function(){return e(n)},n.onerror=function(){return t(new Error("Could not load image ".concat(i,".")))},n.crossOrigin=o&&o.crossOrigin||"anonymous",n.src=i}catch(r){t(r)}})))})),(t=n.call(this,e,Object.assign({},a,{target:3553}))).initialize(a),Object.seal((0,UM.Z)(t)),t}return(0,Ht.Z)(r,[{key:t,get:function(){return"Texture2D"}}],[{key:"isSupported",value:function(e,t){return JA.isSupported(e,t)}}]),r}(JA,Symbol.toStringTag),nT="EXT_color_buffer_float",rT=(eT={},(0,re.Z)(eT,33189,{bpp:2}),(0,re.Z)(eT,33190,{gl2:!0,bpp:3}),(0,re.Z)(eT,36012,{gl2:!0,bpp:4}),(0,re.Z)(eT,36168,{bpp:1}),(0,re.Z)(eT,34041,{bpp:4}),(0,re.Z)(eT,35056,{gl2:!0,bpp:4}),(0,re.Z)(eT,36013,{gl2:!0,bpp:5}),(0,re.Z)(eT,32854,{bpp:2}),(0,re.Z)(eT,36194,{bpp:2}),(0,re.Z)(eT,32855,{bpp:2}),(0,re.Z)(eT,33321,{gl2:!0,bpp:1}),(0,re.Z)(eT,33330,{gl2:!0,bpp:1}),(0,re.Z)(eT,33329,{gl2:!0,bpp:1}),(0,re.Z)(eT,33332,{gl2:!0,bpp:2}),(0,re.Z)(eT,33331,{gl2:!0,bpp:2}),(0,re.Z)(eT,33334,{gl2:!0,bpp:4}),(0,re.Z)(eT,33333,{gl2:!0,bpp:4}),(0,re.Z)(eT,33323,{gl2:!0,bpp:2}),(0,re.Z)(eT,33336,{gl2:!0,bpp:2}),(0,re.Z)(eT,33335,{gl2:!0,bpp:2}),(0,re.Z)(eT,33338,{gl2:!0,bpp:4}),(0,re.Z)(eT,33337,{gl2:!0,bpp:4}),(0,re.Z)(eT,33340,{gl2:!0,bpp:8}),(0,re.Z)(eT,33339,{gl2:!0,bpp:8}),(0,re.Z)(eT,32849,{gl2:!0,bpp:3}),(0,re.Z)(eT,32856,{gl2:!0,bpp:4}),(0,re.Z)(eT,32857,{gl2:!0,bpp:4}),(0,re.Z)(eT,36220,{gl2:!0,bpp:4}),(0,re.Z)(eT,36238,{gl2:!0,bpp:4}),(0,re.Z)(eT,36975,{gl2:!0,bpp:4}),(0,re.Z)(eT,36214,{gl2:!0,bpp:8}),(0,re.Z)(eT,36232,{gl2:!0,bpp:8}),(0,re.Z)(eT,36226,{gl2:!0,bpp:16}),(0,re.Z)(eT,36208,{gl2:!0,bpp:16}),(0,re.Z)(eT,33325,{gl2:nT,bpp:2}),(0,re.Z)(eT,33327,{gl2:nT,bpp:4}),(0,re.Z)(eT,34842,{gl2:nT,bpp:8}),(0,re.Z)(eT,33326,{gl2:nT,bpp:4}),(0,re.Z)(eT,33328,{gl2:nT,bpp:8}),(0,re.Z)(eT,34836,{gl2:nT,bpp:16}),(0,re.Z)(eT,35898,{gl2:nT,bpp:4}),eT);var iT,oT=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e){var t;(0,Vt.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,i)).initialize(i),Object.seal((0,UM.Z)(t)),t}return(0,Ht.Z)(r,[{key:t,get:function(){return"Renderbuffer"}},{key:"initialize",value:function(e){var t=e.format,n=e.width,r=void 0===n?1:n,i=e.height,o=void 0===i?1:i,a=e.samples,s=void 0===a?0:a;return EA(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==s&&bk(this.gl)?this.gl.renderbufferStorageMultisample(36161,s,t,r,o):this.gl.renderbufferStorage(36161,t,r,o),this.format=t,this.width=r,this.height=o,this.samples=s,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*rT[this.format].bpp),this}},{key:"resize",value:function(e){var t=e.width,n=e.height;return t!==this.width||n!==this.height?this.initialize({width:t,height:n,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_bindHandle",value:function(e){this.gl.bindRenderbuffer(36161,e)}},{key:"_syncHandle",value:function(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}],[{key:"isSupported",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null}).format;return!t||function(e,t,n){var r=n[t];if(!r)return!1;var i=bk(e)&&r.gl2||r.gl1;return"string"===typeof i?e.getExtension(i):i}(e,t,rT)}},{key:"getSamplesForFormat",value:function(e,t){var n=t.format;return e.getInternalformatParameter(36161,n,32937)}}]),r}(CA,Symbol.toStringTag),aT="clear: bad arguments";function sT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.framebuffer,r=void 0===n?null:n,i=t.color,o=void 0===i?null:i,a=t.depth,s=void 0===a?null:a,u=t.stencil,l=void 0===u?null:u,c={};r&&(c.framebuffer=r);var h=0;o&&(h|=16384,!0!==o&&(c.clearColor=o)),s&&(h|=256,!0!==s&&(c.clearDepth=s)),l&&(h|=1024,!0!==s&&(c.clearStencil=s)),EA(0!==h,aT),oA(e,c,(function(){e.clear(h)}))}var uT="WEBGL2",lT="VERTEX_ARRAY_OBJECT",cT="TIMER_QUERY",hT="INSTANCED_RENDERING",fT="MULTIPLE_RENDER_TARGETS",dT="ELEMENT_INDEX_UINT32",pT="BLEND_EQUATION_MINMAX",vT="FLOAT_BLEND",gT="COLOR_ENCODING_SRGB",mT="TEXTURE_DEPTH",yT="TEXTURE_FLOAT",bT="TEXTURE_HALF_FLOAT",_T="TEXTURE_FILTER_LINEAR_FLOAT",wT="TEXTURE_FILTER_LINEAR_HALF_FLOAT",ET="TEXTURE_FILTER_ANISOTROPIC",ST="COLOR_ATTACHMENT_RGBA32F",xT="COLOR_ATTACHMENT_FLOAT",MT="COLOR_ATTACHMENT_HALF_FLOAT",kT="GLSL_FRAG_DATA",AT="GLSL_FRAG_DEPTH",TT="GLSL_DERIVATIVES",PT="GLSL_TEXTURE_LOD";var OT=(iT={},(0,re.Z)(iT,uT,[!1,!0]),(0,re.Z)(iT,lT,["OES_vertex_array_object",!0]),(0,re.Z)(iT,cT,["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"]),(0,re.Z)(iT,hT,["ANGLE_instanced_arrays",!0]),(0,re.Z)(iT,fT,["WEBGL_draw_buffers",!0]),(0,re.Z)(iT,dT,["OES_element_index_uint",!0]),(0,re.Z)(iT,pT,["EXT_blend_minmax",!0]),(0,re.Z)(iT,vT,["EXT_float_blend"]),(0,re.Z)(iT,gT,["EXT_sRGB",!0]),(0,re.Z)(iT,mT,["WEBGL_depth_texture",!0]),(0,re.Z)(iT,yT,["OES_texture_float",!0]),(0,re.Z)(iT,bT,["OES_texture_half_float",!0]),(0,re.Z)(iT,_T,["OES_texture_float_linear"]),(0,re.Z)(iT,wT,["OES_texture_half_float_linear"]),(0,re.Z)(iT,ET,["EXT_texture_filter_anisotropic"]),(0,re.Z)(iT,ST,[function(e){var t=new tT(e,{format:6408,type:5126,dataFormat:6408}),n=new jT(e,{id:"test-framebuffer",check:!1,attachments:(0,re.Z)({},36064,t)}),r=n.getStatus();return t.delete(),n.delete(),36053===r},"EXT_color_buffer_float"]),(0,re.Z)(iT,xT,[!1,"EXT_color_buffer_float"]),(0,re.Z)(iT,MT,["EXT_color_buffer_half_float"]),(0,re.Z)(iT,kT,["WEBGL_draw_buffers",!0]),(0,re.Z)(iT,AT,["EXT_frag_depth",!0]),(0,re.Z)(iT,TT,["OES_standard_derivatives",!0]),(0,re.Z)(iT,PT,["EXT_shader_texture_lod",!0]),iT),CT=2;function RT(e,t){return LT(e,t)}function LT(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return IT(e,t)}))}function IT(e,t){return e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},void 0===e.luma.caps[t]&&(e.luma.caps[t]=function(e,t){var n,r=OT[t];EA(r,t);var i=bk(e)&&r[1]||r[0];if("function"===typeof i)n=i(e);else if(Array.isArray(i)){n=!0;var o,a=gx(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;n=n&&Boolean(e.getExtension(s))}}catch(YJ){a.e(YJ)}finally{a.f()}}else"string"===typeof i?n=Boolean(e.getExtension(i)):"boolean"===typeof i?n=i:EA(!1);return n}(e,t)),e.luma.caps[t]||pk.log(CT,"Feature: ".concat(t," not supported"))(),e.luma.caps[t]}var DT="Multiple render targets not supported",jT=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e){var t;(0,Vt.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,i)).width=null,t.height=null,t.attachments={},t.readBuffer=36064,t.drawBuffers=[36064],t.ownResources=[],t.initialize(i),Object.seal((0,UM.Z)(t)),t}return(0,Ht.Z)(r,[{key:t,get:function(){return"Framebuffer"}},{key:"MAX_COLOR_ATTACHMENTS",get:function(){var e=wk(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){var e=wk(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}},{key:"color",get:function(){return this.attachments[36064]||null}},{key:"texture",get:function(){return this.attachments[36064]||null}},{key:"depth",get:function(){return this.attachments[36096]||this.attachments[33306]||null}},{key:"stencil",get:function(){return this.attachments[36128]||this.attachments[33306]||null}},{key:"initialize",value:function(e){var t=e.width,n=void 0===t?1:t,r=e.height,i=void 0===r?1:r,o=e.attachments,a=void 0===o?null:o,s=e.color,u=void 0===s||s,l=e.depth,c=void 0===l||l,h=e.stencil,f=void 0!==h&&h,d=e.check,p=void 0===d||d,v=e.readBuffer,g=void 0===v?void 0:v,m=e.drawBuffers,y=void 0===m?void 0:m;if(EA(n>=0&&i>=0,"Width and height need to be integers"),this.width=n,this.height=i,a)for(var b in a){var _=a[b];(Array.isArray(_)?_[0]:_).resize({width:n,height:i})}else a=this._createDefaultAttachments(u,c,f,n,i);this.update({clearAttachments:!0,attachments:a,readBuffer:g,drawBuffers:y}),a&&p&&this.checkStatus()}},{key:"delete",value:function(){var e,t=gx(this.ownResources);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(YJ){t.e(YJ)}finally{t.f()}return KM((0,lx.Z)(r.prototype),"delete",this).call(this),this}},{key:"update",value:function(e){var t=e.attachments,n=void 0===t?{}:t,r=e.readBuffer,i=e.drawBuffers,o=e.clearAttachments,a=void 0!==o&&o,s=e.resizeAttachments,u=void 0===s||s;this.attach(n,{clearAttachments:a,resizeAttachments:u});var l=this.gl,c=l.bindFramebuffer(36160,this.handle);return r&&this._setReadBuffer(r),i&&this._setDrawBuffers(i),l.bindFramebuffer(36160,c||null),this}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height;if(null===this.handle)return EA(void 0===t&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var r in void 0===t&&(t=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),t!==this.width&&n!==this.height&&pk.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(n))(),this.attachments)this.attachments[r].resize({width:t,height:n});return this.width=t,this.height=n,this}},{key:"attach",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clearAttachments,i=void 0!==r&&r,o=n.resizeAttachments,a=void 0===o||o,s={};i&&Object.keys(this.attachments).forEach((function(e){s[e]=null})),Object.assign(s,e);var u=this.gl.bindFramebuffer(36160,this.handle);for(var l in s){EA(void 0!==l,"Misspelled framebuffer binding point?");var c=Number(l),h=s[c],f=h;if(f)if(f instanceof oT)this._attachRenderbuffer({attachment:c,renderbuffer:f});else if(Array.isArray(h)){var d=v(h,3),p=d[0],g=d[1],m=void 0===g?0:g,y=d[2],b=void 0===y?0:y;f=p,this._attachTexture({attachment:c,texture:p,layer:m,level:b})}else this._attachTexture({attachment:c,texture:f,layer:0,level:0});else this._unattach(c);a&&f&&f.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,u||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter((function(e){return!t.attachments[e]})).forEach((function(e){delete t.attachments[e]}))}},{key:"checkStatus",value:function(){this.gl;var e=this.getStatus();if(36053!==e)throw new Error(NT(e));return this}},{key:"getStatus",value:function(){var e=this.gl,t=e.bindFramebuffer(36160,this.handle),n=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),n}},{key:"clear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,r=t.depth,i=t.stencil,o=t.drawBuffers,a=void 0===o?[]:o,s=this.gl.bindFramebuffer(36160,this.handle);return(n||r||i)&&sT(this.gl,{color:n,depth:r,stencil:i}),a.forEach((function(t,n){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.framebuffer,r=void 0===n?null:n,i=t.buffer,o=void 0===i?6144:i,a=t.drawBuffer,s=void 0===a?0:a,u=t.value,l=void 0===u?[0,0,0,0]:u;wk(e),oA(e,{framebuffer:r},(function(){switch(o){case 6144:switch(l.constructor){case Int32Array:e.clearBufferiv(o,s,l);break;case Uint32Array:e.clearBufferuiv(o,s,l);break;case Float32Array:default:e.clearBufferfv(o,s,l)}break;case 6145:e.clearBufferfv(6145,0,[l]);break;case 6146:e.clearBufferiv(6146,0,[l]);break;case 34041:var t=v(l,2),n=t[0],r=t[1];e.clearBufferfi(34041,0,n,r);break;default:EA(!1,aT)}}))}(e.gl,{drawBuffer:n,value:t})})),this.gl.bindFramebuffer(36160,s||null),this}},{key:"readPixels",value:function(){return pk.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}},{key:"readPixelsToBuffer",value:function(){return pk.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}},{key:"copyToDataUrl",value:function(){return pk.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}},{key:"copyToImage",value:function(){return pk.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}},{key:"copyToTexture",value:function(){return pk.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"blit",value:function(){return pk.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}},{key:"invalidate",value:function(e){var t=e.attachments,n=void 0===t?[]:t,r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.width,u=e.height,l=wk(this.gl),c=l.bindFramebuffer(36008,this.handle);return 0===i&&0===a&&void 0===s&&void 0===u?l.invalidateFramebuffer(36008,n):l.invalidateFramebuffer(36008,n,i,a,s,u),l.bindFramebuffer(36008,c),this}},{key:"getAttachmentParameter",value:function(e,t,n){var r=this._getAttachmentParameterFallback(t);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),n&&r>1e3&&(r=xA(this.gl,r)),r}},{key:"getAttachmentParameters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,n=arguments.length>1?arguments[1]:void 0,r={},i=gx(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[]);try{for(i.s();!(e=i.n()).done;){var o=e.value;r[n?xA(this.gl,o):o]=this.getAttachmentParameter(t,o,n)}}catch(YJ){i.e(YJ)}finally{i.f()}return r}},{key:"getParameters",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={},n=0,r=Object.keys(this.attachments);n<r.length;n++){var i=r[n],o=Number(i);t[e?xA(this.gl,o):o]=this.getAttachmentParameters(o,e)}return t}},{key:"show",value:function(){return"undefined"!==typeof window&&window.open(WT(this),"luma-debug-texture"),this}},{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>pk.level||"undefined"===typeof window)return this;t=t||"Framebuffer ".concat(this.id);var n=WT(this,{targetMaxHeight:100});return pk.image({logLevel:e,message:t,image:n},t)(),this}},{key:"bind",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target,t=void 0===e?36160:e;return this.gl.bindFramebuffer(t,this.handle),this}},{key:"unbind",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target,t=void 0===e?36160:e;return this.gl.bindFramebuffer(t,null),this}},{key:"_createDefaultAttachments",value:function(e,t,n,r,i){var o,a=null;e&&((a=a||{})[36064]=new tT(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:r,height:i,mipmaps:!1,parameters:(o={},(0,re.Z)(o,10241,9729),(0,re.Z)(o,10240,9729),(0,re.Z)(o,10242,33071),(0,re.Z)(o,10243,33071),o)}),this.ownResources.push(a[36064]));return t&&n?((a=a||{})[33306]=new oT(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:r,height:111}),this.ownResources.push(a[33306])):t?((a=a||{})[36096]=new oT(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:r,height:i}),this.ownResources.push(a[36096])):n&&EA(!1),a}},{key:"_unattach",value:function(e){var t=this.attachments[e];t&&(t instanceof oT?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}},{key:"_attachRenderbuffer",value:function(e){var t=e.attachment,n=void 0===t?36064:t,r=e.renderbuffer;this.gl.framebufferRenderbuffer(36160,n,36161,r.handle),this.attachments[n]=r}},{key:"_attachTexture",value:function(e){var t=e.attachment,n=void 0===t?36064:t,r=e.texture,i=e.layer,o=e.level,a=this.gl;switch(a.bindTexture(r.target,r.handle),r.target){case 35866:case 32879:wk(a).framebufferTextureLayer(36160,n,r.target,o,i);break;case 34067:var s=function(e){return e<34069?e+34069:e}(i);a.framebufferTexture2D(36160,n,s,r.handle,o);break;case 3553:a.framebufferTexture2D(36160,n,3553,r.handle,o);break;default:EA(!1,"Illegal texture type")}a.bindTexture(r.target,null),this.attachments[n]=r}},{key:"_setReadBuffer",value:function(e){var t,n=bk(t=this.gl)?t:null;n?n.readBuffer(e):EA(36064===e||1029===e,DT),this.readBuffer=e}},{key:"_setDrawBuffers",value:function(e){var t=this.gl,n=wk(t);if(n)n.drawBuffers(e);else{var r=t.getExtension("WEBGL_draw_buffers");r?r.drawBuffersWEBGL(e):EA(1===e.length&&(36064===e[0]||1029===e[0]),DT)}this.drawBuffers=e}},{key:"_getAttachmentParameterFallback",value:function(e){var t=function(e){for(var t in e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},OT)void 0===e.luma.caps[t]&&(e.luma.caps[t]=IT(e,t));return e.luma.caps}(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}},{key:"_createHandle",value:function(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteFramebuffer(this.handle)}},{key:"_bindHandle",value:function(e){return this.gl.bindFramebuffer(36160,e)}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.colorBufferFloat,r=t.colorBufferHalfFloat,i=!0;return n&&(i=Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),r&&(i=i&&Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("EXT_color_buffer_half_float"))),i}},{key:"getDefaultFramebuffer",value:function(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new r(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}}]),r}(CA,Symbol.toStringTag);function NT(e){return(jT.STATUS||{})[e]||"Framebuffer error ".concat(e)}function BT(){BT=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(YJ){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),s=new M(i||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(YJ){return{type:"throw",arg:YJ}}}e.wrap=l;var h={};function f(){}function d(){}function p(){}var v={};u(v,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==t&&n.call(m,o)&&(v=m);var y=p.prototype=f.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,o,a,s){var u=c(e[r],e,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==(0,pn.Z)(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(y),u(y,s,"Generator"),u(y,o,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function zT(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function ZT(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){zT(o,r,i,a,s,"next",e)}function s(e){zT(o,r,i,a,s,"throw",e)}a(void 0)}))}}jT.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303];var FT=[34069,34070,34071,34072,34073,34074],UT=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e){var t;(0,Vt.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _k(e),(t=n.call(this,e,Object.assign({},i,{target:34067}))).initialize(i),Object.seal((0,UM.Z)(t)),t}return(0,Ht.Z)(r,[{key:t,get:function(){return"TextureCube"}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.mipmaps,r=void 0===n||n,i=t.parameters,o=void 0===i?{}:i;return this.opts=t,this.setCubeMapImageData(t).then((function(){e.loaded=!0,r&&e.generateMipmap(t),e.setParameters(o)})),this}},{key:"subImage",value:function(e){var t=e.face,n=e.data,r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.mipmapLevel,u=void 0===s?0:s;return this._subImage({target:t,data:n,x:i,y:a,mipmapLevel:u})}},{key:"setCubeMapImageData",value:function(){var e=ZT(BT().mark((function e(t){var n,r,i,o,a,s,u,l,c,h,f,d,p,v=this;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.width,r=t.height,i=t.pixels,o=t.data,a=t.border,s=void 0===a?0:a,u=t.format,l=void 0===u?6408:u,c=t.type,h=void 0===c?5121:c,f=this.gl,d=i||o,e.next=5,Promise.all(FT.map((function(e){var t=d[e];return Promise.all(Array.isArray(t)?t:[t])})));case 5:p=e.sent,this.bind(),FT.forEach((function(e,t){p[t].length>1&&!1!==v.opts.mipmaps&&pk.warn("".concat(v.id," has mipmap and multiple LODs."))(),p[t].forEach((function(t,i){n&&r?f.texImage2D(e,i,l,n,r,s,l,h,t):f.texImage2D(e,i,l,l,h,t)}))})),this.unbind();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setImageDataForFace",value:function(e){var t=this,n=e.face,r=e.width,i=e.height,o=e.pixels,a=e.data,s=e.border,u=void 0===s?0:s,l=e.format,c=void 0===l?6408:l,h=e.type,f=void 0===h?5121:h,d=this.gl,p=o||a;return this.bind(),p instanceof Promise?p.then((function(r){return t.setImageDataForFace(Object.assign({},e,{face:n,data:r,pixels:r}))})):this.width||this.height?d.texImage2D(n,0,c,r,i,u,c,f,p):d.texImage2D(n,0,c,c,f,p),this}}]),r}(JA,Symbol.toStringTag);UT.FACES=FT;var KT=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e){var t;(0,Vt.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return wk(e),i=Object.assign({depth:1},i,{target:32879,unpackFlipY:!1}),(t=n.call(this,e,i)).initialize(i),Object.seal((0,UM.Z)(t)),t}return(0,Ht.Z)(r,[{key:t,get:function(){return"Texture3D"}},{key:"setImageData",value:function(e){var t=this,n=e.level,r=void 0===n?0:n,i=e.dataFormat,o=void 0===i?6408:i,a=e.width,s=e.height,u=e.depth,l=void 0===u?1:u,c=e.border,h=void 0===c?0:c,f=e.format,d=e.type,p=void 0===d?5121:d,v=e.offset,g=void 0===v?0:v,m=e.data,y=e.parameters,b=void 0===y?{}:y;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),oA(this.gl,b,(function(){ArrayBuffer.isView(m)&&t.gl.texImage3D(t.target,r,o,a,s,l,h,f,p,m),m instanceof WA&&(t.gl.bindBuffer(35052,m.handle),t.gl.texImage3D(t.target,r,o,a,s,l,h,f,p,g))})),m&&m.byteLength)this._trackAllocatedMemory(m.byteLength,"Texture");else{var _=qA[this.dataFormat]||4,w=YA[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*_*w,"Texture")}return this.loaded=!0,this}}],[{key:"isSupported",value:function(e){return bk(e)}}]),r}(JA,Symbol.toStringTag);function VT(e,t){var n=e.gl,r=e.width,i=e.height,o=e.id;return new jT(n,Object.assign({},t,{id:"framebuffer-for-".concat(o),width:r,height:i,attachments:(0,re.Z)({},36064,e)}))}function HT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sourceX,r=void 0===n?0:n,i=t.sourceY,o=void 0===i?0:i,a=t.sourceFormat,s=void 0===a?6408:a,u=t.sourceAttachment,l=void 0===u?36064:u,c=t.target,h=void 0===c?null:c,f=t.sourceWidth,d=t.sourceHeight,p=t.sourceType,v=GT(e),g=v.framebuffer,m=v.deleteFramebuffer;EA(g);var y=g.gl,b=g.handle,_=g.attachments;f=f||g.width,d=d||g.height,36064===l&&null===b&&(l=1028),EA(_[l]),h=function(e,t,n,r,i){if(e)return e;var o=IA(t=t||5121,{clamped:!1}),a=function(e){switch(e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return EA(!1),0}}(n);return new o(r*i*a)}(h,p=p||_[l].type,s,f,d),p=p||LA(h);var w=y.bindFramebuffer(36160,b);return y.readPixels(r,o,f,d,s,p,h),y.bindFramebuffer(36160,w||null),m&&g.delete(),h}function WT(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sourceAttachment,r=void 0===n?36064:n,i=t.targetMaxHeight,o=void 0===i?Number.MAX_SAFE_INTEGER:i,a=HT(e,{sourceAttachment:r}),s=e.width,u=e.height;u>o;){var l=DA({data:a,width:s,height:u});a=l.data,s=l.width,u=l.height}!function(e){var t=e.data,n=e.width,r=e.height,i=e.bytesPerPixel,o=void 0===i?4:i,a=e.temp,s=n*o;a=a||new Uint8Array(s);for(var u=0;u<r/2;++u){var l=u*s,c=(r-u-1)*s;a.set(t.subarray(l,l+s)),t.copyWithin(l,c,c+s),t.set(a,c)}}({data:a,width:s,height:u});var c=document.createElement("canvas");c.width=s,c.height=u;var h=c.getContext("2d"),f=h.createImageData(s,u);return f.data.set(a),h.putImageData(f,0,0),c.toDataURL()}function GT(e){return e instanceof jT?{framebuffer:e,deleteFramebuffer:!1}:{framebuffer:VT(e),deleteFramebuffer:!0}}var qT=n(8573),YT=n.n(qT),XT=n(3038),$T=n.n(XT),JT=function(e,t){return JT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},JT(e,t)};function QT(e,t){function n(){this.constructor=e}JT(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function eP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var tP=function(e,t,n,r){switch(t){case"debounce":return YT()(e,n,r);case"throttle":return $T()(e,n,r);default:return e}},nP=function(e){return"function"===typeof e},rP=function(){return"undefined"===typeof window},iP=function(e){return e instanceof Element||e instanceof HTMLDocument},oP=function(e,t,n){return function(r){var i=r.width,o=r.height;e((function(e){return e.width===i&&e.height===o||e.width===i&&!n||e.height===o&&!t?e:{width:i,height:o}}))}},aP=function(e){function n(n){var r=e.call(this,n)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var e=r.props,t=e.targetRef,n=e.observerOptions;if(!rP()){t&&t.current&&(r.targetRef.current=t.current);var i=r.getElement();i&&(r.observableElement&&r.observableElement===i||(r.observableElement=i,r.resizeObserver.observe(i,n)))}},r.getElement=function(){var e=r.props,t=e.querySelector,n=e.targetDomEl;if(rP())return null;if(t)return document.querySelector(t);if(n&&iP(n))return n;if(r.targetRef&&iP(r.targetRef.current))return r.targetRef.current;var i=(0,s.findDOMNode)(r);if(!i)return null;switch(r.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return i;default:return i.parentElement}},r.createResizeHandler=function(e){var t=r.props,n=t.handleWidth,i=void 0===n||n,o=t.handleHeight,a=void 0===o||o,s=t.onResize;if(i||a){var u=oP((function(e){return r.setState(e,(function(){return null===s||void 0===s?void 0:s(r.state.width,r.state.height)}))}),i,a);e.forEach((function(e){var t=e&&e.contentRect||{},n=t.width,i=t.height;!r.skipOnMount&&!rP()&&u({width:n,height:i}),r.skipOnMount=!1}))}},r.getRenderType=function(){var e=r.props,n=e.render,i=e.children;return nP(n)?"renderProp":nP(i)?"childFunction":(0,t.isValidElement)(i)?"child":Array.isArray(i)?"childArray":"parent"};var i=n.skipOnMount,o=n.refreshMode,a=n.refreshRate,u=void 0===a?1e3:a,l=n.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=i,r.targetRef=(0,t.createRef)(),r.observableElement=null,rP()||(r.resizeHandler=tP(r.createResizeHandler,o,u,l),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return QT(n,e),n.prototype.componentDidMount=function(){this.attachObserver()},n.prototype.componentDidUpdate=function(){this.attachObserver()},n.prototype.componentWillUnmount=function(){rP()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},n.prototype.render=function(){var e=this.props,n=e.render,r=e.children,i=e.nodeType,o=void 0===i?"div":i,a=this.state,s={width:a.width,height:a.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return null===n||void 0===n?void 0:n(s);case"childFunction":return null===r||void 0===r?void 0:r(s);case"child":var u=r;if(u.type&&"string"===typeof u.type){var l=eP(s,["targetRef"]);return(0,t.cloneElement)(u,l)}return(0,t.cloneElement)(u,s);case"childArray":return r.map((function(e){return!!e&&(0,t.cloneElement)(e,s)}));default:return t.createElement(o,null)}},n}(t.PureComponent);rP()?t.useEffect:t.useLayoutEffect;var sP=1,uP=1,lP=function(){function e(){(0,Vt.Z)(this,e),this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}return(0,Ht.Z)(e,[{key:"addChannel",value:function(e){var t=e.delay,n=void 0===t?0:t,r=e.duration,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.rate,a=void 0===o?1:o,s=e.repeat,u=sP++,l={time:0,delay:n,duration:i,rate:a,repeat:void 0===s?1:s};return this._setChannelTime(l,this.time),this.channels.set(u,l),u}},{key:"removeChannel",value:function(e){this.channels.delete(e);var t,n=gx(this.animations);try{for(n.s();!(t=n.n()).done;){var r=v(t.value,2),i=r[0];r[1].channel===e&&this.detachAnimation(i)}}catch(YJ){n.e(YJ)}finally{n.f()}}},{key:"isFinished",value:function(e){var t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}},{key:"getTime",value:function(e){if(void 0===e)return this.time;var t=this.channels.get(e);return void 0===t?-1:t.time}},{key:"setTime",value:function(e){this.time=Math.max(0,e);var t,n=gx(this.channels.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._setChannelTime(r,this.time)}}catch(YJ){n.e(YJ)}finally{n.f()}var i,o=gx(this.animations.values());try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.animation,u=a.channel;s.setTime(this.getTime(u))}}catch(YJ){o.e(YJ)}finally{o.f()}}},{key:"play",value:function(){this.playing=!0}},{key:"pause",value:function(){this.playing=!1,this.lastEngineTime=-1}},{key:"reset",value:function(){this.setTime(0)}},{key:"attachAnimation",value:function(e,t){var n=uP++;return this.animations.set(n,{animation:e,channel:t}),e.setTime(this.getTime(t)),n}},{key:"detachAnimation",value:function(e){this.animations.delete(e)}},{key:"update",value:function(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}},{key:"_setChannelTime",value:function(e,t){var n=t-e.delay;n>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)}}]),e}(),cP="Awaiting state",hP="Matched. State transferred from previous layer",fP="Initialized",dP="Discarded. Awaiting garbage collection",pP="No longer matched. Awaiting garbage collection",vP="Finalized! Awaiting garbage collection",gP=Symbol.for("component"),mP=Symbol.for("propTypes"),yP=Symbol.for("deprecatedProps"),bP=Symbol.for("asyncPropDefaults"),_P=Symbol.for("asyncPropOriginal"),wP=Symbol.for("asyncPropResolved"),EP=new ck({id:"deck"}),SP={};function xP(e){SP=e}function MP(e,t,n,r){EP.level>0&&SP[e]&&SP[e].call(null,t,n,r)}function kP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return Array.isArray(e)?AP(e,t,[]):t(e)?[e]:[]}function AP(e,t,n){for(var r=-1;++r<e.length;){var i=e[r];Array.isArray(i)?AP(i,t,n):t(i)&&n.push(i)}return n}function TP(e){for(var t=e.target,n=e.source,r=e.start,i=void 0===r?0:r,o=e.count,a=void 0===o?1:o,s=n.length,u=a*s,l=0,c=i;l<s;l++)t[c++]=n[l];for(;l<u;)l<u-l?(t.copyWithin(i+l,i,i+l),l*=2):(t.copyWithin(i+l,i,i+u-l),l=u);return t}var PP=function(e){return"boolean"===typeof e},OP=function(e){return"function"===typeof e},CP=function(e){return null!==e&&"object"===typeof e},RP=function(e){return CP(e)&&e.constructor==={}.constructor},LP=function(e){return e&&"function"===typeof e[Symbol.iterator]},IP=function(e){return e&&"function"===typeof e[Symbol.asyncIterator]},DP=function(e){return"undefined"!==typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json},jP=function(e){return"undefined"!==typeof Blob&&e instanceof Blob},NP=function(e){return e&&"object"===typeof e&&e.isBuffer},BP=function(e){return function(e){return"undefined"!==typeof ReadableStream&&e instanceof ReadableStream||CP(e)&&OP(e.tee)&&OP(e.cancel)&&OP(e.getReader)}(e)||function(e){return CP(e)&&OP(e.read)&&OP(e.pipe)&&PP(e.readable)}(e)};function zP(e,t){if(!e)throw new Error(t||"loader assertion failed.")}function ZP(e){var t;return!!e&&(Array.isArray(e)&&(e=e[0]),Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions))}function FP(e){var t,n,r;return zP(e,"null loader"),zP(ZP(e),"invalid loader"),Array.isArray(e)&&(r=e[1],e=e[0],e=(0,V.Z)((0,V.Z)({},e),{},{options:(0,V.Z)((0,V.Z)({},e.options),r)})),(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(n=e)&&void 0!==n&&n.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}var UP="",KP={};function VP(e){for(var t in KP)if(e.startsWith(t)){var n=KP[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(UP).concat(e)),e}var HP=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,WP=/^([-\w.]+\/[-\w.+]+)/;function GP(e){var t=HP.exec(e);return t?t[1]:""}var qP=/\?.*/;function YP(e){return e.replace(qP,"")}function XP(e){return DP(e)?e.url:jP(e)?e.name||"":"string"===typeof e?e:""}function $P(e){if(DP(e)){var t=e,n=t.headers.get("content-type")||"",r=YP(t.url);return function(e){var t=WP.exec(e);return t?t[1]:e}(n)||GP(r)}return jP(e)?e.type||"":"string"===typeof e?GP(e):""}function JP(e){return DP(e)?e.headers["content-length"]||-1:jP(e)?e.size:"string"===typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}function QP(e){return eO.apply(this,arguments)}function eO(){return(eO=ZT(BT().mark((function e(t){var n,r,i,o,a,s;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!DP(t)){e.next=2;break}return e.abrupt("return",t);case 2:return n={},(r=JP(t))>=0&&(n["content-length"]=String(r)),i=XP(t),(o=$P(t))&&(n["content-type"]=o),e.next=10,oO(t);case 10:return(a=e.sent)&&(n["x-first-bytes"]=a),"string"===typeof t&&(t=(new TextEncoder).encode(t)),s=new Response(t,{headers:n}),Object.defineProperty(s,"url",{value:i}),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tO(e){return nO.apply(this,arguments)}function nO(){return(nO=ZT(BT().mark((function e(t){var n;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,rO(t);case 3:throw n=e.sent,new Error(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rO(e){return iO.apply(this,arguments)}function iO(){return(iO=ZT(BT().mark((function e(t){var n,r,i;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,r=t.headers.get("Content-Type"),i=t.statusText,!r.includes("application/json")){e.next=11;break}return e.t0=i,e.t1=" ",e.next=9,t.text();case 9:e.t2=e.sent,i=e.t0+=e.t1.concat.call(e.t1,e.t2);case 11:n=(n+=i).length>60?"".concat(n.slice(0,60),"..."):n,e.next=17;break;case 15:e.prev=15,e.t3=e.catch(1);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function oO(e){return aO.apply(this,arguments)}function aO(){return aO=ZT(BT().mark((function e(t){var n,r,i,o;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=5,"string"!==typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,n)));case 3:if(!(t instanceof Blob)){e.next=8;break}return r=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){var n;return e(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.result)},t.readAsDataURL(r)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return i=t.slice(0,n),o=sO(i),e.abrupt("return","data:base64,".concat(o));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),aO.apply(this,arguments)}function sO(e){for(var t="",n=new Uint8Array(e),r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}function uO(e,t){return lO.apply(this,arguments)}function lO(){return lO=ZT(BT().mark((function e(t,n){var r;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=7;break}return t=VP(t),r=n,null!==n&&void 0!==n&&n.fetch&&"function"!==typeof(null===n||void 0===n?void 0:n.fetch)&&(r=n.fetch),e.next=6,fetch(t,r);case 6:case 9:return e.abrupt("return",e.sent);case 7:return e.next=9,QP(t);case 10:case"end":return e.stop()}}),e)}))),lO.apply(this,arguments)}var cO=n(1426);var hO=n(1426);function fO(){return!("object"===typeof hO&&"[object process]"===String(hO)&&!hO.browser)||function(e){if("undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof cO&&"object"===typeof cO.versions&&Boolean(cO.versions.electron))return!0;var t="object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent,n=e||t;return!!(n&&n.indexOf("Electron")>=0)}()}var dO="undefined"!==typeof __VERSION__?__VERSION__:"untranspiled source";fO();var pO,vO=function(){function e(t,n){(0,Vt.Z)(this,e);var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";this.storage=void 0,this.id=void 0,this.config=void 0,this.storage=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(U1){return null}}(r),this.id=t,this.config=n,this._loadConfiguration()}return(0,Ht.Z)(e,[{key:"getConfiguration",value:function(){return this.config}},{key:"setConfiguration",value:function(e){if(Object.assign(this.config,e),this.storage){var t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}},{key:"_loadConfiguration",value:function(){var e={};if(this.storage){var t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}]),e}();function gO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>r&&(n=Math.min(n,r/e.width));var o=e.width*n,a=e.height*n,s=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),s]}!function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(pO||(pO={}));var mO=10;function yO(e){return"string"!==typeof e?e:(e=e.toUpperCase(),pO[e]||pO.WHITE)}function bO(e,t){if(!e)throw new Error(t||"Assertion failed")}globalThis.self||globalThis.window||globalThis.global;var _O=globalThis.window||globalThis.self||globalThis.global,wO=(globalThis.document,globalThis.process||{});globalThis.console,globalThis.navigator;function EO(){var e,t,n;if(fO()&&_O.performance)e=null===_O||void 0===_O||null===(t=_O.performance)||void 0===t||null===(n=t.now)||void 0===n?void 0:n.call(t);else if("hrtime"in wO){var r,i=null===wO||void 0===wO||null===(r=wO.hrtime)||void 0===r?void 0:r.call(wO);e=1e3*i[0]+i[1]/1e6}else e=Date.now();return e}var SO={debug:fO()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},xO={enabled:!0,level:0};function MO(){}var kO={},AO={once:!0},TO=function(){function e(){(0,Vt.Z)(this,e);var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""}).id;this.id=void 0,this.VERSION=dO,this._startTs=EO(),this._deltaTs=EO(),this._storage=void 0,this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=t,this.userData={},this._storage=new vO("__probe-".concat(this.id,"__"),xO),this.timeStamp("".concat(this.id," started")),function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"],r=Object.getPrototypeOf(e),i=Object.getOwnPropertyNames(r),o=e,a=gx(i);try{var s=function(){var r=t.value,i=o[r];"function"===typeof i&&(n.find((function(e){return r===e}))||(o[r]=i.bind(e)))};for(a.s();!(t=a.n()).done;)s()}catch(YJ){a.e(YJ)}finally{a.f()}}(this),Object.seal(this)}return(0,Ht.Z)(e,[{key:"level",get:function(){return this.getLevel()},set:function(e){this.setLevel(e)}},{key:"isEnabled",value:function(){return this._storage.config.enabled}},{key:"getLevel",value:function(){return this._storage.config.level}},{key:"getTotal",value:function(){return Number((EO()-this._startTs).toPrecision(10))}},{key:"getDelta",value:function(){return Number((EO()-this._deltaTs).toPrecision(10))}},{key:"priority",get:function(){return this.level},set:function(e){this.level=e}},{key:"getPriority",value:function(){return this.level}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.setConfiguration({enabled:e}),this}},{key:"setLevel",value:function(e){return this._storage.setConfiguration({level:e}),this}},{key:"get",value:function(e){return this._storage.config[e]}},{key:"set",value:function(e,t){this._storage.setConfiguration((0,re.Z)({},e,t))}},{key:"settings",value:function(){console.table?console.table(this._storage.config):console.log(this._storage.config)}},{key:"assert",value:function(e,t){bO(e,t)}},{key:"warn",value:function(e){return this._getLogFunction(0,e,SO.warn,arguments,AO)}},{key:"error",value:function(e){return this._getLogFunction(0,e,SO.error,arguments)}},{key:"deprecated",value:function(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}},{key:"removed",value:function(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}},{key:"probe",value:function(e,t){return this._getLogFunction(e,t,SO.log,arguments,{time:!0,once:!0})}},{key:"log",value:function(e,t){return this._getLogFunction(e,t,SO.debug,arguments)}},{key:"info",value:function(e,t){return this._getLogFunction(e,t,console.info,arguments)}},{key:"once",value:function(e,t){return this._getLogFunction(e,t,SO.debug||SO.info,arguments,AO)}},{key:"table",value:function(e,t,n){return t?this._getLogFunction(e,t,console.table||MO,n&&[n],{tag:CO(t)}):MO}},{key:"image",value:function(e){var t=e.logLevel,n=e.priority,r=e.image,i=e.message,o=void 0===i?"":i,a=e.scale,s=void 0===a?1:a;return this._shouldLog(t||n)?fO()?function(e){var t=e.image,n=e.message,r=void 0===n?"":n,i=e.scale,o=void 0===i?1:i;if("string"===typeof t){var a=new Image;return a.onload=function(){var e,t=gO(a,r,o);(e=console).log.apply(e,(0,g.Z)(t))},a.src=t,MO}var s=t.nodeName||"";if("img"===s.toLowerCase()){var u;return(u=console).log.apply(u,(0,g.Z)(gO(t,r,o))),MO}if("canvas"===s.toLowerCase()){var l=new Image;return l.onload=function(){var e;return(e=console).log.apply(e,(0,g.Z)(gO(l,r,o)))},l.src=t.toDataURL(),MO}return MO}({image:r,message:o,scale:s}):function(e){e.image,e.message,e.scale;return console.warn("removed"),MO}({image:r,message:o,scale:s}):MO}},{key:"time",value:function(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}},{key:"timeEnd",value:function(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}},{key:"timeStamp",value:function(e,t){return this._getLogFunction(e,t,console.timeStamp||MO)}},{key:"group",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1},r=OO({logLevel:e,message:t,opts:n}),i=n.collapsed;return r.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}},{key:"groupCollapsed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},n,{collapsed:!0}))}},{key:"groupEnd",value:function(e){return this._getLogFunction(e,"",console.groupEnd||MO)}},{key:"withGroup",value:function(e,t,n){this.group(e,t)();try{n()}finally{this.groupEnd(e)()}}},{key:"trace",value:function(){console.trace&&console.trace()}},{key:"_shouldLog",value:function(e){return this.isEnabled()&&this.getLevel()>=PO(e)}},{key:"_getLogFunction",value:function(e,t,n,r,i){if(this._shouldLog(e)){var o;i=OO({logLevel:e,message:t,args:r,opts:i}),bO(n=n||i.method),i.total=this.getTotal(),i.delta=this.getDelta(),this._deltaTs=EO();var a=i.tag||i.message;if(i.once&&a){if(kO[a])return MO;kO[a]=EO()}return t=function(e,t,n){if("string"===typeof t){var r=n.time?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=Math.max(t-e.length,0);return"".concat(" ".repeat(n)).concat(e)}((i=n.total)<10?"".concat(i.toFixed(2),"ms"):i<100?"".concat(i.toFixed(1),"ms"):i<1e3?"".concat(i.toFixed(0),"ms"):"".concat((i/1e3).toFixed(2),"s")):"";t=function(e,t,n){if(!fO&&"string"===typeof e){if(t){var r=yO(t);e="\x1b[".concat(r,"m").concat(e,"\x1b[39m")}if(n){var i=yO(n);e="\x1b[".concat(i+mO,"m").concat(e,"\x1b[49m")}}return e}(t=n.time?"".concat(e,": ").concat(r,"  ").concat(t):"".concat(e,": ").concat(t),n.color,n.background)}var i;return t}(this.id,i.message,i),(o=n).bind.apply(o,[console,t].concat((0,g.Z)(i.args)))}return MO}}]),e}();function PO(e){if(!e)return 0;var t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return bO(Number.isFinite(t)&&t>=0),t}function OO(e){var t=e.logLevel,n=e.message;e.logLevel=PO(t);for(var r=e.args?Array.from(e.args):[];r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":void 0!==n&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t)}"function"===typeof e.message&&(e.message=e.message());var i=typeof e.message;return bO("string"===i||"object"===i),Object.assign(e,{args:r},e.opts)}function CO(e){for(var t in e)for(var n in e[t])return n||"untitled";return"empty"}TO.VERSION=dO;var RO=new TO({id:"loaders.gl"}),LO=function(){function e(){(0,Vt.Z)(this,e)}return(0,Ht.Z)(e,[{key:"log",value:function(){return function(){}}},{key:"info",value:function(){return function(){}}},{key:"warn",value:function(){return function(){}}},{key:"error",value:function(){return function(){}}}]),e}(),IO=function(){function e(){(0,Vt.Z)(this,e),(0,re.Z)(this,"console",void 0),this.console=console}return(0,Ht.Z)(e,[{key:"log",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.log).bind.apply(e,[this.console].concat(n))}},{key:"info",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.info).bind.apply(e,[this.console].concat(n))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.warn).bind.apply(e,[this.console].concat(n))}},{key:"error",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.error).bind.apply(e,[this.console].concat(n))}}]),e}(),DO=n(1426),jO=("undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof n.g&&n.g,"undefined"!==typeof document&&document,Boolean("object"!==typeof DO||"[object process]"!==String(DO)||DO.browser)),NO="undefined"!==typeof DO&&DO.version&&/v([0-9]*)/.exec(DO.version),BO=(NO&&parseFloat(NO[1]),{fetch:null,mimeType:void 0,nothrow:!1,log:new IO,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:jO,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]}),zO={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function ZO(){globalThis.loaders=globalThis.loaders||{};var e=globalThis.loaders;return e._state=e._state||{},e._state}var FO=function(){var e=ZO();return e.globalOptions=e.globalOptions||(0,V.Z)({},BO),e.globalOptions};function UO(e,t,n,r){return n=n||[],function(e,t){KO(e,null,BO,zO,t);var n,r=gx(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=e&&e[i.id]||{},a=i.options&&i.options[i.id]||{},s=i.deprecatedOptions&&i.deprecatedOptions[i.id]||{};KO(o,i.id,a,s,t)}}catch(YJ){r.e(YJ)}finally{r.f()}}(e,n=Array.isArray(n)?n:[n]),HO(t,e,r)}function KO(e,t,n,r,i){var o=t||"Top level",a=t?"".concat(t,"."):"";for(var s in e){var u=!t&&CP(e[s]);if(!(s in n)&&!("baseUri"===s&&!t)&&!("workerUrl"===s&&t))if(s in r)RO.warn("".concat(o," loader option '").concat(a).concat(s,"' no longer supported, use '").concat(r[s],"'"))();else if(!u){var l=VO(s,i);RO.warn("".concat(o," loader option '").concat(a).concat(s,"' not recognized. ").concat(l))()}}}function VO(e,t){var n,r=e.toLowerCase(),i="",o=gx(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;for(var s in a.options){if(e===s)return"Did you mean '".concat(a.id,".").concat(s,"'?");var u=s.toLowerCase();(r.startsWith(u)||u.startsWith(r))&&(i=i||"Did you mean '".concat(a.id,".").concat(s,"'?"))}}}catch(YJ){o.e(YJ)}finally{o.f()}return i}function HO(e,t,n){var r=e.options||{},i=(0,V.Z)({},r);return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(i,n),null===i.log&&(i.log=new LO),WO(i,FO()),WO(i,t),i}function WO(e,t){for(var n in t)if(n in t){var r=t[n];RP(r)&&RP(e[n])?e[n]=(0,V.Z)((0,V.Z)({},e[n]),t[n]):e[n]=t[n]}}function GO(e,t){var n=FO(),r=e||n;return"function"===typeof r.fetch?r.fetch:CP(r.fetch)?function(e){return uO(e,r)}:null!==t&&void 0!==t&&t.fetch?null===t||void 0===t?void 0:t.fetch:uO}function qO(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}var YO="3.4.4";function XO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:YO;qO(e,"no worker provided");var n=e.version;return!(!t||!n)}var $O=n(1426),JO=("undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof n.g&&n.g,"undefined"!==typeof document&&document,"object"!==typeof $O||"[object process]"!==String($O)||$O.browser),QO="undefined"!==typeof window&&"undefined"!==typeof window.orientation,eC="undefined"!==typeof $O&&$O.version&&/v([0-9]*)/.exec($O.version),tC=(eC&&parseFloat(eC[1]),function(){function e(){(0,Vt.Z)(this,e)}return(0,Ht.Z)(e,[{key:"terminate",value:function(){}}]),e}()),nC=new Map;function rC(e){qO(e.source&&!e.url||!e.source&&e.url);var t=nC.get(e.source||e.url);return t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return iC((t=e,"try {\n  importScripts('".concat(t,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")));var t}(e.url),nC.set(e.url,t)),e.source&&(t=iC(e.source),nC.set(e.source,t))),qO(t),t}function iC(e){var t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function oC(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=n||new Set;if(e){if(aC(e))r.add(e);else if(aC(e.buffer))r.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"===typeof e)for(var i in e)oC(e[i],t,r)}else;return void 0===n?Array.from(r):[]}function aC(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!==typeof MessagePort&&e instanceof MessagePort||("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}var sC=function(){},uC=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"name",void 0),(0,re.Z)(this,"source",void 0),(0,re.Z)(this,"url",void 0),(0,re.Z)(this,"terminated",!1),(0,re.Z)(this,"worker",void 0),(0,re.Z)(this,"onMessage",void 0),(0,re.Z)(this,"onError",void 0),(0,re.Z)(this,"_loadableURL","");var n=t.name,r=t.source,i=t.url;qO(r||i),this.name=n,this.source=r,this.url=i,this.onMessage=sC,this.onError=function(e){return console.log(e)},this.worker=JO?this._createBrowserWorker():this._createNodeWorker()}return(0,Ht.Z)(e,[{key:"destroy",value:function(){this.onMessage=sC,this.onError=sC,this.worker.terminate(),this.terminated=!0}},{key:"isRunning",get:function(){return Boolean(this.onMessage)}},{key:"postMessage",value:function(e,t){t=t||oC(e),this.worker.postMessage(e,t)}},{key:"_getErrorFromErrorEvent",value:function(e){var t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}},{key:"_createBrowserWorker",value:function(){var e=this;this._loadableURL=rC({source:this.source,url:this.url});var t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=function(t){t.data?e.onMessage(t.data):e.onError(new Error("No data received"))},t.onerror=function(t){e.onError(e._getErrorFromErrorEvent(t)),e.terminated=!0},t.onmessageerror=function(e){return console.error(e)},t}},{key:"_createNodeWorker",value:function(){var e,t=this;if(this.url){var n=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new tC(n,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new tC(this.source,{eval:!0})}return e.on("message",(function(e){t.onMessage(e)})),e.on("error",(function(e){t.onError(e)})),e.on("exit",(function(e){})),e}}],[{key:"isSupported",value:function(){return"undefined"!==typeof Worker&&JO||"undefined"!==typeof tC&&!JO}}]),e}(),lC=function(){function e(t,n){var r=this;(0,Vt.Z)(this,e),(0,re.Z)(this,"name",void 0),(0,re.Z)(this,"workerThread",void 0),(0,re.Z)(this,"isRunning",!0),(0,re.Z)(this,"result",void 0),(0,re.Z)(this,"_resolve",(function(){})),(0,re.Z)(this,"_reject",(function(){})),this.name=t,this.workerThread=n,this.result=new Promise((function(e,t){r._resolve=e,r._reject=t}))}return(0,Ht.Z)(e,[{key:"postMessage",value:function(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}},{key:"done",value:function(e){qO(this.isRunning),this.isRunning=!1,this._resolve(e)}},{key:"error",value:function(e){qO(this.isRunning),this.isRunning=!1,this._reject(e)}}]),e}(),cC=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"name","unnamed"),(0,re.Z)(this,"source",void 0),(0,re.Z)(this,"url",void 0),(0,re.Z)(this,"maxConcurrency",1),(0,re.Z)(this,"maxMobileConcurrency",1),(0,re.Z)(this,"onDebug",(function(){})),(0,re.Z)(this,"reuseWorkers",!0),(0,re.Z)(this,"props",{}),(0,re.Z)(this,"jobQueue",[]),(0,re.Z)(this,"idleQueue",[]),(0,re.Z)(this,"count",0),(0,re.Z)(this,"isDestroyed",!1),this.source=t.source,this.url=t.url,this.setProps(t)}return(0,Ht.Z)(e,[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"setProps",value:function(e){this.props=(0,V.Z)((0,V.Z)({},this.props),e),void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}},{key:"startJob",value:function(){var e=ZT(BT().mark((function e(t){var n,r,i,o=this,a=arguments;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:function(e,t,n){return e.done(n)},r=a.length>2&&void 0!==a[2]?a[2]:function(e,t){return e.error(t)},i=new Promise((function(e){return o.jobQueue.push({name:t,onMessage:n,onError:r,onStart:e}),o})),this._startQueuedJob(),e.next=6,i;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_startQueuedJob",value:function(){var e=ZT(BT().mark((function e(){var t,n,r;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:if(!(n=this.jobQueue.shift())){e.next=18;break}return this.onDebug({message:"Starting job",name:n.name,workerThread:t,backlog:this.jobQueue.length}),r=new lC(n.name,t),t.onMessage=function(e){return n.onMessage(r,e.type,e.payload)},t.onError=function(e){return n.onError(r,e)},n.onStart(r),e.prev=12,e.next=15,r.result;case 15:return e.prev=15,this.returnWorkerToQueue(t),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[12,,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"returnWorkerToQueue",value:function(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new uC({name:e,source:this.source,url:this.url})}return null}},{key:"_getMaxConcurrency",value:function(){return QO?this.maxMobileConcurrency:this.maxConcurrency}}],[{key:"isSupported",value:function(){return uC.isSupported()}}]),e}(),hC={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:function(){}},fC=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"props",void 0),(0,re.Z)(this,"workerPools",new Map),this.props=(0,V.Z)({},hC),this.setProps(t),this.workerPools=new Map}return(0,Ht.Z)(e,[{key:"destroy",value:function(){var e,t=gx(this.workerPools.values());try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(YJ){t.e(YJ)}finally{t.f()}this.workerPools=new Map}},{key:"setProps",value:function(e){this.props=(0,V.Z)((0,V.Z)({},this.props),e);var t,n=gx(this.workerPools.values());try{for(n.s();!(t=n.n()).done;){t.value.setProps(this._getWorkerPoolProps())}}catch(YJ){n.e(YJ)}finally{n.f()}}},{key:"getWorkerPool",value:function(e){var t=e.name,n=e.source,r=e.url,i=this.workerPools.get(t);return i||((i=new cC({name:t,source:n,url:r})).setProps(this._getWorkerPoolProps()),this.workerPools.set(t,i)),i}},{key:"_getWorkerPoolProps",value:function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}],[{key:"isSupported",value:function(){return uC.isSupported()}},{key:"getWorkerFarm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e._workerFarm=e._workerFarm||new e({}),e._workerFarm.setProps(t),e._workerFarm}}]),e}();(0,re.Z)(fC,"_workerFarm",void 0);var dC="latest";function pC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t[e.id]||{},r="".concat(e.id,"-worker.js"),i=n.workerUrl;if(i||"compression"!==e.id||(i=t.workerUrl),"test"===t._workerType&&(i="modules/".concat(e.module,"/dist/").concat(r)),!i){var o=e.version;"latest"===o&&(o=dC);var a=o?"@".concat(o):"";i="https://unpkg.com/@loaders.gl/".concat(e.module).concat(a,"/dist/").concat(r)}return qO(i),i}function vC(e,t){return!!fC.isSupported()&&(!!(JO||null!==t&&void 0!==t&&t._nodeWorkers)&&(e.worker&&(null===t||void 0===t?void 0:t.worker)))}function gC(e,t,n,r,i){return mC.apply(this,arguments)}function mC(){return mC=ZT(BT().mark((function e(t,n,r,i,o){var a,s,u,l,c,h;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,s=pC(t,r),u=fC.getWorkerFarm(r),l=u.getWorkerPool({name:a,url:s}),r=JSON.parse(JSON.stringify(r)),i=JSON.parse(JSON.stringify(i||{})),e.next=8,l.startJob("process-on-worker",yC.bind(null,o));case 8:return(c=e.sent).postMessage("process",{input:n,options:r,context:i}),e.next=12,c.result;case 12:return h=e.sent,e.next=15,h.result;case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}function yC(e,t,n,r){return bC.apply(this,arguments)}function bC(){return bC=ZT(BT().mark((function e(t,n,r,i){var o,a,s,u,l;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:20;break;case 3:return n.done(i),e.abrupt("break",21);case 5:return n.error(new Error(i.error)),e.abrupt("break",21);case 7:return o=i.id,a=i.input,s=i.options,e.prev=8,e.next=11,t(a,s);case 11:u=e.sent,n.postMessage("done",{id:o,result:u}),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(8),l=e.t1 instanceof Error?e.t1.message:"unknown error",n.postMessage("error",{id:o,error:l});case 19:return e.abrupt("break",21);case 20:console.warn("parse-with-worker unknown message ".concat(r));case 21:case"end":return e.stop()}}),e,null,[[8,15]])}))),bC.apply(this,arguments)}function _C(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new wC(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function wC(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return wC=function(e){this.s=e,this.n=e.next},wC.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new wC(e)}function EC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),o=i.reduce((function(e,t){return e+t.byteLength}),0),a=new Uint8Array(o),s=0,u=gx(i);try{for(u.s();!(r=u.n()).done;){var l=r.value;a.set(l,s),s+=l.byteLength}}catch(YJ){u.e(YJ)}finally{u.f()}return a.buffer}function SC(e){return xC.apply(this,arguments)}function xC(){return(xC=ZT(BT().mark((function e(t){var n,r,i,o,a,s,u;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=!1,i=!1,e.prev=3,a=_C(t);case 5:return e.next=7,a.next();case 7:if(!(r=!(s=e.sent).done)){e.next=13;break}u=s.value,n.push(u);case 10:r=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,o=e.t0;case 19:if(e.prev=19,e.prev=20,!r||null==a.return){e.next=24;break}return e.next=24,a.return();case 24:if(e.prev=24,!i){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",EC.apply(void 0,n));case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})))).apply(this,arguments)}var MC=BT().mark(AC),kC=262144;function AC(e,t){var n,r,i,o,a;return BT().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n=(null===t||void 0===t?void 0:t.chunkSize)||kC,r=0,i=new TextEncoder;case 3:if(!(r<e.length)){s.next=11;break}return o=Math.min(e.length-r,n),a=e.slice(r,r+o),r+=o,s.next=9,i.encode(a);case 9:s.next=3;break;case 11:case"end":return s.stop()}}),MC)}var TC=262144;function PC(e,t){this.v=e,this.k=t}function OC(e){return new PC(e,0)}function CC(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,s=a instanceof PC;Promise.resolve(s?a.v:a).then((function(n){if(s){var u="return"===t?"return":"next";if(!a.k||n.done)return r(u,n);n=e[u](n).value}i(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(YJ){i("throw",YJ)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function RC(e){return function(){return new CC(e.apply(this,arguments))}}CC.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},CC.prototype.next=function(e){return this._invoke("next",e)},CC.prototype.throw=function(e){return this._invoke("throw",e)},CC.prototype.return=function(e){return this._invoke("return",e)};var LC=1048576;function IC(){return IC=RC(BT().mark((function e(t,n){var r,i,o,a;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(null===n||void 0===n?void 0:n.chunkSize)||LC,i=0;case 2:if(!(i<t.size)){e.next=12;break}return o=i+r,e.next=6,OC(t.slice(i,o).arrayBuffer());case 6:return a=e.sent,i=o,e.next=10,a;case 10:e.next=2;break;case 12:case"end":return e.stop()}}),e)}))),IC.apply(this,arguments)}function DC(e){if((t=e)&&"object"===typeof t&&t.isBuffer)return e;var t;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"===typeof e){var n=e;return(new TextEncoder).encode(n).buffer}if(e&&"object"===typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function jC(e,t){return jO?function(e,t){return NC.apply(this,arguments)}(e,t):function(e,t){return BC.apply(this,arguments)}(e,t)}function NC(){return NC=RC(BT().mark((function e(t,n){var r,i,o,a,s,u;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getReader(),e.prev=1;case 2:return o=i||r.read(),null!==n&&void 0!==n&&n._streamReadAhead&&(i=r.read()),e.next=7,OC(o);case 7:if(a=e.sent,s=a.done,u=a.value,!s){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,DC(u);case 14:e.next=2;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),r.releaseLock();case 21:case"end":return e.stop()}}),e,null,[[1,18]])}))),NC.apply(this,arguments)}function BC(){return(BC=RC(BT().mark((function e(t,n){var r,i,o,a,s,u;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,i=!1,e.prev=2,a=_C(t);case 4:return e.next=6,OC(a.next());case 6:if(!(r=!(s=e.sent).done)){e.next=13;break}return u=s.value,e.next=10,DC(u);case 10:r=!1,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),i=!0,o=e.t0;case 19:if(e.prev=19,e.prev=20,!r||null==a.return){e.next=24;break}return e.next=24,OC(a.return());case 24:if(e.prev=24,!i){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(19);case 29:case"end":return e.stop()}}),e,null,[[2,15,19,29],[20,,24,28]])})))).apply(this,arguments)}function zC(e,t){if("string"===typeof e)return AC(e,t);if(e instanceof ArrayBuffer)return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return BT().mark((function n(){var r,i,o,a,s,u;return BT().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.chunkSize,i=void 0===r?TC:r,o=0;case 2:if(!(o<e.byteLength)){n.next=13;break}return a=Math.min(e.byteLength-o,i),s=new ArrayBuffer(a),u=new Uint8Array(e,o,a),new Uint8Array(s).set(u),o+=a,n.next=11,s;case 11:n.next=2;break;case 13:case"end":return n.stop()}}),n)}))()}(e,t);if(jP(e))return function(e,t){return IC.apply(this,arguments)}(e,t);if(BP(e))return jC(e,t);if(DP(e))return jC(e.body,t);throw new Error("makeIterator")}var ZC="Cannot convert supplied data type";function FC(e,t,n){if(t.text&&"string"===typeof e)return e;if(NP(e)&&(e=e.buffer),e instanceof ArrayBuffer){var r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);var i=e.buffer,o=e.byteLength||e.length;return 0===e.byteOffset&&o===i.byteLength||(i=i.slice(e.byteOffset,e.byteOffset+o)),i}throw new Error(ZC)}function UC(e,t,n){return KC.apply(this,arguments)}function KC(){return KC=ZT(BT().mark((function e(t,n,r){var i,o;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!==typeof t&&!i){e.next=3;break}return e.abrupt("return",FC(t,n));case 3:if(!jP(t)){e.next=7;break}return e.next=6,QP(t);case 6:t=e.sent;case 7:if(!DP(t)){e.next=21;break}return o=t,e.next=11,tO(o);case 11:if(!n.binary){e.next=17;break}return e.next=14,o.arrayBuffer();case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,o.text();case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:if(BP(t)&&(t=zC(t,r)),!LP(t)&&!IP(t)){e.next=24;break}return e.abrupt("return",SC(t));case 24:throw new Error(ZC);case 25:case"end":return e.stop()}}),e)}))),KC.apply(this,arguments)}function VC(e){var t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(t+1):""}function HC(e,t,n){if(n)return n;var r=(0,V.Z)({fetch:GO(t,e)},e);if(r.url){var i=YP(r.url);r.baseUrl=i,r.queryString=function(e){var t=e.match(qP);return t&&t[0]}(r.url),r.filename=VC(i),r.baseUrl=function(e){var t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(0,t):""}(i)}return Array.isArray(r.loaders)||(r.loaders=null),r}function WC(e,t){if(!t&&e&&!Array.isArray(e))return e;var n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){var r=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[].concat((0,g.Z)(n),(0,g.Z)(r)):r}return n&&n.length?n:null}var GC=new TO({id:"loaders.gl"}),qC=function(){var e=ZO();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};var YC=/\.([^.]+)$/;function XC(e){return $C.apply(this,arguments)}function $C(){return $C=ZT(BT().mark((function e(t){var n,r,i,o,a=arguments;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:[],r=a.length>2?a[2]:void 0,i=a.length>3?a[3]:void 0,QC(t)){e.next=5;break}return e.abrupt("return",null);case 5:if(!(o=JC(t,n,(0,V.Z)((0,V.Z)({},r),{},{nothrow:!0}),i))){e.next=8;break}return e.abrupt("return",o);case 8:if(!jP(t)){e.next=13;break}return e.next=11,t.slice(0,10).arrayBuffer();case 11:t=e.sent,o=JC(t,n,r,i);case 13:if(o||null!==r&&void 0!==r&&r.nothrow){e.next=15;break}throw new Error(eR(t));case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),$C.apply(this,arguments)}function JC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!QC(e))return null;if(t&&!Array.isArray(t))return FP(t);var i,o=[];(t&&(o=o.concat(t)),null!==n&&void 0!==n&&n.ignoreRegisteredLoaders)||(i=o).push.apply(i,(0,g.Z)(qC()));!function(e){var t,n=gx(e);try{for(n.s();!(t=n.n()).done;){FP(t.value)}}catch(YJ){n.e(YJ)}finally{n.f()}}(o);var a=function(e,t,n,r){var i,o=XP(e),a=$P(e),s=YP(o)||(null===r||void 0===r?void 0:r.url),u=null,l="";null!==n&&void 0!==n&&n.mimeType&&(u=tR(t,null===n||void 0===n?void 0:n.mimeType),l="match forced by supplied MIME type ".concat(null===n||void 0===n?void 0:n.mimeType));u=u||function(e,t){var n=t&&YC.exec(t),r=n&&n[1];return r?function(e,t){t=t.toLowerCase();var n,r=gx(e);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=gx(o.extensions);try{for(a.s();!(i=a.n()).done;){if(i.value.toLowerCase()===t)return o}}catch(YJ){a.e(YJ)}finally{a.f()}}}catch(YJ){r.e(YJ)}finally{r.f()}return null}(e,r):null}(t,s),l=l||(u?"matched url ".concat(s):""),u=u||tR(t,a),l=l||(u?"matched MIME type ".concat(a):""),u=u||function(e,t){if(!t)return null;var n,r=gx(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("string"===typeof t){if(nR(t,i))return i}else if(ArrayBuffer.isView(t)){if(rR(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){if(rR(t,0,i))return i}}}catch(YJ){r.e(YJ)}finally{r.f()}return null}(t,e),l=l||(u?"matched initial data ".concat(iR(e)):""),u=u||tR(t,null===n||void 0===n?void 0:n.fallbackMimeType),l=l||(u?"matched fallback MIME type ".concat(a):""),l&&GC.log(1,"selectLoader selected ".concat(null===(i=u)||void 0===i?void 0:i.name,": ").concat(l,"."));return u}(e,o,n,r);if(!a&&(null===n||void 0===n||!n.nothrow))throw new Error(eR(e));return a}function QC(e){return!(e instanceof Response&&204===e.status)}function eR(e){var t=XP(e),n=$P(e),r="No valid loader found (";r+=t?"".concat(VC(t),", "):"no url provided, ",r+="MIME type: ".concat(n?'"'.concat(n,'"'):"not provided",", ");var i=e?iR(e):"";return r+=i?' first bytes: "'.concat(i,'"'):"first bytes: not available",r+=")"}function tR(e,t){var n,r=gx(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t==="application/x.".concat(i.id))return i}}catch(YJ){r.e(YJ)}finally{r.f()}return null}function nR(e,t){return t.testText?t.testText(e):(Array.isArray(t.tests)?t.tests:[t.tests]).some((function(t){return e.startsWith(t)}))}function rR(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some((function(r){return function(e,t,n,r){if(r instanceof ArrayBuffer)return function(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;for(var r=new Uint8Array(e),i=new Uint8Array(t),o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(r,e,r.byteLength);switch(typeof r){case"function":return r(e,n);case"string":return r===oR(e,t,r.length);default:return!1}}(e,t,n,r)}))}function iR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return oR(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){return oR(e,0,t)}return""}function oR(e,t,n){if(e.byteLength<t+n)return"";for(var r=new DataView(e),i="",o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(t+o));return i}function aR(e,t,n,r){return sR.apply(this,arguments)}function sR(){return sR=ZT(BT().mark((function e(t,n,r,i){var o,a,s;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qO(!i||"object"===typeof i),!n||Array.isArray(n)||ZP(n)||(i=void 0,r=n,n=void 0),e.next=4,t;case 4:return t=e.sent,r=r||{},o=XP(t),a=WC(n,i),e.next=11,XC(t,a,r);case 11:if(s=e.sent){e.next=14;break}return e.abrupt("return",null);case 14:return r=UO(r,s,a,o),i=HC({url:o,parse:aR,loaders:a},r,i||null),e.next=18,uR(s,t,r,i);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)}))),sR.apply(this,arguments)}function uR(e,t,n,r){return lR.apply(this,arguments)}function lR(){return lR=ZT(BT().mark((function e(t,n,r,i){var o,a,s,u,l,c,h,f;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return XO(t),DP(n)&&(a=(o=n).ok,s=o.redirected,u=o.status,l=o.statusText,c=o.type,h=o.url,f=Object.fromEntries(o.headers.entries()),i.response={headers:f,ok:a,redirected:s,status:u,statusText:l,type:c,url:h}),e.next=4,UC(n,t,r);case 4:if(n=e.sent,!t.parseTextSync||"string"!==typeof n){e.next=8;break}return r.dataType="text",e.abrupt("return",t.parseTextSync(n,r,i,t));case 8:if(!vC(t,r)){e.next=12;break}return e.next=11,gC(t,n,r,i,aR);case 11:case 15:case 19:return e.abrupt("return",e.sent);case 12:if(!t.parseText||"string"!==typeof n){e.next=16;break}return e.next=15,t.parseText(n,r,i,t);case 16:if(!t.parse){e.next=20;break}return e.next=19,t.parse(n,r,i,t);case 20:throw qO(!t.parseSync),new Error("".concat(t.id," loader - no parser found and worker is disabled"));case 22:case"end":return e.stop()}}),e)}))),lR.apply(this,arguments)}function cR(e,t,n,r){return hR.apply(this,arguments)}function hR(){return hR=ZT(BT().mark((function e(t,n,r,i){var o,a;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(n)||ZP(n)||(void 0,r=n,n=void 0),o=GO(r),a=t,"string"!==typeof t){e.next=7;break}return e.next=6,o(t);case 6:a=e.sent;case 7:if(!jP(t)){e.next=11;break}return e.next=10,o(t);case 10:a=e.sent;case 11:return e.next=13,aR(a,n,r);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)}))),hR.apply(this,arguments)}var fR=function(){function e(t,n,r){(0,Vt.Z)(this,e),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"context",void 0),(0,re.Z)(this,"isLoaded",void 0),(0,re.Z)(this,"persistent",void 0),(0,re.Z)(this,"_loadCount",0),(0,re.Z)(this,"_subscribers",new Set),(0,re.Z)(this,"_data",void 0),(0,re.Z)(this,"_loader",void 0),(0,re.Z)(this,"_error",void 0),(0,re.Z)(this,"_content",void 0),this.id=t,this.context=r,this.setData(n)}return(0,Ht.Z)(e,[{key:"subscribe",value:function(e){this._subscribers.add(e)}},{key:"unsubscribe",value:function(e){this._subscribers.delete(e)}},{key:"inUse",value:function(){return this._subscribers.size>0}},{key:"delete",value:function(){}},{key:"getData",value:function(){var e=this;return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then((function(){return e.getData()}))}},{key:"setData",value:function(e,t){var n=this;if(e!==this._data||t){this._data=e;var r=++this._loadCount,i=e;"string"===typeof e&&(i=cR(e)),i instanceof Promise?(this.isLoaded=!1,this._loader=i.then((function(e){n._loadCount===r&&(n.isLoaded=!0,n._error=void 0,n._content=e)})).catch((function(e){n._loadCount===r&&(n.isLoaded=!0,n._error=e||!0)}))):(this.isLoaded=!0,this._error=void 0,this._content=e);var o,a=gx(this._subscribers);try{for(a.s();!(o=a.n()).done;){o.value.onChange(this.getData())}}catch(YJ){a.e(YJ)}finally{a.f()}}}}]),e}(),dR=function(){function e(t){var n=t.gl,r=t.protocol;(0,Vt.Z)(this,e),(0,re.Z)(this,"protocol",void 0),(0,re.Z)(this,"_context",void 0),(0,re.Z)(this,"_resources",void 0),(0,re.Z)(this,"_consumers",void 0),(0,re.Z)(this,"_pruneRequest",void 0),this.protocol=r||"resource://",this._context={gl:n,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}return(0,Ht.Z)(e,[{key:"contains",value:function(e){return!!e.startsWith(this.protocol)||e in this._resources}},{key:"add",value:function(e){var t=e.resourceId,n=e.data,r=e.forceUpdate,i=void 0!==r&&r,o=e.persistent,a=void 0===o||o,s=this._resources[t];s?s.setData(n,i):(s=new fR(t,n,this._context),this._resources[t]=s),s.persistent=a}},{key:"remove",value:function(e){var t=this._resources[e];t&&(t.delete(),delete this._resources[e])}},{key:"unsubscribe",value:function(e){var t=e.consumerId,n=this._consumers[t];if(n){for(var r in n){var i=n[r],o=this._resources[i.resourceId];o&&o.unsubscribe(i)}delete this._consumers[t],this.prune()}}},{key:"subscribe",value:function(e){var t=e.resourceId,n=e.onChange,r=e.consumerId,i=e.requestId,o=void 0===i?"default":i,a=this._resources,s=this.protocol;t.startsWith(s)&&(a[t=t.replace(s,"")]||this.add({resourceId:t,data:null,persistent:!1}));var u=a[t];if(this._track(r,o,u,n),u)return u.getData()}},{key:"prune",value:function(){var e=this;this._pruneRequest||(this._pruneRequest=setTimeout((function(){return e._prune()}),0))}},{key:"finalize",value:function(){for(var e in this._resources)this._resources[e].delete()}},{key:"_track",value:function(e,t,n,r){var i=this._consumers,o=i[e]=i[e]||{},a=o[t]||{},s=a.resourceId&&this._resources[a.resourceId];s&&(s.unsubscribe(a),this.prune()),n&&(o[t]=a,a.onChange=r,a.resourceId=n.id,n.subscribe(a))}},{key:"_prune",value:function(){this._pruneRequest=null;for(var e=0,t=Object.keys(this._resources);e<t.length;e++){var n=t[e],r=this._resources[n];r.persistent||r.inUse()||(r.delete(),delete this._resources[n])}}}]),e}(),pR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Vt.Z)(this,e),(0,re.Z)(this,"_pool",[]),(0,re.Z)(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(t)}return(0,Ht.Z)(e,[{key:"setOptions",value:function(e){Object.assign(this.opts,e)}},{key:"allocate",value:function(e,t,n){var r=n.size,i=void 0===r?1:r,o=n.type,a=n.padding,s=void 0===a?0:a,u=n.copy,l=void 0!==u&&u,c=n.initialize,h=void 0!==c&&c,f=n.maxCount,d=o||e&&e.constructor||Float32Array,p=t*i+s;if(ArrayBuffer.isView(e)){if(p<=e.length)return e;if(p*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new d(e.buffer,0,p)}var v=1/0;f&&(v=f*i+s);var g=this._allocate(d,p,h,v);return e&&l?g.set(e):h||g.fill(0,0,4),this._release(e),g}},{key:"release",value:function(e){this._release(e)}},{key:"_allocate",value:function(e,t,n,r){var i=Math.max(Math.ceil(t*this.opts.overAlloc),1);i>r&&(i=r);var o=this._pool,a=e.BYTES_PER_ELEMENT*i,s=o.findIndex((function(e){return e.byteLength>=a}));if(s>=0){var u=new e(o.splice(s,1)[0],0,i);return n&&u.fill(0),u}return new e(i)}},{key:"_release",value:function(e){if(ArrayBuffer.isView(e)){var t=this._pool,n=e.buffer,r=n.byteLength,i=t.findIndex((function(e){return e.byteLength>=r}));i<0?t.push(n):(i>0||t.length<this.opts.poolSize)&&t.splice(i,0,n),t.length>this.opts.poolSize&&t.shift()}}}]),e}(),vR=new pR,gR=(Math.PI,Math.PI,{EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0});function mR(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).precision,n=void 0===t?gR.precision:t;return e=function(e){return Math.round(e/gR.EPSILON)*gR.EPSILON}(e),"".concat(parseFloat(e.toPrecision(n)))}function yR(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bR(e,t,n){return ER(e,(function(e){return Math.max(t,Math.min(n,e))}))}function _R(e,t,n){return yR(e)?e.map((function(e,r){return _R(e,t[r],n)})):n*t+(1-n)*e}function wR(e,t,n){var r=gR.EPSILON;n&&(gR.EPSILON=n);try{if(e===t)return!0;if(yR(e)&&yR(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!wR(e[i],t[i]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):"number"===typeof e&&"number"===typeof t&&Math.abs(e-t)<=gR.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{gR.EPSILON=r}}function ER(e,t,n){if(yR(e)){var r=e;n=n||function(e){return e.clone?e.clone():new Array(e.length)}(r);for(var i=0;i<n.length&&i<r.length;++i)n[i]=t(e[i],i,n);return n}return t(e)}var SR=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=e[n+t];return this.check()}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)e[t+n]=this[n];return e}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"to",value:function(e){return e===this?this:yR(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(gR)}},{key:"formatString",value:function(e){for(var t="",n=0;n<this.ELEMENTS;++n)t+=(n>0?", ":"")+mR(this[n],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!wR(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,t,n){if(void 0===n)return this.lerp(this,e,t);for(var r=0;r<this.ELEMENTS;++r){var i=e[r];this[r]=i+n*(t[r]-i)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),t[n]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]+=o[a];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]-=o[a];return this.check()}},{key:"scale",value:function(e){if("number"===typeof e)for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(var n=0;n<this.ELEMENTS&&n<e.length;++n)this[n]*=e[n];return this.check()}},{key:"multiplyByScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"check",value:function(){if(gR.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.multiplyByScalar(1/e)}},{key:"clampScalar",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),t);return this.check()}},{key:"elements",get:function(){return this}}]),n}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Array));function xR(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function MR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(gR.debug&&!function(e,t){if(e.length!==t)return!1;for(var n=0;n<e.length;++n)if(!Number.isFinite(e[n]))return!1;return!0}(e,t))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return e}function kR(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}var AR=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"x",get:function(){return this[0]},set:function(e){this[0]=xR(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=xR(e)}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-e[n];t+=r*r}return xR(t)}},{key:"dot",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n)t+=this[n]*e[n];return xR(t)}},{key:"normalize",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]*=o[a];return this.check()}},{key:"divide",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]/=o[a];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(e){return this.distance(e)}},{key:"distanceToSquared",value:function(e){return this.distanceSquared(e)}},{key:"getComponent",value:function(e){return kR(e>=0&&e<this.ELEMENTS,"index is out of range"),xR(this[e])}},{key:"setComponent",value:function(e,t){return kR(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}},{key:"addVectors",value:function(e,t){return this.copy(e).add(t)}},{key:"subVectors",value:function(e,t){return this.copy(e).subtract(t)}},{key:"multiplyVectors",value:function(e,t){return this.copy(e).multiply(t)}},{key:"addScaledVector",value:function(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}]),n}(SR),TR=1e-6,PR="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function OR(){var e=new PR(3);return PR!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function CR(e,t,n){var r=new PR(3);return r[0]=e,r[1]=t,r[2]=n,r}function RR(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function LR(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}function IR(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function DR(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function jR(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],u=t[1],l=t[2],c=i*l-o*u,h=o*s-r*l,f=r*u-i*s,d=i*f-o*h,p=o*c-r*f,v=r*h-i*c,g=2*a;return c*=g,h*=g,f*=g,d*=2,p*=2,v*=2,e[0]=s+c+d,e[1]=u+h+p,e[2]=l+f+v,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var NR=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},BR=function(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)},zR=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};!function(){var e=OR()}();function ZR(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o||1;return e[0]=(n[0]*r+n[4]*i+n[8]*o)/a,e[1]=(n[1]*r+n[5]*i+n[9]*o)/a,e[2]=(n[2]*r+n[6]*i+n[10]*o)/a,e}function FR(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=n[0]*r+n[3]*i+n[6]*o,e[1]=n[1]*r+n[4]*i+n[7]*o,e[2]=n[2]*r+n[5]*i+n[8]*o,e[3]=t[3],e}var UR,KR=[0,0,0],VR=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,Vt.Z)(this,n),e=t.call(this,-0,-0,-0),1===arguments.length&&yR(r)?e.copy(r):(gR.debug&&(xR(r),xR(i),xR(o)),e[0]=r,e[1]=i,e[2]=o),e}return(0,Ht.Z)(n,[{key:"set",value:function(e,t,n){return this[0]=e,this[1]=t,this[2]=n,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}},{key:"fromObject",value:function(e){return gR.debug&&(xR(e.x),xR(e.y),xR(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=xR(e)}},{key:"angle",value:function(e){return function(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),l=u&&RR(e,t)/u;return Math.acos(Math.min(Math.max(l,-1),1))}(this,e)}},{key:"cross",value:function(e){return LR(this,this,e),this.check()}},{key:"rotateX",value:function(e){var t=e.radians,n=e.origin;return function(e,t,n,r){var i=[],o=[];i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2]}(this,this,void 0===n?KR:n,t),this.check()}},{key:"rotateY",value:function(e){var t=e.radians,n=e.origin;return function(e,t,n,r){var i=[],o=[];i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2]}(this,this,void 0===n?KR:n,t),this.check()}},{key:"rotateZ",value:function(e){var t=e.radians,n=e.origin;return function(e,t,n,r){var i=[],o=[];i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2]}(this,this,void 0===n?KR:n,t),this.check()}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return IR(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return ZR(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return DR(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return function(e,t,n){var r=t[0],i=t[1];e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e[2]=t[2]}(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return jR(this,this,e),this.check()}}],[{key:"ZERO",get:function(){return UR||(UR=new n(0,0,0),Object.freeze(UR)),UR}}]),n}(AR);var HR,WR=new VR;function GR(e,t,n,r){WR.set(e,t,n);var i=WR.len();return{distance:r/i,normal:new VR(-e/i,-t/i,-n/i)}}function qR(e){return e-Math.fround(e)}function YR(e,t){var n=t.size,r=void 0===n?1:n,i=t.startIndex,o=void 0===i?0:i,a=void 0!==t.endIndex?t.endIndex:e.length,s=(a-o)/r;HR=vR.allocate(HR,s,{type:Float32Array,size:2*r});for(var u=o,l=0;u<a;){for(var c=0;c<r;c++){var h=e[u++];HR[l+c]=h,HR[l+c+r]=qR(h)}l+=2*r}return HR.subarray(0,s*r*2)}function XR(e){var t,n=null,r=!1,i=gx(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;o&&(n?(r||(n=[[n[0][0],n[0][1]],[n[1][0],n[1][1]]],r=!0),n[0][0]=Math.min(n[0][0],o[0][0]),n[0][1]=Math.min(n[0][1],o[0][1]),n[1][0]=Math.max(n[1][0],o[1][0]),n[1][1]=Math.max(n[1][1],o[1][1])):n=o)}}catch(YJ){i.e(YJ)}finally{i.f()}return n}var $R=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"toString",value:function(){var e="[";if(gR.printRowMajor){e+="row-major:";for(var t=0;t<this.RANK;++t)for(var n=0;n<this.RANK;++n)e+=" ".concat(this[n*this.RANK+t])}else{e+="column-major:";for(var r=0;r<this.ELEMENTS;++r)e+=" ".concat(this[r])}return e+="]"}},{key:"getElementIndex",value:function(e,t){return t*this.RANK+e}},{key:"getElement",value:function(e,t){return this[t*this.RANK+e]}},{key:"setElement",value:function(e,t,n){return this[t*this.RANK+e]=xR(n),this}},{key:"getColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),n=e*this.RANK,r=0;r<this.RANK;++r)t[r]=this[n+r];return t}},{key:"setColumn",value:function(e,t){for(var n=e*this.RANK,r=0;r<this.RANK;++r)this[n+r]=t[r];return this}}]),n}(SR);function JR(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],f=t[10],d=t[11],p=t[12],v=t[13],g=t[14],m=t[15],y=n*s-r*a,b=n*u-i*a,_=n*l-o*a,w=r*u-i*s,E=r*l-o*s,S=i*l-o*u,x=c*v-h*p,M=c*g-f*p,k=c*m-d*p,A=h*g-f*v,T=h*m-d*v,P=f*m-d*g,O=y*P-b*T+_*A+w*k-E*M+S*x;return O?(O=1/O,e[0]=(s*P-u*T+l*A)*O,e[1]=(i*T-r*P-o*A)*O,e[2]=(v*S-g*E+m*w)*O,e[3]=(f*E-h*S-d*w)*O,e[4]=(u*k-a*P-l*M)*O,e[5]=(n*P-i*k+o*M)*O,e[6]=(g*_-p*S-m*b)*O,e[7]=(c*S-f*_+d*b)*O,e[8]=(a*T-s*k+l*x)*O,e[9]=(r*k-n*T-o*x)*O,e[10]=(p*E-v*_+m*y)*O,e[11]=(h*_-c*E-d*y)*O,e[12]=(s*M-a*A-u*x)*O,e[13]=(n*A-r*M+i*x)*O,e[14]=(v*b-p*w-g*y)*O,e[15]=(c*w-h*b+f*y)*O,e):null}function QR(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=t[9],d=t[10],p=t[11],v=t[12],g=t[13],m=t[14],y=t[15],b=n[0],_=n[1],w=n[2],E=n[3];return e[0]=b*r+_*s+w*h+E*v,e[1]=b*i+_*u+w*f+E*g,e[2]=b*o+_*l+w*d+E*m,e[3]=b*a+_*c+w*p+E*y,b=n[4],_=n[5],w=n[6],E=n[7],e[4]=b*r+_*s+w*h+E*v,e[5]=b*i+_*u+w*f+E*g,e[6]=b*o+_*l+w*d+E*m,e[7]=b*a+_*c+w*p+E*y,b=n[8],_=n[9],w=n[10],E=n[11],e[8]=b*r+_*s+w*h+E*v,e[9]=b*i+_*u+w*f+E*g,e[10]=b*o+_*l+w*d+E*m,e[11]=b*a+_*c+w*p+E*y,b=n[12],_=n[13],w=n[14],E=n[15],e[12]=b*r+_*s+w*h+E*v,e[13]=b*i+_*u+w*f+E*g,e[14]=b*o+_*l+w*d+E*m,e[15]=b*a+_*c+w*p+E*y,e}function eL(e,t,n){var r,i,o,a,s,u,l,c,h,f,d,p,v=n[0],g=n[1],m=n[2];return t===e?(e[12]=t[0]*v+t[4]*g+t[8]*m+t[12],e[13]=t[1]*v+t[5]*g+t[9]*m+t[13],e[14]=t[2]*v+t[6]*g+t[10]*m+t[14],e[15]=t[3]*v+t[7]*g+t[11]*m+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=t[9],d=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=h,e[9]=f,e[10]=d,e[11]=p,e[12]=r*v+s*g+h*m+t[12],e[13]=i*v+u*g+f*m+t[13],e[14]=o*v+l*g+d*m+t[14],e[15]=a*v+c*g+p*m+t[15]),e}function tL(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function nL(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+h*r,e[7]=u*i+f*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=h*i-s*r,e[11]=f*i-u*r,e}function rL(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],h=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*r,e[1]=a*i+c*r,e[2]=s*i+h*r,e[3]=u*i+f*r,e[4]=l*i-o*r,e[5]=c*i-a*r,e[6]=h*i-s*r,e[7]=f*i-u*r,e}function iL(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(u,l,c),e}var oL=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e};var aL=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e};function sL(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function uL(e,t){return e[0]=-t[0],e[1]=-t[1],e}function lL(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}!function(){var e=function(){var e=new PR(2);return PR!=Float32Array&&(e[0]=0,e[1]=0),e}()}();function cL(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function hL(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.hypot(t,n,r,i)}function fL(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function dL(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}var pL;!function(){var e=function(){var e=new PR(4);return PR!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}();!function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL0ROW3=3]="COL0ROW3",e[e.COL1ROW0=4]="COL1ROW0",e[e.COL1ROW1=5]="COL1ROW1",e[e.COL1ROW2=6]="COL1ROW2",e[e.COL1ROW3=7]="COL1ROW3",e[e.COL2ROW0=8]="COL2ROW0",e[e.COL2ROW1=9]="COL2ROW1",e[e.COL2ROW2=10]="COL2ROW2",e[e.COL2ROW3=11]="COL2ROW3",e[e.COL3ROW0=12]="COL3ROW0",e[e.COL3ROW1=13]="COL3ROW1",e[e.COL3ROW2=14]="COL3ROW2",e[e.COL3ROW3=15]="COL3ROW3"}(pL||(pL={}));var vL,gL,mL=45*Math.PI/180,yL=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),bL=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){var r;return(0,Vt.Z)(this,n),r=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?r.copy(e):r.identity(),r}return(0,Ht.Z)(n,[{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}},{key:"INDICES",get:function(){return pL}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,t,n,r,i,o,a,s,u,l,c,h,f,d,p,v){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=l,this[10]=c,this[11]=h,this[12]=f,this[13]=d,this[14]=p,this[15]=v,this.check()}},{key:"setRowMajor",value:function(e,t,n,r,i,o,a,s,u,l,c,h,f,d,p,v){return this[0]=e,this[1]=i,this[2]=u,this[3]=f,this[4]=t,this[5]=o,this[6]=l,this[7]=d,this[8]=n,this[9]=a,this[10]=c,this[11]=p,this[12]=r,this[13]=s,this[14]=h,this[15]=v,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(yL)}},{key:"fromObject",value:function(e){return this.check()}},{key:"fromQuaternion",value:function(e){return function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,f=i*a,d=i*s,p=i*u,v=o*a,g=o*s,m=o*u;e[0]=1-h-p,e[1]=c+m,e[2]=f-g,e[3]=0,e[4]=c-m,e[5]=1-l-p,e[6]=d+v,e[7]=0,e[8]=f+g,e[9]=d-v,e[10]=1-l-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(this,e),this.check()}},{key:"frustum",value:function(e){var t=e.left,n=e.right,r=e.bottom,i=e.top,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;return u===1/0?function(e,t,n,r,i,o){var a=2*o/(n-t),s=2*o/(i-r),u=(n+t)/(n-t),l=(i+r)/(i-r),c=-1,h=-1,f=-2*o;e[0]=a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=u,e[9]=l,e[10]=c,e[11]=h,e[12]=0,e[13]=0,e[14]=f,e[15]=0}(this,t,n,r,i,a):function(e,t,n,r,i,o,a){var s=1/(n-t),u=1/(i-r),l=1/(o-a);e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(a+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*l,e[15]=0}(this,t,n,r,i,a,u),this.check()}},{key:"lookAt",value:function(e){var t=e.eye,n=e.center,r=void 0===n?[0,0,0]:n,i=e.up;return function(e,t,n,r){var i,o,a,s,u,l,c,h,f,d,p=t[0],v=t[1],g=t[2],m=r[0],y=r[1],b=r[2],_=n[0],w=n[1],E=n[2];Math.abs(p-_)<TR&&Math.abs(v-w)<TR&&Math.abs(g-E)<TR?function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(e):(c=p-_,h=v-w,f=g-E,i=y*(f*=d=1/Math.hypot(c,h,f))-b*(h*=d),o=b*(c*=d)-m*f,a=m*h-y*c,(d=Math.hypot(i,o,a))?(i*=d=1/d,o*=d,a*=d):(i=0,o=0,a=0),s=h*a-f*o,u=f*i-c*a,l=c*o-h*i,(d=Math.hypot(s,u,l))?(s*=d=1/d,u*=d,l*=d):(s=0,u=0,l=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=o,e[5]=u,e[6]=h,e[7]=0,e[8]=a,e[9]=l,e[10]=f,e[11]=0,e[12]=-(i*p+o*v+a*g),e[13]=-(s*p+u*v+l*g),e[14]=-(c*p+h*v+f*g),e[15]=1)}(this,t,r,void 0===i?[0,1,0]:i),this.check()}},{key:"ortho",value:function(e){var t=e.left,n=e.right,r=e.bottom,i=e.top,o=e.near,a=void 0===o?.1:o,s=e.far;return aL(this,t,n,r,i,a,void 0===s?500:s),this.check()}},{key:"orthographic",value:function(e){var t=e.fovy,n=void 0===t?mL:t,r=e.aspect,i=void 0===r?1:r,o=e.focalDistance,a=void 0===o?1:o,s=e.near,u=void 0===s?.1:s,l=e.far,c=void 0===l?500:l;_L(n);var h=n/2,f=a*Math.tan(h),d=f*i;return this.ortho({left:-d,right:d,bottom:-f,top:f,near:u,far:c})}},{key:"perspective",value:function(e){var t=e.fovy,n=void 0===t?45*Math.PI/180:t,r=e.aspect,i=void 0===r?1:r,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;return _L(n),oL(this,n,i,a,u),this.check()}},{key:"determinant",value:function(){return function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],v=e[14],g=e[15];return(t*a-n*o)*(h*g-f*v)-(t*s-r*o)*(c*g-f*p)+(t*u-i*o)*(c*v-h*p)+(n*s-r*a)*(l*g-f*d)-(n*u-i*a)*(l*v-h*d)+(r*u-i*s)*(l*p-c*d)}(this)}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];var n=this.getScale(t),r=1/n[0],i=1/n[1],o=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*i,e[6]=this[6]*o,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*i,e[10]=this[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];var n=this.getScale(t),r=1/n[0],i=1/n[1],o=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=this[4]*r,e[4]=this[5]*i,e[5]=this[6]*o,e[6]=this[8]*r,e[7]=this[9]*i,e[8]=this[10]*o,e}},{key:"transpose",value:function(){return function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(this,this),this.check()}},{key:"invert",value:function(){return JR(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return QR(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return QR(this,this,e),this.check()}},{key:"rotateX",value:function(e){return nL(this,this,e),this.check()}},{key:"rotateY",value:function(e){return function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],h=t[10],f=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-l*r,e[1]=a*i-c*r,e[2]=s*i-h*r,e[3]=u*i-f*r,e[8]=o*r+l*i,e[9]=a*r+c*i,e[10]=s*r+h*i,e[11]=u*r+f*i}(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return rL(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}},{key:"rotateAxis",value:function(e,t){return function(e,t,n,r){var i,o,a,s,u,l,c,h,f,d,p,v,g,m,y,b,_,w,E,S,x,M,k,A,T=r[0],P=r[1],O=r[2],C=Math.hypot(T,P,O);C<TR||(T*=C=1/C,P*=C,O*=C,i=Math.sin(n),a=1-(o=Math.cos(n)),s=t[0],u=t[1],l=t[2],c=t[3],h=t[4],f=t[5],d=t[6],p=t[7],v=t[8],g=t[9],m=t[10],y=t[11],b=T*T*a+o,_=P*T*a+O*i,w=O*T*a-P*i,E=T*P*a-O*i,S=P*P*a+o,x=O*P*a+T*i,M=T*O*a+P*i,k=P*O*a-T*i,A=O*O*a+o,e[0]=s*b+h*_+v*w,e[1]=u*b+f*_+g*w,e[2]=l*b+d*_+m*w,e[3]=c*b+p*_+y*w,e[4]=s*E+h*S+v*x,e[5]=u*E+f*S+g*x,e[6]=l*E+d*S+m*x,e[7]=c*E+p*S+y*x,e[8]=s*M+h*k+v*A,e[9]=u*M+f*k+g*A,e[10]=l*M+d*k+m*A,e[11]=c*M+p*k+y*A,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]))}(this,this,e,t),this.check()}},{key:"scale",value:function(e){return tL(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}},{key:"translate",value:function(e){return eL(this,this,e),this.check()}},{key:"transform",value:function(e,t){return 4===e.length?(MR(t=dL(t||[-0,-0,-0,-0],e,this),4),t):this.transformAsPoint(e,t)}},{key:"transformAsPoint",value:function(e,t){var n;switch(e.length){case 2:n=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}(t||[-0,-0],e,this);break;case 3:n=IR(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return MR(n,e.length),n}},{key:"transformAsVector",value:function(e,t){var n;switch(e.length){case 2:n=function(e,t,n){var r=t[0],i=t[1],o=n[3]*r+n[7]*i||1;return e[0]=(n[0]*r+n[4]*i)/o,e[1]=(n[1]*r+n[5]*i)/o,e}(t||[-0,-0],e,this);break;case 3:n=ZR(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return MR(n,e.length),n}},{key:"transformPoint",value:function(e,t){return this.transformAsPoint(e,t)}},{key:"transformVector",value:function(e,t){return this.transformAsPoint(e,t)}},{key:"transformDirection",value:function(e,t){return this.transformAsVector(e,t)}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,n){return this.identity().translate([e,t,n])}}],[{key:"IDENTITY",get:function(){return function(){gL||(gL=new bL,Object.freeze(gL));return gL}()}},{key:"ZERO",get:function(){return function(){vL||(vL=new bL([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(vL));return vL}()}}]),n}($R);function _L(e){if(e>2*Math.PI)throw Error("expected radians")}function wL(e,t){var n=dL([],t,e);return cL(n,n,1/n[3]),n}function EL(e,t){var n=e%t;return n<0?t+n:n}function SL(e,t,n){return e<t?t:e>n?n:e}var xL=Math.log2||function(e){return Math.log(e)*Math.LOG2E};function ML(e,t){if(!e)throw new Error(t||"@math.gl/web-mercator: assertion failed.")}var kL=Math.PI,AL=kL/4,TL=kL/180,PL=180/kL,OL=512,CL=4003e4,RL=85.051129,LL=1.5;function IL(e){var t=v(e,2),n=t[0],r=t[1];ML(Number.isFinite(n)),ML(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");var i=r*TL;return[OL*(n*TL+kL)/(2*kL),OL*(kL+Math.log(Math.tan(AL+.5*i)))/(2*kL)]}function DL(e){var t=v(e,2),n=t[0],r=t[1],i=n/OL*(2*kL)-kL,o=2*(Math.atan(Math.exp(r/OL*(2*kL)-kL))-AL);return[i*PL,o*PL]}function jL(e){var t=e.latitude;ML(Number.isFinite(t));var n=Math.cos(t*TL);return function(e){return xL(e)}(CL*n)-9}function NL(e){var t=Math.cos(e*TL);return OL/CL/t}function BL(e){var t=e.latitude,n=e.longitude,r=e.highPrecision,i=void 0!==r&&r;ML(Number.isFinite(t)&&Number.isFinite(n));var o=OL,a=Math.cos(t*TL),s=o/360,u=s/a,l=o/CL/a,c={unitsPerMeter:[l,l,l],metersPerUnit:[1/l,1/l,1/l],unitsPerDegree:[s,u,l],degreesPerUnit:[1/s,1/u,1/l]};if(i){var h=TL*Math.tan(t*TL)/a,f=s*h/2,d=o/CL*h,p=d/u*l;c.unitsPerDegree2=[0,f,d],c.unitsPerMeter2=[p,0,p]}return c}function zL(e,t){var n=v(e,3),r=n[0],i=n[1],o=n[2],a=v(t,3),s=a[0],u=a[1],l=a[2],c=BL({longitude:r,latitude:i,highPrecision:!0}),h=c.unitsPerMeter,f=c.unitsPerMeter2,d=IL(e);d[0]+=s*(h[0]+f[0]*u),d[1]+=u*(h[1]+f[1]*u);var p=DL(d),g=(o||0)+(l||0);return Number.isFinite(o)||Number.isFinite(l)?[p[0],p[1],g]:p}function ZL(e){var t=e.width,n=e.height,r=e.altitude,i=e.pitch,o=void 0===i?0:i,a=e.offset,s=e.center,u=e.scale,l=e.nearZMultiplier,c=void 0===l?1:l,h=e.farZMultiplier,f=void 0===h?1:h,d=e.fovy,p=void 0===d?FL(LL):d;void 0!==r&&(p=FL(r));var v=p*TL,g=o*TL,m=UL(p),y=m;s&&(y+=s[2]*u/Math.cos(g)/n);var b=v*(.5+(a?a[1]:0)/n),_=Math.sin(b)*y/Math.sin(SL(Math.PI/2-g-b,.01,Math.PI-.01)),w=Math.sin(g)*_+y,E=10*y;return{fov:v,aspect:t/n,focalDistance:m,near:c,far:Math.min(w*f,E)}}function FL(e){return 2*Math.atan(.5/e)*PL}function UL(e){return.5/Math.tan(.5*e*TL)}function KL(e,t){var n=v(e,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o;return ML(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a)),wL(t,[r,i,a,1])}function VL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=v(e,3),i=r[0],o=r[1],a=r[2];if(ML(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a))return wL(t,[i,o,a,1]);var s=wL(t,[i,o,0,1]),u=wL(t,[i,o,1,1]),l=s[2],c=u[2];return lL([],s,u,l===c?0:((n||0)-l)/(c-l))}function HL(e){var t=e.width,n=e.height,r=e.bounds,i=e.minExtent,o=void 0===i?0:i,a=e.maxZoom,s=void 0===a?24:a,u=e.offset,l=void 0===u?[0,0]:u,c=v(r,2),h=v(c[0],2),f=h[0],d=h[1],p=v(c[1],2),g=p[0],m=p[1],y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("number"===typeof e)return{top:e,bottom:e,left:e,right:e};return ML(Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.left)&&Number.isFinite(e.right)),e}(e.padding),b=IL([f,SL(m,-85.051129,RL)]),_=IL([g,SL(d,-85.051129,RL)]),w=[Math.max(Math.abs(_[0]-b[0]),o),Math.max(Math.abs(_[1]-b[1]),o)],E=[t-y.left-y.right-2*Math.abs(l[0]),n-y.top-y.bottom-2*Math.abs(l[1])];ML(E[0]>0&&E[1]>0);var S=E[0]/w[0],x=E[1]/w[1],M=(y.right-y.left)/2/S,k=(y.top-y.bottom)/2/x,A=DL([(_[0]+b[0])/2+M,(_[1]+b[1])/2+k]),T=Math.min(s,xL(Math.abs(Math.min(S,x))));return ML(Number.isFinite(T)),{longitude:A[0],latitude:A[1],zoom:T}}var WL=Math.PI/180;function GL(e,t,n){var r=e.pixelUnprojectionMatrix,i=wL(r,[t,0,1,1]),o=wL(r,[t,e.height,1,1]),a=DL(lL([],i,o,(n*e.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2])));return a.push(n),a}var qL={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(qL,"IDENTITY",{get:function(){return EP.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0}});var YL={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},XL={common:0,meters:1,pixels:2},$L={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},JL=Math.PI/180,QL=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],eI=[0,0,0],tI={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};var nI=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Vt.Z)(this,e),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"x",void 0),(0,re.Z)(this,"y",void 0),(0,re.Z)(this,"width",void 0),(0,re.Z)(this,"height",void 0),(0,re.Z)(this,"padding",void 0),(0,re.Z)(this,"isGeospatial",void 0),(0,re.Z)(this,"zoom",void 0),(0,re.Z)(this,"focalDistance",void 0),(0,re.Z)(this,"position",void 0),(0,re.Z)(this,"modelMatrix",void 0),(0,re.Z)(this,"distanceScales",void 0),(0,re.Z)(this,"scale",void 0),(0,re.Z)(this,"center",void 0),(0,re.Z)(this,"cameraPosition",void 0),(0,re.Z)(this,"projectionMatrix",void 0),(0,re.Z)(this,"viewMatrix",void 0),(0,re.Z)(this,"viewMatrixUncentered",void 0),(0,re.Z)(this,"viewMatrixInverse",void 0),(0,re.Z)(this,"viewProjectionMatrix",void 0),(0,re.Z)(this,"pixelProjectionMatrix",void 0),(0,re.Z)(this,"pixelUnprojectionMatrix",void 0),(0,re.Z)(this,"resolution",void 0),(0,re.Z)(this,"_frustumPlanes",{}),this.id=t.id||this.constructor.displayName||"viewport",this.x=t.x||0,this.y=t.y||0,this.width=t.width||1,this.height=t.height||1,this.zoom=t.zoom||0,this.padding=t.padding,this.distanceScales=t.distanceScales||tI,this.focalDistance=t.focalDistance||1,this.position=t.position||eI,this.modelMatrix=t.modelMatrix||null;var n=t.longitude,r=t.latitude;this.isGeospatial=Number.isFinite(r)&&Number.isFinite(n),this._initProps(t),this._initMatrices(t),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return(0,Ht.Z)(e,[{key:"subViewports",get:function(){return null}},{key:"metersPerPixel",get:function(){return this.distanceScales.metersPerUnit[2]/this.scale}},{key:"projectionMode",get:function(){return this.isGeospatial?this.zoom<12?YL.WEB_MERCATOR:YL.WEB_MERCATOR_AUTO_OFFSET:YL.IDENTITY}},{key:"equals",value:function(t){return t instanceof e&&(this===t||t.width===this.width&&t.height===this.height&&t.scale===this.scale&&wR(t.projectionMatrix,this.projectionMatrix)&&wR(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).topLeft,n=void 0===t||t,r=KL(this.projectPosition(e),this.pixelProjectionMatrix),i=v(r,2),o=i[0],a=i[1],s=n?a:this.height-a;return 2===e.length?[o,s]:[o,s,r[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=t.targetZ,o=v(e,3),a=o[0],s=o[1],u=o[2],l=r?s:this.height-s,c=i&&i*this.distanceScales.unitsPerMeter[2],h=VL([a,l,u],this.pixelUnprojectionMatrix,c),f=v(this.unprojectPosition(h),3),d=f[0],p=f[1],g=f[2];return Number.isFinite(u)?[d,p,g]:Number.isFinite(i)?[d,p,i]:[d,p]}},{key:"projectPosition",value:function(e){var t=v(this.projectFlat(e),2);return[t[0],t[1],(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(e){var t=v(this.unprojectFlat(e),2);return[t[0],t[1],(e[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(e){if(this.isGeospatial){var t=IL(e);return t[1]=bR(t[1],-318,830),t}return e}},{key:"unprojectFlat",value:function(e){return this.isGeospatial?DL(e):e}},{key:"getBounds",value:function(){var e={targetZ:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).z||0},t=this.unproject([0,0],e),n=this.unproject([this.width,0],e),r=this.unproject([0,this.height],e),i=this.unproject([this.width,this.height],e);return[Math.min(t[0],n[0],r[0],i[0]),Math.min(t[1],n[1],r[1],i[1]),Math.max(t[0],n[0],r[0],i[0]),Math.max(t[1],n[1],r[1],i[1])]}},{key:"getDistanceScales",value:function(e){return e?BL({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}},{key:"containsPixel",value:function(e){var t=e.x,n=e.y,r=e.width,i=void 0===r?1:r,o=e.height,a=void 0===o?1:o;return t<this.x+this.width&&this.x<t+i&&n<this.y+this.height&&this.y<n+a}},{key:"getFrustumPlanes",value:function(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,{left:GR((e=this.viewProjectionMatrix)[3]+e[0],e[7]+e[4],e[11]+e[8],e[15]+e[12]),right:GR(e[3]-e[0],e[7]-e[4],e[11]-e[8],e[15]-e[12]),bottom:GR(e[3]+e[1],e[7]+e[5],e[11]+e[9],e[15]+e[13]),top:GR(e[3]-e[1],e[7]-e[5],e[11]-e[9],e[15]-e[13]),near:GR(e[3]+e[2],e[7]+e[6],e[11]+e[10],e[15]+e[14]),far:GR(e[3]-e[2],e[7]-e[6],e[11]-e[10],e[15]-e[14])}),this._frustumPlanes;var e}},{key:"panByPosition",value:function(e,t){return null}},{key:"_initProps",value:function(e){var t=e.longitude,n=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=jL({latitude:n})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||BL({latitude:n,longitude:t}));var r=Math.pow(2,this.zoom);this.scale=r;var i=e.position,o=e.modelMatrix,a=eI;if(i&&(a=o?new bL(o).transformAsVector(i,[]):i),this.isGeospatial){var s=this.projectPosition([t,n,0]);this.center=new VR(a).scale(this.distanceScales.unitsPerMeter).add(s)}else this.center=this.projectPosition(a)}},{key:"_initMatrices",value:function(e){var t=e.viewMatrix,n=void 0===t?QL:t,r=e.projectionMatrix,i=void 0===r?null:r,o=e.orthographic,a=void 0!==o&&o,s=e.fovyRadians,u=e.fovy,l=void 0===u?75:u,c=e.near,h=void 0===c?.1:c,f=e.far,d=void 0===f?1e3:f,p=e.padding,v=void 0===p?null:p,g=e.focalDistance,m=void 0===g?1:g;this.viewMatrixUncentered=n,this.viewMatrix=(new bL).multiplyRight(n).translate(new VR(this.center).negate()),this.projectionMatrix=i||function(e){var t=e.width,n=e.height,r=e.orthographic,i=e.fovyRadians,o=e.focalDistance,a=e.padding,s=e.near,u=e.far,l=t/n,c=r?(new bL).orthographic({fovy:i,aspect:l,focalDistance:o,near:s,far:u}):(new bL).perspective({fovy:i,aspect:l,near:s,far:u});if(a){var h=a.left,f=void 0===h?0:h,d=a.right,p=void 0===d?0:d,v=a.top,g=void 0===v?0:v,m=a.bottom,y=void 0===m?0:m,b=bR((f+t-p)/2,0,t)-t/2,_=bR((g+n-y)/2,0,n)-n/2;c[8]-=2*b/t,c[9]+=2*_/n}return c}({width:this.width,height:this.height,orthographic:a,fovyRadians:s||l*JL,focalDistance:m,padding:v,near:h,far:d});var y,b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];QR(b,b,this.projectionMatrix),QR(b,b,this.viewMatrix),this.viewProjectionMatrix=b,this.viewMatrixInverse=JR([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=[(y=this.viewMatrixInverse)[12],y[13],y[14]];var _=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];tL(_,_,[this.width/2,-this.height/2,1]),eL(_,_,[1,-1,0]),QR(w,_,this.viewProjectionMatrix),this.pixelProjectionMatrix=w,this.pixelUnprojectionMatrix=JR([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||EP.warn("Pixel project matrix not invertible")()}}]),e}();(0,re.Z)(nI,"displayName","Viewport");var rI="vs",iI="fs";function oI(e,t){if(!e)throw new Error(t||"shadertools: assertion failed.")}var aI={number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},array:{validate:function(e,t){return Array.isArray(e)||ArrayBuffer.isView(e)}}};function sI(e){var t=uI(e);return"object"===t?e?"type"in e?Object.assign({},e,aI[e.type]):"value"in e?(t=uI(e.value),Object.assign({type:t},e,aI[t])):{type:"object",value:e}:{type:"object",value:null}:Object.assign({type:t,value:e},aI[t])}function uI(e){return Array.isArray(e)||ArrayBuffer.isView(e)?"array":typeof e}var lI=function(){function e(t){(0,Vt.Z)(this,e);var n=t.name,r=t.vs,i=t.fs,o=t.dependencies,a=void 0===o?[]:o,s=t.uniforms,u=t.getUniforms,l=t.deprecations,c=void 0===l?[]:l,h=t.defines,f=void 0===h?{}:h,d=t.inject,p=void 0===d?{}:d,v=t.vertexShader,g=t.fragmentShader;oI("string"===typeof n),this.name=n,this.vs=r||v,this.fs=i||g,this.getModuleUniforms=u,this.dependencies=a,this.deprecations=this._parseDeprecationDefinitions(c),this.defines=f,this.injections=function(e){var t={vs:{},fs:{}};for(var n in e){var r=e[n];"string"===typeof r&&(r={order:0,injection:r}),t[n.slice(0,2)][n]=r}return t}(p),s&&(this.uniforms=function(e){var t={};for(var n in e){var r=sI(e[n]);t[n]=r}return t}(s))}return(0,Ht.Z)(e,[{key:"getModuleSource",value:function(e){var t;switch(e){case"vs":t=this.vs||"";break;case"fs":t=this.fs||"";break;default:oI(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(t,"// END MODULE_").concat(this.name,"\n\n")}},{key:"getUniforms",value:function(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}},{key:"getDefines",value:function(){return this.defines}},{key:"checkDeprecations",value:function(e,t){this.deprecations.forEach((function(n){n.regex.test(e)&&(n.deprecated?t.deprecated(n.old,n.new)():t.removed(n.old,n.new)())}))}},{key:"_parseDeprecationDefinitions",value:function(e){return e.forEach((function(e){if("function"===e.type)e.regex=new RegExp("\\b".concat(e.old,"\\("));else e.regex=new RegExp("".concat(e.type," ").concat(e.old,";"))})),e}},{key:"_defaultGetUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=this.uniforms;for(var r in n){var i=n[r];r in e&&!i.private?(i.validate&&oI(i.validate(e[r],i),"".concat(this.name,": invalid ").concat(r)),t[r]=e[r]):t[r]=i.value}return t}}]),e}();function cI(e){return hI(dI(e))}function hI(e){var t={},n={};return fI({modules:e,level:0,moduleMap:t,moduleDepth:n}),Object.keys(n).sort((function(e,t){return n[t]-n[e]})).map((function(e){return t[e]}))}function fI(e){var t=e.modules,n=e.level,r=e.moduleMap,i=e.moduleDepth;if(n>=5)throw new Error("Possible loop in shader dependency graph");var o,a=gx(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;r[s.name]=s,(void 0===i[s.name]||i[s.name]<n)&&(i[s.name]=n)}}catch(YJ){a.e(YJ)}finally{a.f()}var u,l=gx(t);try{for(l.s();!(u=l.n()).done;){var c=u.value;c.dependencies&&fI({modules:c.dependencies,level:n+1,moduleMap:r,moduleDepth:i})}}catch(YJ){l.e(YJ)}finally{l.f()}}function dI(e,t){return e.map((function(e){return e instanceof lI||(oI("string"!==typeof e,"Shader module use by name is deprecated. Import shader module '".concat(e,"' and use it directly.")),oI(e.name,"shader module has no name"),(e=new lI(e)).dependencies=dI(e.dependencies)),e}))}var pI=7936,vI=7937,gI=7938,mI=35724,yI={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},bI={};Object.keys(yI).forEach((function(e){bI[e]=e}));var _I={};function wI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=yI[t];if(oI(r,t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="undefined"!==typeof window&&window.navigator||{},n=e.userAgent||t.userAgent||"",r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i}(n))return!0;if(t in _I)return _I[t];var i=r[0],o=n.behavior||"enable",a="#extension GL_".concat(i," : ").concat(o,"\nvoid main(void) {}"),s=e.createShader(35633);e.shaderSource(s,a),e.compileShader(s);var u=e.getShaderParameter(s,35713);return e.deleteShader(s),_I[t]=u,u}function EI(e,t){var n=yI[t];oI(n,t);var r=function(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}(e)&&n[1]||n[0],i="string"===typeof r?Boolean(e.getExtension(r)):r;return oI(!1===i||!0===i),i}function SI(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return EI(e,t)}))}function xI(e){var t=function(e){var t=e.getExtension("WEBGL_debug_renderer_info"),n=e.getParameter(t&&t.UNMASKED_VENDOR_WEBGL||pI),r=e.getParameter(t&&t.UNMASKED_RENDERER_WEBGL||vI);return{gpuVendor:function(e,t){return e.match(/NVIDIA/i)||t.match(/NVIDIA/i)?"NVIDIA":e.match(/INTEL/i)||t.match(/INTEL/i)?"INTEL":e.match(/AMD/i)||t.match(/AMD/i)||e.match(/ATI/i)||t.match(/ATI/i)?"AMD":"UNKNOWN GPU"}(n,r),vendor:n,renderer:r,version:e.getParameter(gI),shadingLanguageVersion:e.getParameter(mI)}}(e);switch(t.gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}var MI,kI=(MI={},(0,re.Z)(MI,rI,"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n"),(0,re.Z)(MI,iI,"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"),MI),AI="__LUMA_INJECT_DECLARATIONS__",TI=/void\s+main\s*\([^)]*\)\s*\{\n?/,PI=/}\n?[^{}]*$/,OI=[];function CI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t===rI,o=function(){var t=n[a];t.sort((function(e,t){return e.order-t.order})),OI.length=t.length;for(var r=0,o=t.length;r<o;++r)OI[r]=t[r].injection;var s="".concat(OI.join("\n"),"\n");switch(a){case"vs:#decl":i&&(e=e.replace(AI,s));break;case"vs:#main-start":i&&(e=e.replace(TI,(function(e){return e+s})));break;case"vs:#main-end":i&&(e=e.replace(PI,(function(e){return s+e})));break;case"fs:#decl":i||(e=e.replace(AI,s));break;case"fs:#main-start":i||(e=e.replace(TI,(function(e){return e+s})));break;case"fs:#main-end":i||(e=e.replace(PI,(function(e){return s+e})));break;default:e=e.replace(a,(function(e){return e+s}))}};for(var a in n)o();return e=e.replace(AI,""),r&&(e=e.replace(/\}\s*$/,(function(e){return e+kI[t]}))),e}function RI(e){var t={};return oI(Array.isArray(e)&&e.length>1),e.forEach((function(e){for(var n in e)t[n]=t[n]?"".concat(t[n],"\n").concat(e[n]):e[n]})),t}function LI(e){return new RegExp("\\b".concat(e,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}var II,DI=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],jI=[].concat(DI,[[LI("attribute"),"in $1"],[LI("varying"),"out $1"]]),NI=[].concat(DI,[[LI("varying"),"in $1"]]),BI=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],zI=[].concat(BI,[[LI("in"),"attribute $1"],[LI("out"),"varying $1"]]),ZI=[].concat(BI,[[LI("in"),"varying $1"]]),FI="gl_FragColor",UI=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,KI=/void\s+main\s*\([^)]*\)\s*\{\n?/;function VI(e,t,n){switch(t){case 300:return n?HI(e,jI):function(e){e=HI(e,NI);var t=e.match(UI);if(t){var n=t[1];e=e.replace(new RegExp("\\b".concat(FI,"\\b"),"g"),n)}else{var r="fragmentColor";e=e.replace(KI,(function(e){return"out vec4 ".concat(r,";\n").concat(e)})).replace(new RegExp("\\b".concat(FI,"\\b"),"g"),r)}return e}(e);case 100:return n?HI(e,zI):function(e){e=HI(e,ZI);var t=e.match(UI);if(t){var n=t[1];e=e.replace(UI,"").replace(new RegExp("\\b".concat(n,"\\b"),"g"),FI)}return e}(e);default:throw new Error("unknown GLSL version ".concat(t))}}function HI(e,t){var n,r=gx(t);try{for(r.s();!(n=r.n()).done;){var i=v(n.value,2),o=i[0],a=i[1];e=e.replace(o,a)}}catch(YJ){r.e(YJ)}finally{r.f()}return e}var WI,GI="\n\n".concat(AI,"\n\n"),qI=(II={},(0,re.Z)(II,rI,"vertex"),(0,re.Z)(II,iI,"fragment"),II),YI="precision highp float;\n\n";function XI(e,t){var n=t.id,r=t.source,i=t.type,o=t.modules,a=t.defines,s=void 0===a?{}:a,u=t.hookFunctions,l=void 0===u?[]:u,c=t.inject,h=void 0===c?{}:c,f=t.transpileToGLSL100,d=void 0!==f&&f,p=t.prologue,g=void 0===p||p,m=t.log;oI("string"===typeof r,"shader source must be a string");var y=i===rI,b=r.split("\n"),_=100,w="",E=r;0===b[0].indexOf("#version ")?(_=300,w=b[0],E=b.slice(1).join("\n")):w="#version ".concat(_);var S={};o.forEach((function(e){Object.assign(S,e.getDefines())})),Object.assign(S,s);var x=g?"".concat(w,"\n").concat(function(e){var t=e.id,n=e.source,r=e.type,i=t&&"string"===typeof t&&-1===n.indexOf("SHADER_NAME");return i?"\n#define SHADER_NAME ".concat(t,"_").concat(qI[r],"\n\n"):""}({id:n,source:r,type:i}),"\n").concat(function(e){var t=e.type;return"\n#define SHADER_TYPE_".concat(qI[t].toUpperCase(),"\n")}({type:i}),"\n").concat(xI(e),"\n").concat(function(e,t,n){var r="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return SI(e,bI.GLSL_FRAG_DEPTH)&&(r+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),SI(e,bI.GLSL_DERIVATIVES)&&wI(e,bI.GLSL_DERIVATIVES)&&(r+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),SI(e,bI.GLSL_FRAG_DATA)&&wI(e,bI.GLSL_FRAG_DATA,{behavior:"require"})&&(r+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),SI(e,bI.GLSL_TEXTURE_LOD)&&(r+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),r}(e),"\n").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n="";for(var r in e){0===t&&(n+="\n// APPLICATION DEFINES\n"),t++;var i=e[r];(i||Number.isFinite(i))&&(n+="#define ".concat(r.toUpperCase()," ").concat(e[r],"\n"))}0===t&&(n+="\n");return n}(S),"\n").concat(y?"":YI,"\n"):"".concat(w,"\n"),M=function(e){var t={vs:{},fs:{}};return e.forEach((function(e){var n;"string"!==typeof e?e=(n=e).hook:n={};var r=v((e=e.trim()).split(":"),2),i=r[0],o=r[1],a=e.replace(/\(.+/,"");t[i][a]=Object.assign(n,{signature:o})})),t}(l),k={},A={},T={};for(var P in h){var O="string"===typeof h[P]?{injection:h[P],order:0}:h[P],C=P.match(/^(v|f)s:(#)?([\w-]+)$/);if(C){var R=C[2],L=C[3];R?"decl"===L?A[P]=[O]:T[P]=[O]:k[P]=[O]}else T[P]=[O]}var I,D=gx(o);try{for(D.s();!(I=D.n()).done;){var j=I.value;m&&j.checkDeprecations(E,m),x+=j.getModuleSource(i,_);var N=j.injections[i];for(var B in N){var z=B.match(/^(v|f)s:#([\w-]+)$/);if(z){var Z="decl"===z[2]?A:T;Z[B]=Z[B]||[],Z[B].push(N[B])}else k[B]=k[B]||[],k[B].push(N[B])}}}catch(YJ){D.e(YJ)}finally{D.f()}return x=CI(x+=GI,i,A),x+=function(e,t){var n="";for(var r in e){var i=e[r];if(n+="void ".concat(i.signature," {\n"),i.header&&(n+="  ".concat(i.header)),t[r]){var o=t[r];o.sort((function(e,t){return e.order-t.order}));var a,s=gx(o);try{for(s.s();!(a=s.n()).done;){var u=a.value;n+="  ".concat(u.injection,"\n")}}catch(YJ){s.e(YJ)}finally{s.f()}}i.footer&&(n+="  ".concat(i.footer)),n+="}\n"}return n}(M[i],k),x=VI(x=CI(x+=E,i,T),d?100:_,y)}function $I(e){return function(t){var n,r={},i=gx(e);try{for(i.s();!(n=i.n()).done;){var o=n.value.getUniforms(t,r);Object.assign(r,o)}}catch(YJ){i.e(YJ)}finally{i.f()}return r}}var JI=(WI={},(0,re.Z)(WI,5126,fD.bind(null,"uniform1fv",iD,1,dD)),(0,re.Z)(WI,35664,fD.bind(null,"uniform2fv",iD,2,dD)),(0,re.Z)(WI,35665,fD.bind(null,"uniform3fv",iD,3,dD)),(0,re.Z)(WI,35666,fD.bind(null,"uniform4fv",iD,4,dD)),(0,re.Z)(WI,5124,fD.bind(null,"uniform1iv",oD,1,dD)),(0,re.Z)(WI,35667,fD.bind(null,"uniform2iv",oD,2,dD)),(0,re.Z)(WI,35668,fD.bind(null,"uniform3iv",oD,3,dD)),(0,re.Z)(WI,35669,fD.bind(null,"uniform4iv",oD,4,dD)),(0,re.Z)(WI,35670,fD.bind(null,"uniform1iv",oD,1,dD)),(0,re.Z)(WI,35671,fD.bind(null,"uniform2iv",oD,2,dD)),(0,re.Z)(WI,35672,fD.bind(null,"uniform3iv",oD,3,dD)),(0,re.Z)(WI,35673,fD.bind(null,"uniform4iv",oD,4,dD)),(0,re.Z)(WI,35674,fD.bind(null,"uniformMatrix2fv",iD,4,pD)),(0,re.Z)(WI,35675,fD.bind(null,"uniformMatrix3fv",iD,9,pD)),(0,re.Z)(WI,35676,fD.bind(null,"uniformMatrix4fv",iD,16,pD)),(0,re.Z)(WI,35678,hD),(0,re.Z)(WI,35680,hD),(0,re.Z)(WI,5125,fD.bind(null,"uniform1uiv",aD,1,dD)),(0,re.Z)(WI,36294,fD.bind(null,"uniform2uiv",aD,2,dD)),(0,re.Z)(WI,36295,fD.bind(null,"uniform3uiv",aD,3,dD)),(0,re.Z)(WI,36296,fD.bind(null,"uniform4uiv",aD,4,dD)),(0,re.Z)(WI,35685,fD.bind(null,"uniformMatrix2x3fv",iD,6,pD)),(0,re.Z)(WI,35686,fD.bind(null,"uniformMatrix2x4fv",iD,8,pD)),(0,re.Z)(WI,35687,fD.bind(null,"uniformMatrix3x2fv",iD,6,pD)),(0,re.Z)(WI,35688,fD.bind(null,"uniformMatrix3x4fv",iD,12,pD)),(0,re.Z)(WI,35689,fD.bind(null,"uniformMatrix4x2fv",iD,8,pD)),(0,re.Z)(WI,35690,fD.bind(null,"uniformMatrix4x3fv",iD,12,pD)),(0,re.Z)(WI,35678,hD),(0,re.Z)(WI,35680,hD),(0,re.Z)(WI,35679,hD),(0,re.Z)(WI,35682,hD),(0,re.Z)(WI,36289,hD),(0,re.Z)(WI,36292,hD),(0,re.Z)(WI,36293,hD),(0,re.Z)(WI,36298,hD),(0,re.Z)(WI,36299,hD),(0,re.Z)(WI,36300,hD),(0,re.Z)(WI,36303,hD),(0,re.Z)(WI,36306,hD),(0,re.Z)(WI,36307,hD),(0,re.Z)(WI,36308,hD),(0,re.Z)(WI,36311,hD),WI),QI={},eD={},tD={},nD=[0];function rD(e,t,n,r){1===t&&"boolean"===typeof e&&(e=e?1:0),Number.isFinite(e)&&(nD[0]=e,e=nD);var i=e.length;if(i%t&&pk.warn("Uniform size should be multiples of ".concat(t),e)(),e instanceof n)return e;var o=r[i];o||(o=new n(i),r[i]=o);for(var a=0;a<i;a++)o[a]=e[a];return o}function iD(e,t){return rD(e,t,Float32Array,QI)}function oD(e,t){return rD(e,t,Int32Array,eD)}function aD(e,t){return rD(e,t,Uint32Array,tD)}function sD(e,t,n){var r=JI[n.type];if(!r)throw new Error("Unknown GLSL uniform type ".concat(n.type));return r().bind(null,e,t)}function uD(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};var t=e.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:t[2]||1,isArray:Boolean(t[2])}}function lD(e){return Array.isArray(e)||ArrayBuffer.isView(e)?function(e){if(0===e.length)return!1;for(var t=Math.min(e.length,16),n=0;n<t;++n)if(!Number.isFinite(e[n]))return!1;return!0}(e):!!isFinite(e)||(!0===e||!1===e||(e instanceof JA||(e instanceof oT||e instanceof jT&&Boolean(e.texture))))}function cD(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))if(e[t])for(var r=e[t],i=0,o=n.length;i<o;++i)r[i]=n[i];else e[t]=n.slice();else e[t]=n}function hD(){var e=null;return function(t,n,r){var i=e!==r;return i&&(t.uniform1i(n,r),e=r),i}}function fD(e,t,n,r){var i=null,o=null;return function(a,s,u){var l=t(u,n),c=l.length,h=!1;if(null===i)i=new Float32Array(c),o=c,h=!0;else{EA(o===c,"Uniform length cannot change.");for(var f=0;f<c;++f)if(l[f]!==i[f]){h=!0;break}}return h&&(r(a,e,s,l),i.set(l)),h}}function dD(e,t,n,r){e[t](n,r)}function pD(e,t,n,r){e[t](n,!1,r)}function vD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed",n=e.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return n?n[1]:t}var gD=35632,mD=35633;function yD(e,t,n,r){for(var i=e.split(/\r?\n/),o={},a={},s=r||vD(t)||"(unnamed)",u="".concat(function(e){switch(e){case gD:return"fragment";case mD:return"vertex";default:return"unknown type"}}(n)," shader ").concat(s),l=0;l<i.length;l++){var c=i[l];if(!(c.length<=1)){var h=c.split(":"),f=h[0],d=parseInt(h[2],10);if(isNaN(d))throw new Error("GLSL compilation error in ".concat(u,": ").concat(e));"WARNING"!==f?o[d]=c:a[d]=c}}var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",r=e.split(/\r?\n/),i=String(r.length+t-1).length;return r.map((function(e,r){var o=String(r+t),a=o.length;return _D(o,i-a)+n+e}))}(t);return{shaderName:u,errors:bD(o,p),warnings:bD(a,p)}}function bD(e,t){for(var n="",r=0;r<t.length;r++){var i=t[r];if((e[r+3]||e[r+2]||e[r+1])&&(n+="".concat(i,"\n"),e[r+1])){var o=e[r+1],a=o.split(":",3),s=a[0],u=parseInt(a[1],10)||0,l=o.substring(a.join(":").length+1).trim();n+=_D("^^^ ".concat(s,": ").concat(l,"\n\n"),u)}}return n}function _D(e,t){for(var n="",r=0;r<t;++r)n+=" ";return"".concat(n).concat(e)}var wD,ED=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e,t){var i;(0,Vt.Z)(this,r),_k(e),EA("string"===typeof t.source,"Shader: GLSL source code must be a JavaScript string");var o=vD(t.source,null)||t.id||kA("unnamed ".concat(r.getTypeName(t.shaderType)));return(i=n.call(this,e,{id:o})).shaderType=t.shaderType,i.source=t.source,i.initialize(t),i}return(0,Ht.Z)(r,[{key:t,get:function(){return"Shader"}},{key:"initialize",value:function(e){var t=e.source,n=vD(t,null);n&&(this.id=kA(n)),this._compile(t)}},{key:"getParameter",value:function(e){return this.gl.getShaderParameter(this.handle,e)}},{key:"toString",value:function(){return"".concat(r.getTypeName(this.shaderType),":").concat(this.id)}},{key:"getName",value:function(){return vD(this.source)||"unnamed-shader"}},{key:"getSource",value:function(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function(){var e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}},{key:"_compile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;if(e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){var t=yD(this.gl.getShaderInfoLog(this.handle),this.source,this.shaderType,this.id),n=t.shaderName,r=t.errors,i=t.warnings;throw pk.error("GLSL compilation errors in ".concat(n,"\n").concat(r))(),pk.warn("GLSL compilation warnings in ".concat(n,"\n").concat(i))(),new Error("GLSL compilation errors in ".concat(n))}}},{key:"_deleteHandle",value:function(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function(){return{type:this.getParameter(35663),source:this.getSource()}}}],[{key:"getTypeName",value:function(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return EA(!1),"unknown"}}}]),r}(CA,Symbol.toStringTag),SD=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e,t){return(0,Vt.Z)(this,r),"string"===typeof t&&(t={source:t}),n.call(this,e,Object.assign({},t,{shaderType:35633}))}return(0,Ht.Z)(r,[{key:t,get:function(){return"VertexShader"}},{key:"_createHandle",value:function(){return this.gl.createShader(35633)}}]),r}(ED,Symbol.toStringTag),xD=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e,t){return(0,Vt.Z)(this,r),"string"===typeof t&&(t={source:t}),n.call(this,e,Object.assign({},t,{shaderType:35632}))}return(0,Ht.Z)(r,[{key:t,get:function(){return"FragmentShader"}},{key:"_createHandle",value:function(){return this.gl.createShader(35632)}}]),r}(ED,Symbol.toStringTag),MD=5120,kD=5121,AD=5122,TD=5123,PD=0,OD=1,CD=2,RD=3,LD=4,ID=5,DD=6,jD=5126,ND=5124,BD=5125,zD=(wD={},(0,re.Z)(wD,jD,[jD,1,"float"]),(0,re.Z)(wD,35664,[jD,2,"vec2"]),(0,re.Z)(wD,35665,[jD,3,"vec3"]),(0,re.Z)(wD,35666,[jD,4,"vec4"]),(0,re.Z)(wD,ND,[ND,1,"int"]),(0,re.Z)(wD,35667,[ND,2,"ivec2"]),(0,re.Z)(wD,35668,[ND,3,"ivec3"]),(0,re.Z)(wD,35669,[ND,4,"ivec4"]),(0,re.Z)(wD,BD,[BD,1,"uint"]),(0,re.Z)(wD,36294,[BD,2,"uvec2"]),(0,re.Z)(wD,36295,[BD,3,"uvec3"]),(0,re.Z)(wD,36296,[BD,4,"uvec4"]),(0,re.Z)(wD,35670,[jD,1,"bool"]),(0,re.Z)(wD,35671,[jD,2,"bvec2"]),(0,re.Z)(wD,35672,[jD,3,"bvec3"]),(0,re.Z)(wD,35673,[jD,4,"bvec4"]),(0,re.Z)(wD,35674,[jD,8,"mat2"]),(0,re.Z)(wD,35685,[jD,8,"mat2x3"]),(0,re.Z)(wD,35686,[jD,8,"mat2x4"]),(0,re.Z)(wD,35675,[jD,12,"mat3"]),(0,re.Z)(wD,35687,[jD,12,"mat3x2"]),(0,re.Z)(wD,35688,[jD,12,"mat3x4"]),(0,re.Z)(wD,35676,[jD,16,"mat4"]),(0,re.Z)(wD,35689,[jD,16,"mat4x2"]),(0,re.Z)(wD,35690,[jD,16,"mat4x3"]),wD);function ZD(e){switch(e){case PD:return PD;case OD:case RD:case CD:return OD;case LD:case ID:case DD:return LD;default:return EA(!1),0}}function FD(e){var t=zD[e];if(!t)return null;var n=v(t,2);return{type:n[0],components:n[1]}}function UD(e,t){switch(e){case MD:case kD:case AD:case TD:e=jD}for(var n in zD){var r=v(zD[n],3),i=r[0],o=r[1],a=r[2];if(i===e&&o===t)return{glType:n,name:a}}return null}var KD=function(){function e(t){(0,Vt.Z)(this,e),this.id=t.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(t),this._readVaryingsFromProgram(t)}return(0,Ht.Z)(e,[{key:"getAttributeInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}},{key:"getAttributeLocation",value:function(e){var t=this.getAttributeInfo(e);return t?t.location:-1}},{key:"getAttributeAccessor",value:function(e){var t=this.getAttributeInfo(e);return t?t.accessor:null}},{key:"getVaryingInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}},{key:"getVaryingIndex",value:function(e){var t=this.getVaryingInfo();return t?t.location:-1}},{key:"getVaryingAccessor",value:function(e){var t=this.getVaryingInfo();return t?t.accessor:null}},{key:"_readAttributesFromProgram",value:function(e){for(var t=e.gl,n=t.getProgramParameter(e.handle,35721),r=0;r<n;r++){var i=t.getActiveAttrib(e.handle,r),o=i.name,a=i.type,s=i.size,u=t.getAttribLocation(e.handle,o);u>=0&&this._addAttribute(u,o,a,s)}this.attributeInfos.sort((function(e,t){return e.location-t.location}))}},{key:"_readVaryingsFromProgram",value:function(e){var t=e.gl;if(bk(t)){for(var n=t.getProgramParameter(e.handle,35971),r=0;r<n;r++){var i=t.getTransformFeedbackVarying(e.handle,r),o=i.name,a=i.type,s=i.size;this._addVarying(r,o,a,s)}this.varyingInfos.sort((function(e,t){return e.location-t.location}))}}},{key:"_addAttribute",value:function(e,t,n,r){var i=FD(n),o={type:i.type,size:r*i.components};this._inferProperties(e,t,o);var a={location:e,name:t,accessor:new UA(o)};this.attributeInfos.push(a),this.attributeInfosByLocation[e]=a,this.attributeInfosByName[a.name]=a}},{key:"_inferProperties",value:function(e,t,n){/instance/i.test(t)&&(n.divisor=1)}},{key:"_addVarying",value:function(e,t,n,r){var i=FD(n),o=i.type,a=i.components,s={location:e,name:t,accessor:new UA({type:o,size:r*a})};this.varyingInfos.push(s),this.varyingInfosByName[s.name]=s}}]),e}(),VD=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],HD=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e){var t;(0,Vt.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,i)).stubRemovedMethods("Program","v6.0",VD),t._isCached=!1,t.initialize(i),Object.seal((0,UM.Z)(t)),t._setId(i.id),t}return(0,Ht.Z)(r,[{key:t,get:function(){return"Program"}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hash,n=e.vs,r=e.fs,i=e.varyings,o=e.bufferMode,a=void 0===o?35981:o;return this.hash=t||"",this.vs="string"===typeof n?new SD(this.gl,{id:"".concat(e.id,"-vs"),source:n}):n,this.fs="string"===typeof r?new xD(this.gl,{id:"".concat(e.id,"-fs"),source:r}):r,EA(this.vs instanceof SD),EA(this.fs instanceof xD),this.uniforms={},this._textureUniforms={},i&&i.length>0&&(wk(this.gl),this.varyings=i,this.gl2.transformFeedbackVaryings(this.handle,i,a)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new KD(this),this.setProps(e)}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:KM((0,lx.Z)(r.prototype),"delete",this).call(this,e)}},{key:"setProps",value:function(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}},{key:"draw",value:function(e){var t=this,n=e.logPriority,r=e.drawMode,i=void 0===r?4:r,o=e.vertexCount,a=e.offset,s=void 0===a?0:a,u=e.start,l=e.end,c=e.isIndexed,h=void 0!==c&&c,f=e.indexType,d=void 0===f?5123:f,p=e.instanceCount,v=void 0===p?0:p,g=e.isInstanced,m=void 0===g?v>0:g,y=e.vertexArray,b=void 0===y?null:y,_=e.transformFeedback,w=e.framebuffer,E=e.parameters,S=void 0===E?{}:E,x=e.uniforms,M=e.samplers;if((x||M)&&(pk.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(x||{})),pk.priority>=n){var k=w?w.id:"default",A="mode=".concat(xA(this.gl,i)," verts=").concat(o," ")+"instances=".concat(v," indexType=").concat(xA(this.gl,d)," ")+"isInstanced=".concat(m," isIndexed=").concat(h," ")+"Framebuffer=".concat(k);pk.log(n,A)()}return EA(b),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===o||m&&0===v)&&(b.bindForDraw(o,v,(function(){if(void 0!==w&&(S=Object.assign({},S,{framebuffer:w})),_){var e=ZD(i);_.begin(e)}t._bindTextures(),oA(t.gl,S,(function(){h&&m?t.gl2.drawElementsInstanced(i,o,d,s,v):h&&bk(t.gl)&&!isNaN(u)&&!isNaN(l)?t.gl2.drawRangeElements(i,u,l,o,d,s):h?t.gl.drawElements(i,o,d,s):m?t.gl2.drawArraysInstanced(i,s,o,v):t.gl.drawArrays(i,s,o)})),_&&_.end()})),!0)}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in pk.priority>=2&&function(e,t,n){for(var r in e){var i=e[r];if((!n||Boolean(n[r]))&&!lD(i))throw t=t?"".concat(t," "):"",console.error("".concat(t," Bad uniform ").concat(r),i),new Error("".concat(t," Bad uniform ").concat(r))}}(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle),e){var n=e[t],r=this._uniformSetters[t];if(r){var i=n,o=!1;if(i instanceof jT&&(i=i.texture),i instanceof JA)if(o=this.uniforms[t]!==n){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);var a=i,s=r.textureIndex;a.bind(s),i=s,this._textureUniforms[t]=a}else i=r.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(r(i)||o)&&cD(this.uniforms,t,n)}}return this}},{key:"_areTexturesRenderable",value:function(){var e=!0;for(var t in this._textureUniforms){var n=this._textureUniforms[t];n.update(),e=e&&n.loaded}return e}},{key:"_bindTextures",value:function(){for(var e in this._textureUniforms){var t=this._uniformSetters[e].textureIndex;this._textureUniforms[e].bind(t)}}},{key:"_createHandle",value:function(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function(){this.gl.deleteProgram(this.handle)}},{key:"_getOptionsFromHandle",value:function(e){var t,n={},r=gx(this.gl.getAttachedShaders(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:n.vs=new SD({handle:i});break;case 35632:n.fs=new xD({handle:i})}}}catch(YJ){r.e(YJ)}finally{r.f()}return n}},{key:"_getParameter",value:function(e){return this.gl.getProgramParameter(this.handle,e)}},{key:"_setId",value:function(e){if(!e){var t=this._getName();this.id=kA(t)}}},{key:"_getName",value:function(){var e=this.vs.getName()||this.fs.getName();return e=(e=e.replace(/shader/i,""))?"".concat(e,"-program"):"program"}},{key:"_compileAndLink",value:function(){var e=this.gl;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),pk.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),pk.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||pk.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}},{key:"_readUniformLocationsFromLinkedProgram",value:function(){var e=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(var t=0;t<this._uniformCount;t++){var n=this.gl.getActiveUniform(this.handle,t),r=uD(n.name).name,i=e.getUniformLocation(this.handle,r);if(this._uniformSetters[r]=sD(e,i,n),n.size>1)for(var o=0;o<n.size;o++)i=e.getUniformLocation(this.handle,"".concat(r,"[").concat(o,"]")),this._uniformSetters["".concat(r,"[").concat(o,"]")]=sD(e,i,n)}this._textureIndexCounter=0}},{key:"getActiveUniforms",value:function(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}},{key:"getUniformBlockIndex",value:function(e){return this.gl2.getUniformBlockIndex(this.handle,e)}},{key:"getActiveUniformBlockParameter",value:function(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}},{key:"uniformBlockBinding",value:function(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}]),r}(CA,Symbol.toStringTag),WD=function(){function e(t){(0,Vt.Z)(this,e),this.gl=t,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}return(0,Ht.Z)(e,[{key:"addDefaultModule",value:function(e){this._defaultModules.find((function(t){return t.name===e.name}))||this._defaultModules.push(e),this.stateHash++}},{key:"removeDefaultModule",value:function(e){var t="string"===typeof e?e:e.name;this._defaultModules=this._defaultModules.filter((function(e){return e.name!==t})),this.stateHash++}},{key:"addShaderHook",value:function(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}},{key:"get",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.vs,i=void 0===r?"":r,o=n.fs,a=void 0===o?"":o,s=n.defines,u=void 0===s?{}:s,l=n.inject,c=void 0===l?{}:l,h=n.varyings,f=void 0===h?[]:h,d=n.bufferMode,p=void 0===d?35981:d,v=n.transpileToGLSL100,g=void 0!==v&&v,m=this._getModuleList(n.modules),y=this._getHash(i),b=this._getHash(a),_=m.map((function(e){return t._getHash(e.name)})).sort(),w=f.map((function(e){return t._getHash(e)})),E=Object.keys(u).sort(),S=Object.keys(c).sort(),x=[],M=[],k=gx(E);try{for(k.s();!(e=k.n()).done;){var A=e.value;x.push(this._getHash(A)),x.push(this._getHash(u[A]))}}catch(YJ){k.e(YJ)}finally{k.f()}var T,P=gx(S);try{for(P.s();!(T=P.n()).done;){var O=T.value;M.push(this._getHash(O)),M.push(this._getHash(c[O]))}}catch(YJ){P.e(YJ)}finally{P.f()}var C="".concat(y,"/").concat(b,"D").concat(x.join("/"),"M").concat(_.join("/"),"I").concat(M.join("/"),"V").concat(w.join("/"),"H").concat(this.stateHash,"B").concat(p).concat(g?"T":"");if(!this._programCache[C]){var R=function(e,t){var n=t.vs,r=t.fs,i=cI(t.modules||[]);return{gl:e,vs:XI(e,Object.assign({},t,{source:n,type:rI,modules:i})),fs:XI(e,Object.assign({},t,{source:r,type:iI,modules:i})),getUniforms:$I(i)}}(this.gl,{vs:i,fs:a,modules:m,inject:c,defines:u,hookFunctions:this._hookFunctions,transpileToGLSL100:g});this._programCache[C]=new HD(this.gl,{hash:C,vs:R.vs,fs:R.fs,varyings:f,bufferMode:p}),this._getUniforms[C]=R.getUniforms||function(e){},this._useCounts[C]=0}return this._useCounts[C]++,this._programCache[C]}},{key:"getUniforms",value:function(e){return this._getUniforms[e.hash]||null}},{key:"release",value:function(e){var t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}},{key:"_getHash",value:function(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}},{key:"_getModuleList",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Array(this._defaultModules.length+e.length),n={},r=0,i=0,o=this._defaultModules.length;i<o;++i){var a=this._defaultModules[i],s=a.name;t[r++]=a,n[s]=!0}for(var u=0,l=e.length;u<l;++u){var c=e[u],h=c.name;n[h]||(t[r++]=c,n[h]=!0)}return t.length=r,t}}],[{key:"getDefaultProgramManager",value:function(t){return t.luma=t.luma||{},t.luma.defaultProgramManager=t.luma.defaultProgramManager||new e(t),t.luma.defaultProgramManager}}]),e}(),GD={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},qD="#define SMOOTH_EDGE_RADIUS 0.5",YD={name:"geometry",vs:"\n".concat(qD,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(qD,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")},XD=Object.keys(qL).map((function(e){return"const int COORDINATE_SYSTEM_".concat(e," = ").concat(qL[e],";")})).join(""),$D=Object.keys(YL).map((function(e){return"const int PROJECTION_MODE_".concat(e," = ").concat(YL[e],";")})).join(""),JD=Object.keys(XL).map((function(e){return"const int UNIT_".concat(e.toUpperCase()," = ").concat(XL[e],";")})).join(""),QD="".concat(XD,"\n").concat($D,"\n").concat(JD,"\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0;\nconst float GLOBE_RADIUS = 256.0;\nfloat project_size_at_latitude(float lat) {\n  float y = clamp(lat, -89.9, 89.9);\n  return 1.0 / cos(radians(y));\n}\n\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n    \n    if (geometry.position.w == 0.0) {\n      return project_size_at_latitude(geometry.worldPosition.y);\n    }\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n\nfloat project_size_at_latitude(float meters, float lat) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);\n}\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\nvec3 project_normal(vec3 vector) {\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size_at_latitude(position_world.z, position_world.y),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n");function ej(e,t){if(e===t)return!0;if(Array.isArray(e)){var n=e.length;if(!t||t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return!1}function tj(e){var t,n={};return function(r){for(var i in r)if(!ej(r[i],n[i])){t=e(r),n=r;break}return t}}var nj=[0,0,0,0],rj=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],ij=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],oj=[0,0,0],aj=[0,0,0],sj=tj((function(e){var t=e.viewport,n=e.devicePixelRatio,r=e.coordinateSystem,i=e.coordinateOrigin,o=function(e,t,n){var r=e.viewMatrixUncentered,i=e.projectionMatrix,o=e.viewMatrix,a=e.viewProjectionMatrix,s=nj,u=nj,l=e.cameraPosition,c=uj(e,t,n),h=c.geospatialOrigin,f=c.shaderCoordinateOrigin;c.offsetMode&&(u=e.projectPosition(h||f),l=[l[0]-u[0],l[1]-u[1],l[2]-u[2]],u[3]=1,s=dL([],u,a),a=QR([],i,o=r||o),a=QR([],a,rj));return{viewMatrix:o,viewProjectionMatrix:a,projectionCenter:s,originCommon:u,cameraPosCommon:l,shaderCoordinateOrigin:f,geospatialOrigin:h}}(t,r,i),a=o.projectionCenter,s=o.viewProjectionMatrix,u=o.originCommon,l=o.cameraPosCommon,c=o.shaderCoordinateOrigin,h=o.geospatialOrigin,f=t.getDistanceScales(),d=[t.width*n,t.height*n],p=dL([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,v={project_uCoordinateSystem:r,project_uProjectionMode:t.projectionMode,project_uCoordinateOrigin:c,project_uCommonOrigin:u.slice(0,3),project_uCenter:a,project_uPseudoMeters:Boolean(t._pseudoMeters),project_uViewportSize:d,project_uDevicePixelRatio:n,project_uFocalDistance:p,project_uCommonUnitsPerMeter:f.unitsPerMeter,project_uCommonUnitsPerWorldUnit:f.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:oj,project_uScale:t.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:s,project_uModelMatrix:ij,project_uCameraPosition:l};if(h){var g=t.getDistanceScales(h);switch(r){case qL.METER_OFFSETS:v.project_uCommonUnitsPerWorldUnit=g.unitsPerMeter,v.project_uCommonUnitsPerWorldUnit2=g.unitsPerMeter2;break;case qL.LNGLAT:case qL.LNGLAT_OFFSETS:t._pseudoMeters||(v.project_uCommonUnitsPerMeter=g.unitsPerMeter),v.project_uCommonUnitsPerWorldUnit=g.unitsPerDegree,v.project_uCommonUnitsPerWorldUnit2=g.unitsPerDegree2;break;case qL.CARTESIAN:v.project_uCommonUnitsPerWorldUnit=[1,1,g.unitsPerMeter[2]],v.project_uCommonUnitsPerWorldUnit2=[0,0,g.unitsPerMeter2[2]]}}return v}));function uj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aj;n.length<3&&(n=[n[0],n[1],0]);var r,i=n,o=!0;switch(r=t===qL.LNGLAT_OFFSETS||t===qL.METER_OFFSETS?n:e.isGeospatial?[Math.fround(e.longitude),Math.fround(e.latitude),0]:null,e.projectionMode){case YL.WEB_MERCATOR:t!==qL.LNGLAT&&t!==qL.CARTESIAN||(r=[0,0,0],o=!1);break;case YL.WEB_MERCATOR_AUTO_OFFSET:t===qL.LNGLAT?i=r:t===qL.CARTESIAN&&(i=[Math.fround(e.center[0]),Math.fround(e.center[1]),0],r=e.unprojectPosition(i),i[0]-=n[0],i[1]-=n[1],i[2]-=n[2]);break;case YL.IDENTITY:(i=e.position.map(Math.fround))[2]=i[2]||0;break;case YL.GLOBE:o=!1,r=null;break;default:o=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:i,offsetMode:o}}var lj={};var cj={name:"project",dependencies:[GD,YD],vs:QD,getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lj;return"viewport"in e?function(e){var t=e.viewport,n=e.devicePixelRatio,r=void 0===n?1:n,i=e.modelMatrix,o=void 0===i?null:i,a=e.coordinateSystem,s=void 0===a?qL.DEFAULT:a,u=e.coordinateOrigin,l=void 0===u?aj:u,c=e.autoWrapLongitude,h=void 0!==c&&c;s===qL.DEFAULT&&(s=t.isGeospatial?qL.LNGLAT:qL.CARTESIAN);var f=sj({viewport:t,devicePixelRatio:r,coordinateSystem:s,coordinateOrigin:l});return f.project_uWrapLongitude=h,f.project_uModelMatrix=o||ij,f}(e):{}}},hj=[cj],fj=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function dj(e){var t,n=WD.getDefaultProgramManager(e),r=gx(hj);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.addDefaultModule(i)}}catch(YJ){r.e(YJ)}finally{r.f()}var o,a=gx(fj);try{for(a.s();!(o=a.n()).done;){var s=o.value;n.addShaderHook(s)}}catch(YJ){a.e(YJ)}finally{a.f()}return n}var pj=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.deck,o=r.stats,a=r.viewport,s=r.timeline;(0,Vt.Z)(this,e),(0,re.Z)(this,"layers",void 0),(0,re.Z)(this,"context",void 0),(0,re.Z)(this,"resourceManager",void 0),(0,re.Z)(this,"_lastRenderedLayers",[]),(0,re.Z)(this,"_needsRedraw",!1),(0,re.Z)(this,"_needsUpdate",!1),(0,re.Z)(this,"_nextLayers",null),(0,re.Z)(this,"_debug",!1),(0,re.Z)(this,"activateViewport",(function(e){MP("layerManager.activateViewport",n,e),e&&(n.context.viewport=e)})),this.layers=[],this.resourceManager=new dR({gl:t,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:t,deck:i,programManager:t&&dj(t),stats:o||new bA({id:"deck.gl"}),viewport:a||new nI({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:s||new lP,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}return(0,Ht.Z)(e,[{key:"finalize",value:function(){this.resourceManager.finalize();var e,t=gx(this.layers);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._finalizeLayer(n)}}catch(YJ){t.e(YJ)}finally{t.f()}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);var n,r=gx(this.layers);try{for(r.s();!(n=r.n()).done;){var i=n.value.getNeedsRedraw(e);t=t||i}}catch(YJ){r.e(YJ)}finally{r.f()}return t}},{key:"needsUpdate",value:function(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}},{key:"setNeedsRedraw",value:function(e){this._needsRedraw=this._needsRedraw||e}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e}},{key:"getLayers",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).layerIds;return e?this.layers.filter((function(t){return e.find((function(e){return 0===t.id.indexOf(e)}))})):this.layers}},{key:"setProps",value:function(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}},{key:"setLayers",value:function(e,t){MP("layerManager.setLayers",this,t,e),this._lastRenderedLayers=e;var n,r=kP(e,Boolean),i=gx(r);try{for(i.s();!(n=i.n()).done;){n.value.context=this.context}}catch(YJ){i.e(YJ)}finally{i.f()}this._updateLayers(this.layers,r)}},{key:"updateLayers",value:function(){var e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}},{key:"_handleError",value:function(e,t,n){n.raiseError(t,"".concat(e," of ").concat(n))}},{key:"_updateLayers",value:function(e,t){var n,r={},i=gx(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r[o.id]?EP.warn("Multiple old layers with same id ".concat(o.id))():r[o.id]=o}}catch(YJ){i.e(YJ)}finally{i.f()}var a=[];this._updateSublayersRecursively(t,r,a),this._finalizeOldLayers(r);for(var s=!1,u=0,l=a;u<l.length;u++){var c=l[u];if(c.hasUniformTransition()){s="Uniform transition in ".concat(c);break}}this._needsUpdate=s,this.layers=a}},{key:"_updateSublayersRecursively",value:function(e,t,n){var r,i=gx(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.context=this.context;var a=t[o.id];null===a&&EP.warn("Multiple new layers with same id ".concat(o.id))(),t[o.id]=null;var s=null;try{this._debug&&a!==o&&o.validateProps(),a?(this._transferLayerState(a,o),this._updateLayer(o)):this._initializeLayer(o),n.push(o),s=o.isComposite?o.getSubLayers():null}catch(YJ){this._handleError("matching",YJ,o)}s&&this._updateSublayersRecursively(s,t,n)}}catch(YJ){i.e(YJ)}finally{i.f()}}},{key:"_finalizeOldLayers",value:function(e){for(var t in e){var n=e[t];n&&this._finalizeLayer(n)}}},{key:"_initializeLayer",value:function(e){try{e._initialize(),e.lifecycle=fP}catch(YJ){this._handleError("initialization",YJ,e)}}},{key:"_transferLayerState",value:function(e,t){t._transferState(e),t.lifecycle=hP,t!==e&&(e.lifecycle=dP)}},{key:"_updateLayer",value:function(e){try{e._update()}catch(YJ){this._handleError("update",YJ,e)}}},{key:"_finalizeLayer",value:function(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle=pP;try{e._finalize(),e.lifecycle=vP}catch(YJ){this._handleError("finalization",YJ,e)}}}]),e}();function vj(e,t,n){if(e===t)return!0;if(!n||!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!vj(e[r],t[r],n-1))return!1;return!0}if(Array.isArray(t))return!1;if("object"===typeof e&&"object"===typeof t){var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var a=0,s=i;a<s.length;a++){var u=s[a];if(!t.hasOwnProperty(u))return!1;if(!vj(e[u],t[u],n-1))return!1}return!0}return!1}var gj=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"width",void 0),(0,re.Z)(this,"height",void 0),(0,re.Z)(this,"views",void 0),(0,re.Z)(this,"viewState",void 0),(0,re.Z)(this,"controllers",void 0),(0,re.Z)(this,"timeline",void 0),(0,re.Z)(this,"_viewports",void 0),(0,re.Z)(this,"_viewportMap",void 0),(0,re.Z)(this,"_isUpdating",void 0),(0,re.Z)(this,"_needsRedraw",void 0),(0,re.Z)(this,"_needsUpdate",void 0),(0,re.Z)(this,"_eventManager",void 0),(0,re.Z)(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=t.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=t.eventManager,this._eventCallbacks={onViewStateChange:t.onViewStateChange,onInteractionStateChange:t.onInteractionStateChange},Object.seal(this),this.setProps(t)}return(0,Ht.Z)(e,[{key:"finalize",value:function(){for(var e in this.controllers){var t=this.controllers[e];t&&t.finalize()}this.controllers={}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}},{key:"updateViewStates",value:function(){for(var e in this.controllers){var t=this.controllers[e];t&&t.updateTransition()}}},{key:"getViewports",value:function(e){return e?this._viewports.filter((function(t){return t.containsPixel(e)})):this._viewports}},{key:"getViews",value:function(){var e={};return this.views.forEach((function(t){e[t.id]=t})),e}},{key:"getView",value:function(e){return this.views.find((function(t){return t.id===e}))}},{key:"getViewState",value:function(e){var t="string"===typeof e?this.getView(e):e,n=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(n):n}},{key:"getViewport",value:function(e){return this._viewportMap[e]}},{key:"unproject",value:function(e,t){for(var n=this.getViewports(),r={x:e[0],y:e[1]},i=n.length-1;i>=0;--i){var o=n[i];if(o.containsPixel(r)){var a=e.slice();return a[0]-=o.x,a[1]-=o.y,o.unproject(a,t)}}return null}},{key:"setProps",value:function(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}},{key:"_update",value:function(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}},{key:"_setSize",value:function(e,t){e===this.width&&t===this.height||(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}},{key:"_setViews",value:function(e){e=kP(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}},{key:"_setViewState",value:function(e){e?(!vj(e,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):EP.warn("missing `viewState` or `initialViewState`")()}},{key:"_onViewStateChange",value:function(e,t){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange((0,V.Z)((0,V.Z)({},t),{},{viewId:e}))}},{key:"_createController",value:function(e,t){var n=this;return new(0,t.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:function(t){var r;return null===(r=n.getView(e.id))||void 0===r?void 0:r.makeViewport({viewState:t,width:n.width,height:n.height})}})}},{key:"_updateController",value:function(e,t,n,r){var i=e.controller;if(i&&n){var o=(0,V.Z)((0,V.Z)((0,V.Z)({},t),i),{},{id:e.id,x:n.x,y:n.y,width:n.width,height:n.height});return r&&r.constructor===e.ControllerType||(r=this._createController(e,o)),r&&r.setProps(o),r}return null}},{key:"_rebuildViewports",value:function(){var e=this.views,t=this.controllers;this._viewports=[],this.controllers={};for(var n=!1,r=e.length;r--;){var i=e[r],o=this.getViewState(i),a=i.makeViewport({viewState:o,width:this.width,height:this.height}),s=t[i.id],u=Boolean(i.controller);u&&!s&&(n=!0),!n&&u||!s||(s.finalize(),s=null),this.controllers[i.id]=this._updateController(i,o,a,s),a&&this._viewports.unshift(a)}for(var l in t){var c=t[l];c&&!this.controllers[l]&&c.finalize()}this._buildViewportMap()}},{key:"_buildViewportMap",value:function(){var e=this;this._viewportMap={},this._viewports.forEach((function(t){t.id&&(e._viewportMap[t.id]=e._viewportMap[t.id]||t)}))}},{key:"_diffViews",value:function(e,t){return e.length!==t.length||e.some((function(n,r){return!e[r].equals(t[r])}))}}]),e}(),mj=/([0-9]+\.?[0-9]*)(%|px)/;function yj(e){switch(typeof e){case"number":return{position:e,relative:!1};case"string":var t=mj.exec(e);if(t&&t.length>=3){var n="%"===t[2],r=parseFloat(t[1]);return{position:n?r/100:r,relative:n}}default:throw new Error("Could not parse position string ".concat(e))}}function bj(e,t){return e.relative?Math.round(e.position*t):e.position}function _j(e,t){if(!e)throw new Error(t||"deck.gl: assertion failed.")}var wj=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"viewportInstance",void 0),(0,re.Z)(this,"_x",void 0),(0,re.Z)(this,"_y",void 0),(0,re.Z)(this,"_width",void 0),(0,re.Z)(this,"_height",void 0),(0,re.Z)(this,"_padding",void 0),(0,re.Z)(this,"props",void 0);var n=t||{},r=n.id,i=n.x,o=void 0===i?0:i,a=n.y,s=void 0===a?0:a,u=n.width,l=void 0===u?"100%":u,c=n.height,h=void 0===c?"100%":c,f=n.padding,d=void 0===f?null:f,p=n.viewportInstance;_j(!p||p instanceof nI),this.viewportInstance=p,this.id=r||this.constructor.displayName||"view",this.props=(0,V.Z)((0,V.Z)({},t),{},{id:this.id}),this._x=yj(o),this._y=yj(s),this._width=yj(l),this._height=yj(h),this._padding=d&&{left:yj(d.left||0),right:yj(d.right||0),top:yj(d.top||0),bottom:yj(d.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}return(0,Ht.Z)(e,[{key:"equals",value:function(e){return this===e||(this.viewportInstance?!!e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):this.ViewportType===e.ViewportType&&vj(this.props,e.props,2))}},{key:"makeViewport",value:function(e){var t=e.width,n=e.height,r=e.viewState;if(this.viewportInstance)return this.viewportInstance;r=this.filterViewState(r);var i=this.getDimensions({width:t,height:n});return i.height&&i.width?new this.ViewportType((0,V.Z)((0,V.Z)((0,V.Z)({},r),this.props),i)):null}},{key:"getViewStateId",value:function(){var e=this.props.viewState;return"string"===typeof e?e:(null===e||void 0===e?void 0:e.id)||this.id}},{key:"filterViewState",value:function(e){if(this.props.viewState&&"object"===typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;var t=(0,V.Z)({},e);for(var n in this.props.viewState)"id"!==n&&(t[n]=this.props.viewState[n]);return t}return e}},{key:"getDimensions",value:function(e){var t=e.width,n=e.height,r={x:bj(this._x,t),y:bj(this._y,n),width:bj(this._width,t),height:bj(this._height,n)};return this._padding&&(r.padding={left:bj(this._padding.left,t),top:bj(this._padding.top,n),right:bj(this._padding.right,t),bottom:bj(this._padding.bottom,n)}),r}},{key:"controller",get:function(){var e=this.props.controller;return e?!0===e?{type:this.ControllerType}:"function"===typeof e?{type:e}:(0,V.Z)({type:this.ControllerType},e):null}}]),e}(),Ej=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Vt.Z)(this,n);var i,o=r.latitude,a=void 0===o?0:o,s=r.longitude,u=void 0===s?0:s,l=r.zoom,c=void 0===l?0:l,h=r.pitch,f=void 0===h?0:h,d=r.bearing,p=void 0===d?0:d,v=r.nearZMultiplier,g=void 0===v?.1:v,m=r.farZMultiplier,y=void 0===m?1.01:m,b=r.orthographic,_=void 0!==b&&b,w=r.projectionMatrix,E=r.repeat,S=void 0!==E&&E,x=r.worldOffset,M=void 0===x?0:x,k=r.position,A=r.padding,T=r.legacyMeterSizes,P=void 0!==T&&T,O=r.width,C=r.height,R=r.altitude,L=void 0===R?1.5:R,I=Math.pow(2,c);O=O||1,C=C||1;var D=null;if(w)i=FL(L=w[5]/2);else{var j;if(r.fovy?L=UL(i=r.fovy):i=FL(L),A){var N=A.top,B=void 0===N?0:N,z=A.bottom;j=[0,bR((B+C-(void 0===z?0:z))/2,0,C)-C/2]}D=ZL({width:O,height:C,scale:I,center:k&&[0,0,k[2]*NL(a)],offset:j,pitch:f,fovy:i,nearZMultiplier:g,farZMultiplier:y})}var Z=function(e){var t=e.height,n=e.pitch,r=e.bearing,i=e.altitude,o=e.scale,a=e.center,s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];eL(s,s,[0,0,-i]),nL(s,s,-n*TL),rL(s,s,r*TL);var u,l,c=o/t;return tL(s,s,[c,c,c]),a&&eL(s,s,((u=[])[0]=-(l=a)[0],u[1]=-l[1],u[2]=-l[2],u)),s}({height:C,pitch:f,bearing:p,scale:I,altitude:L});M&&(Z=(new bL).translate([512*M,0,0]).multiplyLeft(Z));return e=t.call(this,(0,V.Z)((0,V.Z)((0,V.Z)({},r),{},{width:O,height:C,viewMatrix:Z,longitude:u,latitude:a,zoom:c},D),{},{fovy:i,focalDistance:L})),(0,re.Z)((0,UM.Z)(e),"longitude",void 0),(0,re.Z)((0,UM.Z)(e),"latitude",void 0),(0,re.Z)((0,UM.Z)(e),"pitch",void 0),(0,re.Z)((0,UM.Z)(e),"bearing",void 0),(0,re.Z)((0,UM.Z)(e),"altitude",void 0),(0,re.Z)((0,UM.Z)(e),"fovy",void 0),(0,re.Z)((0,UM.Z)(e),"orthographic",void 0),(0,re.Z)((0,UM.Z)(e),"_subViewports",void 0),(0,re.Z)((0,UM.Z)(e),"_pseudoMeters",void 0),e.latitude=a,e.longitude=u,e.zoom=c,e.pitch=f,e.bearing=p,e.altitude=L,e.fovy=i,e.orthographic=_,e._subViewports=S?[]:null,e._pseudoMeters=P,Object.freeze((0,UM.Z)(e)),e}return(0,Ht.Z)(n,[{key:"subViewports",get:function(){if(this._subViewports&&!this._subViewports.length)for(var e=this.getBounds(),t=Math.floor((e[0]+180)/360),r=Math.ceil((e[2]-180)/360),i=t;i<=r;i++){var o=i?new n((0,V.Z)((0,V.Z)({},this),{},{worldOffset:i})):this;this._subViewports.push(o)}return this._subViewports}},{key:"projectPosition",value:function(e){if(this._pseudoMeters)return KM((0,lx.Z)(n.prototype),"projectPosition",this).call(this,e);var t=v(this.projectFlat(e),2);return[t[0],t[1],(e[2]||0)*NL(e[1])]}},{key:"unprojectPosition",value:function(e){if(this._pseudoMeters)return KM((0,lx.Z)(n.prototype),"unprojectPosition",this).call(this,e);var t=v(this.unprojectFlat(e),2),r=t[0],i=t[1];return[r,i,(e[2]||0)/NL(i)]}},{key:"addMetersToLngLat",value:function(e,t){return zL(e,t)}},{key:"panByPosition",value:function(e,t){var n=VL(t,this.pixelUnprojectionMatrix),r=sL([],this.projectFlat(e),uL([],n)),i=sL([],this.center,r),o=v(this.unprojectFlat(i),2);return{longitude:o[0],latitude:o[1]}}},{key:"getBounds",value:function(){var e=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.width,o=e.height,a=e.unproject,s={targetZ:r},u=a([0,o],s),l=a([i,o],s);return(e.fovy?.5*e.fovy*WL:Math.atan(.5/e.altitude))>(90-e.pitch)*WL-.01?(t=GL(e,0,r),n=GL(e,i,r)):(t=a([0,0],s),n=a([i,0],s)),[u,l,n,t]}(this,(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).z||0);return[Math.min(e[0][0],e[1][0],e[2][0],e[3][0]),Math.min(e[0][1],e[1][1],e[2][1],e[3][1]),Math.max(e[0][0],e[1][0],e[2][0],e[3][0]),Math.max(e[0][1],e[1][1],e[2][1],e[3][1])]}},{key:"fitBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=HL((0,V.Z)({width:r,height:i,bounds:e},t));return new n({width:r,height:i,longitude:o.longitude,latitude:o.latitude,zoom:o.zoom})}}]),n}(nI);(0,re.Z)(Ej,"displayName","WebMercatorViewport");var Sj=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"_inProgress",void 0),(0,re.Z)(this,"_handle",void 0),(0,re.Z)(this,"_timeline",void 0),(0,re.Z)(this,"time",void 0),(0,re.Z)(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=t,this.time=0,this.settings={duration:0}}return(0,Ht.Z)(e,[{key:"inProgress",get:function(){return this._inProgress}},{key:"start",value:function(e){var t,n;this.cancel(),this.settings=e,this._inProgress=!0,null===(t=(n=this.settings).onStart)||void 0===t||t.call(n,this)}},{key:"end",value:function(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(e=(t=this.settings).onEnd)||void 0===e||e.call(t,this))}},{key:"cancel",value:function(){var e,t;this._inProgress&&(null===(e=(t=this.settings).onInterrupt)||void 0===e||e.call(t,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}},{key:"update",value:function(){var e,t;if(!this._inProgress)return!1;if(null===this._handle){var n=this._timeline,r=this.settings;this._handle=n.addChannel({delay:n.getTime(),duration:r.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(e=(t=this.settings).onUpdate)||void 0===e||e.call(t,this),this._timeline.isFinished(this._handle)&&this.end(),!0}},{key:"_onUpdate",value:function(){}}]),e}(),xj=function(){},Mj=2,kj=3,Aj=function(e){return e},Tj=1,Pj=function(){function e(t){var n=this;(0,Vt.Z)(this,e),(0,re.Z)(this,"getControllerState",void 0),(0,re.Z)(this,"props",void 0),(0,re.Z)(this,"propsInTransition",void 0),(0,re.Z)(this,"transition",void 0),(0,re.Z)(this,"onViewStateChange",void 0),(0,re.Z)(this,"onStateChange",void 0),(0,re.Z)(this,"_onTransitionUpdate",(function(e){var t=e.time,r=e.settings,i=r.interpolator,o=r.startProps,a=r.endProps,s=r.duration,u=(0,r.easing)(t/s),l=i.interpolateProps(o,a,u);n.propsInTransition=n.getControllerState((0,V.Z)((0,V.Z)({},n.props),l)).getViewportProps(),n.onViewStateChange({viewState:n.propsInTransition,oldViewState:n.props})})),this.getControllerState=t.getControllerState,this.propsInTransition=null,this.transition=new Sj(t.timeline),this.onViewStateChange=t.onViewStateChange||xj,this.onStateChange=t.onStateChange||xj}return(0,Ht.Z)(e,[{key:"finalize",value:function(){this.transition.cancel()}},{key:"getViewportInTransition",value:function(){return this.propsInTransition}},{key:"processViewStateChange",value:function(e){var t=!1,n=this.props;if(this.props=e,!n||this._shouldIgnoreViewportChange(n,e))return!1;if(this._isTransitionEnabled(e)){var r=n;if(this.transition.inProgress){var i=this.transition.settings,o=i.interruption,a=i.endProps;r=(0,V.Z)((0,V.Z)({},n),o===Mj?a:this.propsInTransition||n)}this._triggerTransition(r,e),t=!0}else this.transition.cancel();return t}},{key:"updateTransition",value:function(){this.transition.update()}},{key:"_isTransitionEnabled",value:function(e){var t=e.transitionDuration,n=e.transitionInterpolator;return(t>0||"auto"===t)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return this.transition.inProgress?this.transition.settings.interruption===kj||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}},{key:"_triggerTransition",value:function(e,t){var n=this.getControllerState(e),r=this.getControllerState(t).shortestPathFrom(n),i=t.transitionInterpolator,o=i.getDuration?i.getDuration(e,t):t.transitionDuration;if(0!==o){var a=i.initializeProps(e,r);this.propsInTransition={};var s={duration:o,easing:t.transitionEasing||Aj,interpolator:i,interruption:t.transitionInterruption||Tj,startProps:a.start,endProps:a.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(s),this.onStateChange({inTransition:!0}),this.updateTransition()}}},{key:"_onTransitionEnd",value:function(e){var t=this;return function(n){t.propsInTransition=null,t.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),null===e||void 0===e||e(n)}}}]),e}(),Oj=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"_propsToCompare",void 0),(0,re.Z)(this,"_propsToExtract",void 0),(0,re.Z)(this,"_requiredProps",void 0);var n=t.compare,r=t.extract,i=t.required;this._propsToCompare=n,this._propsToExtract=r||n,this._requiredProps=i}return(0,Ht.Z)(e,[{key:"arePropsEqual",value:function(e,t){var n,r=gx(this._propsToCompare);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!(i in e)||!(i in t)||!wR(e[i],t[i]))return!1}}catch(YJ){r.e(YJ)}finally{r.f()}return!0}},{key:"initializeProps",value:function(e,t){var n,r={},i={},o=gx(this._propsToExtract);try{for(o.s();!(n=o.n()).done;){var a=n.value;(a in e||a in t)&&(r[a]=e[a],i[a]=t[a])}}catch(YJ){o.e(YJ)}finally{o.f()}return this._checkRequiredProps(r),this._checkRequiredProps(i),{start:r,end:i}}},{key:"getDuration",value:function(e,t){return t.transitionDuration}},{key:"_checkRequiredProps",value:function(e){this._requiredProps&&this._requiredProps.forEach((function(t){var n=e[t];_j(Number.isFinite(n)||Array.isArray(n),"".concat(t," is required for transition"))}))}}]),e}(),Cj=["longitude","latitude","zoom","bearing","pitch"],Rj=["longitude","latitude","zoom"],Lj=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Vt.Z)(this,n);var i=Array.isArray(r)?r:r.transitionProps,o=Array.isArray(r)?{}:r;return o.transitionProps=Array.isArray(i)?{compare:i,required:i}:i||{compare:Cj,required:Rj},e=t.call(this,o.transitionProps),(0,re.Z)((0,UM.Z)(e),"opts",void 0),e.opts=o,e}return(0,Ht.Z)(n,[{key:"initializeProps",value:function(e,t){var r=KM((0,lx.Z)(n.prototype),"initializeProps",this).call(this,e,t),i=this.opts,o=i.makeViewport,a=i.around;if(o&&a){var s=o(e),u=o(t),l=s.unproject(a);r.start.around=a,Object.assign(r.end,{around:u.project(l),aroundPosition:l,width:t.width,height:t.height})}return r}},{key:"interpolateProps",value:function(e,t,n){var r,i={},o=gx(this._propsToExtract);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=_R(e[a]||0,t[a]||0,n)}}catch(YJ){o.e(YJ)}finally{o.f()}if(t.aroundPosition&&this.opts.makeViewport){var s=this.opts.makeViewport((0,V.Z)((0,V.Z)({},t),i));Object.assign(i,s.panByPosition(t.aroundPosition,_R(e.around,t.around,n)))}return i}}]),n}(Oj),Ij={transitionDuration:0},Dj=function(e){return 1-(1-e)*(1-e)},jj=["wheel"],Nj=["panstart","panmove","panend"],Bj=["pinchstart","pinchmove","pinchend"],zj=["tripanstart","tripanmove","tripanend"],Zj=["doubletap"],Fj=["keydown"],Uj={},Kj=function(){function e(t){var n=this;(0,Vt.Z)(this,e),(0,re.Z)(this,"props",void 0),(0,re.Z)(this,"state",{}),(0,re.Z)(this,"transitionManager",void 0),(0,re.Z)(this,"eventManager",void 0),(0,re.Z)(this,"onViewStateChange",void 0),(0,re.Z)(this,"onStateChange",void 0),(0,re.Z)(this,"makeViewport",void 0),(0,re.Z)(this,"_controllerState",void 0),(0,re.Z)(this,"_events",{}),(0,re.Z)(this,"_interactionState",{isDragging:!1}),(0,re.Z)(this,"_customEvents",[]),(0,re.Z)(this,"_eventStartBlocked",null),(0,re.Z)(this,"_panMove",!1),(0,re.Z)(this,"invertPan",!1),(0,re.Z)(this,"dragMode","rotate"),(0,re.Z)(this,"inertia",0),(0,re.Z)(this,"scrollZoom",!0),(0,re.Z)(this,"dragPan",!0),(0,re.Z)(this,"dragRotate",!0),(0,re.Z)(this,"doubleClickZoom",!0),(0,re.Z)(this,"touchZoom",!0),(0,re.Z)(this,"touchRotate",!1),(0,re.Z)(this,"keyboard",!0),this.transitionManager=new Pj((0,V.Z)((0,V.Z)({},t),{},{getControllerState:function(e){return new n.ControllerState(e)},onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)})),this.handleEvent=this.handleEvent.bind(this),this.eventManager=t.eventManager,this.onViewStateChange=t.onViewStateChange||function(){},this.onStateChange=t.onStateChange||function(){},this.makeViewport=t.makeViewport}return(0,Ht.Z)(e,[{key:"events",set:function(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}},{key:"finalize",value:function(){for(var e in this._events){var t;if(this._events[e])null===(t=this.eventManager)||void 0===t||t.off(e,this.handleEvent)}this.transitionManager.finalize()}},{key:"handleEvent",value:function(e){this._controllerState=void 0;var t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"controllerState",get:function(){return this._controllerState=this._controllerState||new this.ControllerState((0,V.Z)((0,V.Z)({makeViewport:this.makeViewport},this.props),this.state)),this._controllerState}},{key:"getCenter",value:function(e){var t=this.props,n=t.x,r=t.y,i=e.offsetCenter;return[i.x-n,i.y-r]}},{key:"isPointInBounds",value:function(e,t){var n=this.props,r=n.width,i=n.height;if(t&&t.handled)return!1;var o=e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=i;return o&&t&&t.stopPropagation(),o}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"isDragging",value:function(){return this._interactionState.isDragging||!1}},{key:"blockEvents",value:function(e){var t=this,n=setTimeout((function(){t._eventStartBlocked===n&&(t._eventStartBlocked=null)}),e);this._eventStartBlocked=n}},{key:"setProps",value:function(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);var t=e.inertia;this.inertia=Number.isFinite(t)?t:!0===t?300:0;var n=e.scrollZoom,r=void 0===n||n,i=e.dragPan,o=void 0===i||i,a=e.dragRotate,s=void 0===a||a,u=e.doubleClickZoom,l=void 0===u||u,c=e.touchZoom,h=void 0===c||c,f=e.touchRotate,d=void 0!==f&&f,p=e.keyboard,v=void 0===p||p,g=Boolean(this.onViewStateChange);this.toggleEvents(jj,g&&r),this.toggleEvents(Nj,g),this.toggleEvents(Bj,g&&(h||d)),this.toggleEvents(zj,g&&d),this.toggleEvents(Zj,g&&l),this.toggleEvents(Fj,g&&v),this.scrollZoom=r,this.dragPan=o,this.dragRotate=s,this.doubleClickZoom=l,this.touchZoom=h,this.touchRotate=d,this.keyboard=v}},{key:"updateTransition",value:function(){this.transitionManager.updateTransition()}},{key:"toggleEvents",value:function(e,t){var n=this;this.eventManager&&e.forEach((function(e){n._events[e]!==t&&(n._events[e]=t,t?n.eventManager.on(e,n.handleEvent):n.eventManager.off(e,n.handleEvent))}))}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,V.Z)((0,V.Z)({},e.getViewportProps()),t),i=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(n),i){var o=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:o})}}},{key:"_onTransition",value:function(e){this.onViewStateChange((0,V.Z)((0,V.Z)({},e),{},{interactionState:this._interactionState}))}},{key:"_setInteractionState",value:function(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(n=!n);var r=this.controllerState[n?"panStart":"rotateStart"]({pos:t});return this._panMove=n,this.updateViewport(r,Ij,{isDragging:!0}),!0}},{key:"_onPan",value:function(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}},{key:"_onPanEnd",value:function(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),n=this.controllerState.pan({pos:t});return this.updateViewport(n,Ij,{isDragging:!0,isPanning:!0}),!0}},{key:"_onPanMoveEnd",value:function(e){var t=this.inertia;if(this.dragPan&&t&&e.velocity){var n=this.getCenter(e),r=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],i=this.controllerState.pan({pos:r}).panEnd();this.updateViewport(i,(0,V.Z)((0,V.Z)({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:Dj}),{isDragging:!1,isPanning:!0})}else{var o=this.controllerState.panEnd();this.updateViewport(o,null,{isDragging:!1,isPanning:!1})}return!0}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=this.getCenter(e),n=this.controllerState.rotate({pos:t});return this.updateViewport(n,Ij,{isDragging:!0,isRotating:!0}),!0}},{key:"_onPanRotateEnd",value:function(e){var t=this.inertia;if(this.dragRotate&&t&&e.velocity){var n=this.getCenter(e),r=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],i=this.controllerState.rotate({pos:r}).rotateEnd();this.updateViewport(i,(0,V.Z)((0,V.Z)({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:Dj}),{isDragging:!1,isRotating:!0})}else{var o=this.controllerState.rotateEnd();this.updateViewport(o,null,{isDragging:!1,isRotating:!1})}return!0}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;e.srcEvent.preventDefault();var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=!0===this.scrollZoom?{}:this.scrollZoom,r=n.speed,i=void 0===r?.01:r,o=n.smooth,a=void 0!==o&&o,s=e.delta,u=2/(1+Math.exp(-Math.abs(s*i)));s<0&&0!==u&&(u=1/u);var l=this.controllerState.zoom({pos:t,scale:u});return this.updateViewport(l,(0,V.Z)((0,V.Z)({},this._getTransitionProps({around:t})),{},{transitionDuration:a?250:1}),{isZooming:!0,isPanning:!0}),!0}},{key:"_onTriplePanStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.controllerState.rotateStart({pos:t});return this.updateViewport(n,Ij,{isDragging:!0}),!0}},{key:"_onTriplePan",value:function(e){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;var t=this.getCenter(e);t[0]-=e.deltaX;var n=this.controllerState.rotate({pos:t});return this.updateViewport(n,Ij,{isDragging:!0,isRotating:!0}),!0}},{key:"_onTriplePanEnd",value:function(e){if(!this.isDragging())return!1;var t=this.inertia;if(this.touchRotate&&t&&e.velocityY){var n=this.getCenter(e),r=[n[0],n[1]+=e.velocityY*t/2],i=this.controllerState.rotate({pos:r});this.updateViewport(i,(0,V.Z)((0,V.Z)({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:Dj}),{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{var o=this.controllerState.rotateEnd();this.updateViewport(o,null,{isDragging:!1,isRotating:!1})}return!0}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return Uj._startPinchRotation=e.rotation,Uj._lastPinchEvent=e,this.updateViewport(n,Ij,{isDragging:!0}),!0}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;var t=this.controllerState;if(this.touchZoom){var n=e.scale,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){var i=e.rotation;t=t.rotate({deltaAngleX:Uj._startPinchRotation-i})}return this.updateViewport(t,Ij,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),Uj._lastPinchEvent=e,!0}},{key:"_onPinchEnd",value:function(e){if(!this.isDragging())return!1;var t=this.inertia,n=Uj._lastPinchEvent;if(this.touchZoom&&t&&n&&e.scale!==n.scale){var r=this.getCenter(e),i=this.controllerState.rotateEnd(),o=Math.log2(e.scale),a=(o-Math.log2(n.scale))/(e.deltaTime-n.deltaTime),s=Math.pow(2,o+a*t/2);i=i.zoom({pos:r,scale:s}).zoomEnd(),this.updateViewport(i,(0,V.Z)((0,V.Z)({},this._getTransitionProps({around:r})),{},{transitionDuration:t,transitionEasing:Dj}),{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{var u=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(u,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return Uj._startPinchRotation=null,Uj._lastPinchEvent=null,!0}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,n=this.isFunctionKeyPressed(e),r=!0===this.keyboard?{}:this.keyboard,i=r.zoomSpeed,o=r.moveSpeed,a=r.rotateSpeedX,s=r.rotateSpeedY,u=this.controllerState,l={};switch(e.srcEvent.code){case"Minus":t=n?u.zoomOut(i).zoomOut(i):u.zoomOut(i),l.isZooming=!0;break;case"Equal":t=n?u.zoomIn(i).zoomIn(i):u.zoomIn(i),l.isZooming=!0;break;case"ArrowLeft":n?(t=u.rotateLeft(a),l.isRotating=!0):(t=u.moveLeft(o),l.isPanning=!0);break;case"ArrowRight":n?(t=u.rotateRight(a),l.isRotating=!0):(t=u.moveRight(o),l.isPanning=!0);break;case"ArrowUp":n?(t=u.rotateUp(s),l.isRotating=!0):(t=u.moveUp(o),l.isPanning=!0);break;case"ArrowDown":n?(t=u.rotateDown(s),l.isRotating=!0):(t=u.moveDown(o),l.isPanning=!0);break;default:return!1}return this.updateViewport(t,this._getTransitionProps(),l),!0}},{key:"_getTransitionProps",value:function(e){var t=this.transition;return t&&t.transitionInterpolator?e?(0,V.Z)((0,V.Z)({},t),{},{transitionInterpolator:new Lj((0,V.Z)((0,V.Z)((0,V.Z)({},e),t.transitionInterpolator.opts),{},{makeViewport:this.controllerState.makeViewport}))}):t:Ij}}]),e}(),Vj=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){var r;(0,Vt.Z)(this,n);var i=e.width,o=e.height,a=e.latitude,s=e.longitude,u=e.zoom,l=e.bearing,c=void 0===l?0:l,h=e.pitch,f=void 0===h?0:h,d=e.altitude,p=void 0===d?1.5:d,v=e.position,g=void 0===v?[0,0,0]:v,m=e.maxZoom,y=void 0===m?20:m,b=e.minZoom,_=void 0===b?0:b,w=e.maxPitch,E=void 0===w?60:w,S=e.minPitch,x=void 0===S?0:S,M=e.startPanLngLat,k=e.startZoomLngLat,A=e.startRotatePos,T=e.startBearing,P=e.startPitch,O=e.startZoom,C=e.normalize,R=void 0===C||C;return _j(Number.isFinite(s)),_j(Number.isFinite(a)),_j(Number.isFinite(u)),r=t.call(this,{width:i,height:o,latitude:a,longitude:s,zoom:u,bearing:c,pitch:f,altitude:p,maxZoom:y,minZoom:_,maxPitch:E,minPitch:x,normalize:R,position:g},{startPanLngLat:M,startZoomLngLat:k,startRotatePos:A,startBearing:T,startPitch:P,startZoom:O}),(0,re.Z)((0,UM.Z)(r),"makeViewport",void 0),r.makeViewport=e.makeViewport,r}return(0,Ht.Z)(n,[{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,r=this.getState().startPanLngLat||this._unproject(n);if(!r)return this;var i=this.makeViewport(this.getViewportProps()).panByPosition(r,t);return this._getUpdatedState(i)}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){var t=e.pos;return this._getUpdatedState({startRotatePos:t,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}},{key:"rotate",value:function(e){var t,n=e.pos,r=e.deltaAngleX,i=void 0===r?0:r,o=e.deltaAngleY,a=void 0===o?0:o,s=this.getState(),u=s.startRotatePos,l=s.startBearing,c=s.startPitch;return u&&void 0!==l&&void 0!==c?(t=n?this._getNewRotation(n,u,c,l):{bearing:l+i,pitch:c+a},this._getUpdatedState(t)):this}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomLngLat:this._unproject(t),startZoom:this.getViewportProps().zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale,i=this.getState(),o=i.startZoom,a=i.startZoomLngLat;if(a||(o=this.getViewportProps().zoom,a=this._unproject(n)||this._unproject(t)),!a)return this;var s=this.getViewportProps(),u=s.maxZoom,l=s.minZoom,c=o+Math.log2(r);c=bR(c,l,u);var h=this.makeViewport((0,V.Z)((0,V.Z)({},this.getViewportProps()),{},{zoom:c}));return this._getUpdatedState((0,V.Z)({zoom:c},h.panByPosition(a,t)))}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(e)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(1/e)}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([e,0])}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([-e,0])}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,e])}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,-e])}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}},{key:"rotateUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}},{key:"rotateDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),n=(0,V.Z)({},this.getViewportProps()),r=n.bearing,i=n.longitude;return Math.abs(r-t.bearing)>180&&(n.bearing=r<0?r+360:r-360),Math.abs(i-t.longitude)>180&&(n.longitude=i<0?i+360:i-360),n}},{key:"applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=bR(r,n,t);var i=e.maxPitch,o=e.minPitch,a=e.pitch;e.pitch=bR(a,o,i);var s=e.normalize;return(void 0===s||s)&&Object.assign(e,function(e){var t=e.width,n=e.height,r=e.pitch,i=void 0===r?0:r,o=e.longitude,a=e.latitude,s=e.zoom,u=e.bearing,l=void 0===u?0:u;(o<-180||o>180)&&(o=EL(o+180,360)-180),(l<-180||l>180)&&(l=EL(l+180,360)-180);var c=xL(n/512);if(s<=c)s=c,a=0;else{var h=n/2/Math.pow(2,s),f=DL([0,h])[1];if(a<f)a=f;else{var d=DL([0,512-h])[1];a>d&&(a=d)}}return{width:t,height:n,longitude:o,latitude:a,zoom:s,pitch:i,bearing:l}}(e)),e}},{key:"_zoomFromCenter",value:function(e){var t=this.getViewportProps(),n=t.width,r=t.height;return this.zoom({pos:[n/2,r/2],scale:e})}},{key:"_panFromCenter",value:function(e){var t=this.getViewportProps(),n=t.width,r=t.height;return this.pan({startPos:[n/2,r/2],pos:[n/2+e[0],r/2+e[1]]})}},{key:"_getUpdatedState",value:function(e){return new this.constructor((0,V.Z)((0,V.Z)((0,V.Z)({makeViewport:this.makeViewport},this.getViewportProps()),this.getState()),e))}},{key:"_unproject",value:function(e){var t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}},{key:"_getNewRotation",value:function(e,t,n,r){var i=e[0]-t[0],o=e[1]-t[1],a=e[1],s=t[1],u=this.getViewportProps(),l=u.width,c=u.height,h=i/l,f=0;o>0?Math.abs(c-s)>5&&(f=o/(s-c)*1.2):o<0&&s>5&&(f=1-a/s),f=bR(f,-1,1);var d=this.getViewportProps(),p=d.minPitch,v=d.maxPitch,g=n;return f>0?g=n+f*(v-n):f<0&&(g=n-f*(p-n)),{pitch:g,bearing:r+180*h}}}]),n}(function(){function e(t,n){(0,Vt.Z)(this,e),(0,re.Z)(this,"_viewportProps",void 0),(0,re.Z)(this,"_state",void 0),this._viewportProps=this.applyConstraints(t),this._state=n}return(0,Ht.Z)(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getState",value:function(){return this._state}}]),e}()),Hj=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"ControllerState",Vj),(0,re.Z)((0,UM.Z)(e),"transition",{transitionDuration:300,transitionInterpolator:new Lj({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),(0,re.Z)((0,UM.Z)(e),"dragMode","pan"),e}return(0,Ht.Z)(n,[{key:"setProps",value:function(e){e.position=e.position||[0,0,0];var t=this.props;KM((0,lx.Z)(n.prototype),"setProps",this).call(this,e),(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState((0,V.Z)((0,V.Z)({makeViewport:this.makeViewport},e),this.state)))}}]),n}(Kj),Wj=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"ViewportType",get:function(){return Ej}},{key:"ControllerType",get:function(){return Hj}}]),n}(wj);(0,re.Z)(Wj,"displayName","MapView");var Gj=[255,255,255],qj=0,Yj=(0,Ht.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Vt.Z)(this,e),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"color",void 0),(0,re.Z)(this,"intensity",void 0),(0,re.Z)(this,"type","ambient");var n=t.color,r=void 0===n?Gj:n,i=t.intensity,o=void 0===i?1:i;this.id=t.id||"ambient-".concat(qj++),this.color=r,this.intensity=o})),Xj=[255,255,255],$j=[0,0,-1],Jj=0,Qj=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Vt.Z)(this,e),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"color",void 0),(0,re.Z)(this,"intensity",void 0),(0,re.Z)(this,"type","directional"),(0,re.Z)(this,"direction",void 0),(0,re.Z)(this,"shadow",void 0);var n=t.color,r=void 0===n?Xj:n,i=t.intensity,o=void 0===i?1:i,a=t.direction,s=void 0===a?$j:a,u=t._shadow,l=void 0!==u&&u;this.id=t.id||"directional-".concat(Jj++),this.color=r,this.intensity=o,this.type="directional",this.direction=new VR(s).normalize().toArray(),this.shadow=l}return(0,Ht.Z)(e,[{key:"getProjectedLight",value:function(e){return this}}]),e}(),eN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:"pass"};(0,Vt.Z)(this,e),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"gl",void 0),(0,re.Z)(this,"props",void 0);var r=n.id;this.id=r,this.gl=t,this.props=(0,V.Z)({},n)}return(0,Ht.Z)(e,[{key:"setProps",value:function(e){Object.assign(this.props,e)}},{key:"render",value:function(e){}},{key:"cleanup",value:function(){}}]),e}(),tN=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"_lastRenderIndex",-1),e}return(0,Ht.Z)(n,[{key:"render",value:function(e){return iA(this.gl,{framebuffer:e.target}),this._drawLayers(e)}},{key:"_drawLayers",value:function(e){var t=e.target,n=e.moduleParameters,r=e.viewports,i=e.views,o=e.onViewportActive,a=e.clearStack,s=void 0===a||a,u=e.clearCanvas,l=void 0===u||u;e.pass=e.pass||"unknown";var c=this.gl;l&&function(e,t){var n=t?t.width:e.drawingBufferWidth,r=t?t.height:e.drawingBufferHeight;iA(e,{viewport:[0,0,n,r]}),e.clear(16640)}(c,t),s&&(this._lastRenderIndex=-1);var h,f=[],d=gx(r);try{for(d.s();!(h=d.n()).done;){var p=h.value,v=i&&i[p.id];null===o||void 0===o||o(p);var g,m=this._getDrawLayerParams(p,e),y=gx(p.subViewports||[p]);try{for(y.s();!(g=y.n()).done;){var b=g.value,_=this._drawLayersInViewport(c,{target:t,moduleParameters:n,viewport:b,view:v,pass:e.pass,layers:e.layers},m);f.push(_)}}catch(YJ){y.e(YJ)}finally{y.f()}}}catch(YJ){d.e(YJ)}finally{d.f()}return f}},{key:"_getDrawLayerParams",value:function(e,t){for(var n=t.layers,r=t.pass,i=t.isPicking,o=void 0!==i&&i,a=t.layerFilter,s=t.cullRect,u=t.effects,l=t.moduleParameters,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=[],f=nN(this._lastRenderIndex+1),d={layer:n[0],viewport:e,isPicking:o,renderPass:r,cullRect:s},p={},v=0;v<n.length;v++){var g=n[v],m=this._shouldDrawLayer(g,d,a,p),y={shouldDrawLayer:m};m&&!c&&(y.layerRenderIndex=f(g,m),y.moduleParameters=this._getModuleParameters(g,u,r,l),y.layerParameters=this.getLayerParameters(g,v,e)),h[v]=y}return h}},{key:"_drawLayersInViewport",value:function(e,t,n){var r=t.layers,i=t.moduleParameters,o=t.pass,a=t.target,s=t.viewport,u=t.view,l=function(e,t){var n=t.moduleParameters,r=t.target,i=t.viewport,o=r&&"default-framebuffer"!==r.id,a=n&&n.devicePixelRatio||aA(e),s=o?r.height:e.drawingBufferHeight,u=i;return[u.x*a,s-(u.y+u.height)*a,u.width*a,u.height*a]}(e,{moduleParameters:i,target:a,viewport:s});if(u&&u.props.clear){var c=!0===u.props.clear?{color:!0,depth:!0}:u.props.clear;oA(e,{scissorTest:!0,scissor:l},(function(){return sT(e,c)}))}var h={totalCount:r.length,visibleCount:0,compositeCount:0,pickableCount:0};iA(e,{viewport:l});for(var f=0;f<r.length;f++){var d=r[f],p=n[f],v=p.shouldDrawLayer,g=p.layerRenderIndex,m=p.moduleParameters,y=p.layerParameters;if(v&&d.props.pickable&&h.pickableCount++,d.isComposite)h.compositeCount++;else if(v){h.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,g),m.viewport=s;try{d._drawLayer({moduleParameters:m,uniforms:{layerIndex:g},parameters:y})}catch(YJ){d.raiseError(YJ,"drawing ".concat(d," to ").concat(o))}}}return h}},{key:"shouldDrawLayer",value:function(e){return!0}},{key:"getModuleParameters",value:function(e,t){return null}},{key:"getLayerParameters",value:function(e,t,n){return e.props.parameters}},{key:"_shouldDrawLayer",value:function(e,t,n,r){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;t.layer=e;for(var i=e.parent;i;){if(!i.props.visible||!i.filterSubLayer(t))return!1;t.layer=i,i=i.parent}if(n){var o=t.layer.id;if(o in r||(r[o]=n(t)),!r[o])return!1}return e.activateViewport(t.viewport),!0}},{key:"_getModuleParameters",value:function(e,t,n,r){var i,o=Object.assign(Object.create((null===(i=e.internalState)||void 0===i?void 0:i.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:aA(this.gl)});if(t){var a,s=gx(t);try{for(s.s();!(a=s.n()).done;){var u,l=a.value;Object.assign(o,null===(u=l.getModuleParameters)||void 0===u?void 0:u.call(l,e))}}catch(YJ){s.e(YJ)}finally{s.f()}}return Object.assign(o,this.getModuleParameters(e,t),r)}}]),n}(eN);function nN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return function r(i,o){var a,s=i.props._offset,u=i.id,l=i.parent&&i.parent.id;if(l&&!(l in t)&&r(i.parent,!1),l in n){var c=n[l]=n[l]||nN(t[l],t);a=c(i,o),n[u]=c}else Number.isFinite(s)?(a=s+(t[l]||0),n[u]=null):a=e;return o&&a>=e&&(e=a+1),t[u]=a,a}}var rN=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e,r){var i,o,a;return(0,Vt.Z)(this,n),a=t.call(this,e,r),(0,re.Z)((0,UM.Z)(a),"shadowMap",void 0),(0,re.Z)((0,UM.Z)(a),"depthBuffer",void 0),(0,re.Z)((0,UM.Z)(a),"fbo",void 0),a.shadowMap=new tT(e,{width:1,height:1,parameters:(i={},(0,re.Z)(i,10241,9729),(0,re.Z)(i,10240,9729),(0,re.Z)(i,10242,33071),(0,re.Z)(i,10243,33071),i)}),a.depthBuffer=new oT(e,{format:33189,width:1,height:1}),a.fbo=new jT(e,{id:"shadowmap",width:1,height:1,attachments:(o={},(0,re.Z)(o,36064,a.shadowMap),(0,re.Z)(o,36096,a.depthBuffer),o)}),a}return(0,Ht.Z)(n,[{key:"render",value:function(e){var t=this,r=this.fbo;oA(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},(function(){var i=e.viewports[0],o=aA(t.gl),a=i.width*o,s=i.height*o;a===r.width&&s===r.height||r.resize({width:a,height:s}),KM((0,lx.Z)(n.prototype),"render",t).call(t,(0,V.Z)((0,V.Z)({},e),{},{target:r,pass:"shadow"}))}))}},{key:"shouldDrawLayer",value:function(e){return!1!==e.props.shadowEnabled}},{key:"getModuleParameters",value:function(){return{drawToShadowMap:!0}}},{key:"delete",value:function(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}]),n}(tN),iN=tj((function(e){var t=e.viewport,n=e.center;return new bL(t.viewProjectionMatrix).invert().transform(n)})),oN=tj((function(e){var t,n=e.viewport,r=e.shadowMatrices,i=[],o=n.pixelUnprojectionMatrix,a=n.isGeospatial?void 0:1,s=[[0,0,a],[n.width,0,a],[0,n.height,a],[n.width,n.height,a],[0,0,-1],[n.width,0,-1],[0,n.height,-1],[n.width,n.height,-1]].map((function(e){return function(e,t){var n=v(e,3),r=n[0],i=n[1],o=n[2],a=VL([r,i,o],t);if(Number.isFinite(o))return a;return[a[0],a[1],0]}(e,o)})),u=gx(r);try{var l=function(){var e=t.value,r=e.clone().translate(new VR(n.center).negate()),o=s.map((function(e){return r.transform(e)})),a=(new bL).ortho({left:Math.min.apply(Math,(0,g.Z)(o.map((function(e){return e[0]})))),right:Math.max.apply(Math,(0,g.Z)(o.map((function(e){return e[0]})))),bottom:Math.min.apply(Math,(0,g.Z)(o.map((function(e){return e[1]})))),top:Math.max.apply(Math,(0,g.Z)(o.map((function(e){return e[1]})))),near:Math.min.apply(Math,(0,g.Z)(o.map((function(e){return-e[2]})))),far:Math.max.apply(Math,(0,g.Z)(o.map((function(e){return-e[2]}))))});i.push(a.multiplyRight(e))};for(u.s();!(t=u.n()).done;)l()}catch(YJ){u.e(YJ)}finally{u.f()}return i})),aN=[0,0,0,1],sN=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];var uN={name:"shadow",dependencies:[cj],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"viewport"in e&&(e.drawToShadowMap||e.shadowMaps&&e.shadowMaps.length>0)?function(e,t){var n=e.shadowEnabled;if(void 0!==n&&!n||!e.shadowMatrices||!e.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};for(var r={shadow_uDrawShadowMap:Boolean(e.drawToShadowMap),shadow_uUseShadowMap:!!e.shadowMaps&&e.shadowMaps.length>0,shadow_uColor:e.shadowColor||aN,shadow_uLightId:e.shadowLightId||0,shadow_uLightCount:e.shadowMatrices.length},i=iN({viewport:e.viewport,center:t.project_uCenter}),o=[],a=oN({shadowMatrices:e.shadowMatrices,viewport:e.viewport}).slice(),s=0;s<e.shadowMatrices.length;s++){var u=a[s],l=u.clone().translate(new VR(e.viewport.center).negate());t.project_uCoordinateSystem===qL.LNGLAT&&t.project_uProjectionMode===YL.WEB_MERCATOR?(a[s]=l,o[s]=i):(a[s]=u.clone().multiplyRight(sN),o[s]=l.transform(i))}for(var c=0;c<a.length;c++)r["shadow_uViewProjectionMatrices[".concat(c,"]")]=a[c],r["shadow_uProjectCenters[".concat(c,"]")]=o[c],e.shadowMaps&&e.shadowMaps.length>0?r["shadow_uShadowMap".concat(c)]=e.shadowMaps[c]:r["shadow_uShadowMap".concat(c)]=e.dummyShadowMap;return r}(e,t):{}}},lN={color:[255,255,255],intensity:1},cN=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],hN=[0,0,0,200/255],fN=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Vt.Z)(this,e),(0,re.Z)(this,"id","lighting-effect"),(0,re.Z)(this,"props",void 0),(0,re.Z)(this,"shadowColor",hN),(0,re.Z)(this,"shadow",void 0),(0,re.Z)(this,"ambientLight",void 0),(0,re.Z)(this,"directionalLights",void 0),(0,re.Z)(this,"pointLights",void 0),(0,re.Z)(this,"shadowPasses",[]),(0,re.Z)(this,"shadowMaps",[]),(0,re.Z)(this,"dummyShadowMap",null),(0,re.Z)(this,"programManager",void 0),(0,re.Z)(this,"shadowMatrices",void 0),this.setProps(t)}return(0,Ht.Z)(e,[{key:"setProps",value:function(e){for(var t in this.ambientLight=null,this.directionalLights=[],this.pointLights=[],e){var n=e[t];switch(n.type){case"ambient":this.ambientLight=n;break;case"directional":this.directionalLights.push(n);break;case"point":this.pointLights.push(n)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some((function(e){return e.shadow})),this.props=e}},{key:"preRender",value:function(e,t){var n=t.layers,r=t.layerFilter,i=t.viewports,o=t.onViewportActive,a=t.views;if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=WD.getDefaultProgramManager(e),uN&&this.programManager.addDefaultModule(uN)),this.dummyShadowMap||(this.dummyShadowMap=new tT(e,{width:1,height:1}));for(var s=0;s<this.shadowPasses.length;s++){this.shadowPasses[s].render({layers:n,layerFilter:r,viewports:i,onViewportActive:o,views:a,moduleParameters:{shadowLightId:s,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}}},{key:"getModuleParameters",value:function(e){var t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((function(t){return t.getProjectedLight({layer:e})})),pointLights:this.pointLights.map((function(t){return t.getProjectedLight({layer:e})}))},t}},{key:"cleanup",value:function(){var e,t=gx(this.shadowPasses);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(YJ){t.e(YJ)}finally{t.f()}this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(uN),this.programManager=null)}},{key:"_calculateMatrices",value:function(){var e,t=[],n=gx(this.directionalLights);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=(new bL).lookAt({eye:new VR(r.direction).negate()});t.push(i)}}catch(YJ){n.e(YJ)}finally{n.f()}return t}},{key:"_createShadowPasses",value:function(e){for(var t=0;t<this.directionalLights.length;t++){var n=new rN(e);this.shadowPasses[t]=n,this.shadowMaps[t]=n.shadowMap}}},{key:"_applyDefaultLights",value:function(){var e=this.ambientLight,t=this.pointLights,n=this.directionalLights;e||0!==t.length||0!==n.length||(this.ambientLight=new Yj(lN),this.directionalLights.push(new Qj(cN[0]),new Qj(cN[1])))}}]),e}(),dN=new fN;var pN=function(){function e(){(0,Vt.Z)(this,e),(0,re.Z)(this,"effects",void 0),(0,re.Z)(this,"_resolvedEffects",[]),(0,re.Z)(this,"_defaultEffects",[]),(0,re.Z)(this,"_needsRedraw",void 0),this.effects=[],this._needsRedraw="Initial render",this._setEffects([])}return(0,Ht.Z)(e,[{key:"addDefaultEffect",value:function(e){var t=this._defaultEffects;if(!t.find((function(t){return t.id===e.id}))){var n=t.findIndex((function(t){return function(e,t){var n,r;return(null!==(n=e.order)&&void 0!==n?n:1/0)-(null!==(r=t.order)&&void 0!==r?r:1/0)}(t,e)>0}));n<0?t.push(e):t.splice(n,0,e),this._setEffects(this.effects)}}},{key:"setProps",value:function(e){"effects"in e&&(vj(e.effects,this.effects,1)||this._setEffects(e.effects))}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"getEffects",value:function(){return this._resolvedEffects}},{key:"_setEffects",value:function(e){var t,n={},r=gx(this.effects);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.id]=i}}catch(YJ){r.e(YJ)}finally{r.f()}var o,a=[],s=gx(e);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n[u.id];l&&l!==u?l.setProps?(l.setProps(u.props),a.push(l)):(l.cleanup(),a.push(u)):a.push(u),delete n[u.id]}}catch(YJ){s.e(YJ)}finally{s.f()}for(var c in n)n[c].cleanup();this.effects=a,this._resolvedEffects=a.concat(this._defaultEffects),e.some((function(e){return e instanceof fN}))||this._resolvedEffects.push(dN),this._needsRedraw="effects changed"}},{key:"finalize",value:function(){var e,t=gx(this._resolvedEffects);try{for(t.s();!(e=t.n()).done;){e.value.cleanup()}}catch(YJ){t.e(YJ)}finally{t.f()}this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}]),e}(),vN=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"shouldDrawLayer",value:function(e){var t=e.props.operation;return t.includes("draw")||t.includes("terrain")}}]),n}(tN),gN={blendFunc:[1,0,32771,0],blendEquation:32774},mN=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"pickZ",void 0),(0,re.Z)((0,UM.Z)(e),"_colorEncoderState",null),e}return(0,Ht.Z)(n,[{key:"render",value:function(e){return"pickingFBO"in e?this._drawPickingBuffer(e):KM((0,lx.Z)(n.prototype),"render",this).call(this,e)}},{key:"_drawPickingBuffer",value:function(e){var t=this,r=e.layers,i=e.layerFilter,o=e.views,a=e.viewports,s=e.onViewportActive,u=e.pickingFBO,l=e.deviceRect,c=l.x,h=l.y,f=l.width,d=l.height,p=e.cullRect,v=e.effects,g=e.pass,m=void 0===g?"picking":g,y=e.pickZ,b=e.moduleParameters,_=this.gl;this.pickZ=y;var w=this._resetColorEncoder(y),E=oA(_,(0,V.Z)((0,V.Z)({scissorTest:!0,scissor:[c,h,f,d],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0]},gN),{},{blend:!y}),(function(){return KM((0,lx.Z)(n.prototype),"render",t).call(t,{target:u,layers:r,layerFilter:i,views:o,viewports:a,onViewportActive:s,cullRect:p,effects:null===v||void 0===v?void 0:v.filter((function(e){return e.useInPicking})),pass:m,isPicking:!0,moduleParameters:b})}));return this._colorEncoderState=null,{decodePickingColor:w&&yN.bind(null,w),stats:E}}},{key:"shouldDrawLayer",value:function(e){var t=e.props,n=t.pickable,r=t.operation;return n&&r.includes("draw")||r.includes("terrain")}},{key:"getModuleParameters",value:function(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}},{key:"getLayerParameters",value:function(e,t,n){var r=(0,V.Z)({},e.props.parameters),i=e.props,o=i.pickable,a=i.operation;return this._colorEncoderState?o&&a.includes("draw")&&(Object.assign(r,gN),r.blend=!0,r.blendColor=function(e,t,n){var r,i=e.byLayer,o=e.byAlpha,a=i.get(t);a?(a.viewports.push(n),r=a.a):(r=i.size+1)<=255?(a={a:r,layer:t,viewports:[n]},i.set(t,a),o[r]=a):(EP.warn("Too many pickable layers, only picking the first 255")(),r=0);return[0,0,0,r/255]}(this._colorEncoderState,e,n)):r.blend=!1,a.includes("terrain")&&(r.blend=!1),r}},{key:"_resetColorEncoder",value:function(e){return this._colorEncoderState=e?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}]),n}(tN);function yN(e,t){var n=e.byAlpha[t[3]];return n&&{pickedLayer:n.layer,pickedViewports:n.viewports,pickedObjectIndex:n.layer.decodePickingColor(t)}}var bN=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"gl",void 0),(0,re.Z)(this,"layerFilter",void 0),(0,re.Z)(this,"drawPickingColors",void 0),(0,re.Z)(this,"drawLayersPass",void 0),(0,re.Z)(this,"pickLayersPass",void 0),(0,re.Z)(this,"renderCount",void 0),(0,re.Z)(this,"_needsRedraw",void 0),(0,re.Z)(this,"renderBuffers",void 0),(0,re.Z)(this,"lastPostProcessEffect",void 0),this.gl=t,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new vN(t),this.pickLayersPass=new mN(t),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}return(0,Ht.Z)(e,[{key:"setProps",value:function(e){this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}},{key:"renderLayers",value:function(e){var t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,n=(0,V.Z)((0,V.Z)({layerFilter:this.layerFilter,isPicking:this.drawPickingColors},e),{},{target:e.target||jT.getDefaultFramebuffer(this.gl)});n.effects&&this._preRender(n.effects,n);var r=this.lastPostProcessEffect?this.renderBuffers[0]:n.target,i=t.render((0,V.Z)((0,V.Z)({},n),{},{target:r}));n.effects&&this._postRender(n.effects,n),this.renderCount++,MP("deckRenderer.renderLayers",this,i,e)}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"finalize",value:function(){var e,t=this.renderBuffers,n=gx(t);try{for(n.s();!(e=n.n()).done;){e.value.delete()}}catch(YJ){n.e(YJ)}finally{n.f()}t.length=0}},{key:"_preRender",value:function(e,t){this.lastPostProcessEffect=null,t.preRenderStats=t.preRenderStats||{};var n,r=gx(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.preRenderStats[i.id]=i.preRender(this.gl,t),i.postRender&&(this.lastPostProcessEffect=i.id)}}catch(YJ){r.e(YJ)}finally{r.f()}this.lastPostProcessEffect&&this._resizeRenderBuffers()}},{key:"_resizeRenderBuffers",value:function(){var e=this.renderBuffers;0===e.length&&e.push(new jT(this.gl),new jT(this.gl));var t,n=gx(e);try{for(n.s();!(t=n.n()).done;){t.value.resize()}}catch(YJ){n.e(YJ)}finally{n.f()}}},{key:"_postRender",value:function(e,t){var n,r=this.renderBuffers,i=(0,V.Z)((0,V.Z)({},t),{},{inputBuffer:r[0],swapBuffer:r[1],target:null}),o=gx(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.postRender){if(a.id===this.lastPostProcessEffect){i.target=t.target,a.postRender(this.gl,i);break}var s=a.postRender(this.gl,i);i.inputBuffer=s,i.swapBuffer=s===r[0]?r[1]:r[0]}}}catch(YJ){o.e(YJ)}finally{o.f()}}}]),e}(),_N={pickedColor:null,pickedObjectIndex:-1};function wN(e){for(var t=e.pickedColors,n=e.decodePickingColor,r=e.deviceX,i=e.deviceY,o=e.deviceRadius,a=e.deviceRect,s=a.x,u=a.y,l=a.width,c=a.height,h=o*o,f=-1,d=0,p=0;p<c;p++){var v=p+u-i,g=v*v;if(g>h)d+=4*l;else for(var m=0;m<l;m++){if(t[d+3]-1>=0){var y=m+s-r,b=y*y+g;b<=h&&(h=b,f=d)}d+=4}}if(f>=0){var _=t.slice(f,f+4),w=n(_);if(w){var E=Math.floor(f/4/l),S=f/4-E*l;return(0,V.Z)((0,V.Z)({},w),{},{pickedColor:_,pickedX:s+S,pickedY:u+E})}EP.error("Picked non-existent layer. Is picking buffer corrupt?")()}return _N}function EN(e){var t,n=e.pickInfo,r=e.viewports,i=e.pixelRatio,o=e.x,a=e.y,s=e.z,u=r[0];if(r.length>1&&(u=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.containsPixel(t))return r}return e[0]}((null===n||void 0===n?void 0:n.pickedViewports)||r,{x:o,y:a})),u){var l=[o-u.x,a-u.y];void 0!==s&&(l[2]=s),t=u.unproject(l)}return{color:null,layer:null,viewport:u,index:-1,picked:!1,x:o,y:a,pixel:[o,a],coordinate:t,devicePixel:n&&"pickedX"in n?[n.pickedX,n.pickedY]:void 0,pixelRatio:i}}function SN(e){var t=e.pickInfo,n=e.lastPickedInfo,r=e.mode,i=e.layers,o=t.pickedColor,a=t.pickedLayer,s=t.pickedObjectIndex,u=a?[a]:[];if("hover"===r){var l=n.index,c=n.layerId,h=a?a.props.id:null;if(h!==c||s!==l){if(h!==c){var f=i.find((function(e){return e.props.id===c}));f&&u.unshift(f)}n.layerId=h,n.index=s,n.info=null}}var d=EN(e),p=new Map;return p.set(null,d),u.forEach((function(e){var t=(0,V.Z)({},d);e===a&&(t.color=o,t.index=s,t.picked=!0);var i=(t=xN({layer:e,info:t,mode:r})).layer;e===a&&"hover"===r&&(n.info=t),p.set(i.id,t),"hover"===r&&i.updateAutoHighlight(t)})),p}function xN(e){for(var t=e.layer,n=e.info,r=e.mode;t&&n;){var i=n.layer||null;n.sourceLayer=i,n.layer=t,n=t.getPickingInfo({info:n,mode:r,sourceLayer:i}),t=t.parent}return n}var MN=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"gl",void 0),(0,re.Z)(this,"pickingFBO",void 0),(0,re.Z)(this,"depthFBO",void 0),(0,re.Z)(this,"pickLayersPass",void 0),(0,re.Z)(this,"layerFilter",void 0),(0,re.Z)(this,"lastPickedInfo",void 0),(0,re.Z)(this,"_pickable",!0),this.gl=t,this.pickLayersPass=new mN(t),this.lastPickedInfo={index:-1,layerId:null,info:null}}return(0,Ht.Z)(e,[{key:"setProps",value:function(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}},{key:"finalize",value:function(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}},{key:"pickObject",value:function(e){return this._pickClosestObject(e)}},{key:"pickObjects",value:function(e){return this._pickVisibleObjects(e)}},{key:"getLastPickedObject",value:function(e){var t=e.x,n=e.y,r=e.layers,i=e.viewports,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastPickedInfo.info,a=o&&o.layer&&o.layer.id,s=o&&o.viewport&&o.viewport.id,u=a?r.find((function(e){return e.id===a})):null,l=s&&i.find((function(e){return e.id===s}))||i[0],c=l&&l.unproject([t-l.x,n-l.y]),h={x:t,y:n,viewport:l,coordinate:c,layer:u};return(0,V.Z)((0,V.Z)({},o),h)}},{key:"_resizeBuffer",value:function(){var e,t,n=this.gl;if(!this.pickingFBO&&(this.pickingFBO=new jT(n),jT.isSupported(n,{colorBufferFloat:!0}))){var r=new jT(n);r.attach((0,re.Z)({},36064,new tT(n,{format:bk(n)?34836:6408,type:5126}))),this.depthFBO=r}null===(e=this.pickingFBO)||void 0===e||e.resize({width:n.canvas.width,height:n.canvas.height}),null===(t=this.depthFBO)||void 0===t||t.resize({width:n.canvas.width,height:n.canvas.height})}},{key:"_getPickable",value:function(e){var t=this;if(!1===this._pickable)return null;var n=e.filter((function(e){return t.pickLayersPass.shouldDrawLayer(e)&&!e.isComposite}));return n.length?n:null}},{key:"_pickClosestObject",value:function(e){var t=e.layers,n=e.views,r=e.viewports,i=e.x,o=e.y,a=e.radius,s=void 0===a?0:a,u=e.depth,l=void 0===u?1:u,c=e.mode,h=void 0===c?"query":c,f=e.unproject3D,d=e.onViewportActive,p=e.effects,v=this._getPickable(t),g=aA(this.gl);if(!v)return{result:[],emptyInfo:EN({viewports:r,x:i,y:o,pixelRatio:g})};this._resizeBuffer();for(var m,y=sA(this.gl,[i,o],!0),b=[y.x+Math.floor(y.width/2),y.y+Math.floor(y.height/2)],_=Math.round(s*g),w=this.pickingFBO,E=w.width,S=w.height,x=this._getPickingRect({deviceX:b[0],deviceY:b[1],deviceRadius:_,deviceWidth:E,deviceHeight:S}),M={x:i-s,y:o-s,width:2*s+1,height:2*s+1},k=[],A=new Set,T=0;T<l;T++){var P=void 0;if(x){var O=this._drawAndSample({layers:v,views:n,viewports:r,onViewportActive:d,deviceRect:x,cullRect:M,effects:p,pass:"picking:".concat(h)});P=wN((0,V.Z)((0,V.Z)({},O),{},{deviceX:b[0],deviceY:b[1],deviceRadius:_,deviceRect:x}))}else P={pickedColor:null,pickedObjectIndex:-1};var C=void 0;if(P.pickedLayer&&f&&this.depthFBO){var R=this._drawAndSample({layers:[P.pickedLayer],views:n,viewports:r,onViewportActive:d,deviceRect:{x:P.pickedX,y:P.pickedY,width:1,height:1},cullRect:M,effects:p,pass:"picking:".concat(h,":z")},!0).pickedColors;R[3]&&(C=R[0])}P.pickedLayer&&T+1<l&&(A.add(P.pickedLayer),P.pickedLayer.disablePickingIndex(P.pickedObjectIndex));var L,I=gx((m=SN({pickInfo:P,lastPickedInfo:this.lastPickedInfo,mode:h,layers:v,viewports:r,x:i,y:o,z:C,pixelRatio:g})).values());try{for(I.s();!(L=I.n()).done;){var D=L.value;D.layer&&k.push(D)}}catch(YJ){I.e(YJ)}finally{I.f()}if(!P.pickedColor)break}var j,N=gx(A);try{for(N.s();!(j=N.n()).done;){j.value.restorePickingColors()}}catch(YJ){N.e(YJ)}finally{N.f()}return{result:k,emptyInfo:m.get(null)}}},{key:"_pickVisibleObjects",value:function(e){var t=e.layers,n=e.views,r=e.viewports,i=e.x,o=e.y,a=e.width,s=void 0===a?1:a,u=e.height,l=void 0===u?1:u,c=e.mode,h=void 0===c?"query":c,f=e.maxObjects,d=void 0===f?null:f,p=e.onViewportActive,v=e.effects,g=this._getPickable(t);if(!g)return[];this._resizeBuffer();for(var m=aA(this.gl),y=sA(this.gl,[i,o],!0),b=y.x,_=y.y+y.height,w=sA(this.gl,[i+s,o+l],!0),E=w.x+w.width,S=w.y,x={x:b,y:S,width:E-b,height:_-S},M=function(e){var t=e.pickedColors,n=e.decodePickingColor,r=new Map;if(t)for(var i=0;i<t.length;i+=4)if(t[i+3]-1>=0){var o=t.slice(i,i+4),a=o.join(",");if(!r.has(a)){var s=n(o);s?r.set(a,(0,V.Z)((0,V.Z)({},s),{},{color:o})):EP.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(r.values())}(this._drawAndSample({layers:g,views:n,viewports:r,onViewportActive:p,deviceRect:x,cullRect:{x:i,y:o,width:s,height:l},effects:v,pass:"picking:".concat(h)})),k=new Map,A=Number.isFinite(d),T=0;T<M.length&&!(A&&d&&k.size>=d);T++){var P=M[T],O={color:P.pickedColor,layer:null,index:P.pickedObjectIndex,picked:!0,x:i,y:o,pixelRatio:m};O=xN({layer:P.pickedLayer,info:O,mode:h}),k.has(O.object)||k.set(O.object,O)}return Array.from(k.values())}},{key:"_drawAndSample",value:function(e){var t,n=e.layers,r=e.views,i=e.viewports,o=e.onViewportActive,a=e.deviceRect,s=e.cullRect,u=e.effects,l=e.pass,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=c?this.depthFBO:this.pickingFBO,f={layers:n,layerFilter:this.layerFilter,views:r,viewports:i,onViewportActive:o,pickingFBO:h,deviceRect:a,cullRect:s,effects:u,pass:l,pickZ:c,preRenderStats:{}},d=gx(u);try{for(d.s();!(t=d.n()).done;){var p=t.value;p.useInPicking&&(f.preRenderStats[p.id]=p.preRender(this.gl,f))}}catch(YJ){d.e(YJ)}finally{d.f()}var v=this.pickLayersPass.render(f).decodePickingColor,g=a.x,m=a.y,y=a.width,b=a.height,_=new(c?Float32Array:Uint8Array)(y*b*4);return HT(h,{sourceX:g,sourceY:m,sourceWidth:y,sourceHeight:b,target:_}),{pickedColors:_,decodePickingColor:v}}},{key:"_getPickingRect",value:function(e){var t=e.deviceX,n=e.deviceY,r=e.deviceRadius,i=e.deviceWidth,o=e.deviceHeight,a=Math.max(0,t-r),s=Math.max(0,n-r),u=Math.min(i,t+r+1)-a,l=Math.min(o,n+r+1)-s;return u<=0||l<=0?null:{x:a,y:s,width:u,height:l}}}]),e}(),kN={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"},AN=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"el",null),(0,re.Z)(this,"isVisible",!1);var n=t.parentElement;n&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,kN),n.appendChild(this.el))}return(0,Ht.Z)(e,[{key:"setTooltip",value:function(e,t,n){var r=this.el;if(r){if("string"===typeof e)r.innerText=e;else{if(!e)return this.isVisible=!1,void(r.style.display="none");e.text&&(r.innerText=e.text),e.html&&(r.innerHTML=e.html),e.className&&(r.className=e.className)}this.isVisible=!0,r.style.display="block",r.style.transform="translate(".concat(t,"px, ").concat(n,"px)"),e&&"object"===typeof e&&"style"in e&&Object.assign(r.style,e.style)}}},{key:"remove",value:function(){this.el&&(this.el.remove(),this.el=null)}}]),e}(),TN=globalThis._parseImageNode,PN="undefined"!==typeof Image,ON="undefined"!==typeof ImageBitmap,CN=Boolean(TN),RN=!!jO||CN;function LN(e){var t=DN(e);if(!t)throw new Error("Not an image");return t}function IN(e){switch(LN(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("getImageData");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function DN(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!==typeof Image&&e instanceof Image?"image":e&&"object"===typeof e&&e.data&&e.width&&e.height?"data":null}var jN=/^data:image\/svg\+xml/,NN=/\.svg((\?|#).*)?$/;function BN(e){return e&&(jN.test(e)||NN.test(e))}function zN(e,t){if(BN(t)){var n=(new TextDecoder).decode(e);try{"function"===typeof unescape&&"function"===typeof encodeURIComponent&&(n=unescape(encodeURIComponent(n)))}catch(r){throw new Error(r.message)}return"data:image/svg+xml;base64,".concat(btoa(n))}return ZN(e,t)}function ZN(e,t){if(BN(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}function FN(e,t,n){return UN.apply(this,arguments)}function UN(){return UN=ZT(BT().mark((function e(t,n,r){var i,o,a;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zN(t,r),o=self.URL||self.webkitURL,a="string"!==typeof i&&o.createObjectURL(i),e.prev=3,e.next=6,KN(a||i,n);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,a&&o.revokeObjectURL(a),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])}))),UN.apply(this,arguments)}function KN(e,t){return VN.apply(this,arguments)}function VN(){return VN=ZT(BT().mark((function e(t,n){var r;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=new Image).src=t,!(n.image&&n.image.decode&&r.decode)){e.next=6;break}return e.next=5,r.decode();case 5:return e.abrupt("return",r);case 6:return e.next=8,new Promise((function(e,n){try{r.onload=function(){return e(r)},r.onerror=function(e){return n(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(i){n(i)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),VN.apply(this,arguments)}var HN={},WN=!0;function GN(e,t,n){return qN.apply(this,arguments)}function qN(){return qN=ZT(BT().mark((function e(t,n,r){var i,o,a;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!BN(r)){e.next=7;break}return e.next=3,FN(t,n,r);case 3:o=e.sent,i=o,e.next=8;break;case 7:i=ZN(t,r);case 8:return a=n&&n.imagebitmap,e.next=11,YN(i,a);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))),qN.apply(this,arguments)}function YN(e){return XN.apply(this,arguments)}function XN(){return XN=ZT(BT().mark((function e(t){var n,r=arguments;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$N(n=r.length>1&&void 0!==r[1]?r[1]:null)&&WN||(n=null),!n){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,n);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),WN=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),XN.apply(this,arguments)}function $N(e){for(var t in e||HN)return!1;return!0}function JN(e){return function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(o=t,(0,g.Z)(o).map((function(e){return e.charCodeAt(0)}))),i=0;i<r.length;++i)if(r[i]!==e[i+n])return!1;var o;return!0}(e,"ftyp",4)?0===(96&e[8])?null:function(e){switch(function(e,t,n){return String.fromCharCode.apply(String,(0,g.Z)(e.slice(t,n)))}(e,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(e):null}var QN=!1,eB=!0;function tB(e){var t=nB(e);return function(e){var t=nB(e),n=t.byteLength>=24&&2303741511===t.getUint32(0,QN);if(!n)return null;return{mimeType:"image/png",width:t.getUint32(16,QN),height:t.getUint32(20,QN)}}(t)||function(e){var t=nB(e),n=t.byteLength>=3&&65496===t.getUint16(0,QN)&&255===t.getUint8(2);if(!n)return null;var r=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var n=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:n}}(),i=r.tableMarkers,o=r.sofMarkers,a=2;for(;a+9<t.byteLength;){var s=t.getUint16(a,QN);if(o.has(s))return{mimeType:"image/jpeg",height:t.getUint16(a+5,QN),width:t.getUint16(a+7,QN)};if(!i.has(s))return null;a+=2,a+=t.getUint16(a,QN)}return null}(t)||function(e){var t=nB(e),n=t.byteLength>=10&&1195984440===t.getUint32(0,QN);if(!n)return null;return{mimeType:"image/gif",width:t.getUint16(6,eB),height:t.getUint16(8,eB)}}(t)||function(e){var t=nB(e),n=t.byteLength>=14&&16973===t.getUint16(0,QN)&&t.getUint32(2,eB)===t.byteLength;if(!n)return null;return{mimeType:"image/bmp",width:t.getUint32(18,eB),height:t.getUint32(22,eB)}}(t)||function(e){var t=new Uint8Array(e instanceof DataView?e.buffer:e),n=JN(t);if(!n)return null;return{mimeType:n.mimeType,width:0,height:0}}(t)}function nB(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}function rB(e,t){return iB.apply(this,arguments)}function iB(){return iB=ZT(BT().mark((function e(t,n){var r,i,o;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tB(t)||{},i=r.mimeType,zP(o=globalThis._parseImageNode),e.next=5,o(t,i);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),iB.apply(this,arguments)}function oB(){return oB=ZT(BT().mark((function e(t,n,r){var i,o,a,s,u;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(n=n||{}).image||{},o=i.type||"auto",a=(r||{}).url,s=aB(o),e.t0=s,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,GN(t,n,a);case 10:return u=e.sent,e.abrupt("break",21);case 12:return e.next=14,FN(t,n,a);case 14:return u=e.sent,e.abrupt("break",21);case 16:return e.next=18,rB(t,n);case 18:return u=e.sent,e.abrupt("break",21);case 20:zP(!1);case 21:return"data"===o&&(u=IN(u)),e.abrupt("return",u);case 23:case"end":return e.stop()}}),e)}))),oB.apply(this,arguments)}function aB(e){switch(e){case"auto":case"data":return function(){if(ON)return"imagebitmap";if(PN)return"image";if(RN)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return ON||PN||RN;case"imagebitmap":return ON;case"image":return PN;case"data":return RN;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}(e),e}}var sB={id:"image",module:"images",name:"Images",version:"3.4.4",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:function(e,t,n){return oB.apply(this,arguments)},tests:[function(e){return Boolean(tB(new DataView(e)))}],options:{image:{type:"auto",decode:!0}}};var uB={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function(e){var t=e[0],n=e[e.length-1];return"{"===t&&"}"===n||"["===t&&"]"===n},parseTextSync:JSON.parse};var lB=function(){var e="8.9.19",t=globalThis.deck&&globalThis.deck.VERSION;if(t&&t!==e)throw new Error("deck.gl - multiple versions detected: ".concat(t," vs ").concat(e));return t||(EP.log(1,"deck.gl ".concat(e))(),globalThis.deck=(0,V.Z)((0,V.Z)({},globalThis.deck),{},{VERSION:e,version:e,log:EP,_registerLoggers:xP}),function(e){var t,n=qC(),r=gx(e=Array.isArray(e)?e:[e]);try{var i=function(){var e=FP(t.value);n.find((function(t){return e===t}))||n.unshift(e)};for(r.s();!(t=r.n()).done;)i()}catch(YJ){r.e(YJ)}finally{r.f()}}([uB,[sB,{imagebitmap:{premultiplyAlpha:"none"}}]])),e}(),cB=globalThis;function hB(e){if(!e&&!GM())return"Node";if(HM(e))return"Electron";var t="undefined"!==typeof navigator?navigator:{},n=e||t.userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";var r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i?"IE":cB.chrome?"Chrome":cB.safari?"Safari":cB.mozInnerScreenX?"Firefox":"Unknown"}var fB=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e){var t;(0,Vt.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,i)).target=null,t._queryPending=!1,t._pollingPromise=null,Object.seal((0,UM.Z)(t)),t}return(0,Ht.Z)(r,[{key:t,get:function(){return"Query"}},{key:"beginTimeElapsedQuery",value:function(){return this.begin(35007)}},{key:"beginOcclusionQuery",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).conservative,t=void 0!==e&&e;return this.begin(t?36202:35887)}},{key:"beginTransformFeedbackQuery",value:function(){return this.begin(35976)}},{key:"begin",value:function(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}},{key:"end",value:function(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}},{key:"isResultAvailable",value:function(){if(!this._queryPending)return!1;var e=this.gl2.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}},{key:"isTimerDisjoint",value:function(){return this.gl2.getParameter(36795)}},{key:"getResult",value:function(){return this.gl2.getQueryParameter(this.handle,34918)}},{key:"getTimerMilliseconds",value:function(){return this.getResult()/1e6}},{key:"createPoll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;var n=0;return this._pollingPromise=new Promise((function(r,i){requestAnimationFrame((function o(){e.isResultAvailable()?(r(e.getResult()),e._pollingPromise=null):n++>t?(i("Timed out"),e._pollingPromise=null):requestAnimationFrame(o)}))})),this._pollingPromise}},{key:"_createHandle",value:function(){return r.isSupported(this.gl)?this.gl2.createQuery():null}},{key:"_deleteHandle",value:function(){this.gl2.deleteQuery(this.handle)}}],[{key:"isSupported",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=bk(e),i=LT(e,cT),o=r||i,a=gx(n);try{for(a.s();!(t=a.n()).done;){switch(t.value){case"queries":o=o&&r;break;case"timers":o=o&&i;break;default:EA(!1)}}}catch(YJ){a.e(YJ)}finally{a.f()}return o}}]),r}(CA,Symbol.toStringTag);var dB=GM()&&"undefined"!==typeof document,pB=0,vB=function(){function e(){(0,Vt.Z)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onCreateContext,r=void 0===n?function(e){return dA(e)}:n,i=t.onAddHTML,o=void 0===i?null:i,a=t.onInitialize,s=void 0===a?function(){}:a,u=t.onRender,l=void 0===u?function(){}:u,c=t.onFinalize,h=void 0===c?function(){}:c,f=t.onError,d=t.gl,p=void 0===d?null:d,v=t.glOptions,g=void 0===v?{}:v,m=t.debug,y=void 0!==m&&m,b=t.createFramebuffer,_=void 0!==b&&b,w=t.autoResizeViewport,E=void 0===w||w,S=t.autoResizeDrawingBuffer,x=void 0===S||S,M=t.stats,k=void 0===M?wA.get("animation-loop-".concat(pB++)):M,A=t.useDevicePixels,T=void 0===A||A;"useDevicePixelRatio"in t&&(pk.deprecated("useDevicePixelRatio","useDevicePixels")(),T=t.useDevicePixelRatio),this.props={onCreateContext:r,onAddHTML:o,onInitialize:s,onRender:l,onFinalize:h,onError:f,gl:p,glOptions:g,debug:y,createFramebuffer:_},this.gl=p,this.needsRedraw=null,this.timeline=null,this.stats=k,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:E,autoResizeDrawingBuffer:x,useDevicePixels:T}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}return(0,Ht.Z)(e,[{key:"delete",value:function(){this.stop(),this._setDisplay(null)}},{key:"setNeedsRedraw",value:function(e){return EA("string"===typeof e),this.needsRedraw=this.needsRedraw||e,this}},{key:"setProps",value:function(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;var n=this._getPageLoadPromise().then((function(){return!e._running||e._initialized?null:(e._createWebGLContext(t),e._createFramebuffer(),e._startEventHandling(),e._initializeCallbackData(),e._updateCallbackData(),e._resizeCanvasDrawingBuffer(),e._resizeViewport(),e._gpuTimeQuery=fB.isSupported(e.gl,["timers"])?new fB(e.gl):null,e._initialized=!0,e.onInitialize(e.animationProps))})).then((function(t){e._running&&(e._addCallbackData(t||{}),!1!==t&&e._startLoop())}));return this.props.onError&&n.catch(this.props.onError),this}},{key:"redraw",value:function(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}},{key:"stop",value:function(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}},{key:"attachTimeline",value:function(e){return this.timeline=e,this.timeline}},{key:"detachTimeline",value:function(){this.timeline=null}},{key:"waitForRender",value:function(){var e=this;return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((function(t){e._resolveNextFrame=t}))),this._nextFramePromise}},{key:"toDataURL",value:function(){var e=ZT(BT().mark((function e(){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setNeedsRedraw("toDataURL"),e.next=3,this.waitForRender();case 3:return e.abrupt("return",this.gl.canvas.toDataURL());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isContextLost",value:function(){return this.gl.isContextLost()}},{key:"onCreateContext",value:function(){var e;return(e=this.props).onCreateContext.apply(e,arguments)}},{key:"onInitialize",value:function(){var e;return(e=this.props).onInitialize.apply(e,arguments)}},{key:"onRender",value:function(){var e;return(e=this.props).onRender.apply(e,arguments)}},{key:"onFinalize",value:function(){var e;return(e=this.props).onFinalize.apply(e,arguments)}},{key:"getHTMLControlValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=document.getElementById(e);return n?Number(n.value):t}},{key:"setViewParameters",value:function(){return pk.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}},{key:"_startLoop",value:function(){var e=this;this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame((function t(){e._running&&(e.redraw(),e._animationFrameId=e._requestAnimationFrame(t))}))}},{key:"_getPageLoadPromise",value:function(){return this._pageLoadPromise||(this._pageLoadPromise=dB?new Promise((function(e,t){dB&&"complete"===document.readyState?e(document):window.addEventListener("load",(function(){e(document)}))})):Promise.resolve({})),this._pageLoadPromise}},{key:"_setDisplay",value:function(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}},{key:"_cancelAnimationFrame",value:function(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):(t=e,"undefined"!==typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t));var t}},{key:"_requestAnimationFrame",value:function(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):(t=e,"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60));var t}},{key:"_renderFrame",value:function(){var e;this.display?(e=this.display)._renderFrame.apply(e,arguments):this.onRender.apply(this,arguments)}},{key:"_clearNeedsRedraw",value:function(){this.needsRedraw=null}},{key:"_setupFrame",value:function(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}},{key:"_initializeCallbackData",value:function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}},{key:"_updateCallbackData",value:function(){var e=this._getSizeAndAspect(),t=e.width,n=e.height,r=e.aspect;t===this.animationProps.width&&n===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=t,this.animationProps.height=n,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}},{key:"_finalizeCallbackData",value:function(){this.onFinalize(this.animationProps)}},{key:"_addCallbackData",value:function(e){"object"===typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}},{key:"_createWebGLContext",value:function(e){if(this.offScreen=e.canvas&&"undefined"!==typeof OffscreenCanvas&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?pA(this.props.gl,e):this.onCreateContext(e),!yk(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");iA(this.gl,Zk),this._createInfoDiv()}},{key:"_createInfoDiv",value:function(){if(this.gl.canvas&&this.props.onAddHTML){var e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";var t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);var n=this.props.onAddHTML(t);n&&(t.innerHTML=n)}}},{key:"_getSizeAndAspect",value:function(){var e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight,n=1,r=this.gl.canvas;return r&&r.clientHeight?n=r.clientWidth/r.clientHeight:e>0&&t>0&&(n=e/t),{width:e,height:t,aspect:n}}},{key:"_resizeViewport",value:function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}},{key:"_resizeCanvasDrawingBuffer",value:function(){this.autoResizeDrawingBuffer&&vA(this.gl,{useDevicePixels:this.useDevicePixels})}},{key:"_createFramebuffer",value:function(){this.props.createFramebuffer&&(this.framebuffer=new jT(this.gl))}},{key:"_resizeFramebuffer",value:function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}},{key:"_beginTimers",value:function(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}},{key:"_endTimers",value:function(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}},{key:"_startEventHandling",value:function(){var e=this.gl.canvas;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}},{key:"_onMousemove",value:function(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}},{key:"_onMouseleave",value:function(e){this.animationProps._mousePosition=null}}]),e}(),gB=n(4161),mB={mousedown:1,mousemove:2,mouseup:4};!function(e){var t=e.prototype.handler;e.prototype.handler=function(e){var n=this.store;e.button>0&&"pointerdown"===e.type&&(function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}(n,(function(t){return t.pointerId===e.pointerId}))||n.push(e)),t.call(this,e)}}(gB.PointerEventInput),gB.MouseInput.prototype.handler=function(e){var t=mB[e.type];1&t&&e.button>=0&&(this.pressed=!0),2&t&&0===e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))};var yB=gB.Manager,bB=gB,_B=(0,Ht.Z)((function e(t,n,r){(0,Vt.Z)(this,e),this.element=t,this.callback=n,this.options=(0,V.Z)({enable:!0},r)})),wB=bB?[[bB.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[bB.Rotate,{enable:!1}],[bB.Pinch,{enable:!1}],[bB.Swipe,{enable:!1}],[bB.Pan,{threshold:0,enable:!1}],[bB.Press,{enable:!1}],[bB.Tap,{event:"doubletap",taps:2,enable:!1}],[bB.Tap,{event:"anytap",enable:!1}],[bB.Tap,{enable:!1}]]:null,EB={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},SB={doubletap:["tap"]},xB={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},MB=["keydown","keyup"],kB=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],AB=["wheel","mousewheel"],TB={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},PB={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},OB="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",CB="undefined"!==typeof window?window:n.g,RB=("undefined"!==typeof n.g?n.g:window,"undefined"!==typeof document&&document,!1);try{var LB={get passive(){return RB=!0,!0}};CB.addEventListener("test",null,LB),CB.removeEventListener("test",null)}catch(YJ){RB=!1}var IB=-1!==OB.indexOf("firefox"),DB=AB,jB="wheel",NB=4.000244140625,BB=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e,r,i){var o;return(0,Vt.Z)(this,n),(o=t.call(this,e,r,i)).handleEvent=function(e){if(o.options.enable){var t=e.deltaY;CB.WheelEvent&&(IB&&e.deltaMode===CB.WheelEvent.DOM_DELTA_PIXEL&&(t/=CB.devicePixelRatio),e.deltaMode===CB.WheelEvent.DOM_DELTA_LINE&&(t*=40)),0!==t&&t%NB===0&&(t=Math.floor(t/NB)),e.shiftKey&&t&&(t*=.25),o.callback({type:jB,center:{x:e.clientX,y:e.clientY},delta:-t,srcEvent:e,pointerType:"mouse",target:e.target})}},o.events=(o.options.events||[]).concat(DB),o.events.forEach((function(t){return e.addEventListener(t,o.handleEvent,!!RB&&{passive:!1})})),o}return(0,Ht.Z)(n,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===jB&&(this.options.enable=t)}}]),n}(_B),zB=kB,ZB="pointermove",FB="pointerover",UB="pointerout",KB="pointerenter",VB="pointerleave",HB=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e,r,i){var o;(0,Vt.Z)(this,n),(o=t.call(this,e,r,i)).handleEvent=function(e){o.handleOverEvent(e),o.handleOutEvent(e),o.handleEnterEvent(e),o.handleLeaveEvent(e),o.handleMoveEvent(e)},o.pressed=!1;var a=o.options.enable;return o.enableMoveEvent=a,o.enableLeaveEvent=a,o.enableEnterEvent=a,o.enableOutEvent=a,o.enableOverEvent=a,o.events=(o.options.events||[]).concat(zB),o.events.forEach((function(t){return e.addEventListener(t,o.handleEvent)})),o}return(0,Ht.Z)(n,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===ZB&&(this.enableMoveEvent=t),e===FB&&(this.enableOverEvent=t),e===UB&&(this.enableOutEvent=t),e===KB&&(this.enableEnterEvent=t),e===VB&&(this.enableLeaveEvent=t)}},{key:"handleOverEvent",value:function(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(FB,e)}},{key:"handleOutEvent",value:function(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(UB,e)}},{key:"handleEnterEvent",value:function(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(KB,e)}},{key:"handleLeaveEvent",value:function(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(VB,e)}},{key:"handleMoveEvent",value:function(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit(ZB,e);break;case"mouseup":this.pressed=!1}}},{key:"_emit",value:function(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}]),n}(_B),WB=MB,GB="keydown",qB="keyup",YB=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e,r,i){var o;return(0,Vt.Z)(this,n),(o=t.call(this,e,r,i)).handleEvent=function(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(o.enableDownEvent&&"keydown"===e.type&&o.callback({type:GB,srcEvent:e,key:e.key,target:e.target}),o.enableUpEvent&&"keyup"===e.type&&o.callback({type:qB,srcEvent:e,key:e.key,target:e.target}))},o.enableDownEvent=o.options.enable,o.enableUpEvent=o.options.enable,o.events=(o.options.events||[]).concat(WB),e.tabIndex=o.options.tabIndex||0,e.style.outline="none",o.events.forEach((function(t){return e.addEventListener(t,o.handleEvent)})),o}return(0,Ht.Z)(n,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===GB&&(this.enableDownEvent=t),e===qB&&(this.enableUpEvent=t)}}]),n}(_B),XB="contextmenu",$B=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e,r,i){var o;return(0,Vt.Z)(this,n),(o=t.call(this,e,r,i)).handleEvent=function(e){o.options.enable&&o.callback({type:XB,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})},e.addEventListener("contextmenu",o.handleEvent),o}return(0,Ht.Z)(n,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(e,t){e===XB&&(this.options.enable=t)}}]),n}(_B),JB={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var QB={srcElement:"root",priority:0},ez=function(){function e(t){var n=this;(0,Vt.Z)(this,e),this.handleEvent=function(e){if(!n.isEmpty()){for(var t=n._normalizeEvent(e),r=e.srcEvent.target;r&&r!==t.rootElement;){if(n._emit(t,r),t.handled)return;r=r.parentNode}n._emit(t,"root")}},this.eventManager=t,this.handlers=[],this.handlersByElement=new Map,this._active=!1}return(0,Ht.Z)(e,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.handlers,a=this.handlersByElement,s=QB;"string"===typeof n||n&&n.addEventListener?s=(0,V.Z)((0,V.Z)({},QB),{},{srcElement:n}):n&&(s=(0,V.Z)((0,V.Z)({},QB),n));var u=a.get(s.srcElement);u||(u=[],a.set(s.srcElement,u));var l={type:e,handler:t,srcElement:s.srcElement,priority:s.priority};r&&(l.once=!0),i&&(l.passive=!0),o.push(l),this._active=this._active||!l.passive;for(var c=u.length-1;c>=0&&!(u[c].priority>=l.priority);)c--;u.splice(c+1,0,l)}},{key:"remove",value:function(e,t){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var o=n[i];if(o.type===e&&o.handler===t){n.splice(i,1);var a=r.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&r.delete(o.srcElement)}}this._active=n.some((function(e){return!e.passive}))}},{key:"_emit",value:function(e,t){var n=this.handlersByElement.get(t);if(n){for(var r=!1,i=function(){e.handled=!0},o=function(){e.handled=!0,r=!0},a=[],s=0;s<n.length;s++){var u=n[s],l=u.type,c=u.handler,h=u.once;if(c((0,V.Z)((0,V.Z)({},e),{},{type:l,stopPropagation:i,stopImmediatePropagation:o})),h&&a.push(n[s]),r)break}for(var f=0;f<a.length;f++){var d=a[f],p=d.type,v=d.handler;this.remove(p,v)}}}},{key:"_normalizeEvent",value:function(e){var t=this.eventManager.getElement();return(0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)({},e),function(e){var t=JB[e.srcEvent.type];if(!t)return null;var n=e.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,u=!1;return 4===t||2===t&&!Number.isFinite(r)?(a=1===o,s=2===o,u=3===o):2===t?(a=Boolean(1&r),s=Boolean(4&r),u=Boolean(2&r)):1===t&&(a=0===i,s=1===i,u=2===i),{leftButton:a,middleButton:s,rightButton:u}}(e)),function(e,t){var n=e.center;if(!n)return null;var r=t.getBoundingClientRect(),i=r.width/t.offsetWidth||1,o=r.height/t.offsetHeight||1;return{center:n,offsetCenter:{x:(n.x-r.left-t.clientLeft)/i,y:(n.y-r.top-t.clientTop)/o}}}(e,t)),{},{preventDefault:function(){e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t})}}]),e}(),tz={events:null,recognizers:null,recognizerOptions:{},Manager:yB,touchAction:"none",tabIndex:0},nz=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;(0,Vt.Z)(this,e),this._onBasicInput=function(e){var n=e.srcEvent,r=xB[n.type];r&&t.manager.emit(r,e)},this._onOtherEvent=function(e){t.manager.emit(e.type,e)},this.options=(0,V.Z)((0,V.Z)({},tz),r),this.events=new Map,this.setElement(n);var i=this.options.events;i&&this.on(i)}return(0,Ht.Z)(e,[{key:"getElement",value:function(){return this.element}},{key:"setElement",value:function(e){var t=this;if(this.element&&this.destroy(),this.element=e,e){var n=this.options,r=n.Manager;for(var i in this.manager=new r(e,{touchAction:n.touchAction,recognizers:n.recognizers||wB}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(EB).forEach((function(e){var n=t.manager.get(e);n&&EB[e].forEach((function(e){n.recognizeWith(e)}))})),n.recognizerOptions){var o=this.manager.get(i);if(o){var a=n.recognizerOptions[i];delete a.enable,o.set(a)}}this.wheelInput=new BB(e,this._onOtherEvent,{enable:!1}),this.moveInput=new HB(e,this._onOtherEvent,{enable:!1}),this.keyInput=new YB(e,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new $B(e,this._onOtherEvent,{enable:!1});var s,u=gx(this.events);try{for(u.s();!(s=u.n()).done;){var l=v(s.value,2),c=l[0],h=l[1];h.isEmpty()||(this._toggleRecognizer(h.recognizerName,!0),this.manager.on(c,h.handleEvent))}}catch(YJ){u.e(YJ)}finally{u.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(e,t,n){this._addEventHandler(e,t,n,!1)}},{key:"once",value:function(e,t,n){this._addEventHandler(e,t,n,!0)}},{key:"watch",value:function(e,t,n){this._addEventHandler(e,t,n,!1,!0)}},{key:"off",value:function(e,t){this._removeEventHandler(e,t)}},{key:"_toggleRecognizer",value:function(e,t){var n=this.manager;if(n){var r=n.get(e);if(r&&r.options.enable!==t){r.set({enable:t});var i=SB[e];i&&!this.options.recognizers&&i.forEach((function(i){var o=n.get(i);t?(o.requireFailure(e),r.dropRequireFailure(i)):o.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}}},{key:"_addEventHandler",value:function(e,t,n,r,i){if("string"===typeof e){var o=this.manager,a=this.events,s=PB[e]||e,u=a.get(s);u||(u=new ez(this),a.set(s,u),u.recognizerName=TB[s]||s,o&&o.on(s,u.handleEvent)),u.add(e,t,n,r,i),u.isEmpty()||this._toggleRecognizer(u.recognizerName,!0)}else for(var l in n=t,e)this._addEventHandler(l,e[l],n,r,i)}},{key:"_removeEventHandler",value:function(e,t){if("string"===typeof e){var n=this.events,r=PB[e]||e,i=n.get(r);if(i&&(i.remove(e,t),i.isEmpty())){var o,a=i.recognizerName,s=!1,u=gx(n.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;if(l.recognizerName===a&&!l.isEmpty()){s=!0;break}}}catch(YJ){u.e(YJ)}finally{u.f()}s||this._toggleRecognizer(a,!1)}}else for(var c in e)this._removeEventHandler(c,e[c])}}]),e}();function rz(){}var iz={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:rz,onResize:rz,onViewStateChange:rz,onInteractionStateChange:rz,onBeforeRender:rz,onAfterRender:rz,onLoad:rz,onError:function(e){return EP.error(e.message)()},onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:function(e){return e.isDragging?"grabbing":"grab"},getTooltip:null,debug:!1,drawPickingColors:!1},oz=function(){function e(t){var n=this;(0,Vt.Z)(this,e),(0,re.Z)(this,"props",void 0),(0,re.Z)(this,"width",0),(0,re.Z)(this,"height",0),(0,re.Z)(this,"userData",{}),(0,re.Z)(this,"canvas",null),(0,re.Z)(this,"viewManager",null),(0,re.Z)(this,"layerManager",null),(0,re.Z)(this,"effectManager",null),(0,re.Z)(this,"deckRenderer",null),(0,re.Z)(this,"deckPicker",null),(0,re.Z)(this,"eventManager",null),(0,re.Z)(this,"tooltip",null),(0,re.Z)(this,"metrics",void 0),(0,re.Z)(this,"animationLoop",void 0),(0,re.Z)(this,"stats",void 0),(0,re.Z)(this,"viewState",void 0),(0,re.Z)(this,"cursorState",void 0),(0,re.Z)(this,"_needsRedraw",void 0),(0,re.Z)(this,"_pickRequest",void 0),(0,re.Z)(this,"_lastPointerDownInfo",null),(0,re.Z)(this,"_metricsCounter",void 0),(0,re.Z)(this,"_onPointerMove",(function(e){var t=n._pickRequest;if("pointerleave"===e.type)t.x=-1,t.y=-1,t.radius=0;else{if(e.leftButton||e.rightButton)return;var r=e.offsetCenter;if(!r)return;t.x=r.x,t.y=r.y,t.radius=n.props.pickingRadius}n.layerManager&&(n.layerManager.context.mousePosition={x:t.x,y:t.y}),t.event=e})),(0,re.Z)(this,"_onEvent",(function(e){var t=$L[e.type],r=e.offsetCenter;if(t&&r&&n.layerManager){var i=n.layerManager.getLayers(),o=n.deckPicker.getLastPickedObject({x:r.x,y:r.y,layers:i,viewports:n.getViewports(r)},n._lastPointerDownInfo),a=o.layer,s=a&&(a[t.handler]||a.props[t.handler]),u=n.props[t.handler],l=!1;s&&(l=s.call(a,o,e)),!l&&u&&u(o,e)}})),(0,re.Z)(this,"_onPointerDown",(function(e){var t=e.offsetCenter,r=n._pick("pickObject","pickObject Time",{x:t.x,y:t.y,radius:n.props.pickingRadius});n._lastPointerDownInfo=r.result[0]||r.emptyInfo})),this.props=(0,V.Z)((0,V.Z)({},iz),t),t=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},t.viewState&&t.initialViewState&&EP.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===hB()&&EP.warn("IE 11 is not supported")(),this.viewState=t.initialViewState,t.gl||"undefined"!==typeof document&&(this.canvas=this._createCanvas(t)),this.animationLoop=this._createAnimationLoop(t),this.stats=new bA({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(t),t._typedArrayManagerProps&&vR.setOptions(t._typedArrayManagerProps),this.animationLoop.start()}return(0,Ht.Z)(e,[{key:"finalize",value:function(){var e,t,n,r,i,o,a,s,u;(null===(e=this.animationLoop)||void 0===e||e.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(t=this.layerManager)||void 0===t||t.finalize(),this.layerManager=null,null===(n=this.viewManager)||void 0===n||n.finalize(),this.viewManager=null,null===(r=this.effectManager)||void 0===r||r.finalize(),this.effectManager=null,null===(i=this.deckRenderer)||void 0===i||i.finalize(),this.deckRenderer=null,null===(o=this.deckPicker)||void 0===o||o.finalize(),this.deckPicker=null,null===(a=this.eventManager)||void 0===a||a.destroy(),this.eventManager=null,null===(s=this.tooltip)||void 0===s||s.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas)||(null===(u=this.canvas.parentElement)||void 0===u||u.removeChild(this.canvas),this.canvas=null)}},{key:"setProps",value:function(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&EP.removed("onLayerHover","onHover")(),"onLayerClick"in e&&EP.removed("onLayerClick","onClick")(),e.initialViewState&&!vj(this.props.initialViewState,e.initialViewState,3)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);var t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";var t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);var n=this.viewManager.needsRedraw(e),r=this.layerManager.needsRedraw(e),i=this.effectManager.needsRedraw(e),o=this.deckRenderer.needsRedraw(e);return t=t||n||r||i||o}},{key:"redraw",value:function(e){if(this.layerManager){var t=this.needsRedraw({clearRedrawFlags:!0});(t=e||t)&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}}},{key:"isInitialized",get:function(){return null!==this.viewManager}},{key:"getViews",value:function(){return _j(this.viewManager),this.viewManager.views}},{key:"getViewports",value:function(e){return _j(this.viewManager),this.viewManager.getViewports(e)}},{key:"pickObject",value:function(e){var t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}},{key:"pickMultipleObjects",value:function(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}},{key:"pickObjects",value:function(e){return this._pick("pickObjects","pickObjects Time",e)}},{key:"_addResources",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in e)this.layerManager.resourceManager.add({resourceId:n,data:e[n],forceUpdate:t})}},{key:"_removeResources",value:function(e){var t,n=gx(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.layerManager.resourceManager.remove(r)}}catch(YJ){n.e(YJ)}finally{n.f()}}},{key:"_addDefaultEffect",value:function(e){this.effectManager.addDefaultEffect(e)}},{key:"_pick",value:function(e,t,n){_j(this.deckPicker);var r=this.stats;r.get("Pick Count").incrementCount(),r.get(t).timeStart();var i=this.deckPicker[e]((0,V.Z)({layers:this.layerManager.getLayers(n),views:this.viewManager.getViews(),viewports:this.getViewports(n),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects()},n));return r.get(t).timeEnd(),i}},{key:"_createCanvas",value:function(e){var t=e.canvas;("string"===typeof t&&_j(t=document.getElementById(t)),t)||((t=document.createElement("canvas")).id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(t));return Object.assign(t.style,e.style),t}},{key:"_setCanvasSize",value:function(e){if(this.canvas){var t=e.width,n=e.height;if(t||0===t){var r=Number.isFinite(t)?"".concat(t,"px"):t;this.canvas.style.width=r}if(n||0===n){var i,o=Number.isFinite(n)?"".concat(n,"px"):n;this.canvas.style.position=(null===(i=e.style)||void 0===i?void 0:i.position)||"absolute",this.canvas.style.height=o}}}},{key:"_updateCanvasSize",value:function(){var e,t,n=this.canvas;if(n){var r,i,o=null!==(e=n.clientWidth)&&void 0!==e?e:n.width,a=null!==(t=n.clientHeight)&&void 0!==t?t:n.height;if(o!==this.width||a!==this.height)this.width=o,this.height=a,null===(r=this.viewManager)||void 0===r||r.setProps({width:o,height:a}),null===(i=this.layerManager)||void 0===i||i.activateViewport(this.getViewports()[0]),this.props.onResize({width:o,height:a})}}},{key:"_createAnimationLoop",value:function(e){var t=this,n=e.width,r=e.height,i=e.gl,o=e.glOptions,a=e.debug,s=e.onError,u=e.onBeforeRender,l=e.onAfterRender,c=e.useDevicePixels;return new vB({width:n,height:r,useDevicePixels:c,autoResizeDrawingBuffer:!i,autoResizeViewport:!1,gl:i,onCreateContext:function(e){return dA((0,V.Z)((0,V.Z)((0,V.Z)({},o),e),{},{canvas:t.canvas,debug:a,onContextLost:function(){return t._onContextLost()}}))},onInitialize:function(e){return t._setGLContext(e.gl)},onRender:this._onRenderFrame.bind(this),onBeforeRender:u,onAfterRender:l,onError:s})}},{key:"_getViewState",value:function(){return this.props.viewState||this.viewState}},{key:"_getViews",value:function(){var e=this.props.views||[new Wj({id:"default-view"})];return(e=Array.isArray(e)?e:[e]).length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}},{key:"_onContextLost",value:function(){var e=this.props.onError;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}},{key:"_pickAndCallback",value:function(){var e=this._pickRequest;if(e.event){var t=this._pick("pickObject","pickObject Time",e),n=t.result,r=t.emptyInfo;this.cursorState.isHovering=n.length>0;var i,o=r,a=!1,s=gx(n);try{for(s.s();!(i=s.n()).done;){var u,l=i.value;o=l,a=(null===(u=l.layer)||void 0===u?void 0:u.onHover(l,e.event))||a}}catch(YJ){s.e(YJ)}finally{s.f()}if(!a&&this.props.onHover&&this.props.onHover(o,e.event),this.props.getTooltip&&this.tooltip){var c=this.props.getTooltip(o);this.tooltip.setTooltip(c,o.x,o.y)}e.event=null}}},{key:"_updateCursor",value:function(){var e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}},{key:"_setGLContext",value:function(e){if(!this.layerManager){this.canvas||(this.canvas=e.canvas,pA(e,{enable:!0,copyState:!0})),this.tooltip=new AN(this.canvas),iA(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);var t=new lP;for(var n in t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new nz(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}}),$L)this.eventManager.on(n,this._onEvent);this.viewManager=new gj({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});var r=this.viewManager.getViewports()[0];this.layerManager=new pj(e,{deck:this,stats:this.stats,viewport:r,timeline:t}),this.effectManager=new pN,this.deckRenderer=new bN(e),this.deckPicker=new MN(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}}},{key:"_drawLayers",value:function(e,t){var n=this.layerManager.context.gl;iA(n,this.props.parameters),this.props.onBeforeRender({gl:n}),this.deckRenderer.renderLayers((0,V.Z)({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects()},t)),this.props.onAfterRender({gl:n})}},{key:"_onRenderFrame",value:function(e){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),EP.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}},{key:"_onViewStateChange",value:function(e){var t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState=(0,V.Z)((0,V.Z)({},this.viewState),{},(0,re.Z)({},e.viewId,t)),this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}},{key:"_onInteractionStateChange",value:function(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}},{key:"_getFrameStats",value:function(){var e=this.stats;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();var t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}},{key:"_getMetrics",value:function(){var e=this.metrics,t=this.stats;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();var n=wA.get("Memory Usage");e.bufferMemory=n.get("Buffer Memory").count,e.textureMemory=n.get("Texture Memory").count,e.renderbufferMemory=n.get("Renderbuffer Memory").count,e.gpuMemory=n.get("GPU Memory").count}}]),e}();(0,re.Z)(oz,"defaultProps",iz),(0,re.Z)(oz,"VERSION",lB);var az="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function sz(e,t){for(;e;){if(e===t)return!0;e=Object.getPrototypeOf(e)}return!1}var uz=function(){function e(t,n){(0,Vt.Z)(this,e),(0,re.Z)(this,"opts",void 0),(0,re.Z)(this,"source",void 0),this.opts=n,this.source=t}return(0,Ht.Z)(e,[{key:"value",get:function(){return this.source.value}},{key:"getValue",value:function(){var e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];var n=this.source.value,r=t.size,i=n;if(n&&n.length!==r){i=new Float32Array(r);for(var o=t.elementOffset||0,a=0;a<r;++a)i[a]=n[o+a]}return i}},{key:"getAccessor",value:function(){return(0,V.Z)((0,V.Z)({},this.source.getAccessor()),this.opts)}}]),e}();function lz(e){return e.stride||e.size*e.bytesPerElement}function cz(e,t){t.offset&&EP.removed("shaderAttribute.offset","vertexOffset, elementOffset")();var n=lz(e),r=(void 0!==t.vertexOffset?t.vertexOffset:e.vertexOffset||0)*n+(t.elementOffset||0)*e.bytesPerElement+(e.offset||0);return(0,V.Z)((0,V.Z)({},t),{},{offset:r,stride:n})}var hz=function(){function e(t,n,r){(0,Vt.Z)(this,e),(0,re.Z)(this,"gl",void 0),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"size",void 0),(0,re.Z)(this,"settings",void 0),(0,re.Z)(this,"value",void 0),(0,re.Z)(this,"doublePrecision",void 0),(0,re.Z)(this,"_buffer",void 0),(0,re.Z)(this,"state",void 0),this.gl=t,this.id=n.id||"",this.size=n.size||1;var i,o=n.logicalType||n.type,a=5130===o,s=n.defaultValue;s=Number.isFinite(s)?[s]:s||new Array(this.size).fill(0),i=a?5126:!o&&n.isIndexed?t&&RT(t,dT)?5125:5123:o||5126;var u=function(e){switch(e){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(o||i||5126);this.doublePrecision=a,a&&!1===n.fp64&&(u=Float32Array),this.value=null,this.settings=(0,V.Z)((0,V.Z)({},n),{},{defaultType:u,defaultValue:s,logicalType:o,type:i,size:this.size,bytesPerElement:u.BYTES_PER_ELEMENT}),this.state=(0,V.Z)((0,V.Z)({},r),{},{externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}),this._buffer=null}return(0,Ht.Z)(e,[{key:"isConstant",get:function(){return this.state.constant}},{key:"buffer",get:function(){if(!this._buffer){var e=this.settings,t=e.isIndexed,n=e.type;this._buffer=new WA(this.gl,{id:this.id,target:t?34963:34962,accessor:{type:n}})}return this._buffer}},{key:"byteOffset",get:function(){var e=this.getAccessor();return e.vertexOffset?e.vertexOffset*lz(e):0}},{key:"numInstances",get:function(){return this.state.numInstances},set:function(e){this.state.numInstances=e}},{key:"delete",value:function(){this._buffer&&(this._buffer.delete(),this._buffer=null),vR.release(this.state.allocatedValue)}},{key:"getShaderAttributes",value:function(e,t){if(this.doublePrecision){var n={},r=this.value instanceof Float64Array,i=function(e,t){var n=cz(e,t);return{high:n,low:(0,V.Z)((0,V.Z)({},n),{},{offset:n.offset+4*e.size})}}(this.getAccessor(),t||{});return n[e]=new uz(this,i.high),n["".concat(e,"64Low")]=r?new uz(this,i.low):new Float32Array(this.size),n}if(t){var o=cz(this.getAccessor(),t);return(0,re.Z)({},e,new uz(this,o))}return(0,re.Z)({},e,this)}},{key:"getBuffer",value:function(){return this.state.constant?null:this.state.externalBuffer||this._buffer}},{key:"getValue",value:function(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}},{key:"getAccessor",value:function(){return this.state.bufferAccessor}},{key:"getBounds",value:function(){if(this.state.bounds)return this.state.bounds;var e=null;if(this.state.constant&&this.value){var t=Array.from(this.value);e=[t,t]}else{var n=this.value,r=this.numInstances,i=this.size,o=r*i;if(n&&o&&n.length>=o){for(var a=new Array(i).fill(1/0),s=new Array(i).fill(-1/0),u=0;u<o;)for(var l=0;l<i;l++){var c=n[u++];c<a[l]&&(a[l]=c),c>s[l]&&(s[l]=c)}e=[a,s]}}return this.state.bounds=e,e}},{key:"setData",value:function(e){var t,n=this.state;t=ArrayBuffer.isView(e)?{value:e}:e instanceof WA?{buffer:e}:e;var r=(0,V.Z)((0,V.Z)({},this.settings),t);if(n.bufferAccessor=r,n.bounds=null,t.constant){var i=t.value;if(i=this._normalizeValue(i,[],0),this.settings.normalized&&(i=this.normalizeConstant(i)),!(!n.constant||!this._areValuesEqual(i,this.value)))return!1;n.externalBuffer=null,n.constant=!0,this.value=i}else if(t.buffer){var o=t.buffer;n.externalBuffer=o,n.constant=!1,this.value=t.value||null;var a=t.value instanceof Float64Array;r.type=t.type||o.accessor.type,r.bytesPerElement=o.accessor.BYTES_PER_ELEMENT*(a?2:1),r.stride=lz(r)}else if(t.value){this._checkExternalBuffer(t);var s=t.value;n.externalBuffer=null,n.constant=!1,this.value=s,r.bytesPerElement=s.BYTES_PER_ELEMENT,r.stride=lz(r);var u=this.buffer,l=this.byteOffset;this.doublePrecision&&s instanceof Float64Array&&(s=YR(s,r));var c=s.byteLength+l+2*r.stride;u.byteLength<c&&u.reallocate(c),u.setAccessor(null),u.subData({data:s,offset:l}),r.type=t.type||u.accessor.type}return!0}},{key:"updateSubBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.bounds=null;var t=this.value,n=e.startOffset,r=void 0===n?0:n,i=e.endOffset;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?YR(t,{size:this.size,startIndex:r,endIndex:i}):t.subarray(r,i),offset:r*t.BYTES_PER_ELEMENT+this.byteOffset})}},{key:"allocate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.allocatedValue,i=vR.allocate(r,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=i;var o=this.buffer,a=this.byteOffset;return o.byteLength<i.byteLength+a&&(o.reallocate(i.byteLength+a),t&&r&&o.subData({data:r instanceof Float64Array?YR(r,this):r,offset:a})),n.allocatedValue=i,n.constant=!1,n.externalBuffer=null,n.bufferAccessor=this.settings,!0}},{key:"_checkExternalBuffer",value:function(e){var t=e.value;if(!ArrayBuffer.isView(t))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));var n=this.settings.defaultType,r=!1;if(this.doublePrecision&&(r=t.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));t instanceof n||!this.settings.normalized||"normalized"in e||EP.warn("Attribute ".concat(this.id," is normalized"))()}},{key:"normalizeConstant",value:function(e){switch(this.settings.type){case 5120:return new Float32Array(e).map((function(e){return(e+128)/255*2-1}));case 5122:return new Float32Array(e).map((function(e){return(e+32768)/65535*2-1}));case 5121:return new Float32Array(e).map((function(e){return e/255}));case 5123:return new Float32Array(e).map((function(e){return e/65535}));default:return e}}},{key:"_normalizeValue",value:function(e,t,n){var r=this.settings,i=r.defaultValue,o=r.size;if(Number.isFinite(e))return t[n]=e,t;if(!e){for(var a=o;--a>=0;)t[n+a]=i[a];return t}switch(o){case 4:t[n+3]=Number.isFinite(e[3])?e[3]:i[3];case 3:t[n+2]=Number.isFinite(e[2])?e[2]:i[2];case 2:t[n+1]=Number.isFinite(e[1])?e[1]:i[1];case 1:t[n+0]=Number.isFinite(e[0])?e[0]:i[0];break;default:for(var s=o;--s>=0;)t[n+s]=Number.isFinite(e[s])?e[s]:i[s]}return t}},{key:"_areValuesEqual",value:function(e,t){if(!e||!t)return!1;for(var n=this.size,r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}}]),e}(),fz=[],dz=[];function pz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=fz,i={index:-1,data:e,target:[]};return e?"function"===typeof e[Symbol.iterator]?r=e:e.length>0&&(dz.length=e.length,r=dz):r=fz,(t>0||Number.isFinite(n))&&(r=(Array.isArray(r)?r:Array.from(r)).slice(t,n),i.index=t-1),{iterable:r,objectInfo:i}}function vz(e){return e&&e[Symbol.asyncIterator]}function gz(e,t){var n=t.size,r=t.stride,i=t.offset,o=t.startIndices,a=t.nested,s=e.BYTES_PER_ELEMENT,u=r?r/s:n,l=i?i/s:0,c=Math.floor((e.length-l)/u);return function(t,r){var i=r.index,s=r.target;if(!o){for(var h=i*u+l,f=0;f<n;f++)s[f]=e[h+f];return s}var d,p=o[i],v=o[i+1]||c;if(a){d=new Array(v-p);for(var g=p;g<v;g++){var m=g*u+l;s=new Array(n);for(var y=0;y<n;y++)s[y]=e[m+y];d[g-p]=s}}else if(u===n)d=e.subarray(p*n+l,v*n+l);else{d=new e.constructor((v-p)*n);for(var b=0,_=p;_<v;_++)for(var w=_*u+l,E=0;E<n;E++)d[b++]=e[w+E]}return d}}var mz=[],yz=[[0,1/0]];function bz(e){var t=e.source,n=e.target,r=e.start,i=void 0===r?0:r,o=e.size,a=e.getData,s=e.end||n.length,u=t.length,l=s-i;if(u>l)n.set(t.subarray(0,l),i);else if(n.set(t,i),a)for(var c=u;c<l;)for(var h=a(c,t),f=0;f<o;f++)n[i+c]=h[f]||0,c++}var _z={interpolation:{duration:0,easing:function(e){return e}},spring:{stiffness:.05,damping:.5}};function wz(e,t){if(!e)return null;Number.isFinite(e)&&(e={type:"interpolation",duration:e});var n=e.type||"interpolation";return(0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)({},_z[n]),t),e),{},{type:n})}function Ez(e,t){var n=t.getBuffer();return n?[n,{divisor:0,size:t.size,normalized:t.settings.normalized}]:t.value}function Sz(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(e,'"'))}}function xz(e){e.push(e.shift())}function Mz(e,t){var n=e.doublePrecision,r=e.settings,i=e.value,o=e.size,a=n&&i instanceof Float64Array?2:1;return(r.noAlloc?i.length:t*o)*a}function kz(e){var t=e.buffer,n=e.numInstances,r=e.attribute,i=e.fromLength,o=e.fromStartIndices,a=e.getData,s=void 0===a?function(e){return e}:a,u=r.doublePrecision&&r.value instanceof Float64Array?2:1,l=r.size*u,c=r.byteOffset,h=r.startIndices,f=o&&h,d=Mz(r,n),p=r.isConstant;if(f||!(i>=d)){var v=p?r.value:r.getBuffer().getData({srcByteOffset:c});if(r.settings.normalized&&!p){var g=s;s=function(e,t){return r.normalizeConstant(g(e,t))}}var m=p?function(e,t){return s(v,t)}:function(e,t){return s(v.subarray(e,e+l),t)},y=t.getData({length:i}),b=new Float32Array(d);!function(e){var t=e.source,n=e.target,r=e.size,i=e.getData,o=e.sourceStartIndices,a=e.targetStartIndices;if(!Array.isArray(a))return bz({source:t,target:n,size:r,getData:i}),n;for(var s=0,u=0,l=i&&function(e,t){return i(e+u,t)},c=Math.min(o.length,a.length),h=1;h<c;h++){var f=o[h]*r,d=a[h]*r;bz({source:t.subarray(s,f),target:n,start:u,end:d,size:r,getData:l}),s=f,u=d}u<n.length&&bz({source:[],target:n,start:u,size:r,getData:l})}({source:y,target:b,sourceStartIndices:o,targetStartIndices:h,size:l,getData:m}),t.byteLength<b.byteLength+c&&t.reallocate(b.byteLength+c),t.subData({data:b,offset:c})}}var Az=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e,r){var i;return(0,Vt.Z)(this,n),i=t.call(this,e,r,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:yz}),(0,re.Z)((0,UM.Z)(i),"constant",!1),i.settings.update=r.update||(r.accessor?i._autoUpdater:void 0),Object.seal(i.settings),Object.seal(i.state),i._validateAttributeUpdaters(),i}return(0,Ht.Z)(n,[{key:"startIndices",get:function(){return this.state.startIndices},set:function(e){this.state.startIndices=e}},{key:"needsUpdate",value:function(){return this.state.needsUpdate}},{key:"needsRedraw",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearChangedFlags,t=void 0!==e&&e,n=this.state.needsRedraw;return this.state.needsRedraw=n&&!t,n}},{key:"getUpdateTriggers",value:function(){var e=this.settings.accessor;return[this.id].concat("function"!==typeof e&&e||[])}},{key:"supportsTransition",value:function(){return Boolean(this.settings.transition)}},{key:"getTransitionSetting",value:function(e){if(!e||!this.supportsTransition())return null;var t=this.settings.accessor,n=this.settings.transition;return wz(Array.isArray(t)?e[t.find((function(t){return e[t]}))]:e[t],n)}},{key:"setNeedsUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id,t=arguments.length>1?arguments[1]:void 0;if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){var n=t.startRow,r=void 0===n?0:n,i=t.endRow,o=void 0===i?1/0:i;this.state.updateRanges=function(e,t){if(e===yz)return e;if(t[0]<0&&(t[0]=0),t[0]>=t[1])return e;for(var n=[],r=e.length,i=0,o=0;o<r;o++){var a=e[o];a[1]<t[0]?(n.push(a),i=o+1):a[0]>t[1]?n.push(a):t=[Math.min(a[0],t[0]),Math.max(a[1],t[1])]}return n.splice(i,0,t),n}(this.state.updateRanges,[r,o])}else this.state.updateRanges=yz}},{key:"clearNeedsUpdate",value:function(){this.state.needsUpdate=!1,this.state.updateRanges=mz}},{key:"setNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.state.needsRedraw=this.state.needsRedraw||e}},{key:"allocate",value:function(e){var t=this.state,r=this.settings;return!r.noAlloc&&(!!r.update&&(KM((0,lx.Z)(n.prototype),"allocate",this).call(this,e,t.updateRanges!==yz),!0))}},{key:"updateBuffer",value:function(e){var t=e.numInstances,r=e.data,i=e.props,o=e.context;if(!this.needsUpdate())return!1;var a=this.state.updateRanges,s=this.settings,u=s.update,l=s.noAlloc,c=!0;if(u){var h,f=gx(a);try{for(f.s();!(h=f.n()).done;){var d=v(h.value,2),p=d[0],g=d[1];u.call(o,this,{data:r,startRow:p,endRow:g,props:i,numInstances:t})}}catch(YJ){f.e(YJ)}finally{f.f()}if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else{var m,y=gx(a);try{for(y.s();!(m=y.n()).done;){var b=v(m.value,2),_=b[0],w=b[1],E=Number.isFinite(_)?this.getVertexOffset(_):0,S=Number.isFinite(w)?this.getVertexOffset(w):l||!Number.isFinite(t)?this.value.length:t*this.size;KM((0,lx.Z)(n.prototype),"updateSubBuffer",this).call(this,{startOffset:E,endOffset:S})}}catch(YJ){y.e(YJ)}finally{y.f()}}else;this._checkAttributeArray()}else c=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),c}},{key:"setConstantValue",value:function(e){return void 0!==e&&"function"!==typeof e&&(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}},{key:"setExternalBuffer",value:function(e){var t=this.state;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}},{key:"setBinaryValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.state,r=this.settings;if(!e)return n.binaryValue=null,n.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(n.binaryValue===e)return this.clearNeedsUpdate(),!0;if(n.binaryValue=e,this.setNeedsRedraw(),r.transform||t!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});var i=e;_j(ArrayBuffer.isView(i.value),"invalid ".concat(r.accessor));var o=Boolean(i.size)&&i.size!==this.size;return n.binaryAccessor=gz(i.value,{size:i.size||this.size,stride:i.stride,offset:i.offset,startIndices:t,nested:o}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}},{key:"getVertexOffset",value:function(e){var t=this.startIndices;return(t?e<t.length?t[e]:this.numInstances:e)*this.size}},{key:"getShaderAttributes",value:function(){var e=this.settings.shaderAttributes||(0,re.Z)({},this.id,null),t={};for(var r in e)Object.assign(t,KM((0,lx.Z)(n.prototype),"getShaderAttributes",this).call(this,r,e[r]));return t}},{key:"_autoUpdater",value:function(e,t){var n=t.data,r=t.startRow,i=t.endRow,o=t.props,a=t.numInstances;if(!e.constant){var s=e.settings,u=e.state,l=e.value,c=e.size,h=e.startIndices,f=s.accessor,d=s.transform,p=u.binaryAccessor||("function"===typeof f?f:o[f]);_j("function"===typeof p,'accessor "'.concat(f,'" is not a function'));var v,g=e.getVertexOffset(r),m=pz(n,r,i),y=m.iterable,b=m.objectInfo,_=gx(y);try{for(_.s();!(v=_.n()).done;){var w=v.value;b.index++;var E=p(w,b);if(d&&(E=d.call(this,E)),h){var S=(b.index<h.length-1?h[b.index+1]:a)-h[b.index];if(E&&Array.isArray(E[0])){var x,M=g,k=gx(E);try{for(k.s();!(x=k.n()).done;){var A=x.value;e._normalizeValue(A,l,M),M+=c}}catch(YJ){k.e(YJ)}finally{k.f()}}else E&&E.length>c?l.set(E,g):(e._normalizeValue(E,b.target,0),TP({target:l,source:b.target,start:g,count:S}));g+=S*c}else e._normalizeValue(E,l,g),g+=c}}catch(YJ){_.e(YJ)}finally{_.f()}}}},{key:"_validateAttributeUpdaters",value:function(){var e=this.settings;if(!(e.noAlloc||"function"===typeof e.update))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}},{key:"_checkAttributeArray",value:function(){var e=this.value,t=Math.min(4,this.size);if(e&&e.length>=t){var n=!0;switch(t){case 4:n=n&&Number.isFinite(e[3]);case 3:n=n&&Number.isFinite(e[2]);case 2:n=n&&Number.isFinite(e[1]);case 1:n=n&&Number.isFinite(e[0]);break;default:n=!1}if(!n)throw new Error("Illegal attribute generated for ".concat(this.id))}}}]),n}(hz),Tz="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",Pz="#version 300 es\n".concat(Tz);function Oz(e,t){t=Array.isArray(t)?t:[t];var n=v(e.replace(/^\s+/,"").split(/\s+/),3),r=n[0],i=n[1],o=n[2];return t.includes(r)&&i&&o?{qualifier:r,type:i,name:o.split(";")[0]}:null}function Cz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.version,n=void 0===t?100:t,r=e.input,i=e.inputType,o=e.output;if(!r)return 300===n?Pz:n>300?"#version ".concat(n,"\n").concat(Tz):"void main() {gl_FragColor = vec4(0);}";var a=function(e,t){switch(t){case"float":return"vec4(".concat(e,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(e,", 0.0, 1.0)");case"vec3":return"vec4(".concat(e,", 1.0)");case"vec4":return e;default:return oI(!1),null}}(r,i);return n>=300?"#version ".concat(n," ").concat(300===n?"es":"","\nin ").concat(i," ").concat(r,";\nout vec4 ").concat(o,";\nvoid main() {\n  ").concat(o," = ").concat(a,";\n}"):"varying ".concat(i," ").concat(r,";\nvoid main() {\n  gl_FragColor = ").concat(a,";\n}")}var Rz=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e){var t;(0,Vt.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return wk(e),(t=n.call(this,e,i)).initialize(i),t.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal((0,UM.Z)(t)),t}return(0,Ht.Z)(r,[{key:t,get:function(){return"TransformFeedback"}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,TA(this.buffers)||this.bind((function(){return e._unbindBuffers()})),this.setProps(t),this}},{key:"setProps",value:function(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}},{key:"setBuffers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((function(){for(var n in t)e.setBuffer(n,t[n])})),this}},{key:"setBuffer",value:function(e,t){var n=this._getVaryingIndex(e),r=this._getBufferParams(t),i=r.buffer,o=r.byteSize,a=r.byteOffset;return n<0?(this.unused[e]=i,pk.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[n]=t,this.bindOnUse||this._bindBuffer(n,i,a,o),this)}},{key:"begin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}},{key:"end",value:function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}},{key:"_getBufferParams",value:function(e){var t,n,r;return e instanceof WA===!1?(r=e.buffer,n=e.byteSize,t=e.byteOffset):r=e,void 0===t&&void 0===n||(t=t||0,n=n||r.byteLength-t),{buffer:r,byteOffset:t,byteSize:n}}},{key:"_getVaryingInfo",value:function(e){return this.configuration&&this.configuration.getVaryingInfo(e)}},{key:"_getVaryingIndex",value:function(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;var t=Number(e);return Number.isFinite(t)?t:-1}},{key:"_bindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers){var t=this._getBufferParams(this.buffers[e]),n=t.buffer,r=t.byteSize,i=t.byteOffset;this._bindBuffer(e,n,i,r)}}},{key:"_unbindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers)this._bindBuffer(e,null)}},{key:"_bindBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=t&&t.handle;return i&&void 0!==r?this.gl.bindBufferRange(35982,e,i,n,r):this.gl.bindBufferBase(35982,e,i),this}},{key:"_createHandle",value:function(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function(){this.gl.deleteTransformFeedback(this.handle)}},{key:"_bindHandle",value:function(e){this.gl.bindTransformFeedback(36386,this.handle)}}],[{key:"isSupported",value:function(e){return bk(e)}}]),r}(CA,Symbol.toStringTag),Lz=function(){function e(t){(0,Vt.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(n),Object.seal(this)}return(0,Ht.Z)(e,[{key:"setupResources",value:function(e){var t,n=gx(this.bindings);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._setupTransformFeedback(r,e)}}catch(YJ){n.e(YJ)}finally{n.f()}}},{key:"updateModelProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.varyings;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}},{key:"getDrawOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],n=t.sourceBuffers,r=t.transformFeedback;return{attributes:Object.assign({},n,e.attributes),transformFeedback:r}}},{key:"swap",value:function(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e)}},{key:"getBuffer",value:function(e){var t=this.bindings[this.currentIndex].feedbackBuffers,n=e?t[e]:null;return n?n instanceof WA?n:n.buffer:null}},{key:"getData",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).varyingName,t=this.getBuffer(e);return t?t.getData():null}},{key:"delete",value:function(){for(var e in this.resources)this.resources[e].delete()}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&EA(bk(this.gl))}},{key:"_getFeedbackBuffers",value:function(e){var t=e.sourceBuffers,n=void 0===t?{}:t,r={};if(this.bindings[this.currentIndex]&&Object.assign(r,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(var i in this.feedbackMap){var o=this.feedbackMap[i];i in n&&(r[o]=i)}for(var a in Object.assign(r,e.feedbackBuffers),r){var s=r[a];if("string"===typeof s){var u=n[s],l=u.byteLength,c=u.usage,h=u.accessor;r[a]=this._createNewBuffer(a,{byteLength:l,usage:c,accessor:h})}}return r}},{key:"_setupBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceBuffers,n=void 0===t?null:t;Object.assign(this.feedbackMap,e.feedbackMap);var r=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:n,feedbackBuffers:r})}},{key:"_setupTransformFeedback",value:function(e,t){var n=t.model.program;e.transformFeedback=new Rz(this.gl,{program:n,buffers:e.feedbackBuffers})}},{key:"_updateBindings",value:function(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){var t=this._swapBuffers(this.bindings[this.currentIndex]),n=t.sourceBuffers,r=t.feedbackBuffers,i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceBuffers:n,feedbackBuffers:r})}}},{key:"_updateBinding",value:function(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}},{key:"_swapBuffers",value:function(e){if(!this.feedbackMap)return null;var t=Object.assign({},e.sourceBuffers),n=Object.assign({},e.feedbackBuffers);for(var r in this.feedbackMap){var i=this.feedbackMap[r];t[r]=e.feedbackBuffers[i],n[i]=e.sourceBuffers[r],EA(n[i]instanceof WA)}return{sourceBuffers:t,feedbackBuffers:n}}},{key:"_createNewBuffer",value:function(e,t){var n=new WA(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=n,n}},{key:"_getNextIndex",value:function(){return(this.currentIndex+1)%2}}]),e}();function Iz(e){var t=100,n=e.match(/[^\s]+/g);if(n.length>=2&&"#version"===n[0]){var r=parseInt(n[1],10);Number.isFinite(r)&&(t=r)}return t}var Dz,jz={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},Nz="transform_uSampler_",Bz="transform_uSize_",zz="transform_position";function Zz(e){var t=e.vs,n=e.sourceTextureMap,r=e.targetTextureVarying,i=e.targetTexture,o=Object.keys(n).length,a=null,s={},u=t,l={};if(o>0||r){var c=u.split("\n"),h=c.slice();if(c.forEach((function(e,t,i){if(o>0){var u=function(e,t){var n={},r=function(e){return Oz(e,["attribute","in"])}(e);if(!r)return null;var i=r.type,o=r.name;if(o&&t[o]){var a="// ".concat(e," => Replaced by Transform with a sampler"),s=function(e){var t="".concat(Nz).concat(e),n="".concat(Bz).concat(e),r="  uniform sampler2D ".concat(t,";\n  uniform vec2 ").concat(n,";");return{samplerName:t,sizeName:n,uniformDeclerations:r}}(o),u=s.samplerName,l=s.sizeName,c=s.uniformDeclerations,h=function(e){switch(e){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return oI(!1),null}}(i),f="  ".concat(i," ").concat(o," = transform_getInput(").concat(u,", ").concat(l,").").concat(h,";\n");return n[u]=o,{updatedLine:a,inject:{"vs:#decl":c,"vs:#main-start":f},samplerTextureMap:n}}return null}(e,n);if(u){var c=u.updatedLine,f=u.inject;h[t]=c,l=RI([l,f]),Object.assign(s,u.samplerTextureMap),o--}}r&&!a&&(a=function(e,t){var n=Oz(e,["varying","out"]);if(!n)return null;return n.name===t?n.type:null}(e,r))})),r){EA(i);var f="".concat(Bz).concat(r),d="uniform vec2 ".concat(f,";\n"),p="     vec2 ".concat(zz," = transform_getPos(").concat(f,");\n     gl_Position = vec4(").concat(zz,", 0, 1.);\n");l=RI([l,{"vs:#decl":d,"vs:#main-start":p}])}u=h.join("\n")}return{vs:u,targetTextureType:a,inject:l,samplerTextureMap:s}}var Fz=(Dz={},(0,re.Z)(Dz,10241,9728),(0,re.Z)(Dz,10240,9728),(0,re.Z)(Dz,10242,33071),(0,re.Z)(Dz,10243,33071),Dz),Uz=function(){function e(t){(0,Vt.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(n),Object.seal(this)}return(0,Ht.Z)(e,[{key:"updateModelProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._processVertexShader(e);return Object.assign({},e,t)}},{key:"getDrawOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],n=t.sourceBuffers,r=t.sourceTextures,i=t.framebuffer,o=t.targetTexture,a=Object.assign({},n,e.attributes),s=Object.assign({},e.uniforms),u=Object.assign({},e.parameters),l=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){for(var c in a.transform_elementID=this.elementIDBuffer,this.samplerTextureMap){var h=this.samplerTextureMap[c];s[c]=r[h]}this._setSourceTextureParameters();var f=function(e){var t,n,r=e.sourceTextureMap,i=e.targetTextureVarying,o=e.targetTexture,a={};for(var s in i&&(t=o.width,n=o.height,a["".concat(Bz).concat(i)]=[t,n]),r){var u=r[s];t=u.width,n=u.height,a["".concat(Bz).concat(s)]=[t,n]}return a}({sourceTextureMap:r,targetTextureVarying:this.targetTextureVarying,targetTexture:o});Object.assign(s,f)}return this.hasTargetTexture&&(l=!1,u.viewport=[0,0,i.width,i.height]),{attributes:a,framebuffer:i,uniforms:s,discard:l,parameters:u}}},{key:"swap",value:function(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupTextures(e)}},{key:"getTargetTexture",value:function(){return this.bindings[this.currentIndex].targetTexture}},{key:"getData",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).packed,t=void 0!==e&&e,n=HT(this.bindings[this.currentIndex].framebuffer);if(!t)return n;for(var r=n.constructor,i=function(e){switch(e){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return oI(!1),null}}(this.targetTextureType),o=new r(n.length*i/4),a=0,s=0;s<n.length;s+=4)for(var u=0;u<i;u++)o[a++]=n[s+u];return o}},{key:"getFramebuffer",value:function(){return this.bindings[this.currentIndex].framebuffer}},{key:"delete",value:function(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._targetTextureVarying,n=e._swapTexture;this._swapTexture=n,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}},{key:"_createTargetTexture",value:function(e){var t=e.sourceTextures,n=e.textureOrReference;if(n instanceof tT)return n;var r=t[n];return r?(this._targetRefTexName=n,this._createNewTexture(r)):null}},{key:"_setupTextures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceBuffers,n=e._sourceTextures,r=void 0===n?{}:n,i=e._targetTexture,o=this._createTargetTexture({sourceTextures:r,textureOrReference:i});this.hasSourceTextures=this.hasSourceTextures||r&&Object.keys(r).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:r,targetTexture:o}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}},{key:"_updateElementIDBuffer",value:function(e){if(!("number"!==typeof e||this.elementCount>=e)){var t=new Float32Array(e);t.forEach((function(e,t,n){n[t]=t})),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new WA(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}}},{key:"_updateBindings",value:function(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){var t=this._swapTextures(this.bindings[this.currentIndex]),n=t.sourceTextures,r=t.targetTexture,i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceTextures:n,targetTexture:r})}}},{key:"_updateBinding",value:function(e,t){var n=t.sourceBuffers,r=t.sourceTextures,i=t.targetTexture;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),Object.assign(e.sourceBuffers,n),i){e.targetTexture=i;var o=i.width,a=i.height,s=e.framebuffer;s?(s.update({attachments:(0,re.Z)({},36064,i),resizeAttachments:!1}),s.resize({width:o,height:a})):e.framebuffer=new jT(this.gl,{id:"transform-framebuffer",width:o,height:a,attachments:(0,re.Z)({},36064,i)})}return e}},{key:"_setSourceTextureParameters",value:function(){var e=this.currentIndex,t=this.bindings[e].sourceTextures;for(var n in t)t[n].setParameters(Fz)}},{key:"_swapTextures",value:function(e){if(!this._swapTexture)return null;var t=Object.assign({},e.sourceTextures);return t[this._swapTexture]=e.targetTexture,{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}},{key:"_createNewTexture",value:function(e){var t,n=function(e,t){EA(e instanceof tT||e instanceof UT||e instanceof KT);var n=e.constructor,r=e.gl,i=e.width,o=e.height,a=e.format,s=e.type,u=e.dataFormat,l=e.border,c=e.mipmaps;return new n(r,Object.assign({width:i,height:o,format:a,type:s,dataFormat:u,border:l,mipmaps:c},t))}(e,{parameters:(t={},(0,re.Z)(t,10241,9728),(0,re.Z)(t,10240,9728),(0,re.Z)(t,10242,33071),(0,re.Z)(t,10243,33071),t),pixelStore:(0,re.Z)({},37440,!1)});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=n,n}},{key:"_getNextIndex",value:function(){return(this.currentIndex+1)%2}},{key:"_processVertexShader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],n=t.sourceTextures,r=t.targetTexture,i=Zz({vs:e.vs,sourceTextureMap:n,targetTextureVarying:this.targetTextureVarying,targetTexture:r}),o=i.vs,a=i.uniforms,s=i.targetTextureType,u=i.inject,l=i.samplerTextureMap,c=RI([e.inject||{},u]);return this.targetTextureType=s,this.samplerTextureMap=l,{vs:o,fs:e._fs||Cz({version:Iz(o),input:this.targetTextureVarying,inputType:s,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[jz].concat(e.modules||[]):e.modules,uniforms:a,inject:c}}}]),e}(),Kz=null;function Vz(e,t){var n;return new e((n=e.BYTES_PER_ELEMENT*t,(!Kz||Kz.byteLength<n)&&(Kz=new ArrayBuffer(n)),Kz),0,t)}var Hz=function(e,t){(0,sx.Z)(r,e);var n=(0,ux.Z)(r);function r(e){var t;(0,Vt.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.id||i.program&&i.program.id;return(t=n.call(this,e,Object.assign({},i,{id:o}))).buffer=null,t.bufferValue=null,t.isDefaultArray=i.isDefaultArray||!1,t.gl2=e,t.initialize(i),Object.seal((0,UM.Z)(t)),t}return(0,Ht.Z)(r,[{key:t,get:function(){return"VertexArrayObject"}},{key:"delete",value:function(){return KM((0,lx.Z)(r.prototype),"delete",this).call(this),this.buffer&&this.buffer.delete(),this}},{key:"MAX_ATTRIBUTES",get:function(){return r.getMaxAttributes(this.gl)}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(e)}},{key:"setProps",value:function(e){return this}},{key:"setElementBuffer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return EA(!t||34963===t.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind((function(){e.gl.bindBuffer(34963,t?t.handle:null)})),this}},{key:"setBuffer",value:function(e,t,n){if(34963===t.target)return this.setElementBuffer(t,n);var r=n.size,i=n.type,o=n.stride,a=n.offset,s=n.normalized,u=n.integer,l=n.divisor,c=this.gl,h=this.gl2;return e=Number(e),this.bind((function(){c.bindBuffer(34962,t.handle),u?(EA(bk(c)),h.vertexAttribIPointer(e,r,i,o,a)):c.vertexAttribPointer(e,r,i,s,o,a),c.enableVertexAttribArray(e),h.vertexAttribDivisor(e,l||0)})),this}},{key:"enable",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!n&&0===e&&!r.isSupported(this.gl,{constantAttributeZero:!0})||(e=Number(e),this.bind((function(){return n?t.gl.enableVertexAttribArray(e):t.gl.disableVertexAttribArray(e)}))),this}},{key:"getConstantBuffer",value:function(e,t){var n=this._normalizeConstantArrayValue(t),r=n.byteLength*e,i=n.length*e,o=!this.buffer;if(this.buffer=this.buffer||new WA(this.gl,r),o=(o=o||this.buffer.reallocate(r))||!this._compareConstantArrayValues(n,this.bufferValue)){var a=Vz(t.constructor,i);!function(e){for(var t=e.target,n=e.source,r=e.start,i=void 0===r?0:r,o=e.count,a=void 0===o?1:o,s=n.length,u=a*s,l=0,c=i;l<s;l++)t[c++]=n[l];for(;l<u;)l<u-l?(t.copyWithin(i+l,i,i+l),l*=2):(t.copyWithin(i+l,i,i+u-l),l=u)}({target:a,source:n,start:0,count:i}),this.buffer.subData(a),this.bufferValue=t}return this.buffer}},{key:"_normalizeConstantArrayValue",value:function(e){return Array.isArray(e)?new Float32Array(e):e}},{key:"_compareConstantArrayValues",value:function(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}},{key:"_createHandle",value:function(){return this.gl.createVertexArray()}},{key:"_deleteHandle",value:function(e){return this.gl2.deleteVertexArray(e),[this.elements]}},{key:"_bindHandle",value:function(e){this.gl2.bindVertexArray(e)}},{key:"_getParameter",value:function(e,t){var n=this,r=t.location;return EA(Number.isFinite(r)),this.bind((function(){return 34373===e?n.gl.getVertexAttribOffset(r,e):n.gl.getVertexAttrib(r,e)}))}}],[{key:"isSupported",value:function(e){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||(bk(e)||"Chrome"===hB())}},{key:"getDefaultArray",value:function(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new r(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function(e){return r.MAX_ATTRIBUTES=r.MAX_ATTRIBUTES||e.getParameter(34921),r.MAX_ATTRIBUTES}},{key:"setConstant",value:function(e,t,n){switch(n.constructor){case Float32Array:r._setConstantFloatArray(e,t,n);break;case Int32Array:r._setConstantIntArray(e,t,n);break;case Uint32Array:r._setConstantUintArray(e,t,n);break;default:EA(!1)}}},{key:"_setConstantFloatArray",value:function(e,t,n){switch(n.length){case 1:e.vertexAttrib1fv(t,n);break;case 2:e.vertexAttrib2fv(t,n);break;case 3:e.vertexAttrib3fv(t,n);break;case 4:e.vertexAttrib4fv(t,n);break;default:EA(!1)}}},{key:"_setConstantIntArray",value:function(e,t,n){switch(EA(bk(e)),n.length){case 1:e.vertexAttribI1iv(t,n);break;case 2:e.vertexAttribI2iv(t,n);break;case 3:e.vertexAttribI3iv(t,n);break;case 4:e.vertexAttribI4iv(t,n);break;default:EA(!1)}}},{key:"_setConstantUintArray",value:function(e,t,n){switch(EA(bk(e)),n.length){case 1:e.vertexAttribI1uiv(t,n);break;case 2:e.vertexAttribI2uiv(t,n);break;case 3:e.vertexAttribI3uiv(t,n);break;case 4:e.vertexAttribI4uiv(t,n);break;default:EA(!1)}}}]),r}(CA,Symbol.toStringTag),Wz=/^(.+)__LOCATION_([0-9]+)$/,Gz=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],qz=function(){function e(t){(0,Vt.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.id||n.program&&n.program.id;this.id=r,this.gl=t,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new Hz(t),PA(this,"VertexArray","v6.0",Gz),this.initialize(n),Object.seal(this)}return(0,Ht.Z)(e,[{key:"delete",value:function(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}},{key:"reset",value:function(){this.elements=null,this.elementsAccessor=null;var e=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}},{key:"setProps",value:function(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}},{key:"clearDrawParams",value:function(){this.drawParams=null}},{key:"getDrawParams",value:function(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}},{key:"setAttributes",value:function(e){var t=this;return Object.assign(this.attributes,e),this.vertexArrayObject.bind((function(){for(var n in e){var r=e[n];t._setAttribute(n,r)}t.gl.bindBuffer(34962,null)})),this}},{key:"setElementBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}},{key:"setBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,n);var r=this._resolveLocationAndAccessor(e,t,t.accessor,n),i=r.location,o=r.accessor;return i>=0&&(this.values[i]=t,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.setBuffer(i,t,o)),this}},{key:"setConstant",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},n)),i=r.location,o=r.accessor;return i>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[i]=t,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.enable(i,!1)),this}},{key:"unbindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.vertexArrayObject.setElementBuffer(null),e.buffer=e.buffer||new WA(e.gl,{accessor:{size:4}});for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++)e.values[t]instanceof WA&&(e.gl.disableVertexAttribArray(t),e.gl.bindBuffer(34962,e.buffer.handle),e.gl.vertexAttribPointer(t,1,5126,!1,0,0))})),this}},{key:"bindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.setElementBuffer(e.elements);for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++){var n=e.values[t];n instanceof WA&&e.setBuffer(t,n)}})),this}},{key:"bindForDraw",value:function(e,t,n){var r,i=this;return this.vertexArrayObject.bind((function(){i._setConstantAttributes(e,t),r=n()})),r}},{key:"_resolveLocationAndAccessor",value:function(e,t,n,r){var i=this,o={location:-1,accessor:null},a=this._getAttributeIndex(e),s=a.location,u=a.name;if(!Number.isFinite(s)||s<0)return this.unused[e]=t,pk.once(3,(function(){return"unused value ".concat(e," in ").concat(i.id)}))(),o;var l=this._getAttributeInfo(u||s);if(!l)return o;var c=this.accessors[s]||{},h=UA.resolve(l.accessor,c,n,r),f=h.size,d=h.type;return EA(Number.isFinite(f)&&Number.isFinite(d)),{location:s,accessor:h}}},{key:"_getAttributeInfo",value:function(e){return this.configuration&&this.configuration.getAttributeInfo(e)}},{key:"_getAttributeIndex",value:function(e){var t=Number(e);if(Number.isFinite(t))return{location:t};var n=Wz.exec(e),r=n?n[1]:e,i=n?Number(n[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+i,name:r}:{location:-1}}},{key:"_setAttribute",value:function(e,t){if(t instanceof WA)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof WA){var n=t[0],r=t[1];this.setBuffer(e,n,r)}else if(ArrayBuffer.isView(t)||Array.isArray(t)){var i=t;this.setConstant(e,i)}else{if(!(t.buffer instanceof WA))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");var o=t;this.setBuffer(e,o.buffer,o)}}},{key:"_setConstantAttributes",value:function(e,t){var n=Math.max(0|e,0|t),r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,n);for(var i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)r=this.values[i],ArrayBuffer.isView(r)&&this._setConstantAttribute(i,r)}},{key:"_setConstantAttributeZero",value:function(e,t){if(Hz.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,e);else{var n=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,n,this.accessors[0])}}},{key:"_setConstantAttribute",value:function(e,t){Hz.setConstant(this.gl,e,t)}},{key:"_updateDrawParams",value:function(){for(var e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}},{key:"_updateDrawParamsForLocation",value:function(e,t){var n=this.values[t],r=this.accessors[t];if(n){var i=r.divisor>0;if(e.isInstanced=e.isInstanced||i,n instanceof WA){var o=n;if(i){var a=o.getVertexCount(r);e.instanceCount=Math.min(e.instanceCount,a)}else{var s=o.getVertexCount(r);e.vertexCount=Math.min(e.vertexCount,s)}}}}},{key:"setElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return pk.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}]),e}();function Yz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isInteger,r=void 0!==n&&n;if(Array.isArray(e)||ArrayBuffer.isView(e))return function(e,t){for(var n=t.maxElts,r=void 0===n?16:n,i=t.size,o=void 0===i?1:i,a="[",s=0;s<e.length&&s<r;++s)s>0&&(a+=",".concat(s%o===0?" ":"")),a+=Yz(e[s],t);var u=e.length>r?"...":"]";return"".concat(a).concat(u)}(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<1e-16)return r?"0":"0.";if(r)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);var i=e.toPrecision(2);return i.indexOf(".0")===i.length-2?i.slice(0,-1):i}function Xz(e,t,n,r){var i,o,a=e.gl;if(!t)return o={},(0,re.Z)(o,r,"null"),(0,re.Z)(o,"Format ","N/A"),o;var s,u,l,c="NOT PROVIDED",h=1,f=0,d=0;if(n&&(c=n.type,h=n.size,s=-1!==(c=String(c).replace("Array","")).indexOf("nt")),t instanceof WA){var p,v,g=t,m=g.getDebugData(),y=m.data;if(u=m.changed?"*":"",l=y,f=(d=g.byteLength)/y.BYTES_PER_ELEMENT/h,n){var b=n.divisor>0;v="".concat(b?"I ":"P "," ").concat(f," (x").concat(h,"=").concat(d," bytes ").concat(xA(a,c),")")}else s=!0,v="".concat(d," bytes");return p={},(0,re.Z)(p,r,"".concat(u).concat(Yz(l,{size:h,isInteger:s}))),(0,re.Z)(p,"Format ",v),p}return l=t,h=t.length,s=-1!==(c=String(t.constructor.name).replace("Array","")).indexOf("nt"),i={},(0,re.Z)(i,r,"".concat(Yz(l,{size:h,isInteger:s})," (constant)")),(0,re.Z)(i,"Format ","".concat(h,"x").concat(c," (constant)")),i}function $z(e,t){var n=UD(t.type,t.size);return n?"".concat(e," (").concat(n.name,")"):e}function Jz(e){var t=e.header,n=void 0===t?"Uniforms":t,r=e.program,i=e.uniforms,o=e.undefinedOnly,a=void 0!==o&&o;EA(r);var s,u=".*Matrix",l=r._uniformSetters,c={},h=Object.keys(l).sort(),f=0,d=gx(h);try{for(d.s();!(s=d.n()).done;){var p=s.value;p.match(".*_.*")||p.match(u)||Qz({table:c,header:n,uniforms:i,uniformName:p,undefinedOnly:a})&&f++}}catch(YJ){d.e(YJ)}finally{d.f()}var v,g=gx(h);try{for(g.s();!(v=g.n()).done;){var m=v.value;m.match(u)&&Qz({table:c,header:n,uniforms:i,uniformName:m,undefinedOnly:a})&&f++}}catch(YJ){g.e(YJ)}finally{g.f()}var y,b=gx(h);try{for(b.s();!(y=b.n()).done;){var _=y.value;c[_]||Qz({table:c,header:n,uniforms:i,uniformName:_,undefinedOnly:a})&&f++}}catch(YJ){b.e(YJ)}finally{b.f()}var w=0,E={};if(!a)for(var S in i){var x=i[S];c[S]||(w++,E[S]=(0,re.Z)({Type:"NOT USED: ".concat(x)},n,Yz(x)))}return{table:c,count:f,unusedTable:E,unusedCount:w}}function Qz(e){var t,n=e.table,r=e.header,i=e.uniforms,o=e.uniformName,a=e.undefinedOnly,s=i[o],u=function(e){return void 0!==e&&null!==e}(s);return(!a||!u)&&(n[o]=(t={},(0,re.Z)(t,r,u?Yz(s):"N/A"),(0,re.Z)(t,"Uniform Type",u?s:"NOT PROVIDED"),t),!0)}function eZ(e){var t=e.accessor,n=UD(t.type,t.size);return n?"".concat(n.name," ").concat(e.name):e.name}var tZ={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function nZ(e,t){var n=(t||{}).attributeMap,r=void 0===n?tZ:n;return r&&r[e]||e}function rZ(e,t){var n;switch(e){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors"}switch(n){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2}EA(Number.isFinite(t.size),"attribute ".concat(e," needs size"))}var iZ=function(){},oZ={},aZ=function(){function e(t){(0,Vt.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.id,i=void 0===r?kA("model"):r;EA(yk(t)),this.id=i,this.gl=t,this.id=n.id||kA("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(n)}return(0,Ht.Z)(e,[{key:"initialize",value:function(e){this.props={},this.programManager=e.programManager||WD.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;var t=e.program,n=void 0===t?null:t,r=e.vs,i=e.fs,o=e.modules,a=e.defines,s=e.inject,u=e.varyings,l=e.bufferMode,c=e.transpileToGLSL100;this.programProps={program:n,vs:r,fs:i,modules:o,defines:a,inject:s,varyings:u,bufferMode:l,transpileToGLSL100:c},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},EA(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}},{key:"setProps",value:function(e){this._setModelProps(e)}},{key:"delete",value:function(){for(var e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}},{key:"getDrawMode",value:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getInstanceCount",value:function(){return this.instanceCount}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getProgram",value:function(){return this.program}},{key:"setProgram",value:function(e){var t=e.program,n=e.vs,r=e.fs,i=e.modules,o=e.defines,a=e.inject,s=e.varyings,u=e.bufferMode,l=e.transpileToGLSL100;this.programProps={program:t,vs:n,fs:r,modules:i,defines:o,inject:a,varyings:s,bufferMode:u,transpileToGLSL100:l},this._programDirty=!0}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"setDrawMode",value:function(e){return this.drawMode=e,this}},{key:"setVertexCount",value:function(e){return EA(Number.isFinite(e)),this.vertexCount=e,this}},{key:"setInstanceCount",value:function(e){return EA(Number.isFinite(e)),this.instanceCount=e,this}},{key:"setGeometry",value:function(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(e,t,n){var r={},i=t.indices;for(var o in t.attributes){var a=t.attributes[o],s=nZ(o,n);if("indices"===o)i=a;else if(a.constant)r[s]=a.value;else{var u=a.value,l=(0,V.Z)({},a);delete l.value,r[s]=[new WA(e,u),l],rZ(o,l)}}if(i){var c=i.value||i;EA(c instanceof Uint16Array||c instanceof Uint32Array,'attribute array for "indices" must be of integer type');var h={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};r.indices=[new WA(e,{data:c,target:34963}),h]}return r}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}},{key:"setAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(TA(e))return this;var t={};for(var n in e){var r=e[n];t[n]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(t),this}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,e),this}},{key:"getModuleUniforms",value:function(e){this._checkProgram();var t=this.programManager.getUniforms(this.program);return t?t(e):{}}},{key:"updateModuleSettings",value:function(e){var t=this.getModuleUniforms(e||{});return this.setUniforms(t)}},{key:"clear",value:function(e){return sT(this.program.gl,e),this}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();var t,n=e.moduleSettings,r=void 0===n?null:n,i=e.framebuffer,o=e.uniforms,a=void 0===o?{}:o,s=e.attributes,u=void 0===s?{}:s,l=e.transformFeedback,c=void 0===l?this.transformFeedback:l,h=e.parameters,f=void 0===h?{}:h,d=e.vertexArray,p=void 0===d?this.vertexArray:d;this.setAttributes(u),this.updateModuleSettings(r),this.setUniforms(a),pk.priority>=2&&(t=this._logDrawCallStart(2));var v=this.vertexArray.getDrawParams(),g=this.props,m=g.isIndexed,y=void 0===m?v.isIndexed:m,b=g.indexType,_=void 0===b?v.indexType:b,w=g.indexOffset,E=void 0===w?v.indexOffset:w,S=g.vertexArrayInstanced;(void 0===S?v.isInstanced:S)&&!this.isInstanced&&pk.warn("Found instanced attributes on non-instanced model",this.id)();var x=this.isInstanced,M=this.instanceCount,k=this.props,A=k.onBeforeRender,T=void 0===A?iZ:A,P=k.onAfterRender,O=void 0===P?iZ:P;T(),this.program.setUniforms(this.uniforms);var C=this.program.draw(Object.assign(oZ,e,{logPriority:t,uniforms:null,framebuffer:i,parameters:f,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:p,transformFeedback:c,isIndexed:y,indexType:_,isInstanced:x,instanceCount:M,offset:y?E:0}));return O(),pk.priority>=2&&this._logDrawCallEnd(t,p,i),C}},{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.discard,n=void 0===t||t,r=e.feedbackBuffers,i=e.unbindModels,o=void 0===i?[]:i,a=e.parameters;r&&this._setFeedbackBuffers(r),n&&(a=Object.assign({},a,(0,re.Z)({},35977,n))),o.forEach((function(e){return e.vertexArray.unbindBuffers()}));try{this.draw(Object.assign({},e,{parameters:a}))}finally{o.forEach((function(e){return e.vertexArray.bindBuffers()}))}return this}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pk.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}},{key:"_setModelProps",value:function(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}},{key:"_checkProgram",value:function(){if(this._programDirty||this.programManager.stateHash!==this._programManagerState){var e=this.programProps.program;if(e)this._managedProgram=!1;else{var t=this.programProps,n=t.vs,r=t.fs,i=t.modules,o=t.inject,a=t.defines,s=t.varyings,u=t.bufferMode,l=t.transpileToGLSL100;e=this.programManager.get({vs:n,fs:r,modules:i,inject:o,defines:a,varyings:s,bufferMode:u,transpileToGLSL100:l}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}EA(e instanceof HD,"Model needs a program"),this._programDirty=!1,e!==this.program&&(this.program=e,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new qz(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}}},{key:"_deleteGeometryBuffers",value:function(){for(var e in this.geometryBuffers){var t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof WA&&t.delete()}}},{key:"_setAnimationProps",value:function(e){this.animated&&EA(e,"Model.draw(): animated uniforms but no animationProps")}},{key:"_setFeedbackBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(TA(e))return this;var t=this.program.gl;return this.transformFeedback=this.transformFeedback||new Rz(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}},{key:"_logDrawCallStart",value:function(e){var t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),pk.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:pk.level<=2})(),e}},{key:"_logDrawCallEnd",value:function(e,t,n,r){if(void 0!==e){var i=function(e){var t=e.vertexArray,n=e.header,r=void 0===n?"Attributes":n;if(!t.configuration)return{};var i={};t.elements&&(i.ELEMENT_ARRAY_BUFFER=Xz(t,t.elements,null,r));var o=t.values;for(var a in o){var s=t._getAttributeInfo(a);if(s){var u="".concat(a,": ").concat(s.name),l=t.accessors[s.location];l&&(u="".concat(a,": ").concat($z(s.name,l))),i[u]=Xz(t,o[a],l,r)}}return i}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),o=Jz({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n)}),a=o.table,s=o.unusedTable,u=o.unusedCount,l=Jz({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n),undefinedOnly:!0}),c=l.table;l.count>0&&pk.log("MISSING UNIFORMS",Object.keys(c))(),u>0&&pk.log("UNUSED UNIFORMS",Object.keys(s))();var h=function(e){var t,n={},r="Accessors for ".concat(e.id),i=gx(e.attributeInfos);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o){var a=eZ(o);n["in ".concat(a)]=(0,re.Z)({},r,JSON.stringify(o.accessor))}}}catch(YJ){i.e(YJ)}finally{i.f()}var s,u=gx(e.varyingInfos);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(l){var c=eZ(l);n["out ".concat(c)]=(0,re.Z)({},r,JSON.stringify(l.accessor))}}}catch(YJ){u.e(YJ)}finally{u.f()}return n}(this.vertexArray.configuration);pk.table(e,i)(),pk.table(e,a)(),pk.table(e+1,h)(),r&&r.log({logLevel:2,message:"Rendered to ".concat(r.id)}),pk.groupEnd(2)()}}}]),e}(),sZ=function(){function e(t){(0,Vt.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(n),Object.seal(this)}return(0,Ht.Z)(e,[{key:"delete",value:function(){var e=this.model,t=this.bufferTransform,n=this.textureTransform;e&&e.delete(),t&&t.delete(),n&&n.delete()}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRenderTarget,n=void 0===t||t,r=this._updateDrawOptions(e);n&&r.framebuffer&&r.framebuffer.clear({color:!0}),this.model.transform(r)}},{key:"swap",value:function(){var e,t=!1,n=gx([this.bufferTransform,this.textureTransform].filter(Boolean));try{for(n.s();!(e=n.n()).done;){var r=e.value;t=t||r.swap()}}catch(YJ){n.e(YJ)}finally{n.f()}EA(t,"Nothing to swap")}},{key:"getBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(e)}},{key:"getData",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=gx([this.bufferTransform,this.textureTransform].filter(Boolean));try{for(n.s();!(e=n.n()).done;){var r=e.value.getData(t);if(r)return r}}catch(YJ){n.e(YJ)}finally{n.f()}return null}},{key:"getFramebuffer",value:function(){return this.textureTransform&&this.textureTransform.getFramebuffer()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);var t,n=gx([this.bufferTransform,this.textureTransform].filter(Boolean));try{for(n.s();!(t=n.n()).done;){t.value.update(e)}}catch(YJ){n.e(YJ)}finally{n.f()}}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.gl;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new aZ(t,Object.assign({},e,{fs:e.fs||Cz({version:Iz(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}},{key:"_updateModelProps",value:function(e){var t,n=Object.assign({},e),r=gx([this.bufferTransform,this.textureTransform].filter(Boolean));try{for(r.s();!(t=r.n()).done;){n=t.value.updateModelProps(n)}}catch(YJ){r.e(YJ)}finally{r.f()}return n}},{key:"_buildResourceTransforms",value:function(e,t){(function(e){if(!TA(e.feedbackBuffers)||!TA(e.feedbackMap)||e.varyings&&e.varyings.length>0)return!0;return!1})(t)&&(this.bufferTransform=new Lz(e,t)),function(e){if(!TA(e._sourceTextures)||e._targetTexture||e._targetTextureVarying)return!0;return!1}(t)&&(this.textureTransform=new Uz(e,t)),EA(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}},{key:"_updateDrawOptions",value:function(e){var t,n=Object.assign({},e),r=gx([this.bufferTransform,this.textureTransform].filter(Boolean));try{for(r.s();!(t=r.n()).done;){var i=t.value;n=Object.assign(n,i.getDrawOptions(n))}}catch(YJ){r.e(YJ)}finally{r.f()}return n}}],[{key:"isSupported",value:function(e){return bk(e)}}]),e}();var uZ=function(){function e(t){var n=t.gl,r=t.attribute,i=t.timeline;(0,Vt.Z)(this,e),(0,re.Z)(this,"gl",void 0),(0,re.Z)(this,"type","interpolation"),(0,re.Z)(this,"attributeInTransition",void 0),(0,re.Z)(this,"settings",void 0),(0,re.Z)(this,"attribute",void 0),(0,re.Z)(this,"transition",void 0),(0,re.Z)(this,"currentStartIndices",void 0),(0,re.Z)(this,"currentLength",void 0),(0,re.Z)(this,"transform",void 0),(0,re.Z)(this,"buffers",void 0),this.gl=n,this.transition=new Sj(i),this.attribute=r,this.attributeInTransition=new Az(n,r.settings),this.currentStartIndices=r.startIndices,this.currentLength=0,this.transform=function(e,t){var n=Sz(t.size);return new sZ(e,{vs:lZ,defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"]})}(n,r);var o={byteLength:0,usage:35050};this.buffers=[new WA(n,o),new WA(n,o)]}return(0,Ht.Z)(e,[{key:"inProgress",get:function(){return this.transition.inProgress}},{key:"start",value:function(e,t){if(e.duration<=0)this.transition.cancel();else{this.settings=e;this.gl;var n=this.buffers,r=this.attribute;xz(n);var i,o={numInstances:t,attribute:r,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter},a=gx(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;kz((0,V.Z)({buffer:s},o))}}catch(YJ){a.e(YJ)}finally{a.f()}this.currentStartIndices=r.startIndices,this.currentLength=Mz(r,t),this.attributeInTransition.setData({buffer:n[1],value:r.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/r.size),sourceBuffers:{aFrom:n[0],aTo:Ez(0,r)},feedbackBuffers:{vCurrent:n[1]}})}}},{key:"update",value:function(){var e=this.transition.update();if(e){var t=this.settings,n=t.duration,r=t.easing,i=this.transition.time/n;r&&(i=r(i)),this.transform.run({uniforms:{time:i}})}return e}},{key:"cancel",value:function(){this.transition.cancel(),this.transform.delete();var e,t=gx(this.buffers);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(YJ){t.e(YJ)}finally{t.f()}this.buffers.length=0}}]),e}(),lZ="\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n";var cZ=function(){function e(t){var n=t.gl,r=t.attribute,i=t.timeline;(0,Vt.Z)(this,e),(0,re.Z)(this,"gl",void 0),(0,re.Z)(this,"type","spring"),(0,re.Z)(this,"attributeInTransition",void 0),(0,re.Z)(this,"settings",void 0),(0,re.Z)(this,"attribute",void 0),(0,re.Z)(this,"transition",void 0),(0,re.Z)(this,"currentStartIndices",void 0),(0,re.Z)(this,"currentLength",void 0),(0,re.Z)(this,"texture",void 0),(0,re.Z)(this,"framebuffer",void 0),(0,re.Z)(this,"transform",void 0),(0,re.Z)(this,"buffers",void 0),this.gl=n,this.type="spring",this.transition=new Sj(i),this.attribute=r,this.attributeInTransition=new Az(n,(0,V.Z)((0,V.Z)({},r.settings),{},{normalized:!1})),this.currentStartIndices=r.startIndices,this.currentLength=0,this.texture=function(e){return new tT(e,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(n),this.framebuffer=function(e,t){return new jT(e,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:(0,re.Z)({},36064,t)})}(n,this.texture),this.transform=function(e,t,n){var r=Sz(t.size);return new sZ(e,{framebuffer:n,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:r},varyings:["vNext"]})}(n,r,this.framebuffer);var o={byteLength:0,usage:35050};this.buffers=[new WA(n,o),new WA(n,o),new WA(n,o)]}return(0,Ht.Z)(e,[{key:"inProgress",get:function(){return this.transition.inProgress}},{key:"start",value:function(e,t){this.gl;var n,r=this.buffers,i=this.attribute,o={numInstances:t,attribute:i,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter},a=gx(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;kz((0,V.Z)({buffer:s},o))}}catch(YJ){a.e(YJ)}finally{a.f()}this.settings=e,this.currentStartIndices=i.startIndices,this.currentLength=Mz(i,t),this.attributeInTransition.setData({buffer:r[1],value:i.value}),this.transition.start((0,V.Z)((0,V.Z)({},e),{},{duration:1/0})),this.transform.update({elementCount:Math.floor(this.currentLength/i.size),sourceBuffers:{aTo:Ez(0,i)}})}},{key:"update",value:function(){var e=this.buffers,t=this.transform,n=this.framebuffer,r=this.transition;if(!r.update())return!1;var i=this.settings;return t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:n,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:i.stiffness,damping:i.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),xz(e),this.attributeInTransition.setData({buffer:e[1],value:this.attribute.value}),HT(n)[0]>0||r.end(),!0}},{key:"cancel",value:function(){this.transition.cancel(),this.transform.delete();var e,t=gx(this.buffers);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(YJ){t.e(YJ)}finally{t.f()}this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}]),e}();var hZ={interpolation:uZ,spring:cZ},fZ=function(){function e(t,n){var r=n.id,i=n.timeline;(0,Vt.Z)(this,e),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"isSupported",void 0),(0,re.Z)(this,"gl",void 0),(0,re.Z)(this,"timeline",void 0),(0,re.Z)(this,"transitions",void 0),(0,re.Z)(this,"needsRedraw",void 0),(0,re.Z)(this,"numInstances",void 0),this.id=r,this.gl=t,this.timeline=i,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=sZ.isSupported(t)}return(0,Ht.Z)(e,[{key:"finalize",value:function(){for(var e in this.transitions)this._removeTransition(e)}},{key:"update",value:function(e){var t=e.attributes,n=e.transitions,r=e.numInstances;for(var i in this.numInstances=r||1,t){var o=t[i],a=o.getTransitionSetting(n);a&&this._updateAttribute(i,o,a)}for(var s in this.transitions){var u=t[s];u&&u.getTransitionSetting(n)||this._removeTransition(s)}}},{key:"hasAttribute",value:function(e){var t=this.transitions[e];return t&&t.inProgress}},{key:"getAttributes",value:function(){var e={};for(var t in this.transitions){var n=this.transitions[t];n.inProgress&&(e[t]=n.attributeInTransition)}return e}},{key:"run",value:function(){if(!this.isSupported||0===this.numInstances)return!1;for(var e in this.transitions){this.transitions[e].update()&&(this.needsRedraw=!0)}var t=this.needsRedraw;return this.needsRedraw=!1,t}},{key:"_removeTransition",value:function(e){this.transitions[e].cancel(),delete this.transitions[e]}},{key:"_updateAttribute",value:function(e,t,n){var r=this.transitions[e],i=!r||r.type!==n.type;if(i){if(!this.isSupported)return void EP.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();r&&this._removeTransition(e);var o=hZ[n.type];o?this.transitions[e]=new o({attribute:t,timeline:this.timeline,gl:this.gl}):(EP.error("unsupported transition type '".concat(n.type,"'"))(),i=!1)}(i||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(n,this.numInstances))}}]),e}(),dZ="attributeManager.invalidate",pZ=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.id,i=void 0===r?"attribute-manager":r,o=n.stats,a=n.timeline;(0,Vt.Z)(this,e),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"gl",void 0),(0,re.Z)(this,"attributes",void 0),(0,re.Z)(this,"updateTriggers",void 0),(0,re.Z)(this,"needsRedraw",void 0),(0,re.Z)(this,"userData",void 0),(0,re.Z)(this,"stats",void 0),(0,re.Z)(this,"attributeTransitionManager",void 0),(0,re.Z)(this,"mergeBoundsMemoized",tj(XR)),this.id=i,this.gl=t,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=o,this.attributeTransitionManager=new fZ(t,{id:"".concat(i,"-transitions"),timeline:a}),Object.seal(this)}return(0,Ht.Z)(e,[{key:"finalize",value:function(){for(var e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}},{key:"setNeedsRedraw",value:function(){this.needsRedraw=!0}},{key:"add",value:function(e){this._add(e)}},{key:"addInstanced",value:function(e){this._add(e,{instanced:1})}},{key:"remove",value:function(e){var t,n=gx(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==this.attributes[r]&&(this.attributes[r].delete(),delete this.attributes[r])}}catch(YJ){n.e(YJ)}finally{n.f()}}},{key:"invalidate",value:function(e,t){var n=this._invalidateTrigger(e,t);MP(dZ,this,e,n)}},{key:"invalidateAll",value:function(e){for(var t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);MP(dZ,this,"all")}},{key:"update",value:function(e){var t=e.data,n=e.numInstances,r=e.startIndices,i=void 0===r?null:r,o=e.transitions,a=e.props,s=void 0===a?{}:a,u=e.buffers,l=void 0===u?{}:u,c=e.context,h=void 0===c?{}:c,f=!1;for(var d in MP("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart(),this.attributes){var p=this.attributes[d],v=p.settings.accessor;p.startIndices=i,p.numInstances=n,s[d]&&EP.removed("props.".concat(d),"data.attributes.".concat(d))(),p.setExternalBuffer(l[d])||p.setBinaryValue("string"===typeof v?l[v]:void 0,t.startIndices)||"string"===typeof v&&!l[v]&&p.setConstantValue(s[v])||p.needsUpdate()&&(f=!0,this._updateAttribute({attribute:p,numInstances:n,data:t,props:s,context:h})),this.needsRedraw=this.needsRedraw||p.needsRedraw()}f&&MP("attributeManager.updateEnd",this,n),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:o})}},{key:"updateTransition",value:function(){var e=this.attributeTransitionManager.run();return this.needsRedraw=this.needsRedraw||e,e}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getBounds",value:function(e){var t=this,n=e.map((function(e){var n;return null===(n=t.attributes[e])||void 0===n?void 0:n.getBounds()}));return this.mergeBoundsMemoized(n)}},{key:"getChangedAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearChangedFlags:!1},t=this.attributes,n=this.attributeTransitionManager,r=(0,V.Z)({},n.getAttributes());for(var i in t){var o=t[i];o.needsRedraw(e)&&!n.hasAttribute(i)&&(r[i]=o)}return r}},{key:"getShaderAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=this.getAttributes());var n={};for(var r in e)t[r]||Object.assign(n,e[r].getShaderAttributes());return n}},{key:"_add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e){var r=e[n];this.attributes[n]=this._createAttribute(n,r,t)}this._mapUpdateTriggersToAttributes()}},{key:"_createAttribute",value:function(e,t,n){var r=(0,V.Z)((0,V.Z)({},t),{},{id:e,size:(t.isIndexed?1:t.size)||1,divisor:n.instanced?1:t.divisor||0});return new Az(this.gl,r)}},{key:"_mapUpdateTriggersToAttributes",value:function(){var e=this,t={},n=function(n){e.attributes[n].getUpdateTriggers().forEach((function(e){t[e]||(t[e]=[]),t[e].push(n)}))};for(var r in this.attributes)n(r);this.updateTriggers=t}},{key:"_invalidateTrigger",value:function(e,t){var n=this.attributes,r=this.updateTriggers[e];return r&&r.forEach((function(e){var r=n[e];r&&r.setNeedsUpdate(r.id,t)})),r}},{key:"_updateAttribute",value:function(e){var t=e.attribute,n=e.numInstances;(MP("attribute.updateStart",t),t.constant)?t.setConstantValue(t.value):(t.allocate(n)&&MP("attribute.allocate",t,n),t.updateBuffer(e)&&(this.needsRedraw=!0,MP("attribute.updateEnd",t,n)))}}]),e}(),vZ=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"value",get:function(){return this._value}},{key:"_onUpdate",value:function(){var e=this.time,t=this.settings,n=t.fromValue,r=t.toValue,i=t.duration,o=(0,t.easing)(e/i);this._value=_R(n,r,o)}}]),n}(Sj),gZ=1e-5;function mZ(e,t,n,r,i){var o=t-e;return(n-t)*i+-o*r+o+t}function yZ(e,t){if(Array.isArray(e)){for(var n=0,r=0;r<e.length;r++){var i=e[r]-t[r];n+=i*i}return Math.sqrt(n)}return Math.abs(e-t)}var bZ=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"value",get:function(){return this._currValue}},{key:"_onUpdate",value:function(){var e=this.settings,t=e.fromValue,n=e.toValue,r=e.damping,i=e.stiffness,o=this._prevValue,a=void 0===o?t:o,s=this._currValue,u=void 0===s?t:s,l=function(e,t,n,r,i){if(Array.isArray(n)){for(var o=[],a=0;a<n.length;a++)o[a]=mZ(e[a],t[a],n[a],r,i);return o}return mZ(e,t,n,r,i)}(a,u,n,r,i),c=yZ(l,n),h=yZ(l,u);c<gZ&&h<gZ&&(l=n,this.end()),this._prevValue=u,this._currValue=l}}]),n}(Sj),_Z={interpolation:vZ,spring:bZ},wZ=function(){function e(t){(0,Vt.Z)(this,e),this.transitions=new Map,this.timeline=t}return(0,Ht.Z)(e,[{key:"active",get:function(){return this.transitions.size>0}},{key:"add",value:function(e,t,n,r){var i=this.transitions;if(i.has(e)){var o=i.get(e),a=o.value;t=void 0===a?o.settings.fromValue:a,this.remove(e)}if(r=wz(r)){var s=_Z[r.type];if(s){var u=new s(this.timeline);u.start((0,V.Z)((0,V.Z)({},r),{},{fromValue:t,toValue:n})),i.set(e,u)}else EP.error("unsupported transition type '".concat(r.type,"'"))()}}},{key:"remove",value:function(e){var t=this.transitions;t.has(e)&&(t.get(e).cancel(),t.delete(e))}},{key:"update",value:function(){var e,t={},n=gx(this.transitions);try{for(n.s();!(e=n.n()).done;){var r=v(e.value,2),i=r[0],o=r[1];o.update(),t[i]=o.value,o.inProgress||this.remove(i)}}catch(YJ){n.e(YJ)}finally{n.f()}return t}},{key:"clear",value:function(){var e,t=gx(this.transitions.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.remove(n)}}catch(YJ){t.e(YJ)}finally{t.f()}}}]),e}();function EZ(e,t){var n=xZ({newProps:e,oldProps:t,propTypes:e[mP],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=function(e,t){if(null===t)return"oldProps is null, initial diff";var n=!1,r=e.dataComparator,i=e._dataDiff;r?r(e.data,t.data)||(n="Data comparator detected a change"):e.data!==t.data&&(n="A new data container was supplied");n&&i&&(n=i(e.data,t.data)||n);return n}(e,t),i=!1;return r||(i=function(e,t){if(null===t)return{all:!0};if("all"in e.updateTriggers){if(AZ(e,t,"all"))return{all:!0}}var n={},r=!1;for(var i in e.updateTriggers){if("all"!==i)AZ(e,t,i)&&(n[i]=!0,r=!0)}return!!r&&n}(e,t)),{dataChanged:r,propsChanged:n,updateTriggersChanged:i,extensionsChanged:kZ(e,t),transitionsChanged:SZ(e,t)}}function SZ(e,t){if(!e.transitions)return!1;var n={},r=e[mP],i=!1;for(var o in e.transitions){var a=r[o],s=a&&a.type;("number"===s||"color"===s||"array"===s)&&MZ(e[o],t[o],a)&&(n[o]=!0,i=!0)}return!!i&&n}function xZ(e){var t=e.newProps,n=e.oldProps,r=e.ignoreProps,i=void 0===r?{}:r,o=e.propTypes,a=void 0===o?{}:o,s=e.triggerName,u=void 0===s?"props":s;if(n===t)return!1;if("object"!==typeof t||null===t)return"".concat(u," changed shallowly");if("object"!==typeof n||null===n)return"".concat(u," changed shallowly");for(var l=0,c=Object.keys(t);l<c.length;l++){var h=c[l];if(!(h in i)){if(!(h in n))return"".concat(u,".").concat(h," added");var f=MZ(t[h],n[h],a[h]);if(f)return"".concat(u,".").concat(h," ").concat(f)}}for(var d=0,p=Object.keys(n);d<p.length;d++){var v=p[d];if(!(v in i)){if(!(v in t))return"".concat(u,".").concat(v," dropped");if(!Object.hasOwnProperty.call(t,v)){var g=MZ(t[v],n[v],a[v]);if(g)return"".concat(u,".").concat(v," ").concat(g)}}}return!1}function MZ(e,t,n){var r=n&&n.equal;return r&&!r(e,t,n)?"changed deeply":r||!(r=e&&t&&e.equals)||r.call(e,t)?r||t===e?null:"changed shallowly":"changed deeply"}function kZ(e,t){if(null===t)return!0;var n=t.extensions,r=e.extensions;if(r===n)return!1;if(!n||!r)return!0;if(r.length!==n.length)return!0;for(var i=0;i<r.length;i++)if(!r[i].equals(n[i]))return!0;return!1}function AZ(e,t,n){var r=e.updateTriggers[n];r=void 0===r||null===r?{}:r;var i=t.updateTriggers[n];return xZ({oldProps:i=void 0===i||null===i?{}:i,newProps:r,triggerName:n})}function TZ(e){if(null===(t=e)||"object"!==typeof t)throw new Error("count(): argument not an object");var t;if("function"===typeof e.count)return e.count();if(Number.isFinite(e.size))return e.size;if(Number.isFinite(e.length))return e.length;if(function(e){return null!==e&&"object"===typeof e&&e.constructor===Object}(e))return Object.keys(e).length;throw new Error("count(): argument not a container")}function PZ(e,t){if(!t)return e;var n=(0,V.Z)((0,V.Z)({},e),t);if("defines"in t&&(n.defines=(0,V.Z)((0,V.Z)({},e.defines),t.defines)),"modules"in t&&(n.modules=(e.modules||[]).concat(t.modules),t.modules.some((function(e){return"project64"===e.name})))){var r=n.modules.findIndex((function(e){return"project32"===e.name}));r>=0&&n.modules.splice(r,1)}if("inject"in t)if(e.inject){var i=(0,V.Z)({},e.inject);for(var o in t.inject)i[o]=(i[o]||"")+t.inject[o];n.inject=i}else n.inject=t.inject;return n}var OZ,CZ=[0,0,0];function RZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.projectPosition(e);if(n&&t instanceof Ej){var i=v(e,3),o=i[0],a=i[1],s=i[2],u=void 0===s?0:s,l=t.getDistanceScales([o,a]);r[2]=u*l.unitsPerMeter[2]}return r}function LZ(e,t){var n=t.viewport,r=t.modelMatrix,i=t.coordinateSystem,o=t.coordinateOrigin,a=t.offsetMode,s=v(e,3),u=s[0],l=s[1],c=s[2],h=void 0===c?0:c;if(r){var f=v(dL([],[u,l,h,1],r),3);u=f[0],l=f[1],h=f[2]}switch(i){case qL.LNGLAT:return RZ([u,l,h],n,a);case qL.LNGLAT_OFFSETS:return RZ([u+o[0],l+o[1],h+(o[2]||0)],n,a);case qL.METER_OFFSETS:return RZ(zL(o,[u,l,h]),n,a);case qL.CARTESIAN:default:return n.isGeospatial?[u+o[0],l+o[1],h+o[2]]:n.projectPosition([u,l,h])}}function IZ(e,t){var n=function(e){var t=e.viewport,n=e.modelMatrix,r=e.coordinateOrigin,i=e.coordinateSystem,o=e.fromCoordinateSystem,a=e.fromCoordinateOrigin;return i===qL.DEFAULT&&(i=t.isGeospatial?qL.LNGLAT:qL.CARTESIAN),void 0===o&&(o=i),void 0===a&&(a=r),{viewport:t,coordinateSystem:i,coordinateOrigin:r,modelMatrix:n,fromCoordinateSystem:o,fromCoordinateOrigin:a}}(t),r=n.viewport,i=n.coordinateSystem,o=n.coordinateOrigin,a=n.modelMatrix,s=n.fromCoordinateSystem,u=n.fromCoordinateOrigin,l=t.autoOffset,c=void 0===l||l?uj(r,i,o):{},h=c.geospatialOrigin,f=void 0===h?CZ:h,d=c.shaderCoordinateOrigin,p=void 0===d?CZ:d,v=c.offsetMode,g=void 0!==v&&v,m=LZ(e,{viewport:r,modelMatrix:a,coordinateSystem:s,coordinateOrigin:u,offsetMode:g});if(g){var y=r.projectPosition(f||p);NR(m,m,y)}return m}var DZ=(OZ={},(0,re.Z)(OZ,10241,9987),(0,re.Z)(OZ,10240,9729),(0,re.Z)(OZ,10242,33071),(0,re.Z)(OZ,10243,33071),OZ),jZ={};var NZ={boolean:{validate:function(e,t){return!0},equal:function(e,t,n){return Boolean(e)===Boolean(t)}},number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},color:{validate:function(e,t){return t.optional&&!e||ZZ(e)&&(3===e.length||4===e.length)},equal:function(e,t,n){return vj(e,t,1)}},accessor:{validate:function(e,t){var n=FZ(e);return"function"===n||n===FZ(t.value)},equal:function(e,t,n){return"function"===typeof t||vj(e,t,1)}},array:{validate:function(e,t){return t.optional&&!e||ZZ(e)},equal:function(e,t,n){var r=n.compare,i=Number.isInteger(r)?r:r?1:0;return r?vj(e,t,i):e===t}},object:{equal:function(e,t,n){if(n.ignore)return!0;var r=n.compare,i=Number.isInteger(r)?r:r?1:0;return r?vj(e,t,i):e===t}},function:{validate:function(e,t){return t.optional&&!e||"function"===typeof e},equal:function(e,t,n){return!n.compare&&!1!==n.ignore||e===t}},data:{transform:function(e,t,n){var r=n.props.dataTransform;return r&&e?r(e):e}},image:{transform:function(e,t,n){var r=n.context;return r&&r.gl?function(e,t,n,r){if(n instanceof tT)return n;n.constructor&&"Object"!==n.constructor.name&&(n={data:n});var i=null;n.compressed&&(i=(0,re.Z)({},10241,n.data.length>1?9985:9729));var o=new tT(t,(0,V.Z)((0,V.Z)({},n),{},{parameters:(0,V.Z)((0,V.Z)((0,V.Z)({},DZ),i),r)}));return jZ[o.id]=e,o}(n.id,r.gl,e,(0,V.Z)((0,V.Z)({},t.parameters),n.props.textureParameters)):null},release:function(e,t,n){var r,i;r=n.id,(i=e)&&i instanceof tT&&jZ[i.id]===r&&(i.delete(),delete jZ[i.id])}}};function BZ(e,t){switch(FZ(t)){case"object":return zZ(e,t);case"array":return zZ(e,{type:"array",value:t,compare:!1});case"boolean":return zZ(e,{type:"boolean",value:t});case"number":return zZ(e,{type:"number",value:t});case"function":return zZ(e,{type:"function",value:t,compare:!0});default:return{name:e,type:"unknown",value:t}}}function zZ(e,t){return"type"in t?(0,V.Z)((0,V.Z)({name:e},NZ[t.type]),t):"value"in t?(0,V.Z)({name:e,type:FZ(t.value)},t):{name:e,type:"object",value:t}}function ZZ(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function FZ(e){return ZZ(e)?"array":null===e?"null":typeof e}var UZ="_mergedDefaultProps";function KZ(e,t){var n=UZ;if(t){var r,i=gx(t);try{for(i.s();!(r=i.n()).done;){var o=r.value.constructor;o&&(n+=":".concat(o.extensionName||o.name))}}catch(YJ){i.e(YJ)}finally{i.f()}}var a=WZ(e,n);return a||(e[n]=function(e,t){var n=e.prototype;if(!n)return null;var r,i=Object.getPrototypeOf(e),o=KZ(i),a=WZ(e,"defaultProps")||{},s=function(e){for(var t={},n={},r={},i=0,o=Object.entries(e);i<o.length;i++){var a=v(o[i],2),s=a[0],u=a[1],l=null===u||void 0===u?void 0:u.deprecatedFor;if(l)r[s]=Array.isArray(l)?l:[l];else{var c=BZ(s,u);t[s]=c,n[s]=c.value}}return{propTypes:t,defaultProps:n,deprecatedProps:r}}(a),u=Object.assign(Object.create(null),o,s.defaultProps),l=Object.assign(Object.create(null),null===o||void 0===o?void 0:o[mP],s.propTypes),c=Object.assign(Object.create(null),null===o||void 0===o?void 0:o[yP],s.deprecatedProps),h=gx(t);try{for(h.s();!(r=h.n()).done;){var f=KZ(r.value.constructor);f&&(Object.assign(u,f),Object.assign(l,f[mP]),Object.assign(c,f[yP]))}}catch(YJ){h.e(YJ)}finally{h.f()}(function(e,t){var n=function(e){var t=e.componentName;t||EP.warn("".concat(e.name,".componentName not specified"))();return t||e.name}(t);Object.defineProperties(e,{id:{writable:!0,value:n}})})(u,e),function(e,t){var n={},r={};for(var i in t){var o=t[i],a=o.name,s=o.value;o.async&&(n[a]=s,r[a]=VZ(a))}e[bP]=n,e[_P]={},Object.defineProperties(e,r)}(u,l),function(e,t){var n=function(n){Object.defineProperty(e,n,{enumerable:!1,set:function(e){var r,i="".concat(this.id,": ").concat(n),o=gx(t[n]);try{for(o.s();!(r=o.n()).done;){var a=r.value;HZ(this,a)||(this[a]=e)}}catch(YJ){o.e(YJ)}finally{o.f()}EP.deprecated(i,t[n].join("/"))()}})};for(var r in t)n(r)}(u,c),u[mP]=l,u[yP]=c,0!==t.length||HZ(e,"_propTypes")||(e._propTypes=l);return u}(e,t||[]))}function VZ(e){return{enumerable:!0,set:function(t){"string"===typeof t||t instanceof Promise||vz(t)?this[_P][e]=t:this[wP][e]=t},get:function(){if(this[wP]){if(e in this[wP])return this[wP][e]||this[bP][e];if(e in this[_P]){var t=this[gP]&&this[gP].internalState;if(t&&t.hasAsyncProp(e))return t.getAsyncProp(e)||this[bP][e]}}return this[bP][e]}}}function HZ(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function WZ(e,t){return HZ(e,t)&&e[t]}var GZ=0,qZ=function(){function e(){(0,Vt.Z)(this,e),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"props",void 0),(0,re.Z)(this,"count",void 0);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.props=function(e,t){for(var n,r=t.length-1;r>=0;r--){var i=t[r];"extensions"in i&&(n=i.extensions)}var o=KZ(e.constructor,n),a=Object.create(o);a[gP]=e,a[_P]={},a[wP]={};for(var s=0;s<t.length;++s){var u=t[s];for(var l in u)a[l]=u[l]}return Object.freeze(a),a}(this,n),this.id=this.props.id,this.count=GZ++}return(0,Ht.Z)(e,[{key:"clone",value:function(e){var t=this.props,n={};for(var r in t[bP])r in t[wP]?n[r]=t[wP][r]:r in t[_P]&&(n[r]=t[_P][r]);return new this.constructor((0,V.Z)((0,V.Z)((0,V.Z)({},t),n),e))}}]),e}();(0,re.Z)(qZ,"componentName","Component"),(0,re.Z)(qZ,"defaultProps",{});var YZ=Object.freeze({}),XZ=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"component",void 0),(0,re.Z)(this,"onAsyncPropUpdated",void 0),(0,re.Z)(this,"asyncProps",void 0),(0,re.Z)(this,"oldProps",void 0),(0,re.Z)(this,"oldAsyncProps",void 0),this.component=t,this.asyncProps={},this.onAsyncPropUpdated=function(){},this.oldProps=null,this.oldAsyncProps=null}return(0,Ht.Z)(e,[{key:"finalize",value:function(){for(var e in this.asyncProps){var t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}},{key:"getOldProps",value:function(){return this.oldAsyncProps||this.oldProps||YZ}},{key:"resetOldProps",value:function(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}},{key:"hasAsyncProp",value:function(e){return e in this.asyncProps}},{key:"getAsyncProp",value:function(e){var t=this.asyncProps[e];return t&&t.resolvedValue}},{key:"isAsyncPropLoading",value:function(e){if(e){var t=this.asyncProps[e];return Boolean(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(var n in this.asyncProps)if(this.isAsyncPropLoading(n))return!0;return!1}},{key:"reloadAsyncProp",value:function(e,t){this._watchPromise(e,Promise.resolve(t))}},{key:"setAsyncProps",value:function(e){this.component=e[gP]||this.component;var t=e[wP]||{},n=e[_P]||e,r=e[bP]||{};for(var i in t){var o=t[i];this._createAsyncPropData(i,r[i]),this._updateAsyncProp(i,o),t[i]=this.getAsyncProp(i)}for(var a in n){var s=n[a];this._createAsyncPropData(a,r[a]),this._updateAsyncProp(a,s)}}},{key:"_fetch",value:function(e,t){return null}},{key:"_onResolve",value:function(e,t){}},{key:"_onError",value:function(e,t){}},{key:"_updateAsyncProp",value:function(e,t){this._didAsyncInputValueChange(e,t)&&("string"===typeof t&&(t=this._fetch(e,t)),t instanceof Promise?this._watchPromise(e,t):vz(t)?this._resolveAsyncIterable(e,t):this._setPropValue(e,t))}},{key:"_freezeAsyncOldProps",value:function(){if(!this.oldAsyncProps&&this.oldProps)for(var e in this.oldAsyncProps=Object.create(this.oldProps),this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}},{key:"_didAsyncInputValueChange",value:function(e,t){var n=this.asyncProps[e];return t!==n.resolvedValue&&t!==n.lastValue&&(n.lastValue=t,!0)}},{key:"_setPropValue",value:function(e,t){this._freezeAsyncOldProps();var n=this.asyncProps[e];n&&(t=this._postProcessValue(n,t),n.resolvedValue=t,n.pendingLoadCount++,n.resolvedLoadCount=n.pendingLoadCount)}},{key:"_setAsyncPropValue",value:function(e,t,n){var r=this.asyncProps[e];r&&n>=r.resolvedLoadCount&&void 0!==t&&(this._freezeAsyncOldProps(),r.resolvedValue=t,r.resolvedLoadCount=n,this.onAsyncPropUpdated(e,t))}},{key:"_watchPromise",value:function(e,t){var n=this,r=this.asyncProps[e];if(r){r.pendingLoadCount++;var i=r.pendingLoadCount;t.then((function(t){n.component&&(t=n._postProcessValue(r,t),n._setAsyncPropValue(e,t,i),n._onResolve(e,t))})).catch((function(t){n._onError(e,t)}))}}},{key:"_resolveAsyncIterable",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o,a,s,u,l,c,h,f,d;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("data"===t){e.next=3;break}return this._setPropValue(t,n),e.abrupt("return");case 3:if(r=this.asyncProps[t]){e.next=6;break}return e.abrupt("return");case 6:r.pendingLoadCount++,i=r.pendingLoadCount,o=[],a=0,s=!1,u=!1,e.prev=12,c=_C(n);case 14:return e.next=16,c.next();case 16:if(!(s=!(h=e.sent).done)){e.next=28;break}if(f=h.value,this.component){e.next=20;break}return e.abrupt("return");case 20:d=this.component.props.dataTransform,o=d?d(f,o):o.concat(f),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:a,endRow:o.length}]}),a=o.length,this._setAsyncPropValue(t,o,i);case 25:s=!1,e.next=14;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(12),u=!0,l=e.t0;case 34:if(e.prev=34,e.prev=35,!s||null==c.return){e.next=39;break}return e.next=39,c.return();case 39:if(e.prev=39,!u){e.next=42;break}throw l;case 42:return e.finish(39);case 43:return e.finish(34);case 44:this._onResolve(t,o);case 45:case"end":return e.stop()}}),e,this,[[12,30,34,44],[35,,39,43]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_postProcessValue",value:function(e,t){var n=e.type;return n&&this.component&&(n.release&&n.release(e.resolvedValue,n,this.component),n.transform)?n.transform(t,n,this.component):t}},{key:"_createAsyncPropData",value:function(e,t){if(!this.asyncProps[e]){var n=this.component&&this.component.props[mP];this.asyncProps[e]={type:n&&n[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}]),e}(),$Z=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){var r,i=e.attributeManager,o=e.layer;return(0,Vt.Z)(this,n),r=t.call(this,o),(0,re.Z)((0,UM.Z)(r),"attributeManager",void 0),(0,re.Z)((0,UM.Z)(r),"needsRedraw",void 0),(0,re.Z)((0,UM.Z)(r),"needsUpdate",void 0),(0,re.Z)((0,UM.Z)(r),"subLayers",void 0),(0,re.Z)((0,UM.Z)(r),"usesPickingColorCache",void 0),(0,re.Z)((0,UM.Z)(r),"hasPickingBuffer",void 0),(0,re.Z)((0,UM.Z)(r),"changeFlags",void 0),(0,re.Z)((0,UM.Z)(r),"viewport",void 0),(0,re.Z)((0,UM.Z)(r),"uniformTransitions",void 0),(0,re.Z)((0,UM.Z)(r),"propsInTransition",void 0),r.attributeManager=i,r.needsRedraw=!0,r.needsUpdate=!0,r.subLayers=null,r.usesPickingColorCache=!1,r}return(0,Ht.Z)(n,[{key:"layer",get:function(){return this.component}},{key:"_fetch",value:function(e,t){var r=this.layer,i=null===r||void 0===r?void 0:r.props.fetch;return i?i(t,{propName:e,layer:r}):KM((0,lx.Z)(n.prototype),"_fetch",this).call(this,e,t)}},{key:"_onResolve",value:function(e,t){var n=this.layer;if(n){var r=n.props.onDataLoad;"data"===e&&r&&r(t,{propName:e,layer:n})}}},{key:"_onError",value:function(e,t){var n=this.layer;n&&n.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}}]),n}(XZ),JZ=Math.pow(2,24)-1,QZ=Object.freeze([]),eF=tj((function(e){var t=e.oldViewport,n=e.viewport;return t.equals(n)})),tF=new Uint8ClampedArray(0),nF={data:{type:"data",value:QZ,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:function(e){return e&&e.__diff},optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:function(e,t){var n,r=t.propName,i=t.layer,o=t.loaders,a=t.loadOptions,s=t.signal,u=i.context.resourceManager;(a=a||i.getLoadOptions(),o=o||i.props.loaders,s)&&(a=(0,V.Z)((0,V.Z)({},a),{},{fetch:(0,V.Z)((0,V.Z)({},null===(n=a)||void 0===n?void 0:n.fetch),{},{signal:s})}));var l=u.contains(e);return l||a||(u.add({resourceId:e,data:cR(e,o),persistent:!1}),l=!0),l?u.subscribe({resourceId:e,onChange:function(e){var t;return null===(t=i.internalState)||void 0===t?void 0:t.reloadAsyncProp(r,e)},consumerId:i.id,requestId:r}):cR(e,o,a)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:qL.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:function(e){return[0,100*-e.layerIndex]}},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}},rF=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"internalState",null),(0,re.Z)((0,UM.Z)(e),"lifecycle",cP),(0,re.Z)((0,UM.Z)(e),"context",void 0),(0,re.Z)((0,UM.Z)(e),"state",void 0),(0,re.Z)((0,UM.Z)(e),"parent",null),e}return(0,Ht.Z)(n,[{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"toString",value:function(){var e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}},{key:"project",value:function(e){_j(this.internalState);var t=this.internalState.viewport||this.context.viewport,n=v(KL(LZ(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),t.pixelProjectionMatrix),3),r=n[0],i=n[1],o=n[2];return 2===e.length?[r,i]:[r,i,o]}},{key:"unproject",value:function(e){return _j(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}},{key:"projectPosition",value:function(e,t){_j(this.internalState);var n=this.internalState.viewport||this.context.viewport;return IZ(e,(0,V.Z)({viewport:n,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem},t))}},{key:"isComposite",get:function(){return!1}},{key:"setState",value:function(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}},{key:"setNeedsRedraw",value:function(){this.internalState&&(this.internalState.needsRedraw=!0)}},{key:"setNeedsUpdate",value:function(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}},{key:"isLoaded",get:function(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}},{key:"wrapLongitude",get:function(){return this.props.wrapLongitude}},{key:"isPickable",value:function(){return this.props.pickable&&this.props.visible}},{key:"getModels",value:function(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}},{key:"setModuleParameters",value:function(e){var t,n=gx(this.getModels());try{for(n.s();!(t=n.n()).done;){t.value.updateModuleSettings(e)}}catch(YJ){n.e(YJ)}finally{n.f()}}},{key:"getAttributeManager",value:function(){return this.internalState&&this.internalState.attributeManager}},{key:"getCurrentLayer",value:function(){return this.internalState&&this.internalState.layer}},{key:"getLoadOptions",value:function(){return this.props.loadOptions}},{key:"use64bitPositions",value:function(){var e=this.props.coordinateSystem;return e===qL.DEFAULT||e===qL.LNGLAT||e===qL.CARTESIAN}},{key:"onHover",value:function(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}},{key:"onClick",value:function(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}},{key:"nullPickingColor",value:function(){return[0,0,0]}},{key:"encodePickingColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}},{key:"decodePickingColor",value:function(e){_j(e instanceof Uint8Array);var t=v(e,3);return t[0]+256*t[1]+65536*t[2]-1}},{key:"getNumInstances",value:function(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:TZ(this.props.data)}},{key:"getStartIndices",value:function(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}},{key:"getBounds",value:function(){var e;return null===(e=this.getAttributeManager())||void 0===e?void 0:e.getBounds(["positions","instancePositions"])}},{key:"getShaders",value:function(e){var t,n=gx(this.props.extensions);try{for(n.s();!(t=n.n()).done;){var r=t.value;e=PZ(e,r.getShaders.call(this,r))}}catch(YJ){n.e(YJ)}finally{n.f()}return e}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.propsOrDataChanged}},{key:"updateState",value:function(e){var t=this,n=this.getAttributeManager(),r=e.changeFlags.dataChanged;if(r&&n)if(Array.isArray(r)){var i,o=gx(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;n.invalidateAll(a)}}catch(YJ){o.e(YJ)}finally{o.f()}}else n.invalidateAll();if(n){var s=e.props,u=this.internalState.hasPickingBuffer,l=Number.isInteger(s.highlightedObjectIndex)||s.pickable||s.extensions.some((function(e){return e.getNeedsPickingBuffer.call(t,e)}));if(u!==l){this.internalState.hasPickingBuffer=l;var c=n.attributes,h=c.pickingColors,f=c.instancePickingColors,d=h||f;d&&(l&&d.constant&&(d.constant=!1,n.invalidate(d.id)),d.value||l||(d.constant=!0,d.value=[0,0,0]))}}}},{key:"finalizeState",value:function(e){var t,n=gx(this.getModels());try{for(n.s();!(t=n.n()).done;){t.value.delete()}}catch(YJ){n.e(YJ)}finally{n.f()}var r=this.getAttributeManager();r&&r.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}},{key:"draw",value:function(e){var t,n=gx(this.getModels());try{for(n.s();!(t=n.n()).done;){t.value.draw(e)}}catch(YJ){n.e(YJ)}finally{n.f()}}},{key:"getPickingInfo",value:function(e){var t=e.info,n=(e.mode,e.sourceLayer,t.index);return n>=0&&Array.isArray(this.props.data)&&(t.object=this.props.data[n]),t}},{key:"raiseError",value:function(e,t){var n,r,i,o;(t&&(e.message="".concat(t,": ").concat(e.message)),null!==(n=(r=this.props).onError)&&void 0!==n&&n.call(r,e))||(null===(i=this.context)||void 0===i||null===(o=i.onError)||void 0===o||o.call(i,e,this))}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};return this._getNeedsRedraw(e)}},{key:"needsUpdate",value:function(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}},{key:"hasUniformTransition",value:function(){var e;return(null===(e=this.internalState)||void 0===e?void 0:e.uniformTransitions.active)||!1}},{key:"activateViewport",value:function(e){if(this.internalState){var t=this.internalState.viewport;this.internalState.viewport=e,t&&eF({oldViewport:t,viewport:e})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}}},{key:"invalidateAttribute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}},{key:"updateAttributes",value:function(e){var t,n=gx(this.getModels());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._setModelAttributes(r,e)}}catch(YJ){n.e(YJ)}finally{n.f()}}},{key:"_updateAttributes",value:function(){var e=this.getAttributeManager();if(e){var t=this.props,n=this.getNumInstances(),r=this.getStartIndices();e.update({data:t.data,numInstances:n,startIndices:r,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});var i=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(i)}}},{key:"_updateAttributeTransition",value:function(){var e=this.getAttributeManager();e&&e.updateTransition()}},{key:"_updateUniformTransition",value:function(){var e=this.internalState.uniformTransitions;if(e.active){var t=e.update(),n=Object.create(this.props);for(var r in t)Object.defineProperty(n,r,{value:t[r]});return n}return this.props}},{key:"calculateInstancePickingColors",value:function(e,t){var n=t.numInstances;if(!e.constant){var r=Math.floor(tF.length/3);if(this.internalState.usesPickingColorCache=!0,r<n){n>JZ&&EP.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),tF=vR.allocate(tF,n,{size:3,copy:!0,maxCount:Math.max(n,JZ)});for(var i=Math.floor(tF.length/3),o=[],a=r;a<i;a++)this.encodePickingColor(a,o),tF[3*a+0]=o[0],tF[3*a+1]=o[1],tF[3*a+2]=o[2]}e.value=tF.subarray(0,3*n)}}},{key:"_setModelAttributes",value:function(e,t){var n=this.getAttributeManager(),r=e.userData.excludeAttributes||{},i=n.getShaderAttributes(t,r);e.setAttributes(i)}},{key:"disablePickingIndex",value:function(e){var t=this.props.data;if("attributes"in t){var n=this.getAttributeManager().attributes,r=n.pickingColors,i=n.instancePickingColors,o=r||i,a=o&&t.attributes&&t.attributes[o.id];if(a&&a.value)for(var s=a.value,u=this.encodePickingColor(e),l=0;l<t.length;l++){var c=o.getVertexOffset(l);s[c]===u[0]&&s[c+1]===u[1]&&s[c+2]===u[2]&&this._disablePickingIndex(l)}else this._disablePickingIndex(e)}else this._disablePickingIndex(e)}},{key:"_disablePickingIndex",value:function(e){var t=this.getAttributeManager().attributes,n=t.pickingColors,r=t.instancePickingColors,i=n||r;if(i){var o=i.getVertexOffset(e),a=i.getVertexOffset(e+1);i.buffer.subData({data:new Uint8Array(a-o),offset:o})}}},{key:"restorePickingColors",value:function(){var e=this.getAttributeManager().attributes,t=e.pickingColors,n=e.instancePickingColors,r=t||n;r&&(this.internalState.usesPickingColorCache&&r.value.buffer!==tF.buffer&&(r.value=tF.subarray(0,r.value.length)),r.updateSubBuffer({startOffset:0}))}},{key:"_initialize",value:function(){_j(!this.internalState),_j(Number.isFinite(this.props.coordinateSystem)),MP("layer.initialize",this);var e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new $Z({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:function(){return EP.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e}}),this.internalState.uniformTransitions=new wZ(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);var t,n=gx(this.props.extensions);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.initializeState.call(this,this.context,r)}}catch(YJ){n.e(YJ)}finally{n.f()}this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}},{key:"_transferState",value:function(e){MP("layer.matched",this,this===e);var t=e.state,n=e.internalState;this!==e&&(this.internalState=n,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}},{key:"_update",value:function(){var e=this.needsUpdate();if(MP("layer.update",this,e),e){var t=this.props,n=this.context,r=this.internalState,i=n.viewport,o=this._updateUniformTransition();r.propsInTransition=o,n.viewport=r.viewport||i,this.props=o;try{var a=this._getUpdateParams(),s=this.getModels();if(n.gl)this.updateState(a);else try{this.updateState(a)}catch(f){}var u,l=gx(this.props.extensions);try{for(l.s();!(u=l.n()).done;){var c=u.value;c.updateState.call(this,a,c)}}catch(YJ){l.e(YJ)}finally{l.f()}var h=this.getModels()[0]!==s[0];this._postUpdate(a,h)}finally{n.viewport=i,this.props=t,this._clearChangeFlags(),r.needsUpdate=!1,r.resetOldProps()}}}},{key:"_finalize",value:function(){MP("layer.finalize",this),this.finalizeState(this.context);var e,t=gx(this.props.extensions);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.finalizeState.call(this,this.context,n)}}catch(YJ){t.e(YJ)}finally{t.f()}}},{key:"_drawLayer",value:function(e){var t=this,n=e.moduleParameters,r=void 0===n?null:n,i=e.uniforms,o=void 0===i?{}:i,a=e.parameters,s=void 0===a?{}:a;this._updateAttributeTransition();var u=this.props,l=this.context;this.props=this.internalState.propsInTransition||u;var c=this.props.opacity;o.opacity=Math.pow(c,1/2.2);try{r&&this.setModuleParameters(r);var h=this.props.getPolygonOffset,f=h&&h(o)||[0,0];iA(l.gl,{polygonOffset:f}),oA(l.gl,s,(function(){var e,n={moduleParameters:r,uniforms:o,parameters:s,context:l},i=gx(t.props.extensions);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.draw.call(t,n,a)}}catch(YJ){i.e(YJ)}finally{i.f()}t.draw(n)}))}finally{this.props=u}}},{key:"getChangeFlags",value:function(){var e;return null===(e=this.internalState)||void 0===e?void 0:e.changeFlags}},{key:"setChangeFlags",value:function(e){if(this.internalState){var t=this.internalState.changeFlags;for(var n in e)if(e[n]){var r=!1;if("dataChanged"===n){var i=e[n],o=t[n];i&&Array.isArray(o)&&(t.dataChanged=Array.isArray(i)?o.concat(i):i,r=!0)}t[n]||(t[n]=e[n],r=!0),r&&MP("layer.changeFlag",this,n,e)}var a=Boolean(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=a,t.somethingChanged=a||t.viewportChanged||t.stateChanged}}},{key:"_clearChangeFlags",value:function(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}},{key:"_diffProps",value:function(e,t){var n=EZ(e,t);if(n.updateTriggersChanged)for(var r in n.updateTriggersChanged)n.updateTriggersChanged[r]&&this.invalidateAttribute(r);if(n.transitionsChanged)for(var i in n.transitionsChanged){var o;this.internalState.uniformTransitions.add(i,t[i],e[i],null===(o=e.transitions)||void 0===o?void 0:o[i])}return this.setChangeFlags(n)}},{key:"validateProps",value:function(){!function(e){var t=e[mP];for(var n in t){var r=t[n],i=r.validate;if(i&&!i(e[n],r))throw new Error("Invalid prop ".concat(n,": ").concat(e[n]))}}(this.props)}},{key:"updateAutoHighlight",value:function(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}},{key:"_updateAutoHighlight",value:function(e){var t={pickingSelectedColor:e.picked?e.color:null},n=this.props.highlightColor;e.picked&&"function"===typeof n&&(t.pickingHighlightColor=n(e)),this.setModuleParameters(t),this.setNeedsRedraw()}},{key:"_getAttributeManager",value:function(){var e=this.context;return new pZ(e.gl,{id:this.props.id,stats:e.stats,timeline:e.timeline})}},{key:"_postUpdate",value:function(e,t){var n=e.props,r=e.oldProps;this.setNeedsRedraw(),this._updateAttributes();var i=this.state.model;null===i||void 0===i||i.setInstanceCount(this.getNumInstances());var o=n.autoHighlight,a=n.highlightedObjectIndex,s=n.highlightColor;if(t||r.autoHighlight!==o||r.highlightedObjectIndex!==a||r.highlightColor!==s){var u={};o||(u.pickingSelectedColor=null),Array.isArray(s)&&(u.pickingHighlightColor=s),(t||a!==r.highlightedObjectIndex)&&(u.pickingSelectedColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setModuleParameters(u)}}},{key:"_getUpdateParams",value:function(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}},{key:"_getNeedsRedraw",value:function(e){if(!this.internalState)return!1;var t=!1;t=t||this.internalState.needsRedraw&&this.id;var n=this.getAttributeManager(),r=!!n&&n.getNeedsRedraw(e);if(t=t||r){var i,o=gx(this.props.extensions);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.onNeedsRedraw.call(this,a)}}catch(YJ){o.e(YJ)}finally{o.f()}}return this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags,t}},{key:"_onAsyncPropUpdated",value:function(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}],[{key:"componentName",get:function(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}}]),n}(qZ);(0,re.Z)(rF,"defaultProps",nF),(0,re.Z)(rF,"layerName","Layer");var iF={position:"absolute",zIndex:-1};function oF(e,n){if("function"===typeof e)return e(n);if(Array.isArray(e))return e.map((function(e){return oF(e,n)}));if(aF(e)){if(function(e){var t;return null===(t=e.props)||void 0===t?void 0:t.mapStyle}(e))return n.style=iF,(0,t.cloneElement)(e,n);if(function(e){var t=e.type;return t&&t.deckGLViewProps}(e))return(0,t.cloneElement)(e,n)}return e}function aF(e){return e&&"object"===typeof e&&"type"in e||!1}function sF(e){if("function"===typeof e)return(0,t.createElement)(wj,{},e);if(Array.isArray(e))return e.map(sF);if(aF(e)){if(e.type===t.Fragment)return sF(e.props.children);if(sz(e.type,wj))return e}return e}var uF={mixBlendMode:null};function lF(e){e.redrawReason&&(e.deck._drawLayers(e.redrawReason),e.redrawReason=null)}var cF=(0,t.forwardRef)((function(e,n){var r=v((0,t.useState)(0),2),i=r[0],o=r[1],a=(0,t.useRef)({control:null,version:i,forceUpdate:function(){return o((function(e){return e+1}))}}).current,s=(0,t.useRef)(null),u=(0,t.useRef)(null),l=(0,t.useMemo)((function(){return function(e){var n=e.children,r=e.layers,i=void 0===r?[]:r,o=e.views,a=void 0===o?null:o,s=[],u=[],l={};return t.Children.forEach(sF(n),(function(e){if(aF(e)){var t=e.type;if(sz(t,rF)){var n=function(e,t){var n={},r=e.defaultProps||{};for(var i in t)r[i]!==t[i]&&(n[i]=t[i]);return new e(n)}(t,e.props);u.push(n)}else s.push(e);if(sz(t,wj)&&t!==wj&&e.props.id){var r=new t(e.props);l[r.id]=r}}else e&&s.push(e)})),Object.keys(l).length>0&&(Array.isArray(a)?a.forEach((function(e){l[e.id]=e})):a&&(l[a.id]=a),a=Object.values(l)),{layers:i=u.length>0?[].concat(u,(0,g.Z)(i)):i,children:s,views:a}}(e)}),[e.layers,e.views,e.children]),c=!0,h=function(t){var n;return c&&e.viewState?(a.viewStateUpdateRequested=t,null):(a.viewStateUpdateRequested=null,null===(n=e.onViewStateChange)||void 0===n?void 0:n.call(e,t))},f=function(t){var n;c?a.interactionStateUpdateRequested=t:(a.interactionStateUpdateRequested=null,null===(n=e.onInteractionStateChange)||void 0===n||n.call(e,t))},d=(0,t.useMemo)((function(){var t=(0,V.Z)((0,V.Z)({},e),{},{style:null,width:"100%",height:"100%",parent:s.current,canvas:u.current,layers:l.layers,views:l.views,onViewStateChange:h,onInteractionStateChange:f});return delete t._customRender,a.deck&&a.deck.setProps(t),t}),[e]);(0,t.useEffect)((function(){var t=e.Deck||oz;return a.deck=function(e,t,n){var r=new t((0,V.Z)((0,V.Z)({},n),{},{_customRender:function(t){e.redrawReason=t;var n=r.getViewports();e.lastRenderedViewports!==n?e.forceUpdate():lF(e)}}));return r}(a,t,(0,V.Z)((0,V.Z)({},d),{},{parent:s.current,canvas:u.current})),function(){var e;return null===(e=a.deck)||void 0===e?void 0:e.finalize()}}),[]),az((function(){lF(a);var e=a.viewStateUpdateRequested,t=a.interactionStateUpdateRequested;e&&h(e),t&&f(t)})),(0,t.useImperativeHandle)(n,(function(){return function(e){return{get deck(){return e.deck},pickObject:function(t){return e.deck.pickObject(t)},pickMultipleObjects:function(t){return e.deck.pickMultipleObjects(t)},pickObjects:function(t){return e.deck.pickObjects(t)}}}(a)}),[]);var p=a.deck&&a.deck.isInitialized?a.deck.getViewports():void 0,m=e.ContextProvider,y=e.width,b=e.height,_=e.id,w=e.style,E=(0,t.useMemo)((function(){return function(e){var t=e.width,n=e.height,r=e.style,i={position:"absolute",zIndex:0,left:0,top:0,width:t,height:n},o={left:0,top:0};if(r)for(var a in r)a in uF?o[a]=r[a]:i[a]=r[a];return{containerStyle:i,canvasStyle:o}}({width:y,height:b,style:w})}),[y,b,w]),S=E.containerStyle,x=E.canvasStyle;if(!a.viewStateUpdateRequested&&a.lastRenderedViewports===p||a.version!==i){a.lastRenderedViewports=p,a.version=i;var M=function(e){var n=e.children,r=e.deck,i=e.ContextProvider,o=(r||{}).viewManager;if(!o||!o.views.length)return[];var a,s={},u=o.views[0].id,l=gx(n);try{for(l.s();!(a=l.n()).done;){var c=a.value,h=u,f=c;aF(c)&&sz(c.type,wj)&&(h=c.props.id||u,f=c.props.children);var d=o.getViewport(h),p=o.getViewState(h);d&&(p.padding=d.padding,f=oF(f,{x:d.x,y:d.y,width:d.width,height:d.height,viewport:d,viewState:p}),s[h]||(s[h]={viewport:d,children:[]}),s[h].children.push(f))}}catch(YJ){l.e(YJ)}finally{l.f()}return Object.keys(s).map((function(e){var n=s[e],o=n.viewport,a=n.children,u={position:"absolute",left:o.x,top:o.y,width:o.width,height:o.height},l="view-".concat(e),c=t.createElement.apply(void 0,["div",{key:l,id:l,style:u}].concat((0,g.Z)(a)));if(i){var h={viewport:o,container:r.canvas.offsetParent,eventManager:r.eventManager,onViewStateChange:function(t){t.viewId=e,r._onViewStateChange(t)}};return(0,t.createElement)(i,{key:l,value:h},c)}return c}))}({children:l.children,deck:a.deck,ContextProvider:m}),k=(0,t.createElement)("canvas",{key:"canvas",id:_||"deckgl-overlay",ref:u,style:x});a.control=(0,t.createElement)("div",{id:"".concat(_||"deckgl","-wrapper"),ref:s,style:S},[k,M])}return c=!1,a.control}));cF.defaultProps=oz.defaultProps;var hF=cF,fF=function(e){return Math.ceil(e)};function dF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dF(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vF(e,t,n){return gF((e-1)/nr.view.getMapViewportRange(t,n))}function gF(e){for(var t=In.pixelSizeInLevels,n=0;e<=t[n+1]&&n<t.length;)n++;var r=n+1,i=t[n],o=t[r];if(r>=t.length)return n;var a=r-(e-o)/(i-o);return(a-=1)>=0?a:0}var mF={getBoxRangeFromZoomLevel:function(e,t,n){e+=1;var r=Math.floor(e),i=Math.ceil(e),o=nr.view.getPixelSizeFromZoomLevel(r),a=nr.view.getPixelSizeFromZoomLevel(i),s=(o-a)*(i-e)+a;return nr.view.getMapViewportRange(t,n)*s},getZoomLevelFromBoxRange:vF,getZoomLevelFromPixelSize:gF,getDeckViewFromPantherViewParams:function(e,t,n,r){var i=pF(pF({},In.defaultMapView),e),o=In.defaultLevelsRange[0],a=In.defaultLevelsRange[1];if(null!==r&&void 0!==r&&r.boxRangeRange){if(r.boxRangeRange[1]){var s=vF(r.boxRangeRange[1],t,n);s>o&&(o=s)}if(r.boxRangeRange[0]){var u=vF(r.boxRangeRange[0],t,n);u<a&&(a=u)}}return pF({latitude:i.center.lat,longitude:i.center.lon,zoom:vF(i.boxRange,t,n),minZoom:o,maxZoom:a,pitch:i.pitch,bearing:i.bearing},i.deckGlTransitionProperties?pF({},i.deckGlTransitionProperties):{})}},yF=n(2086),bF=n.n(yF);var _F={getBoxRangeFromWorldWindRange:function(e,t,n){return t&&t>=n?e*n/t:e},getWorldWindRangeFromBoxRange:function(e,t,n){return t&&t>=n?e*t/n:e},isBoxRangeInRange:function(e,t){if((0,ie.isArray)(t)){var n=e>t[0]&&e<=t[1],r=!t[0]&&e<=t[1],i=e>t[0]&&!t[1];return n||r||i}return!1}},wF={fill:"#ffffff",fillOpacity:.8,outlineColor:"#000000",outlineWidth:2,outlineOpacity:1},EF={diagramFill:"#87c7ff",diagramFillOpacity:1,diagramOutlineColor:"#3b80ff",diagramOutlineWidth:1,diagramOutlineOpacity:1},SF={defaultRasterPixelStyle:{color:"#000000"},diagramStyle:{default:EF,defaultFull:{rules:{styles:[EF]}},hovered:{diagramOutlineWidth:2,diagramOutlineColor:"#00ffff",diagramOutlineOpacity:1},selected:{diagramOutlineWidth:2,diagramOutlineColor:"#ff00ff",diagramOutlineOpacity:1},selectedHovered:{diagramOutlineWidth:2,diagramOutlineColor:"#8800ff",diagramOutlineOpacity:1}},vectorFeatureStyle:{default:wF,defaultFull:{rules:[{styles:[wF]}]},hovered:{outlineWidth:3,outlineColor:"#00ffff",outlineOpacity:1},selected:{outlineWidth:3,outlineColor:"#ff00ff",outlineOpacity:1},selectedHovered:{outlineWidth:3,outlineColor:"#8800ff",outlineOpacity:1}},vectorLayerHighlightedFeatureStyle:{strokeColor:"#00FFFF",strokeWidth:2},vectorLayerDefaultFeatureStyle:{fillColor:null,fillOpacity:0,strokeColor:"#444",strokeWidth:2}},xF=["fill","outlineColor"];function MF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MF(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AF(e){var t=e.fill,n=e.outlineColor,r=kF({},vn(e,xF));return t&&(r.fill=TF(t)),n&&(r.outlineColor=TF(n)),r}function TF(e){return zm()(e).rgb()}function PF(e,t){if(Object.hasOwn(t,e.attributeKey)){var n=t[e.attributeKey];return null===n||void 0===n?{}:e.attributeClasses?$m.getStyleObjectForIntervals(e.attributeClasses,n):e.attributeValues?$m.getStyleObjectForValues(e.attributeValues,n):{}}return{}}var OF={getRgbaColorArray:function(e,t){return t||0===t?[].concat((0,g.Z)(e),[Math.floor(255*t)]):e},getDeckReadyColor:TF,getDeckReadyStyleObject:AF,getStylesDefinitionForDeck:bF()((function(e){var t=(null===e||void 0===e?void 0:e.rules[0].styles)||[SF.vectorFeatureStyle.default];if(t){for(var n={baseStyle:AF(t[0])},r=[],i=function(){var e=t[o],n=e.attributeKey;if(e.attributeValues){var i={};(0,ie.forIn)(e.attributeValues,(function(e,t){i[t]=AF(e)})),r.push({attributeKey:n,attributeValues:i})}else if(e.attributeClasses){var a=[];(0,ie.forEach)(e.attributeClasses,(function(e){a.push(AF(e))})),r.push({attributeKey:n,attributeClasses:a})}},o=1;o<t.length;o++)i();return(0,ie.isEmpty)(r)||(n.attributeStyles=r),n}return null}),{maxSize:100}),getStyleForFeature:function(e,t){var n;if(null!==(n=e.attributeStyles)&&void 0!==n&&n.length){var r=kF({},e.baseStyle);return e.attributeStyles.forEach((function(e){r=kF(kF({},r),PF(e,t.properties))})),r}return e.baseStyle},getStyleObjectForAttribute:PF,getRenderAsRulesByBoxRange:function(e,t){return e&&t?(0,ie.find)(e,(function(e){return _F.isBoxRangeInRange(t,e.boxRangeRange)})):null}},CF=n(2963),RF=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"isComposite",get:function(){return!0}},{key:"isLoaded",get:function(){return KM((0,lx.Z)(n.prototype),"isLoaded",this)&&this.getSubLayers().every((function(e){return e.isLoaded}))}},{key:"getSubLayers",value:function(){return this.internalState&&this.internalState.subLayers||[]}},{key:"initializeState",value:function(e){}},{key:"setState",value:function(e){KM((0,lx.Z)(n.prototype),"setState",this).call(this,e),this.setNeedsUpdate()}},{key:"getPickingInfo",value:function(e){var t=e.info,n=t.object;return n&&n.__source&&n.__source.parent&&n.__source.parent.id===this.id?(t.object=n.__source.object,t.index=n.__source.index,t):t}},{key:"filterSubLayer",value:function(e){return!0}},{key:"shouldRenderSubLayer",value:function(e,t){return t&&t.length}},{key:"getSubLayerClass",value:function(e,t){var n=this.props._subLayerProps;return n&&n[e]&&n[e].type||t}},{key:"getSubLayerRow",value:function(e,t,n){return e.__source={parent:this,object:t,index:n},e}},{key:"getSubLayerAccessor",value:function(e){if("function"===typeof e){var t={index:-1,data:this.props.data,target:[]};return function(n,r){return n&&n.__source?(t.index=n.__source.index,e(n.__source.object,t)):e(n,r)}}return e}},{key:"getSubLayerProps",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,r=n.opacity,i=n.pickable,o=n.visible,a=n.parameters,s=n.getPolygonOffset,u=n.highlightedObjectIndex,l=n.autoHighlight,c=n.highlightColor,h=n.coordinateSystem,f=n.coordinateOrigin,d=n.wrapLongitude,p=n.positionFormat,v=n.modelMatrix,g=n.extensions,m=n.fetch,y=n.operation,b=n._subLayerProps,_={id:"",updateTriggers:{},opacity:r,pickable:i,visible:o,parameters:a,getPolygonOffset:s,highlightedObjectIndex:u,autoHighlight:l,highlightColor:c,coordinateSystem:h,coordinateOrigin:f,wrapLongitude:d,positionFormat:p,modelMatrix:v,extensions:g,fetch:m,operation:y},w=b&&t.id&&b[t.id],E=w&&w.updateTriggers,S=t.id||"sublayer";if(w){var x=this.props[mP],M=t.type?t.type._propTypes:{};for(var k in w){var A=M[k]||x[k];A&&"accessor"===A.type&&(w[k]=this.getSubLayerAccessor(w[k]))}}Object.assign(_,t,w),_.id="".concat(this.props.id,"-").concat(S),_.updateTriggers=(0,V.Z)((0,V.Z)({all:null===(e=this.props.updateTriggers)||void 0===e?void 0:e.all},t.updateTriggers),E);var T,P=gx(g);try{for(P.s();!(T=P.n()).done;){var O=T.value,C=O.getSubLayerProps.call(this,O);C&&Object.assign(_,C,{updateTriggers:Object.assign(_.updateTriggers,C.updateTriggers)})}}catch(YJ){P.e(YJ)}finally{P.f()}return _}},{key:"_updateAutoHighlight",value:function(e){var t,n=gx(this.getSubLayers());try{for(n.s();!(t=n.n()).done;){t.value.updateAutoHighlight(e)}}catch(YJ){n.e(YJ)}finally{n.f()}}},{key:"_getAttributeManager",value:function(){return null}},{key:"_postUpdate",value:function(e,t){var n=this.internalState.subLayers,r=!n||this.needsUpdate();r&&(n=kP(this.renderLayers(),Boolean),this.internalState.subLayers=n);MP("compositeLayer.renderLayers",this,r,n);var i,o=gx(n);try{for(o.s();!(i=o.n()).done;){i.value.parent=this}}catch(YJ){o.e(YJ)}finally{o.f()}}}]),n}(rF);function LF(e){for(var t=e.data,n=e.getIndex,r=e.dataRange,i=e.replace,o=r.startRow,a=void 0===o?0:o,s=r.endRow,u=void 0===s?1/0:s,l=t.length,c=l,h=l,f=0;f<l;f++){var d=n(t[f]);if(c>f&&d>=a&&(c=f),d>=u){h=f;break}}for(var p=c,v=h-c!==i.length?t.slice(h):void 0,g=0;g<i.length;g++)t[p++]=i[g];if(v){for(var m=0;m<v.length;m++)t[p++]=v[m];t.length=p}return{startRow:c,endRow:c+i.length}}function IF(e,t){if(!e)return null;var n="startIndices"in e?e.startIndices[t]:t,r=e.featureIds.value[n];return-1!==n?function(e,t,n){var r={properties:(0,V.Z)({},e.properties[t])};for(var i in e.numericProps)r.properties[i]=e.numericProps[i].value[n];return r}(e,r,n):null}(0,re.Z)(RF,"layerName","CompositeLayer");var DF={name:"project32",dependencies:[cj],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"},jF={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1};var NF,BF={name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jF,t={};if(void 0!==e.pickingSelectedColor)if(e.pickingSelectedColor){var n=e.pickingSelectedColor.slice(0,3);t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=n}else t.picking_uSelectedColorValid=0;if(e.pickingHighlightColor){var r=Array.from(e.pickingHighlightColor,(function(e){return e/255}));Number.isFinite(r[3])||(r[3]=1),t.picking_uHighlightColor=r}return void 0!==e.pickingActive&&(t.picking_uActive=Boolean(e.pickingActive),t.picking_uAttribute=Boolean(e.pickingAttribute)),t}},zF=(0,V.Z)({inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:#decl":"\nuniform bool picking_uAttribute;\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}}},BF),ZF={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},FF=function(){function e(){(0,Vt.Z)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=void 0===n?kA("geometry"):n,i=t.drawMode,o=void 0===i?ZF.TRIANGLES:i,a=t.attributes,s=void 0===a?{}:a,u=t.indices,l=void 0===u?null:u,c=t.vertexCount,h=void 0===c?null:c;this.id=r,this.drawMode=0|o,this.attributes={},this.userData={},this._setAttributes(s,l),this.vertexCount=h||this._calculateVertexCount(this.attributes,this.indices)}return(0,Ht.Z)(e,[{key:"mode",get:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getAttributes",value:function(){return this.indices?(0,V.Z)({indices:this.indices},this.attributes):this.attributes}},{key:"_print",value:function(e){return"Geometry ".concat(this.id," attribute ").concat(e)}},{key:"_setAttributes",value:function(e,t){for(var n in t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t),e){var r=e[n];r=ArrayBuffer.isView(r)?{value:r}:r,EA(ArrayBuffer.isView(r.value),"".concat(this._print(n),": must be typed array or object with value as typed array")),"POSITION"!==n&&"positions"!==n||r.size||(r.size=3),"indices"===n?(EA(!this.indices),this.indices=r):this.attributes[n]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}},{key:"_calculateVertexCount",value:function(e,t){if(t)return t.value.length;var n=1/0;for(var r in e){var i=e[r],o=i.value,a=i.size;!i.constant&&o&&a>=1&&(n=Math.min(n,o.length/a))}return EA(Number.isFinite(n)),n}}],[{key:"DRAW_MODE",get:function(){return ZF}}]),e}(),UF=function(){},KF=(NF={},(0,re.Z)(NF,10241,9987),(0,re.Z)(NF,10240,9729),(0,re.Z)(NF,10242,33071),(0,re.Z)(NF,10243,33071),NF);function VF(e){return e&&(e.id||e.url)}function HF(e,t,n,r){var i=e.width,o=e.height,a=new tT(e.gl,{width:t,height:n,parameters:r});return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sourceX,i=void 0===r?0:r,o=n.sourceY,a=void 0===o?0:o,s=n.targetMipmaplevel,u=void 0===s?0:s,l=n.targetInternalFormat,c=void 0===l?6408:l,h=n.targetX,f=n.targetY,d=n.targetZ,p=n.width,v=n.height,g=GT(e),m=g.framebuffer,y=g.deleteFramebuffer;EA(m);var b=m.gl,_=m.handle,w="undefined"!==typeof h||"undefined"!==typeof f||"undefined"!==typeof d;h=h||0,f=f||0,d=d||0;var E=b.bindFramebuffer(36160,_);EA(t);var S=null;if(t instanceof JA&&(S=t,p=Number.isFinite(p)?p:S.width,v=Number.isFinite(v)?v:S.height,S.bind(0),t=S.target),w)switch(t){case 3553:case 34067:b.copyTexSubImage2D(t,u,h,f,i,a,p,v);break;case 35866:case 32879:wk(b).copyTexSubImage3D(t,u,h,f,d,i,a,p,v)}else b.copyTexImage2D(t,u,c,i,a,p,v,0);S&&S.unbind(),b.bindFramebuffer(36160,E||null),y&&m.delete()}(e,a,{targetY:0,width:i,height:o}),e.delete(),a}function WF(e,t,n){for(var r=0;r<t.length;r++){var i=t[r],o=i.icon,a=i.xOffset;e[VF(o)]=(0,V.Z)((0,V.Z)({},o),{},{x:a,y:n})}}var GF=function(){function e(t,n){var r=n.onUpdate,i=void 0===r?UF:r,o=n.onError,a=void 0===o?UF:o;(0,Vt.Z)(this,e),(0,re.Z)(this,"gl",void 0),(0,re.Z)(this,"onUpdate",void 0),(0,re.Z)(this,"onError",void 0),(0,re.Z)(this,"_loadOptions",null),(0,re.Z)(this,"_texture",null),(0,re.Z)(this,"_externalTexture",null),(0,re.Z)(this,"_mapping",{}),(0,re.Z)(this,"_textureParameters",null),(0,re.Z)(this,"_pendingCount",0),(0,re.Z)(this,"_autoPacking",!1),(0,re.Z)(this,"_xOffset",0),(0,re.Z)(this,"_yOffset",0),(0,re.Z)(this,"_rowHeight",0),(0,re.Z)(this,"_buffer",4),(0,re.Z)(this,"_canvasWidth",1024),(0,re.Z)(this,"_canvasHeight",0),(0,re.Z)(this,"_canvas",null),this.gl=t,this.onUpdate=i,this.onError=a}return(0,Ht.Z)(e,[{key:"finalize",value:function(){var e;null===(e=this._texture)||void 0===e||e.delete()}},{key:"getTexture",value:function(){return this._texture||this._externalTexture}},{key:"getIconMapping",value:function(e){var t=this._autoPacking?VF(e):e;return this._mapping[t]||{}}},{key:"setProps",value:function(e){var t,n=e.loadOptions,r=e.autoPacking,i=e.iconAtlas,o=e.iconMapping,a=e.textureParameters;(n&&(this._loadOptions=n),void 0!==r&&(this._autoPacking=r),o&&(this._mapping=o),i)&&(null===(t=this._texture)||void 0===t||t.delete(),this._texture=null,this._externalTexture=i);a&&(this._textureParameters=a)}},{key:"isLoaded",get:function(){return 0===this._pendingCount}},{key:"packIcons",value:function(e,t){if(this._autoPacking&&"undefined"!==typeof document){var n=Object.values(function(e,t,n){if(!e||!t)return null;n=n||{};var r,i={},o=pz(e),a=o.iterable,s=o.objectInfo,u=gx(a);try{for(u.s();!(r=u.n()).done;){var l=r.value;s.index++;var c=t(l,s),h=VF(c);if(!c)throw new Error("Icon is missing.");if(!c.url)throw new Error("Icon url is missing.");i[h]||n[h]&&c.url===n[h].url||(i[h]=(0,V.Z)((0,V.Z)({},c),{},{source:l,sourceIndex:s.index}))}}catch(YJ){u.e(YJ)}finally{u.f()}return i}(e,t,this._mapping)||{});if(n.length>0){var r=function(e){for(var t,n=e.icons,r=e.buffer,i=e.mapping,o=void 0===i?{}:i,a=e.xOffset,s=void 0===a?0:a,u=e.yOffset,l=void 0===u?0:u,c=e.rowHeight,h=void 0===c?0:c,f=e.canvasWidth,d=[],p=0;p<n.length;p++){var v=n[p];if(!o[VF(v)]){var g=v.height,m=v.width;s+m+r>f&&(WF(o,d,l),s=0,l=h+l+r,h=0,d=[]),d.push({icon:v,xOffset:s}),s=s+m+r,h=Math.max(h,g)}}return d.length>0&&WF(o,d,l),{mapping:o,rowHeight:h,xOffset:s,yOffset:l,canvasWidth:f,canvasHeight:(t=h+l+r,Math.pow(2,Math.ceil(Math.log2(t))))}}({icons:n,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset}),i=r.mapping,o=r.xOffset,a=r.yOffset,s=r.rowHeight,u=r.canvasHeight;this._rowHeight=s,this._mapping=i,this._xOffset=o,this._yOffset=a,this._canvasHeight=u,this._texture||(this._texture=new tT(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||KF})),this._texture.height!==this._canvasHeight&&(this._texture=HF(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||KF)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(n)}}}},{key:"_loadIcons",value:function(e){var t,n=this,r=this._canvas.getContext("2d",{willReadFrequently:!0}),i=gx(e);try{var o=function(){var e=t.value;n._pendingCount++,cR(e.url,n._loadOptions).then((function(t){var i=VF(e),o=n._mapping[i],a=o.x,s=o.y,u=o.width,l=o.height,c=function(e,t,n,r){var i=Math.min(n/t.width,r/t.height),o=Math.floor(t.width*i),a=Math.floor(t.height*i);return 1===i?{data:t,width:o,height:a}:(e.canvas.height=a,e.canvas.width=o,e.clearRect(0,0,o,a),e.drawImage(t,0,0,t.width,t.height,0,0,o,a),{data:e.canvas,width:o,height:a})}(r,t,u,l),h=c.data,f=c.width,d=c.height;n._texture.setSubImageData({data:h,x:a+(u-f)/2,y:s+(l-d)/2,width:f,height:d}),o.width=f,o.height=d,n._texture.generateMipmap(),n.onUpdate()})).catch((function(t){n.onError({url:e.url,source:e.source,sourceIndex:e.sourceIndex,loadOptions:n._loadOptions,error:t})})).finally((function(){n._pendingCount--}))};for(i.s();!(t=i.n()).done;)o()}catch(YJ){i.e(YJ)}finally{i.f()}}}]),e}(),qF=[0,0,0,255],YF={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:function(e){return e.position}},getIcon:{type:"accessor",value:function(e){return e.icon}},getColor:{type:"accessor",value:qF},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,optional:!0},textureParameters:{type:"object",ignore:!0}},XF=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"state",void 0),e}return(0,Ht.Z)(n,[{key:"getShaders",value:function(){return KM((0,lx.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  }\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n",fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[DF,zF]})}},{key:"initializeState",value:function(){this.state={iconManager:new GF(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:qF},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}},{key:"updateState",value:function(e){KM((0,lx.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps,i=e.changeFlags,o=this.getAttributeManager(),a=t.iconAtlas,s=t.iconMapping,u=t.data,l=t.getIcon,c=t.textureParameters,h=this.state.iconManager,f=a||this.internalState.isAsyncPropLoading("iconAtlas");if(h.setProps({loadOptions:t.loadOptions,autoPacking:!f,iconAtlas:a,iconMapping:f?s:null,textureParameters:c}),f?r.iconMapping!==t.iconMapping&&o.invalidate("getIcon"):(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getIcon))&&h.packIcons(u,l),i.extensionsChanged){var d,p=this.context.gl;null===(d=this.state.model)||void 0===d||d.delete(),this.state.model=this._getModel(p),o.invalidateAll()}}},{key:"isLoaded",get:function(){return KM((0,lx.Z)(n.prototype),"isLoaded",this)&&this.state.iconManager.isLoaded}},{key:"finalizeState",value:function(e){KM((0,lx.Z)(n.prototype),"finalizeState",this).call(this,e),this.state.iconManager.finalize()}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.sizeScale,i=n.sizeMinPixels,o=n.sizeMaxPixels,a=n.sizeUnits,s=n.billboard,u=n.alphaCutoff,l=this.state.iconManager.getTexture();l&&this.state.model.setUniforms(t).setUniforms({iconsTexture:l,iconsTextureDim:[l.width,l.height],sizeUnits:XL[a],sizeScale:r,sizeMinPixels:i,sizeMaxPixels:o,billboard:s,alphaCutoff:u}).draw()}},{key:"_getModel",value:function(e){return new aZ(e,(0,V.Z)((0,V.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new FF({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0}))}},{key:"_onUpdate",value:function(){this.setNeedsRedraw()}},{key:"_onError",value:function(e){var t,n=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;n?n(e):EP.error(e.error.message)()}},{key:"getInstanceOffset",value:function(e){var t=this.state.iconManager.getIconMapping(e),n=t.width,r=t.height,i=t.anchorX,o=void 0===i?n/2:i,a=t.anchorY;return[n/2-o,r/2-(void 0===a?r/2:a)]}},{key:"getInstanceColorMode",value:function(e){return this.state.iconManager.getIconMapping(e).mask?1:0}},{key:"getInstanceIconFrame",value:function(e){var t=this.state.iconManager.getIconMapping(e);return[t.x,t.y,t.width,t.height]}}]),n}(rF);(0,re.Z)(XF,"defaultProps",YF),(0,re.Z)(XF,"layerName","IconLayer");var $F=[0,0,0,255],JF={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:function(e){return e.position}},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:$F},getLineColor:{type:"accessor",value:$F},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}},QF=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"getShaders",value:function(){return KM((0,lx.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool antialiasing;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\n    radiusMinPixels, radiusMaxPixels\n  );\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n  float edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\n  unitPosition = edgePadding * positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  if (billboard) {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n    vec3 offset = edgePadding * positions * outerRadiusPixels;\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  }\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\nuniform bool antialiasing;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = antialiasing ? \n    smoothedge(distToCenter, outerRadiusPixels) : \n    step(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = antialiasing ? \n      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\n      step(innerUnitRadius * outerRadiusPixels, distToCenter);\n\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[DF,zF]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(e){if(KM((0,lx.Z)(n.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var t,r=this.context.gl;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.radiusUnits,i=n.radiusScale,o=n.radiusMinPixels,a=n.radiusMaxPixels,s=n.stroked,u=n.filled,l=n.billboard,c=n.antialiasing,h=n.lineWidthUnits,f=n.lineWidthScale,d=n.lineWidthMinPixels,p=n.lineWidthMaxPixels;this.state.model.setUniforms(t).setUniforms({stroked:s?1:0,filled:u,billboard:l,antialiasing:c,radiusUnits:XL[r],radiusScale:i,radiusMinPixels:o,radiusMaxPixels:a,lineWidthUnits:XL[h],lineWidthScale:f,lineWidthMinPixels:d,lineWidthMaxPixels:p}).draw()}},{key:"_getModel",value:function(e){return new aZ(e,(0,V.Z)((0,V.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new FF({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}}}),isInstanced:!0}))}}]),n}(rF);(0,re.Z)(QF,"defaultProps",JF),(0,re.Z)(QF,"layerName","ScatterplotLayer");var eU=.75,tU=[],nU=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"state",void 0),e}return(0,Ht.Z)(n,[{key:"getShaders",value:function(){return(0,V.Z)((0,V.Z)({},KM((0,lx.Z)(n.prototype),"getShaders",this).call(this)),{},{fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float sdfBuffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(sdfBuffer - gamma, sdfBuffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"})}},{key:"initializeState",value:function(){var e=this;KM((0,lx.Z)(n.prototype),"initializeState",this).call(this),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(r,i)}}})}},{key:"updateState",value:function(e){KM((0,lx.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps,i=t.outlineColor;i!==r.outlineColor&&(i=i.map((function(e){return e/255})),i[3]=Number.isFinite(i[3])?i[3]:1,this.setState({outlineColor:i})),!t.sdf&&t.outlineWidth&&EP.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}},{key:"draw",value:function(e){var t=this.props,r=t.sdf,i=t.smoothing,o=t.outlineWidth,a=this.state.outlineColor,s=o?Math.max(i,eU*(1-o)):-1;(e.uniforms=(0,V.Z)((0,V.Z)({},e.uniforms),{},{sdfBuffer:eU,outlineBuffer:s,gamma:i,sdf:Boolean(r),outlineColor:a}),KM((0,lx.Z)(n.prototype),"draw",this).call(this,e),r&&o)&&(this.state.iconManager.getTexture()&&this.state.model.draw({uniforms:{outlineBuffer:eU}}))}},{key:"getInstanceOffset",value:function(e){var t=this;return e?Array.from(e).flatMap((function(e){return KM((0,lx.Z)(n.prototype),"getInstanceOffset",t).call(t,e)})):tU}},{key:"getInstanceColorMode",value:function(e){return 1}},{key:"getInstanceIconFrame",value:function(e){var t=this;return e?Array.from(e).flatMap((function(e){return KM((0,lx.Z)(n.prototype),"getInstanceIconFrame",t).call(t,e)})):tU}}]),n}(XF);(0,re.Z)(nU,"defaultProps",{getIconOffsets:{type:"accessor",value:function(e){return e.offsets}},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),(0,re.Z)(nU,"layerName","MultiIconLayer");var rU=1e20,iU=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fontSize,r=void 0===n?24:n,i=t.buffer,o=void 0===i?3:i,a=t.radius,s=void 0===a?8:a,u=t.cutoff,l=void 0===u?.25:u,c=t.fontFamily,h=void 0===c?"sans-serif":c,f=t.fontWeight,d=void 0===f?"normal":f,p=t.fontStyle,v=void 0===p?"normal":p;(0,Vt.Z)(this,e),this.buffer=o,this.cutoff=l,this.radius=s;var g=this.size=r+4*o,m=this._createCanvas(g),y=this.ctx=m.getContext("2d",{willReadFrequently:!0});y.font="".concat(v," ").concat(d," ").concat(r,"px ").concat(h),y.textBaseline="alphabetic",y.textAlign="left",y.fillStyle="black",this.gridOuter=new Float64Array(g*g),this.gridInner=new Float64Array(g*g),this.f=new Float64Array(g),this.z=new Float64Array(g+1),this.v=new Uint16Array(g)}return(0,Ht.Z)(e,[{key:"_createCanvas",value:function(e){var t=document.createElement("canvas");return t.width=t.height=e,t}},{key:"draw",value:function(e){var t=this.ctx.measureText(e),n=t.width,r=t.actualBoundingBoxAscent,i=t.actualBoundingBoxDescent,o=t.actualBoundingBoxLeft,a=t.actualBoundingBoxRight,s=Math.ceil(r),u=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(a-o))),l=Math.min(this.size-this.buffer,s+Math.ceil(i)),c=u+2*this.buffer,h=l+2*this.buffer,f=Math.max(c*h,0),d=new Uint8ClampedArray(f),p={data:d,width:c,height:h,glyphWidth:u,glyphHeight:l,glyphTop:s,glyphLeft:0,glyphAdvance:n};if(0===u||0===l)return p;var v=this.ctx,g=this.buffer,m=this.gridInner,y=this.gridOuter;v.clearRect(g,g,u,l),v.fillText(e,g,g+s);var b=v.getImageData(g,g,u,l);y.fill(rU,0,f),m.fill(0,0,f);for(var _=0;_<l;_++)for(var w=0;w<u;w++){var E=b.data[4*(_*u+w)+3]/255;if(0!==E){var S=(_+g)*c+w+g;if(1===E)y[S]=0,m[S]=rU;else{var x=.5-E;y[S]=x>0?x*x:0,m[S]=x<0?x*x:0}}}oU(y,0,0,c,h,c,this.f,this.v,this.z),oU(m,g,g,u,l,c,this.f,this.v,this.z);for(var M=0;M<f;M++){var k=Math.sqrt(y[M])-Math.sqrt(m[M]);d[M]=Math.round(255-255*(k/this.radius+this.cutoff))}return p}}]),e}();function oU(e,t,n,r,i,o,a,s,u){for(var l=t;l<t+r;l++)aU(e,n*o+l,o,i,a,s,u);for(var c=n;c<n+i;c++)aU(e,c*o+t,1,r,a,s,u)}function aU(e,t,n,r,i,o,a){o[0]=0,a[0]=-rU,a[1]=rU,i[0]=e[t];for(var s=1,u=0,l=0;s<r;s++){i[s]=e[t+s*n];var c=s*s;do{var h=o[u];l=(i[s]-i[h]+c-h*h)/(s-h)/2}while(l<=a[u]&&--u>-1);o[++u]=s,a[u]=l,a[u+1]=rU}for(var f=0,d=0;f<r;f++){for(;a[d+1]<f;)d++;var p=o[d],v=f-p;e[t+f*n]=i[p]+v*v}}var sU=32,uU=[];function lU(e,t,n,r){for(var i=0,o=t;o<n;o++){var a;i+=(null===(a=r[e[o]])||void 0===a?void 0:a.layoutWidth)||0}return i}function cU(e,t,n,r,i,o){for(var a=t,s=0,u=t;u<n;u++){var l=lU(e,u,u+1,i);s+l>r&&(a<u&&o.push(u),a=u,s=0),s+=l}return s}function hU(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;void 0===o&&(o=e.length);var a=[];return"break-all"===t?cU(e,i,o,n,r,a):function(e,t,n,r,i,o){for(var a=t,s=t,u=t,l=0,c=t;c<n;c++)if(" "===e[c]?u=c+1:" "!==e[c+1]&&c+1!==n||(u=c+1),u>s){var h=lU(e,s,u,i);l+h>r&&(a<s&&(o.push(s),a=s,l=0),h>r&&(h=cU(e,s,u,r,i,o),a=o[o.length-1])),s=u,l+=h}}(e,i,o,n,r,a),a}function fU(e,t,n,r,i,o){for(var a=0,s=0,u=t;u<n;u++){var l=e[u],c=r[l];c?(s||(s=c.layoutHeight),i[u]=a+c.layoutWidth/2,a+=c.layoutWidth):(EP.warn("Missing character: ".concat(l," (").concat(l.codePointAt(0),")"))(),i[u]=a,a+=sU)}o[0]=a,o[1]=s}var dU=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;(0,Vt.Z)(this,e),(0,re.Z)(this,"limit",void 0),(0,re.Z)(this,"_cache",{}),(0,re.Z)(this,"_order",[]),this.limit=t}return(0,Ht.Z)(e,[{key:"get",value:function(e){var t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}},{key:"set",value:function(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}},{key:"delete",value:function(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}},{key:"_deleteOrder",value:function(e){var t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}},{key:"_appendOrder",value:function(e){this._order.push(e)}}]),e}();var pU={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function(){for(var e=[],t=32;t<128;t++)e.push(String.fromCharCode(t));return e}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1},vU=new dU(3);function gU(e,t){for(var n=0;n<e.length;n++)t.data[4*n+3]=e[n]}function mU(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="#000",e.textBaseline="alphabetic",e.textAlign="left"}var yU=function(){function e(){(0,Vt.Z)(this,e),(0,re.Z)(this,"props",(0,V.Z)({},pU)),(0,re.Z)(this,"_key",void 0),(0,re.Z)(this,"_atlas",void 0)}return(0,Ht.Z)(e,[{key:"texture",get:function(){return this._atlas}},{key:"mapping",get:function(){return this._atlas&&this._atlas.mapping}},{key:"scale",get:function(){var e=this.props,t=e.fontSize;return(1.2*t+2*e.buffer)/t}},{key:"setProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.props,e),this._key=this._getKey();var t=function(e,t){var n;n="string"===typeof t?new Set(Array.from(t)):new Set(t);var r=vU.get(e);if(!r)return n;for(var i in r.mapping)n.has(i)&&n.delete(i);return n}(this._key,this.props.characterSet),n=vU.get(this._key);if(n&&0===t.size)this._atlas!==n&&(this._atlas=n);else{var r=this._generateFontAtlas(t,n);this._atlas=r,vU.set(this._key,r)}}},{key:"_generateFontAtlas",value:function(e,t){var n=this.props,r=n.fontFamily,i=n.fontWeight,o=n.fontSize,a=n.buffer,s=n.sdf,u=n.radius,l=n.cutoff,c=t&&t.data;c||((c=document.createElement("canvas")).width=1024);var h=c.getContext("2d",{willReadFrequently:!0});mU(h,r,o,i);var f=function(e){var t,n,r=e.characterSet,i=e.getFontWidth,o=e.fontHeight,a=e.buffer,s=e.maxCanvasWidth,u=e.mapping,l=void 0===u?{}:u,c=e.xOffset,h=void 0===c?0:c,f=e.yOffset,d=void 0===f?0:f,p=0,v=h,g=o+2*a,m=gx(r);try{for(m.s();!(t=m.n()).done;){var y=t.value;if(!l[y]){var b=i(y);v+b+2*a>s&&(v=0,p++),l[y]={x:v+a,y:d+p*g+a,width:b,height:g,layoutWidth:b,layoutHeight:o},v+=b+2*a}}}catch(YJ){m.e(YJ)}finally{m.f()}return{mapping:l,xOffset:v,yOffset:d+p*g,canvasHeight:(n=d+(p+1)*g,Math.pow(2,Math.ceil(Math.log2(n))))}}((0,V.Z)({getFontWidth:function(e){return h.measureText(e).width},fontHeight:1.2*o,buffer:a,characterSet:e,maxCanvasWidth:1024},t&&{mapping:t.mapping,xOffset:t.xOffset,yOffset:t.yOffset})),d=f.mapping,p=f.canvasHeight,v=f.xOffset,g=f.yOffset;if(c.height!==p){var m=h.getImageData(0,0,c.width,c.height);c.height=p,h.putImageData(m,0,0)}if(mU(h,r,o,i),s){var y,b=new iU({fontSize:o,buffer:a,radius:u,cutoff:l,fontFamily:r,fontWeight:"".concat(i)}),_=gx(e);try{for(_.s();!(y=_.n()).done;){var w=y.value,E=b.draw(w),S=E.data,x=E.width,M=E.height,k=E.glyphTop;d[w].width=x,d[w].layoutOffsetY=.9*o-k;var A=h.createImageData(x,M);gU(S,A),h.putImageData(A,d[w].x,d[w].y)}}catch(YJ){_.e(YJ)}finally{_.f()}}else{var T,P=gx(e);try{for(P.s();!(T=P.n()).done;){var O=T.value;h.fillText(O,d[O].x,d[O].y+a+.9*o)}}catch(YJ){P.e(YJ)}finally{P.f()}}return{xOffset:v,yOffset:g,mapping:d,data:c,width:c.width,height:c.height}}},{key:"_getKey",value:function(){var e=this.props,t=e.fontFamily,n=e.fontWeight,r=e.fontSize,i=e.buffer,o=e.sdf,a=e.radius,s=e.cutoff;return o?"".concat(t," ").concat(n," ").concat(r," ").concat(i," ").concat(a," ").concat(s):"".concat(t," ").concat(n," ").concat(r," ").concat(i)}}]),e}(),bU={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:function(e){return e.position}},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}},_U=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"state",void 0),e}return(0,Ht.Z)(n,[{key:"getShaders",value:function(){return KM((0,lx.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  }\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[DF,zF]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(e){if(KM((0,lx.Z)(n.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var t,r=this.context.gl;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.billboard,i=n.sizeScale,o=n.sizeUnits,a=n.sizeMinPixels,s=n.sizeMaxPixels,u=n.getLineWidth,l=this.props.padding;l.length<4&&(l=[l[0],l[1],l[0],l[1]]),this.state.model.setUniforms(t).setUniforms({billboard:r,stroked:Boolean(u),padding:l,sizeUnits:XL[o],sizeScale:i,sizeMinPixels:a,sizeMaxPixels:s}).draw()}},{key:"_getModel",value:function(e){return new aZ(e,(0,V.Z)((0,V.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new FF({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0}))}}]),n}(rF);(0,re.Z)(_U,"defaultProps",bU),(0,re.Z)(_U,"layerName","TextBackgroundLayer");var wU={start:1,middle:0,end:-1},EU={top:1,center:0,bottom:-1},SU=[0,0,0,255],xU={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:SU},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:pU.characterSet},fontFamily:pU.fontFamily,fontWeight:pU.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:SU},fontSettings:{type:"object",value:{},compare:1},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:function(e){return e.text}},getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:SU},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}},MU=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"state",void 0),(0,re.Z)((0,UM.Z)(e),"getBoundingRect",(function(t,n){var r=v(e.transformParagraph(t,n).size,2),i=r[0],o=r[1],a=e.state.fontAtlasManager.props.fontSize;i/=a,o/=a;var s=e.props,u=s.getTextAnchor,l=s.getAlignmentBaseline;return[(wU["function"===typeof u?u(t,n):u]-1)*i/2,(EU["function"===typeof l?l(t,n):l]-1)*o/2,i,o]})),(0,re.Z)((0,UM.Z)(e),"getIconOffsets",(function(t,n){for(var r=e.props,i=r.getTextAnchor,o=r.getAlignmentBaseline,a=e.transformParagraph(t,n),s=a.x,u=a.y,l=a.rowWidth,c=v(a.size,2),h=c[0],f=c[1],d=wU["function"===typeof i?i(t,n):i],p=EU["function"===typeof o?o(t,n):o],g=s.length,m=new Array(2*g),y=0,b=0;b<g;b++){var _=(1-d)*(h-l[b])/2;m[y++]=(d-1)*h/2+_+s[b],m[y++]=(p-1)*f/2+u[b]}return m})),e}return(0,Ht.Z)(n,[{key:"initializeState",value:function(){this.state={styleVersion:0,fontAtlasManager:new yU},this.props.maxWidth>0&&EP.warn("v8.9 breaking change: TextLayer maxWidth is now relative to text size")()}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||t.lineHeight!==n.lineHeight||t.wordBreak!==n.wordBreak||t.maxWidth!==n.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}},{key:"getPickingInfo",value:function(e){var t=e.info;return t.object=t.index>=0?this.props.data[t.index]:null,t}},{key:"_updateFontAtlas",value:function(){var e=this.props,t=e.fontSettings,n=e.fontFamily,r=e.fontWeight,i=this.state,o=i.fontAtlasManager,a=i.characterSet,s=(0,V.Z)((0,V.Z)({},t),{},{characterSet:a,fontFamily:n,fontWeight:r});if(!o.mapping)return o.setProps(s),!0;for(var u in s)if(s[u]!==o.props[u])return o.setProps(s),!0;return!1}},{key:"_updateText",value:function(){var e,t,n=this.props,r=n.data,i=n.characterSet,o=null===(e=r.attributes)||void 0===e?void 0:e.getText,a=this.props.getText,s=r.startIndices,u="auto"===i&&new Set;if(o&&s){var l=function(e){var t=e.value,n=e.length,r=e.stride,i=e.offset,o=e.startIndices,a=e.characterSet,s=t.BYTES_PER_ELEMENT,u=r?r/s:1,l=i?i/s:0,c=o[n]||Math.ceil((t.length-l)/u),h=a&&new Set,f=new Array(n),d=t;if(u>1||l>0){d=new(0,t.constructor)(c);for(var p=0;p<c;p++)d[p]=t[p*u+l]}for(var v=0;v<n;v++){var g=o[v],m=o[v+1]||c,y=d.subarray(g,m);f[v]=String.fromCodePoint.apply(null,y),h&&y.forEach(h.add,h)}if(h){var b,_=gx(h);try{for(_.s();!(b=_.n()).done;){var w=b.value;a.add(String.fromCodePoint(w))}}catch(YJ){_.e(YJ)}finally{_.f()}}return{texts:f,characterCount:c}}((0,V.Z)((0,V.Z)({},ArrayBuffer.isView(o)?{value:o}:o),{},{length:r.length,startIndices:s,characterSet:u})),c=l.texts;t=l.characterCount,a=function(e,t){var n=t.index;return c[n]}}else{var h=pz(r),f=h.iterable,d=h.objectInfo;s=[0],t=0;var p,v=gx(f);try{for(v.s();!(p=v.n()).done;){var g=p.value;d.index++;var m=Array.from(a(g,d)||"");u&&m.forEach(u.add,u),t+=m.length,s.push(t)}}catch(YJ){v.e(YJ)}finally{v.f()}}this.setState({getText:a,startIndices:s,numInstances:t,characterSet:u||i})}},{key:"transformParagraph",value:function(e,t){var n=this.state.fontAtlasManager,r=n.mapping,i=this.state.getText,o=this.props,a=o.wordBreak,s=o.lineHeight,u=o.maxWidth;return function(e,t,n,r,i){for(var o=Array.from(e),a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=("break-word"===n||"break-all"===n)&&isFinite(r)&&r>0,h=[0,0],f=[0,0],d=0,p=0,v=0,g=0;g<=a;g++){var m=o[g];if("\n"!==m&&g!==a||(v=g),v>p){for(var y=c?hU(o,n,r,i,p,v):uU,b=0;b<=y.length;b++){var _=0===b?p:y[b-1],w=b<y.length?y[b]:v;fU(o,_,w,i,s,f);for(var E=_;E<w;E++){var S,x=(null===(S=i[o[E]])||void 0===S?void 0:S.layoutOffsetY)||0;u[E]=d+f[1]/2+x,l[E]=f[0]}d+=f[1]*t,h[0]=Math.max(h[0],f[0])}p=v}"\n"===m&&(s[p]=0,u[p]=0,l[p]=0,p++)}return h[1]=d,{x:s,y:u,rowWidth:l,size:h}}(i(e,t)||"",s,a,u*n.props.fontSize,r)}},{key:"renderLayers",value:function(){var e=this.state,t=e.startIndices,n=e.numInstances,r=e.getText,i=e.fontAtlasManager,o=i.scale,a=i.texture,s=i.mapping,u=e.styleVersion,l=this.props,c=l.data,h=l._dataDiff,f=l.getPosition,d=l.getColor,p=l.getSize,v=l.getAngle,g=l.getPixelOffset,m=l.getBackgroundColor,y=l.getBorderColor,b=l.getBorderWidth,_=l.backgroundPadding,w=l.background,E=l.billboard,S=l.fontSettings,x=l.outlineWidth,M=l.outlineColor,k=l.sizeScale,A=l.sizeUnits,T=l.sizeMinPixels,P=l.sizeMaxPixels,O=l.transitions,C=l.updateTriggers,R=this.getSubLayerClass("characters",nU),L=this.getSubLayerClass("background",_U);return[w&&new L({getFillColor:m,getLineColor:y,getLineWidth:b,padding:_,getPosition:f,getSize:p,getAngle:v,getPixelOffset:g,billboard:E,sizeScale:k,sizeUnits:A,sizeMinPixels:T,sizeMaxPixels:P,transitions:O&&{getPosition:O.getPosition,getAngle:O.getAngle,getSize:O.getSize,getFillColor:O.getBackgroundColor,getLineColor:O.getBorderColor,getLineWidth:O.getBorderWidth,getPixelOffset:O.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:C.getPosition,getAngle:C.getAngle,getSize:C.getSize,getFillColor:C.getBackgroundColor,getLineColor:C.getBorderColor,getLineWidth:C.getBorderWidth,getPixelOffset:C.getPixelOffset,getBoundingRect:{getText:C.getText,getTextAnchor:C.getTextAnchor,getAlignmentBaseline:C.getAlignmentBaseline,styleVersion:u}}}),{data:c.attributes&&c.attributes.background?{length:c.length,attributes:c.attributes.background}:c,_dataDiff:h,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new R({sdf:S.sdf,smoothing:Number.isFinite(S.smoothing)?S.smoothing:pU.smoothing,outlineWidth:x/(S.radius||pU.radius),outlineColor:M,iconAtlas:a,iconMapping:s,getPosition:f,getColor:d,getSize:p,getAngle:v,getPixelOffset:g,billboard:E,sizeScale:k*o,sizeUnits:A,sizeMinPixels:T*o,sizeMaxPixels:P*o,transitions:O&&{getPosition:O.getPosition,getAngle:O.getAngle,getColor:O.getColor,getSize:O.getSize,getPixelOffset:O.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{all:C.getText,getPosition:C.getPosition,getAngle:C.getAngle,getColor:C.getColor,getSize:C.getSize,getPixelOffset:C.getPixelOffset,getIconOffsets:{getTextAnchor:C.getTextAnchor,getAlignmentBaseline:C.getAlignmentBaseline,styleVersion:u}}}),{data:c,_dataDiff:h,startIndices:t,numInstances:n,getIconOffsets:this.getIconOffsets,getIcon:r})]}}],[{key:"fontAtlasCacheLimit",set:function(e){!function(e){EP.assert(Number.isFinite(e)&&e>=3,"Invalid cache limit"),vU=new dU(e)}(e)}}]),n}(RF);(0,re.Z)(MU,"defaultProps",xU),(0,re.Z)(MU,"layerName","TextLayer");var kU=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"opts",void 0),(0,re.Z)(this,"typedArrayManager",void 0),(0,re.Z)(this,"indexStarts",[0]),(0,re.Z)(this,"vertexStarts",[0]),(0,re.Z)(this,"vertexCount",0),(0,re.Z)(this,"instanceCount",0),(0,re.Z)(this,"attributes",void 0),(0,re.Z)(this,"_attributeDefs",void 0),(0,re.Z)(this,"data",void 0),(0,re.Z)(this,"getGeometry",void 0),(0,re.Z)(this,"geometryBuffer",void 0),(0,re.Z)(this,"buffers",void 0),(0,re.Z)(this,"positionSize",void 0),(0,re.Z)(this,"normalize",void 0);var n=t.attributes,r=void 0===n?{}:n;this.typedArrayManager=vR,this.attributes={},this._attributeDefs=r,this.opts=t,this.updateGeometry(t)}return(0,Ht.Z)(e,[{key:"updateGeometry",value:function(e){Object.assign(this.opts,e);var t=this.opts,n=t.data,r=t.buffers,i=void 0===r?{}:r,o=t.getGeometry,a=t.geometryBuffer,s=t.positionFormat,u=t.dataChanged,l=t.normalize,c=void 0===l||l;if(this.data=n,this.getGeometry=o,this.positionSize=a&&a.size||("XY"===s?2:3),this.buffers=i,this.normalize=c,a&&(_j(n.startIndices),this.getGeometry=this.getGeometryFromBuffer(a),c||(i.positions=a)),this.geometryBuffer=i.positions,Array.isArray(u)){var h,f=gx(u);try{for(f.s();!(h=f.n()).done;){var d=h.value;this._rebuildGeometry(d)}}catch(YJ){f.e(YJ)}finally{f.f()}}else this._rebuildGeometry()}},{key:"updatePartialGeometry",value:function(e){var t=e.startRow,n=e.endRow;this._rebuildGeometry({startRow:t,endRow:n})}},{key:"getGeometryFromBuffer",value:function(e){var t=e.value||e;return ArrayBuffer.isView(t)?gz(t,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices}):null}},{key:"_allocate",value:function(e,t){var n=this.attributes,r=this.buffers,i=this._attributeDefs,o=this.typedArrayManager;for(var a in i)if(a in r)o.release(n[a]),n[a]=null;else{var s=i[a];s.copy=t,n[a]=o.allocate(n[a],e,s)}}},{key:"_forEachGeometry",value:function(e,t,n){var r,i=this.data,o=this.getGeometry,a=pz(i,t,n),s=a.iterable,u=a.objectInfo,l=gx(s);try{for(l.s();!(r=l.n()).done;){var c=r.value;u.index++,e(o?o(c,u):null,u.index)}}catch(YJ){l.e(YJ)}finally{l.f()}}},{key:"_rebuildGeometry",value:function(e){var t=this;if(this.data){var n=this.indexStarts,r=this.vertexStarts,i=this.instanceCount,o=this.data,a=this.geometryBuffer,s=e||{},u=s.startRow,l=void 0===u?0:u,c=s.endRow,h=void 0===c?1/0:c,f={};if(e||(n=[0],r=[0]),this.normalize||!a)this._forEachGeometry((function(e,n){var i=e&&t.normalizeGeometry(e);f[n]=i,r[n+1]=r[n]+(i?t.getGeometrySize(i):0)}),l,h),i=r[r.length-1];else if(r=o.startIndices,i=r[o.length]||0,ArrayBuffer.isView(a))i=i||a.length/this.positionSize;else if(a instanceof WA){var d=a.accessor.stride||4*this.positionSize;i=i||a.byteLength/d}else if(a.buffer){var p=a.stride||4*this.positionSize;i=i||a.buffer.byteLength/p}else if(a.value){var v=a.value,g=a.stride/v.BYTES_PER_ELEMENT||this.positionSize;i=i||v.length/g}this._allocate(i,Boolean(e)),this.indexStarts=n,this.vertexStarts=r,this.instanceCount=i;var m={};this._forEachGeometry((function(e,o){var a=f[o]||e;m.vertexStart=r[o],m.indexStart=n[o];var s=o<r.length-1?r[o+1]:i;m.geometrySize=s-r[o],m.geometryIndex=o,t.updateGeometryAttributes(a,m)}),l,h),this.vertexCount=n[n.length-1]}}}]),e}(),AU=1,TU=-1;function PU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Math.sign(OU(e,t))}(e,n);return r!==t&&(function(e,t){for(var n=t.start,r=void 0===n?0:n,i=t.end,o=void 0===i?e.length:i,a=t.size,s=void 0===a?2:a,u=(o-r)/s,l=Math.floor(u/2),c=0;c<l;++c)for(var h=r+c*s,f=r+(u-1-c)*s,d=0;d<s;++d){var p=e[h+d];e[h+d]=e[f+d],e[f+d]=p}}(e,n),!0)}function OU(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.start,r=void 0===n?0:n,i=t.end,o=void 0===i?e.length:i,a=t.size||2,s=0,u=r,l=o-a;u<o;u+=a)s+=(e[u]-e[l])*(e[u+1]+e[l+1]),l=u;return s/2}function CU(e,t){var n,r,i,o,a,s,u,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=arguments.length>3?arguments[3]:void 0,h=t&&t.length,f=h?t[0]*l:e.length,d=RU(e,0,f,l,!0,c&&c[0]),p=[];if(!d||d.next===d.prev)return p;if(h&&(d=function(e,t,n,r,i){var o,a,s,u=[];for(o=0,a=t.length;o<a;o++)(s=RU(e,t[o]*r,o<a-1?t[o+1]*r:e.length,r,!1,i&&i[o+1]))===s.next&&(s.steiner=!0),u.push(KU(s));for(u.sort(zU),o=0;o<u.length;o++)ZU(u[o],n),n=LU(n,n.next);return n}(e,t,d,l,c)),e.length>80*l){o=r=e[0],a=i=e[1];for(var v=l;v<f;v+=l)(s=e[v])<o&&(o=s),(u=e[v+1])<a&&(a=u),s>r&&(r=s),u>i&&(i=u);n=0!==(n=Math.max(r-o,i-a))?1/n:0}return IU(d,p,l,o,a,n),p}function RU(e,t,n,r,i,o){var a,s;if(void 0===o&&(o=OU(e,{start:t,end:n,size:r})),i===o<0)for(a=t;a<n;a+=r)s=QU(a,e[a],e[a+1],s);else for(a=n-r;a>=t;a-=r)s=QU(a,e[a],e[a+1],s);return s&&GU(s,s.next)&&(eK(s),s=s.next),s}function LU(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!GU(r,r.next)&&0!==WU(r.prev,r,r.next))r=r.next;else{if(eK(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function IU(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=UU(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(i=e,e=null,u=null,r=0;i;){for(r++,a=i,o=0,n=0;n<l&&(o++,a=a.nextZ);n++);for(s=l;o>0||s>0&&a;)0!==o&&(0===s||!a||i.z<=a.z)?(t=i,i=i.nextZ,o--):(t=a,a=a.nextZ,s--),u?u.nextZ=t:e=t,t.prevZ=u,u=t;i=a}u.nextZ=null,l*=2}while(r>1)}(i)}(e,r,i,o);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,o?jU(e,r,i,o):DU(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),eK(e),e=u.next,l=u.next;else if((e=u)===l){a?1===a?IU(e=NU(LU(e),t,n),t,n,r,i,o,2):2===a&&BU(e,t,n,r,i,o):IU(LU(e),t,n,r,i,o,1);break}}}function DU(e){var t=e.prev,n=e,r=e.next;if(WU(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(VU(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&WU(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function jU(e,t,n,r){var i=e.prev,o=e,a=e.next;if(WU(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=UU(s,u,t,n,r),f=UU(l,c,t,n,r),d=e.prevZ,p=e.nextZ;d&&d.z>=h&&p&&p.z<=f;){if(d!==e.prev&&d!==e.next&&VU(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&WU(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==e.prev&&p!==e.next&&VU(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&WU(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=h;){if(d!==e.prev&&d!==e.next&&VU(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&WU(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=f;){if(p!==e.prev&&p!==e.next&&VU(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&WU(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function NU(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!GU(i,o)&&qU(i,r,r.next,o)&&$U(i,o)&&$U(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),eK(r),eK(r.next),r=e=o),r=r.next}while(r!==e);return LU(r)}function BU(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&HU(a,s)){var u=JU(a,s);return a=LU(a,a.next),u=LU(u,u.next),IU(a,t,n,r,i,o),void IU(u,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function zU(e,t){return e.x-t.x}function ZU(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var u,l=n,c=n.x,h=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&VU(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),$U(r,e)&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&FU(n,r)))&&(n=r,f=u)),r=r.next}while(r!==l);return n}(e,t),t){var n=JU(t,e);LU(t,t.next),LU(n,n.next)}}function FU(e,t){return WU(e.prev,e,t.prev)<0&&WU(t.next,e,e.next)<0}function UU(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function KU(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function VU(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function HU(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&qU(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&($U(e,t)&&$U(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(WU(e.prev,e,t.prev)||WU(e,t.prev,t))||GU(e,t)&&WU(e.prev,e,e.next)>0&&WU(t.prev,t,t.next)>0)}function WU(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function GU(e,t){return e.x===t.x&&e.y===t.y}function qU(e,t,n,r){var i=XU(WU(e,t,n)),o=XU(WU(e,t,r)),a=XU(WU(n,r,e)),s=XU(WU(n,r,t));return i!==o&&a!==s||(!(0!==i||!YU(e,n,t))||(!(0!==o||!YU(e,r,t))||(!(0!==a||!YU(n,e,r))||!(0!==s||!YU(n,t,r)))))}function YU(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function XU(e){return e>0?1:e<0?-1:0}function $U(e,t){return WU(e.prev,e,e.next)<0?WU(e,t,e.next)>=0&&WU(e,e.prev,t)>=0:WU(e,t,e.prev)<0||WU(e,e.next,t)<0}function JU(e,t){var n=new tK(e.i,e.x,e.y),r=new tK(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function QU(e,t,n,r){var i=new tK(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function eK(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function tK(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function nK(e,t,n,r){var i,o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(8&n)i=(r[3]-e[1])/(t[1]-e[1]),o=3;else if(4&n)i=(r[1]-e[1])/(t[1]-e[1]),o=1;else if(2&n)i=(r[2]-e[0])/(t[0]-e[0]),o=2;else{if(!(1&n))return null;i=(r[0]-e[0])/(t[0]-e[0]),o=0}for(var s=0;s<e.length;s++)a[s]=(1&o)===s?r[o]:i*(t[s]-e[s])+e[s];return a}function rK(e,t){var n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}function iK(e,t){var n=t.length,r=e.length;if(r>0){for(var i=!0,o=0;o<n;o++)if(e[r-n+o]!==t[o]){i=!1;break}if(i)return!1}for(var a=0;a<n;a++)e[r+a]=t[a];return!0}function oK(e,t){for(var n=t.length,r=0;r<n;r++)e[r]=t[r]}function aK(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=r+t*n,a=0;a<n;a++)i[a]=e[o+a];return i}function sK(e,t){var n,r,i=t||{},o=i.size,a=void 0===o?2:o,s=i.broken,u=void 0!==s&&s,l=i.gridResolution,c=void 0===l?10:l,h=i.gridOffset,f=void 0===h?[0,0]:h,d=i.startIndex,p=void 0===d?0:d,v=i.endIndex,g=((void 0===v?e.length:v)-p)/a,m=[],y=[m],b=aK(e,0,a,p),_=dK(b,c,f,[]),w=[];iK(m,b);for(var E=1;E<g;E++){for(r=rK(n=aK(e,E,a,p,n),_);r;){nK(b,n,r,_,w);var S=rK(w,_);S&&(nK(b,w,S,_,w),r=S),iK(m,w),oK(b,w),pK(_,c,r),u&&m.length>a&&(m=[],y.push(m),iK(m,b)),r=rK(n,_)}iK(m,n),oK(b,n)}return u?y:y[0]}var uK=0,lK=1;function cK(e,t){for(var n=0;n<t.length;n++)e.push(t[n]);return e}function hK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;if(!e.length)return[];for(var r=n||{},i=r.size,o=void 0===i?2:i,a=r.gridResolution,s=void 0===a?10:a,u=r.gridOffset,l=void 0===u?[0,0]:u,c=r.edgeTypes,h=void 0!==c&&c,f=[],d=[{pos:e,types:h?new Array(e.length/o).fill(lK):null,holes:t||[]}],p=[[],[]],v=[];d.length;){var g=d.shift(),m=g.pos,y=g.types,b=g.holes;vK(m,o,b[0]||m.length,p),v=dK(p[0],s,l,v);var _=rK(p[1],v);if(_){var w=fK(m,y,o,0,b[0]||m.length,v,_),E={pos:w[0].pos,types:w[0].types,holes:[]},S={pos:w[1].pos,types:w[1].types,holes:[]};d.push(E,S);for(var x=0;x<b.length;x++)(w=fK(m,y,o,b[x],b[x+1]||m.length,v,_))[0]&&(E.holes.push(E.pos.length),E.pos=cK(E.pos,w[0].pos),h&&(E.types=cK(E.types,w[0].types))),w[1]&&(S.holes.push(S.pos.length),S.pos=cK(S.pos,w[1].pos),h&&(S.types=cK(S.types,w[1].types)))}else{var M={positions:m};h&&(M.edgeTypes=y),b.length&&(M.holeIndices=b),f.push(M)}}return f}function fK(e,t,n,r,i,o,a){for(var s,u,l,c=(i-r)/n,h=[],f=[],d=[],p=[],v=[],g=aK(e,c-1,n,r),m=Math.sign(8&a?g[1]-o[3]:g[0]-o[2]),y=t&&t[c-1],b=0,_=0,w=0;w<c;w++)s=aK(e,w,n,r,s),u=Math.sign(8&a?s[1]-o[3]:s[0]-o[2]),l=t&&t[r/n+w],u&&m&&m!==u&&(nK(g,s,a,o,v),iK(h,v)&&d.push(y),iK(f,v)&&p.push(y)),u<=0?(iK(h,s)&&d.push(l),b-=u):d.length&&(d[d.length-1]=uK),u>=0?(iK(f,s)&&p.push(l),_+=u):p.length&&(p[p.length-1]=uK),oK(g,s),m=u,y=l;return[b?{pos:h,types:t&&d}:null,_?{pos:f,types:t&&p}:null]}function dK(e,t,n,r){var i=Math.floor((e[0]-n[0])/t)*t+n[0],o=Math.floor((e[1]-n[1])/t)*t+n[1];return r[0]=i,r[1]=o,r[2]=i+t,r[3]=o+t,r}function pK(e,t,n){8&n?(e[1]+=t,e[3]+=t):4&n?(e[1]-=t,e[3]-=t):2&n?(e[0]+=t,e[2]+=t):1&n&&(e[0]-=t,e[2]-=t)}function vK(e,t,n,r){for(var i=1/0,o=-1/0,a=1/0,s=-1/0,u=0;u<n;u+=t){var l=e[u],c=e[u+1];i=l<i?l:i,o=l>o?l:o,a=c<a?c:a,s=c>s?c:s}return r[0][0]=i,r[0][1]=a,r[1][0]=o,r[1][1]=s,r}var gK=85.051129;function mK(e,t,n,r){for(var i=-1,o=-1,a=n+1;a<r;a+=t){var s=Math.abs(e[a]);s>i&&(i=s,o=a-1)}return o}function yK(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gK,o=e[n],a=e[r-t];if(Math.abs(o-a)>180){var s=aK(e,0,t,n);s[0]+=360*Math.round((a-o)/360),iK(e,s),s[1]=Math.sign(s[1])*i,iK(e,s),s[0]=o,iK(e,s)}}function bK(e,t,n,r){for(var i,o=e[0],a=n;a<r;a+=t){var s=(i=e[a])-o;(s>180||s<-180)&&(i-=360*Math.round(s/360)),e[a]=o=i}}function _K(e,t){for(var n,r=e.length/t,i=0;i<r&&((n=e[i*t])+180)%360===0;i++);var o=360*-Math.round(n/360);if(0!==o)for(var a=0;a<r;a++)e[a*t]+=o}function wK(e,t,n,r){var i;if(Array.isArray(e[0])){var o=e.length*t;i=new Array(o);for(var a=0;a<e.length;a++)for(var s=0;s<t;s++)i[a*t+s]=e[a][s]||0}else i=e;return n?sK(i,{size:t,gridResolution:n}):r?function(e,t){var n=t||{},r=n.size,i=void 0===r?2:r,o=n.startIndex,a=void 0===o?0:o,s=n.endIndex,u=void 0===s?e.length:s,l=n.normalize,c=void 0===l||l,h=e.slice(a,u);bK(h,i,0,u-a);var f=sK(h,{size:i,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(c){var d,p=gx(f);try{for(p.s();!(d=p.n()).done;)_K(d.value,i)}catch(YJ){p.e(YJ)}finally{p.f()}}return f}(i,{size:t}):i}var EK=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){return(0,Vt.Z)(this,n),t.call(this,(0,V.Z)((0,V.Z)({},e),{},{attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}}))}return(0,Ht.Z)(n,[{key:"get",value:function(e){return this.attributes[e]}},{key:"getGeometryFromBuffer",value:function(e){return this.normalize?KM((0,lx.Z)(n.prototype),"getGeometryFromBuffer",this).call(this,e):null}},{key:"normalizeGeometry",value:function(e){return this.normalize?wK(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}},{key:"getGeometrySize",value:function(e){if(SK(e)){var t,n=0,r=gx(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.getGeometrySize(i)}}catch(YJ){r.e(YJ)}finally{r.f()}return n}var o=this.getPathLength(e);return o<2?0:this.isClosed(e)?o<3?0:o+2:o}},{key:"updateGeometryAttributes",value:function(e,t){if(0!==t.geometrySize)if(e&&SK(e)){var n,r=gx(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.getGeometrySize(i);t.geometrySize=o,this.updateGeometryAttributes(i,t),t.vertexStart+=o}}catch(YJ){r.e(YJ)}finally{r.f()}}else this._updateSegmentTypes(e,t),this._updatePositions(e,t)}},{key:"_updateSegmentTypes",value:function(e,t){var n=this.attributes.segmentTypes,r=!!e&&this.isClosed(e),i=t.vertexStart,o=t.geometrySize;n.fill(0,i,i+o),r?(n[i]=4,n[i+o-2]=4):(n[i]+=1,n[i+o-2]+=2),n[i+o-1]=4}},{key:"_updatePositions",value:function(e,t){var n=this.attributes.positions;if(n&&e)for(var r=t.vertexStart,i=t.geometrySize,o=new Array(3),a=r,s=0;s<i;a++,s++)this.getPointOnPath(e,s,o),n[3*a]=o[0],n[3*a+1]=o[1],n[3*a+2]=o[2]}},{key:"getPathLength",value:function(e){return e.length/this.positionSize}},{key:"getPointOnPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.positionSize;t*r>=e.length&&(t+=1-e.length/r);var i=t*r;return n[0]=e[i],n[1]=e[i+1],n[2]=3===r&&e[i+2]||0,n}},{key:"isClosed",value:function(e){if(!this.normalize)return Boolean(this.opts.loop);var t=this.positionSize,n=e.length-t;return e[0]===e[n]&&e[1]===e[n+1]&&(2===t||e[2]===e[n+2])}}]),n}(kU);function SK(e){return Array.isArray(e[0])}var xK=[0,0,0,255],MK={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:function(e){return e.path}},getColor:{type:"accessor",value:xK},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},kK={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},AK=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"state",void 0),e}return(0,Ht.Z)(n,[{key:"getShaders",value:function(){return KM((0,lx.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\nvec3 getLineJoinOffset(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  vec2 dir = isEnd ? dirA : dirB;\n  vec2 perp = isEnd ? perpA : perpB;\n  float L = isEnd ? lenA : lenB;\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\n    vJointType = capType;\n  } else {\n    vJointType = jointType;\n  }\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return offset;\n}\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.pickingColor = instancePickingColors;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  geometry.worldPosition = currPosition;\n  vec2 widthPixels = vec2(clamp(\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  if (billboard) {\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 offset = getLineJoinOffset(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    DECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);\n    gl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);\n    geometry.position = vec4(currPosition + offset, 1.0);\n    gl_Position = project_common_position_to_clipspace(geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[DF,zF]})}},{key:"wrapLongitude",get:function(){return!1}},{key:"initializeState",value:function(){var e=this;this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:kK,accessor:"getPath",update:this.calculatePositions,noAlloc:true,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:true},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:kK,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:kK,defaultValue:xK},instancePickingColors:{size:3,type:5121,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(t&&t.__source?t.__source.index:r,i)}}}),this.setState({pathTesselator:new EK({fp64:this.use64bitPositions()})})}},{key:"updateState",value:function(e){KM((0,lx.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.changeFlags,i=this.getAttributeManager();if(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getPath)){var o=this.state.pathTesselator,a=t.data.attributes||{};o.updateGeometry({data:t.data,geometryBuffer:a.getPath,buffers:a,normalize:!t._pathType,loop:"loop"===t._pathType,getGeometry:t.getPath,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:r.dataChanged}),this.setState({numInstances:o.instanceCount,startIndices:o.vertexStarts}),r.dataChanged||i.invalidateAll()}if(r.extensionsChanged){var s,u=this.context.gl;null===(s=this.state.model)||void 0===s||s.delete(),this.state.model=this._getModel(u),i.invalidateAll()}}},{key:"getPickingInfo",value:function(e){var t=KM((0,lx.Z)(n.prototype),"getPickingInfo",this).call(this,e),r=t.index,i=this.props.data;return i[0]&&i[0].__source&&(t.object=i.find((function(e){return e.__source.index===r}))),t}},{key:"disablePickingIndex",value:function(e){var t=this.props.data;if(t[0]&&t[0].__source)for(var r=0;r<t.length;r++)t[r].__source.index===e&&this._disablePickingIndex(r);else KM((0,lx.Z)(n.prototype),"disablePickingIndex",this).call(this,e)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.jointRounded,i=n.capRounded,o=n.billboard,a=n.miterLimit,s=n.widthUnits,u=n.widthScale,l=n.widthMinPixels,c=n.widthMaxPixels;this.state.model.setUniforms(t).setUniforms({jointType:Number(r),capType:Number(i),billboard:o,widthUnits:XL[s],widthScale:u,miterLimit:a,widthMinPixels:l,widthMaxPixels:c}).draw()}},{key:"_getModel",value:function(e){return new aZ(e,(0,V.Z)((0,V.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new FF({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0}))}},{key:"calculatePositions",value:function(e){var t=this.state.pathTesselator;e.startIndices=t.vertexStarts,e.value=t.get("positions")}},{key:"calculateSegmentTypes",value:function(e){var t=this.state.pathTesselator;e.startIndices=t.vertexStarts,e.value=t.get("segmentTypes")}}]),n}(rF);(0,re.Z)(AK,"defaultProps",MK),(0,re.Z)(AK,"layerName","PathLayer");var TK="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",PK={lightSources:{}};function OK(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=void 0===t?[0,0,0]:t,r=e.intensity,i=void 0===r?1:r;return n.map((function(e){return e*i/255}))}var CK={name:"lights",vs:TK,fs:TK,getUniforms:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PK;if("lightSources"in t){var n=t.lightSources||{},r=n.ambientLight,i=n.pointLights,o=n.directionalLights;return r||i&&i.length>0||o&&o.length>0?Object.assign({},function(e){var t=e.ambientLight,n=e.pointLights,r=void 0===n?[]:n,i=e.directionalLights,o=void 0===i?[]:i,a={};return a["lighting_uAmbientLight.color"]=t?OK(t):[0,0,0],r.forEach((function(e,t){a["lighting_uPointLight[".concat(t,"].color")]=OK(e),a["lighting_uPointLight[".concat(t,"].position")]=e.position,a["lighting_uPointLight[".concat(t,"].attenuation")]=e.attenuation||[1,0,0]})),a.lighting_uPointLightCount=r.length,o.forEach((function(e,t){a["lighting_uDirectionalLight[".concat(t,"].color")]=OK(e),a["lighting_uDirectionalLight[".concat(t,"].direction")]=e.direction})),a.lighting_uDirectionalLightCount=o.length,a}({ambientLight:r,pointLights:i,directionalLights:o}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){var a,s={pointLights:[],directionalLights:[]},u=gx(t.lights||[]);try{for(u.s();!(a=u.n()).done;){var l=a.value;switch(l.type){case"ambient":s.ambientLight=l;break;case"directional":s.directionalLights.push(l);break;case"point":s.pointLights.push(l)}}}catch(YJ){u.e(YJ)}finally{u.f()}return e({lightSources:s})}return{}},defines:{MAX_LIGHTS:3}},RK="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",LK={};function IK(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LK;if(!("material"in e))return{};var t=e.material;return t?function(e){var t=e.ambient,n=void 0===t?.35:t,r=e.diffuse,i=void 0===r?.6:r,o=e.shininess,a=void 0===o?32:o,s=e.specularColor;return{lighting_uAmbient:n,lighting_uDiffuse:i,lighting_uShininess:a,lighting_uSpecularColor:(void 0===s?[30,30,30]:s).map((function(e){return e/255}))}}(t):{lighting_uEnabled:!1}}var DK={name:"gouraud-lighting",dependencies:[CK],vs:RK,defines:{LIGHTING_VERTEX:1},getUniforms:IK},jK={name:"phong-lighting",dependencies:[CK],fs:RK,defines:{LIGHTING_FRAGMENT:1},getUniforms:IK},NK=n(7089),BK=n.n(NK),zK=AU,ZK=TU,FK={isClosed:!0};function UK(e){return"positions"in e?e.positions:e}function KK(e){return"holeIndices"in e?e.holeIndices:null}function VK(e,t,n,r,i){for(var o=t,a=n.length,s=0;s<a;s++)for(var u=0;u<r;u++)e[o++]=n[s][u]||0;if(!function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}(n))for(var l=0;l<r;l++)e[o++]=n[0][l]||0;return FK.start=t,FK.end=o,FK.size=r,PU(e,i,FK),o}function HK(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,s=(o=o||n.length)-i;if(s<=0)return t;for(var u=t,l=0;l<s;l++)e[u++]=n[i+l];if(!function(e,t,n,r){for(var i=0;i<t;i++)if(e[n+i]!==e[r-t+i])return!1;return!0}(n,r,i,o))for(var c=0;c<r;c++)e[u++]=n[i+c];return FK.start=t,FK.end=u,FK.size=r,PU(e,a,FK),u}function WK(e,t){!function(e){if(e=e&&e.positions||e,!Array.isArray(e)&&!ArrayBuffer.isView(e))throw new Error("invalid polygon")}(e);var n=[],r=[];if("positions"in e){var i=e,o=i.positions,a=i.holeIndices;if(a){for(var s=0,u=0;u<=a.length;u++)s=HK(n,s,o,t,a[u-1],a[u],0===u?zK:ZK),r.push(s);return r.pop(),{positions:n,holeIndices:r}}e=o}if(!function(e){return Array.isArray(e[0])}(e))return HK(n,0,e,t,0,n.length,zK),n;if(!function(e){return e.length>=1&&e[0].length>=2&&Number.isFinite(e[0][0])}(e)){var l,c=0,h=gx(e.entries());try{for(h.s();!(l=h.n()).done;){var f=v(l.value,2),d=f[0];c=VK(n,c,f[1],t,0===d?zK:ZK),r.push(c)}}catch(YJ){h.e(YJ)}finally{h.f()}return r.pop(),{positions:n,holeIndices:r}}return VK(n,0,e,t,zK),n}function GK(e,t,n){for(var r=e.length/3,i=0,o=0;o<r;o++){var a=(o+1)%r;i+=e[3*o+t]*e[3*a+n],i-=e[3*a+t]*e[3*o+n]}return Math.abs(i/2)}function qK(e,t,n,r){for(var i=e.length/3,o=0;o<i;o++){var a=3*o,s=e[a+0],u=e[a+1],l=e[a+2];e[a+t]=s,e[a+n]=u,e[a+r]=l}}var YK=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){(0,Vt.Z)(this,n);var r=e.fp64,i=e.IndexType,o=void 0===i?Uint32Array:i;return t.call(this,(0,V.Z)((0,V.Z)({},e),{},{attributes:{positions:{size:3,type:r?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:o,size:1}}}))}return(0,Ht.Z)(n,[{key:"get",value:function(e){var t=this.attributes;return"indices"===e?t.indices&&t.indices.subarray(0,this.vertexCount):t[e]}},{key:"updateGeometry",value:function(e){KM((0,lx.Z)(n.prototype),"updateGeometry",this).call(this,e);var t=this.buffers.indices;if(t)this.vertexCount=(t.value||t).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}},{key:"normalizeGeometry",value:function(e){if(this.normalize){var t=WK(e,this.positionSize);return this.opts.resolution?hK(UK(t),KK(t),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=n||{},i=r.size,o=void 0===i?2:i,a=r.normalize,s=void 0===a||a,u=r.edgeTypes,l=void 0!==u&&u;t=t||[];for(var c=[],h=[],f=0,d=0,p=0;p<=t.length;p++){for(var v=t[p]||e.length,g=d,m=mK(e,o,f,v),y=m;y<v;y++)c[d++]=e[y];for(var b=f;b<m;b++)c[d++]=e[b];bK(c,o,g,d),yK(c,o,g,d,null===n||void 0===n?void 0:n.maxLatitude),f=v,h[p]=d}h.pop();var _=hK(c,h,{size:o,gridResolution:360,gridOffset:[-180,-180],edgeTypes:l});if(s){var w,E=gx(_);try{for(E.s();!(w=E.n()).done;)_K(w.value.positions,o)}catch(YJ){E.e(YJ)}finally{E.f()}}return _}(UK(t),KK(t),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):t}return e}},{key:"getGeometrySize",value:function(e){if(XK(e)){var t,n=0,r=gx(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.getGeometrySize(i)}}catch(YJ){r.e(YJ)}finally{r.f()}return n}return UK(e).length/this.positionSize}},{key:"getGeometryFromBuffer",value:function(e){return this.normalize||!this.buffers.indices?KM((0,lx.Z)(n.prototype),"getGeometryFromBuffer",this).call(this,e):null}},{key:"updateGeometryAttributes",value:function(e,t){if(e&&XK(e)){var n,r=gx(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.getGeometrySize(i);t.geometrySize=o,this.updateGeometryAttributes(i,t),t.vertexStart+=o,t.indexStart=this.indexStarts[t.geometryIndex+1]}}catch(YJ){r.e(YJ)}finally{r.f()}}else this._updateIndices(e,t),this._updatePositions(e,t),this._updateVertexValid(e,t)}},{key:"_updateIndices",value:function(e,t){var n=t.geometryIndex,r=t.vertexStart,i=t.indexStart,o=this.attributes,a=this.indexStarts,s=this.typedArrayManager,u=o.indices;if(u&&e){var l=i,c=function(e,t,n,r){var i=KK(e);i&&(i=i.map((function(e){return e/t})));var o=UK(e),a=r&&3===t;if(n){var s=o.length;o=o.slice();for(var u=[],l=0;l<s;l+=t){u[0]=o[l],u[1]=o[l+1],a&&(u[2]=o[l+2]);var c=n(u);o[l]=c[0],o[l+1]=c[1],a&&(o[l+2]=c[2])}}if(a){var h=GK(o,0,1),f=GK(o,0,2),d=GK(o,1,2);if(!h&&!f&&!d)return[];h>f&&h>d||(f>d?(n||(o=o.slice()),qK(o,0,2,1)):(n||(o=o.slice()),qK(o,2,0,1)))}return BK()(o,i,t)}(e,this.positionSize,this.opts.preproject,this.opts.full3d);u=s.allocate(u,i+c.length,{copy:!0});for(var h=0;h<c.length;h++)u[l++]=c[h]+r;a[n+1]=i+c.length,o.indices=u}}},{key:"_updatePositions",value:function(e,t){var n=t.vertexStart,r=t.geometrySize,i=this.attributes.positions,o=this.positionSize;if(i&&e)for(var a=UK(e),s=n,u=0;u<r;s++,u++){var l=a[u*o],c=a[u*o+1],h=o>2?a[u*o+2]:0;i[3*s]=l,i[3*s+1]=c,i[3*s+2]=h}}},{key:"_updateVertexValid",value:function(e,t){var n=t.vertexStart,r=t.geometrySize,i=this.positionSize,o=this.attributes.vertexValid,a=e&&KK(e);if(e&&e.edgeTypes?o.set(e.edgeTypes,n):o.fill(1,n,n+r),a)for(var s=0;s<a.length;s++)o[n+a[s]/i-1]=0;o[n+r-1]=0}}]),n}(kU);function XK(e){return Array.isArray(e)&&e.length>0&&!Number.isFinite(e[0])}var $K="\nattribute vec2 vertexPositions;\nattribute float vertexValid;\n\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nstruct PolygonProps {\n  vec4 fillColors;\n  vec4 lineColors;\n  vec3 positions;\n  vec3 nextPositions;\n  vec3 pickingColors;\n  vec3 positions64Low;\n  vec3 nextPositions64Low;\n  float elevations;\n};\n\nvec3 project_offset_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\n  }\n  return project_normal(vector);\n}\n\nvoid calculatePosition(PolygonProps props) {\n#ifdef IS_SIDE_VERTEX\n  if(vertexValid < 0.5){\n    gl_Position = vec4(0.);\n    return;\n  }\n#endif\n\n  vec3 pos;\n  vec3 pos64Low;\n  vec3 normal;\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\n\n  geometry.worldPosition = props.positions;\n  geometry.worldPositionAlt = props.nextPositions;\n  geometry.pickingColor = props.pickingColors;\n\n#ifdef IS_SIDE_VERTEX\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\n#else\n  pos = props.positions;\n  pos64Low = props.positions64Low;\n#endif\n\n  if (extruded) {\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\n  }\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  if (extruded) {\n  #ifdef IS_SIDE_VERTEX\n    normal = vec3(\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\n      0.0);\n    normal = project_offset_normal(normal);\n  #else\n    normal = project_normal(vec3(0.0, 0.0, 1.0));\n  #endif\n    geometry.normal = normal;\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\n    vColor = vec4(lightColor, colors.a * opacity);\n  } else {\n    vColor = vec4(colors.rgb, colors.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",JK="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\n".concat($K,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = positions;\n  props.positions64Low = positions64Low;\n  props.elevations = elevations;\n  props.fillColors = fillColors;\n  props.lineColors = lineColors;\n  props.pickingColors = pickingColors;\n\n  calculatePosition(props);\n}\n"),QK="#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\n\n\nattribute vec3 instancePositions;\nattribute vec3 nextPositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 nextPositions64Low;\nattribute float instanceElevations;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\n".concat($K,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  #if RING_WINDING_ORDER_CW == 1\n    props.positions = instancePositions;\n    props.positions64Low = instancePositions64Low;\n    props.nextPositions = nextPositions;\n    props.nextPositions64Low = nextPositions64Low;\n  #else\n    props.positions = nextPositions;\n    props.positions64Low = nextPositions64Low;\n    props.nextPositions = instancePositions;\n    props.nextPositions64Low = instancePositions64Low;\n  #endif\n  props.elevations = instanceElevations;\n  props.fillColors = instanceFillColors;\n  props.lineColors = instanceLineColors;\n  props.pickingColors = instancePickingColors;\n\n  calculatePosition(props);\n}\n"),eV=[0,0,0,255],tV={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:function(e){return e.polygon}},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:eV},getLineColor:{type:"accessor",value:eV},material:!0},nV={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},rV=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"state",void 0),e}return(0,Ht.Z)(n,[{key:"getShaders",value:function(e){return KM((0,lx.Z)(n.prototype),"getShaders",this).call(this,{vs:"top"===e?JK:QK,fs:"#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[DF,DK,zF]})}},{key:"wrapLongitude",get:function(){return!1}},{key:"initializeState",value:function(){var e,t=this,n=this.context,r=n.gl,i=n.viewport,o=this.props.coordinateSystem,a=this.props._full3d;i.isGeospatial&&o===qL.DEFAULT&&(o=qL.LNGLAT),o===qL.LNGLAT&&(e=a?i.projectPosition.bind(i):i.projectFlat.bind(i)),this.setState({numInstances:0,polygonTesselator:new YK({preproject:e,fp64:this.use64bitPositions(),IndexType:!r||LT(r,dT)?Uint32Array:Uint16Array})});var s=this.getAttributeManager(),u=!0;s.remove(["instancePickingColors"]),s.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:u},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:nV,accessor:"getPolygon",update:this.calculatePositions,noAlloc:u,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:u},elevations:{size:1,transition:nV,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:nV,accessor:"getFillColor",defaultValue:eV,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:nV,accessor:"getLineColor",defaultValue:eV,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:function(e,n){var r=n.index,i=n.target;return t.encodePickingColor(e&&e.__source?e.__source.index:r,i)},shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}},{key:"getPickingInfo",value:function(e){var t=KM((0,lx.Z)(n.prototype),"getPickingInfo",this).call(this,e),r=t.index,i=this.props.data;return i[0]&&i[0].__source&&(t.object=i.find((function(e){return e.__source.index===r}))),t}},{key:"disablePickingIndex",value:function(e){var t=this.props.data;if(t[0]&&t[0].__source)for(var r=0;r<t.length;r++)t[r].__source.index===e&&this._disablePickingIndex(r);else KM((0,lx.Z)(n.prototype),"disablePickingIndex",this).call(this,e)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.extruded,i=n.filled,o=n.wireframe,a=n.elevationScale,s=this.state,u=s.topModel,l=s.sideModel,c=s.polygonTesselator,h=(0,V.Z)((0,V.Z)({},t),{},{extruded:Boolean(r),elevationScale:a});l&&(l.setInstanceCount(c.instanceCount-1),l.setUniforms(h),o&&(l.setDrawMode(3),l.setUniforms({isWireframe:!0}).draw()),i&&(l.setDrawMode(6),l.setUniforms({isWireframe:!1}).draw())),u&&(u.setVertexCount(c.vertexCount),u.setUniforms(h).draw())}},{key:"updateState",value:function(e){KM((0,lx.Z)(n.prototype),"updateState",this).call(this,e),this.updateGeometry(e);var t,r=e.props,i=e.oldProps,o=e.changeFlags,a=this.getAttributeManager();(o.extensionsChanged||r.filled!==i.filled||r.extruded!==i.extruded)&&(null===(t=this.state.models)||void 0===t||t.forEach((function(e){return e.delete()})),this.setState(this._getModels(this.context.gl)),a.invalidateAll())}},{key:"updateGeometry",value:function(e){var t=e.props,n=(e.oldProps,e.changeFlags);if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPolygon)){var r=this.state.polygonTesselator,i=t.data.attributes||{};r.updateGeometry({data:t.data,normalize:t._normalize,geometryBuffer:i.getPolygon,buffers:i,getGeometry:t.getPolygon,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:n.dataChanged,full3d:t._full3d}),this.setState({numInstances:r.instanceCount,startIndices:r.vertexStarts}),n.dataChanged||this.getAttributeManager().invalidateAll()}}},{key:"_getModels",value:function(e){var t,n,r=this.props,i=r.id,o=r.filled,a=r.extruded;if(o){var s=this.getShaders("top");s.defines.NON_INSTANCED_MODEL=1,t=new aZ(e,(0,V.Z)((0,V.Z)({},s),{},{id:"".concat(i,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0}))}return a&&((n=new aZ(e,(0,V.Z)((0,V.Z)({},this.getShaders("side")),{},{id:"".concat(i,"-side"),geometry:new FF({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}))).userData.excludeAttributes={indices:!0}),{models:[n,t].filter(Boolean),topModel:t,sideModel:n}}},{key:"calculateIndices",value:function(e){var t=this.state.polygonTesselator;e.startIndices=t.indexStarts,e.value=t.get("indices")}},{key:"calculatePositions",value:function(e){var t=this.state.polygonTesselator;e.startIndices=t.vertexStarts,e.value=t.get("positions")}},{key:"calculateVertexValid",value:function(e){e.value=this.state.polygonTesselator.get("vertexValid")}}]),n}(rF);(0,re.Z)(rV,"defaultProps",tV),(0,re.Z)(rV,"layerName","SolidPolygonLayer");var iV={circle:{type:QF,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:XF,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:MU,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},oV={type:AK,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},aV={type:rV,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",_full3d:"_full3d",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function sV(e){var t=e.type,n=e.props,r={};for(var i in n)r[i]=t.defaultProps[n[i]];return r}function uV(e,t){var n=e.props,r=n.transitions,i=n.updateTriggers,o={updateTriggers:{},transitions:r&&{getPosition:r.geometry}};for(var a in t){var s=t[a],u=e.props[a];a.startsWith("get")&&(u=e.getSubLayerAccessor(u),o.updateTriggers[s]=i[a],r&&(o.transitions[s]=r[a])),o[s]=u}return o}function lV(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},i=n.startRow,o=void 0===i?0:i,a=n.endRow,s=void 0===a?e.length:a,u=o;u<s;u++){var l=e[u],c=l.geometry;if(c)if("GeometryCollection"===c.type){EP.assert(Array.isArray(c.geometries),"GeoJSON does not have geometries array");for(var h=c.geometries,f=0;f<h.length;f++){cV(h[f],r,t,l,u)}}else cV(c,r,t,l,u)}return r}function cV(e,t,n,r,i){var o=e.type,a=e.coordinates,s=t.pointFeatures,u=t.lineFeatures,l=t.polygonFeatures,c=t.polygonOutlineFeatures;if(function(e,t){var n=hV[e];EP.assert(n,"Unknown GeoJSON type ".concat(e));for(;t&&--n>0;)t=t[0];return t&&Number.isFinite(t[0])}(o,a))switch(o){case"Point":s.push(n({geometry:e},r,i));break;case"MultiPoint":a.forEach((function(e){s.push(n({geometry:{type:"Point",coordinates:e}},r,i))}));break;case"LineString":u.push(n({geometry:e},r,i));break;case"MultiLineString":a.forEach((function(e){u.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}));break;case"Polygon":l.push(n({geometry:e},r,i)),a.forEach((function(e){c.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}));break;case"MultiPolygon":a.forEach((function(e){l.push(n({geometry:{type:"Polygon",coordinates:e}},r,i)),e.forEach((function(e){c.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}))}))}else EP.warn("".concat(o," coordinates are malformed"))()}var hV={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function fV(e){return e.geometry.coordinates}function dV(e,t){var n={points:{},lines:{},polygons:{},polygonsOutline:{}},r=e.points,i=e.lines,o=e.polygons,a=function(e,t){var n={points:null,lines:null,polygons:null};for(var r in n){var i=e[r].globalFeatureIds.value;n[r]=new Uint8ClampedArray(3*i.length);for(var o=[],a=0;a<i.length;a++)t(i[a],o),n[r][3*a+0]=o[0],n[r][3*a+1]=o[1],n[r][3*a+2]=o[2]}return n}(e,t);return n.points.data={length:r.positions.value.length/r.positions.size,attributes:(0,V.Z)((0,V.Z)({},r.attributes),{},{getPosition:r.positions,instancePickingColors:{size:3,value:a.points}}),properties:r.properties,numericProps:r.numericProps,featureIds:r.featureIds},n.lines.data={length:i.pathIndices.value.length-1,startIndices:i.pathIndices.value,attributes:(0,V.Z)((0,V.Z)({},i.attributes),{},{getPath:i.positions,instancePickingColors:{size:3,value:a.lines}}),properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},n.lines._pathType="open",n.polygons.data={length:o.polygonIndices.value.length-1,startIndices:o.polygonIndices.value,attributes:(0,V.Z)((0,V.Z)({},o.attributes),{},{getPolygon:o.positions,pickingColors:{size:3,value:a.polygons}}),properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},n.polygons._normalize=!1,o.triangles&&(n.polygons.data.attributes.indices=o.triangles.value),n.polygonsOutline.data={length:o.primitivePolygonIndices.value.length-1,startIndices:o.primitivePolygonIndices.value,attributes:(0,V.Z)((0,V.Z)({},o.attributes),{},{getPath:o.positions,instancePickingColors:{size:3,value:a.polygons}}),properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},n.polygonsOutline._pathType="open",n}var pV=["instancePickingColors"],vV=["points","linestrings","polygons"],gV=(0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)((0,V.Z)({},sV(iV.circle)),sV(iV.icon)),sV(iV.text)),sV(oV)),sV(aV)),{},{stroked:!0,filled:!0,extruded:!1,wireframe:!1,_full3d:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:function(e){return e.properties.icon}},getText:{type:"accessor",value:function(e){return e.properties.text}},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}}),mV=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"initializeState",value:function(){this.state={layerProps:{},features:{}}}},{key:"updateState",value:function(e){var t=e.props,n=e.changeFlags;if(n.dataChanged){var r=this.props.data,i=r&&"points"in r&&"polygons"in r&&"lines"in r;this.setState({binary:i}),i?this._updateStateBinary({props:t,changeFlags:n}):this._updateStateJSON({props:t,changeFlags:n})}}},{key:"_updateStateBinary",value:function(e){var t=e.props,n=(e.changeFlags,dV(t.data,this.encodePickingColor));this.setState({layerProps:n})}},{key:"_updateStateJSON",value:function(e){var t=e.props,n=e.changeFlags,r=function(e){if(Array.isArray(e))return e;switch(EP.assert(e.type,"GeoJSON does not have type"),e.type){case"Feature":return[e];case"FeatureCollection":return EP.assert(Array.isArray(e.features),"GeoJSON does not have features array"),e.features;default:return[{geometry:e}]}}(t.data),i=this.getSubLayerRow.bind(this),o={},a={};if(Array.isArray(n.dataChanged)){var s=this.state.features;for(var u in s)o[u]=s[u].slice(),a[u]=[];var l,c=gx(n.dataChanged);try{for(c.s();!(l=c.n()).done;){var h=l.value,f=lV(r,i,h);for(var d in s)a[d].push(LF({data:o[d],getIndex:function(e){return e.__source.index},dataRange:h,replace:f[d]}))}}catch(YJ){c.e(YJ)}finally{c.f()}}else o=lV(r,i);var p=function(e,t){var n={points:{},lines:{},polygons:{},polygonsOutline:{}},r=e.pointFeatures,i=e.lineFeatures,o=e.polygonFeatures,a=e.polygonOutlineFeatures;return n.points.data=r,n.points._dataDiff=t.pointFeatures&&function(){return t.pointFeatures},n.points.getPosition=fV,n.lines.data=i,n.lines._dataDiff=t.lineFeatures&&function(){return t.lineFeatures},n.lines.getPath=fV,n.polygons.data=o,n.polygons._dataDiff=t.polygonFeatures&&function(){return t.polygonFeatures},n.polygons.getPolygon=fV,n.polygonsOutline.data=a,n.polygonsOutline._dataDiff=t.polygonOutlineFeatures&&function(){return t.polygonOutlineFeatures},n.polygonsOutline.getPath=fV,n}(o,a);this.setState({features:o,featuresDiff:a,layerProps:p})}},{key:"getPickingInfo",value:function(e){var t=this,r=KM((0,lx.Z)(n.prototype),"getPickingInfo",this).call(this,e),i=r.index,o=r.sourceLayer;return r.featureType=vV.find((function(e){return o.id.startsWith("".concat(t.id,"-").concat(e,"-"))})),i>=0&&o.id.startsWith("".concat(this.id,"-points-text"))&&this.state.binary&&(r.index=this.props.data.points.globalFeatureIds.value[i]),r}},{key:"_updateAutoHighlight",value:function(e){var t,n="".concat(this.id,"-points-"),r="points"===e.featureType,i=gx(this.getSubLayers());try{for(i.s();!(t=i.n()).done;){var o=t.value;o.id.startsWith(n)===r&&o.updateAutoHighlight(e)}}catch(YJ){i.e(YJ)}finally{i.f()}}},{key:"_renderPolygonLayer",value:function(){var e=this.props,t=e.extruded,n=e.wireframe,r=this.state.layerProps,i="polygons-fill",o=this.shouldRenderSubLayer(i,r.polygons.data)&&this.getSubLayerClass(i,aV.type);if(o){var a=uV(this,aV.props),s=t&&n;return s||delete a.getLineColor,a.updateTriggers.lineColors=s,new o(a,this.getSubLayerProps({id:i,updateTriggers:a.updateTriggers}),r.polygons)}return null}},{key:"_renderLineLayers",value:function(){var e=this.props,t=e.extruded,n=e.stroked,r=this.state.layerProps,i="polygons-stroke",o="linestrings",a=!t&&n&&this.shouldRenderSubLayer(i,r.polygonsOutline.data)&&this.getSubLayerClass(i,oV.type),s=this.shouldRenderSubLayer(o,r.lines.data)&&this.getSubLayerClass(o,oV.type);if(a||s){var u=uV(this,oV.props);return[a&&new a(u,this.getSubLayerProps({id:i,updateTriggers:u.updateTriggers}),r.polygonsOutline),s&&new s(u,this.getSubLayerProps({id:o,updateTriggers:u.updateTriggers}),r.lines)]}return null}},{key:"_renderPointLayers",value:function(){var e=this.props.pointType,t=this.state,n=t.layerProps,r=t.binary,i=this.props.highlightedObjectIndex;!r&&Number.isFinite(i)&&(i=n.points.data.findIndex((function(e){return e.__source.index===i})));var o,a=[],s=gx(new Set(e.split("+")));try{for(s.s();!(o=s.n()).done;){var u=o.value,l="points-".concat(u),c=iV[u],h=c&&this.shouldRenderSubLayer(l,n.points.data)&&this.getSubLayerClass(l,c.type);if(h){var f=uV(this,c.props),d=n.points;if("text"===u&&r){var p=d.data.attributes,v=(p.instancePickingColors,vn(p,pV));d=(0,V.Z)((0,V.Z)({},d),{},{data:(0,V.Z)((0,V.Z)({},d.data),{},{attributes:v})})}a.push(new h(f,this.getSubLayerProps({id:l,updateTriggers:f.updateTriggers,highlightedObjectIndex:i}),d))}}}catch(YJ){s.e(YJ)}finally{s.f()}return a}},{key:"renderLayers",value:function(){var e=this.props.extruded,t=this._renderPolygonLayer();return[!e&&t,this._renderLineLayers(),this._renderPointLayers(),e&&t]}},{key:"getSubLayerAccessor",value:function(e){return this.state.binary&&"function"===typeof e?function(t,n){var r=IF(n.data,n.index);return e(r,n)}:KM((0,lx.Z)(n.prototype),"getSubLayerAccessor",this).call(this,e)}}]),n}(RF);(0,re.Z)(mV,"layerName","GeoJsonLayer"),(0,re.Z)(mV,"defaultProps",gV);var yV=n(1426);function bV(){var e;if("undefined"!==typeof window&&window.performance)e=window.performance.now();else if("undefined"!==typeof yV&&yV.hrtime){var t=yV.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}var _V=function(){function e(t,n){(0,Vt.Z)(this,e),this.name=void 0,this.type=void 0,this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=t,this.type=n,this.reset()}return(0,Ht.Z)(e,[{key:"reset",value:function(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}},{key:"setSampleSize",value:function(e){return this.sampleSize=e,this}},{key:"incrementCount",value:function(){return this.addCount(1),this}},{key:"decrementCount",value:function(){return this.subtractCount(1),this}},{key:"addCount",value:function(e){return this._count+=e,this._samples++,this._checkSampling(),this}},{key:"subtractCount",value:function(e){return this._count-=e,this._samples++,this._checkSampling(),this}},{key:"addTime",value:function(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}},{key:"timeStart",value:function(){return this._startTime=bV(),this._timerPending=!0,this}},{key:"timeEnd",value:function(){return this._timerPending?(this.addTime(bV()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}},{key:"getSampleAverageCount",value:function(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}},{key:"getSampleAverageTime",value:function(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}},{key:"getSampleHz",value:function(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}},{key:"getAverageCount",value:function(){return this.samples>0?this.count/this.samples:0}},{key:"getAverageTime",value:function(){return this.samples>0?this.time/this.samples:0}},{key:"getHz",value:function(){return this.time>0?this.samples/(this.time/1e3):0}},{key:"_checkSampling",value:function(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}]),e}(),wV=function(){function e(t){(0,Vt.Z)(this,e),this.id=void 0,this.stats={},this.id=t.id,this.stats={},this._initializeStats(t.stats),Object.seal(this)}return(0,Ht.Z)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}},{key:"size",get:function(){return Object.keys(this.stats).length}},{key:"reset",value:function(){for(var e=0,t=Object.values(this.stats);e<t.length;e++){t[e].reset()}return this}},{key:"forEach",value:function(e){for(var t=0,n=Object.values(this.stats);t<n.length;t++){e(n[t])}}},{key:"getTable",value:function(){var e={};return this.forEach((function(t){e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}},{key:"_initializeStats",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){return e._getOrCreate(t)}))}},{key:"_getOrCreate",value:function(e){var t=e.name,n=e.type,r=this.stats[t];return r||(r=e instanceof _V?e:new _V(t,n),this.stats[t]=r),r}}]),e}(),EV={id:"request-scheduler",throttleRequests:!0,maxRequests:6},SV=function(){function e(){(0,Vt.Z)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,re.Z)(this,"props",void 0),(0,re.Z)(this,"stats",void 0),(0,re.Z)(this,"activeRequestCount",0),(0,re.Z)(this,"requestQueue",[]),(0,re.Z)(this,"requestMap",new Map),(0,re.Z)(this,"deferredUpdate",null),this.props=(0,V.Z)((0,V.Z)({},EV),t),this.stats=new wV({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}return(0,Ht.Z)(e,[{key:"scheduleRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(e))return this.requestMap.get(e);var n={handle:e,priority:0,getPriority:t},r=new Promise((function(e){return n.resolve=e,n}));return this.requestQueue.push(n),this.requestMap.set(e,r),this._issueNewRequests(),r}},{key:"_issueRequest",value:function(e){var t=this,n=e.handle,r=e.resolve,i=!1,o=function(){i||(i=!0,t.requestMap.delete(n),t.activeRequestCount--,t._issueNewRequests())};return this.activeRequestCount++,r?r({done:o}):Promise.resolve({done:o})}},{key:"_issueNewRequests",value:function(){var e=this;this.deferredUpdate||(this.deferredUpdate=setTimeout((function(){return e._issueNewRequestsAsync()}),0))}},{key:"_issueNewRequestsAsync",value:function(){this.deferredUpdate=null;var e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(var t=0;t<e;++t){var n=this.requestQueue.shift();n&&this._issueRequest(n)}}}},{key:"_updateAllRequests",value:function(){for(var e=this.requestQueue,t=0;t<e.length;++t){var n=e[t];this._updateRequest(n)||(e.splice(t,1),this.requestMap.delete(n.handle),t--)}e.sort((function(e,t){return e.priority-t.priority}))}},{key:"_updateRequest",value:function(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}}]),e}(),xV=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"index",void 0),(0,re.Z)(this,"isVisible",void 0),(0,re.Z)(this,"isSelected",void 0),(0,re.Z)(this,"parent",void 0),(0,re.Z)(this,"children",void 0),(0,re.Z)(this,"content",void 0),(0,re.Z)(this,"state",void 0),(0,re.Z)(this,"layers",void 0),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"zoom",void 0),(0,re.Z)(this,"userData",void 0),(0,re.Z)(this,"boundingBox",void 0),(0,re.Z)(this,"_abortController",void 0),(0,re.Z)(this,"_loader",void 0),(0,re.Z)(this,"_loaderId",void 0),(0,re.Z)(this,"_isLoaded",void 0),(0,re.Z)(this,"_isCancelled",void 0),(0,re.Z)(this,"_needsReload",void 0),(0,re.Z)(this,"_bbox",void 0),this.index=t,this.isVisible=!1,this.isSelected=!1,this.parent=null,this.children=[],this.content=null,this._loader=void 0,this._abortController=null,this._loaderId=0,this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1}return(0,Ht.Z)(e,[{key:"bbox",get:function(){return this._bbox},set:function(e){this._bbox||(this._bbox=e,this.boundingBox="west"in e?[[e.west,e.south],[e.east,e.north]]:[[e.left,e.top],[e.right,e.bottom]])}},{key:"data",get:function(){var e=this;return this.isLoading&&this._loader?this._loader.then((function(){return e.data})):this.content}},{key:"isLoaded",get:function(){return this._isLoaded&&!this._needsReload}},{key:"isLoading",get:function(){return Boolean(this._loader)&&!this._isCancelled}},{key:"needsReload",get:function(){return this._needsReload||this._isCancelled}},{key:"byteLength",get:function(){var e=this.content?this.content.byteLength:0;return Number.isFinite(e)||console.error("byteLength not defined in tile data"),e}},{key:"_loadData",value:function(){var e=ZT(BT().mark((function e(t){var n,r,i,o,a,s,u,l,c,h,f,d,p,v;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getData,r=t.requestScheduler,i=t.onLoad,o=t.onError,a=this.index,s=this.id,u=this.bbox,l=this.userData,c=this.zoom,h=this._loaderId,this._abortController=new AbortController,f=this._abortController.signal,e.next=7,r.scheduleRequest(this,(function(e){return e.isSelected?1:-1}));case 7:if(d=e.sent){e.next=11;break}return this._isCancelled=!0,e.abrupt("return");case 11:if(!this._isCancelled){e.next=14;break}return d.done(),e.abrupt("return");case 14:return p=null,e.prev=15,e.next=18,n({index:a,id:s,bbox:u,userData:l,zoom:c,signal:f});case 18:p=e.sent,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(15),v=e.t0||!0;case 24:return e.prev=24,d.done(),e.finish(24);case 27:if(h===this._loaderId){e.next=29;break}return e.abrupt("return");case 29:if(this._loader=void 0,this.content=p,!this._isCancelled||p){e.next=34;break}return this._isLoaded=!1,e.abrupt("return");case 34:this._isLoaded=!0,this._isCancelled=!1,v?o(v,this):i(this);case 37:case"end":return e.stop()}}),e,this,[[15,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadData",value:function(e){return this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1,this._loaderId++,this._loader=this._loadData(e),this._loader}},{key:"setNeedsReload",value:function(){this.isLoading&&(this.abort(),this._loader=void 0),this._needsReload=!0}},{key:"abort",value:function(){var e;this.isLoaded||(this._isCancelled=!0,null===(e=this._abortController)||void 0===e||e.abort())}}]),e}(),MV=Math.PI/180,kV=180/Math.PI,AV=6370972,TV=256;function PV(){var e=4018225162502676e-20,t=Math.PI/180*TV;return{unitsPerMeter:[e,e,e],unitsPerMeter2:[0,0,0],metersPerUnit:[24886.609375,24886.609375,24886.609375],unitsPerDegree:[t,t,e],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/t,1/t,24886.609375]}}var OV=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Vt.Z)(this,n);var i=r.latitude,o=void 0===i?0:i,a=r.longitude,s=void 0===a?0:a,u=r.zoom,l=void 0===u?0:u,c=r.nearZMultiplier,h=void 0===c?.1:c,f=r.farZMultiplier,d=void 0===f?2:f,p=r.resolution,v=void 0===p?10:p,g=r.height,m=r.altitude,y=void 0===m?1.5:m;g=g||1,y=Math.max(.75,y);var b=(new bL).lookAt({eye:[0,-y,0],up:[0,0,1]}),_=Math.pow(2,l);b.rotateX(o*MV),b.rotateZ(-s*MV),b.scale(_/g);var w=Math.atan(.5/y),E=512*_/g;return e=t.call(this,(0,V.Z)((0,V.Z)({},r),{},{height:g,viewMatrix:b,longitude:s,latitude:o,zoom:l,distanceScales:PV(),fovyRadians:2*w,focalDistance:y,near:h,far:Math.min(2,1/E+1)*y*d})),(0,re.Z)((0,UM.Z)(e),"longitude",void 0),(0,re.Z)((0,UM.Z)(e),"latitude",void 0),(0,re.Z)((0,UM.Z)(e),"resolution",void 0),e.latitude=o,e.longitude=s,e.resolution=v,e}return(0,Ht.Z)(n,[{key:"projectionMode",get:function(){return YL.GLOBE}},{key:"getDistanceScales",value:function(){return this.distanceScales}},{key:"getBounds",value:function(){var e={targetZ:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).z||0},t=this.unproject([0,this.height/2],e),n=this.unproject([this.width/2,0],e),r=this.unproject([this.width,this.height/2],e),i=this.unproject([this.width/2,this.height],e);return r[0]<this.longitude&&(r[0]+=360),t[0]>this.longitude&&(t[0]-=360),[Math.min(t[0],r[0],n[0],i[0]),Math.min(t[1],r[1],n[1],i[1]),Math.max(t[0],r[0],n[0],i[0]),Math.max(t[1],r[1],n[1],i[1])]}},{key:"unproject",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.topLeft,i=void 0===r||r,o=n.targetZ,a=v(e,3),s=a[0],u=a[1],l=a[2],c=i?u:this.height-u,h=this.pixelUnprojectionMatrix;if(Number.isFinite(l))t=CV(h,[s,c,l,1]);else{var f=CV(h,[s,c,-1,1]),d=CV(h,[s,c,1,1]),p=((o||0)/AV+1)*TV,g=zR(NR([],f,d)),m=zR(f),y=zR(d),b=4*((4*m*y-Math.pow(g-m-y,2))/16)/g;t=function(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}([],f,d,(Math.sqrt(m-b)-Math.sqrt(Math.max(0,p*p-b)))/Math.sqrt(g))}var _=v(this.unprojectPosition(t),3),w=_[0],E=_[1],S=_[2];return Number.isFinite(l)?[w,E,S]:Number.isFinite(o)?[w,E,o]:[w,E]}},{key:"projectPosition",value:function(e){var t=v(e,3),n=t[0],r=t[1],i=t[2],o=void 0===i?0:i,a=n*MV,s=r*MV,u=Math.cos(s),l=(o/AV+1)*TV;return[Math.sin(a)*u*l,-Math.cos(a)*u*l,Math.sin(s)*l]}},{key:"unprojectPosition",value:function(e){var t=v(e,3),n=t[0],r=t[1],i=t[2],o=BR(e),a=Math.asin(i/o);return[Math.atan2(n,-r)*kV,a*kV,(o/TV-1)*AV]}},{key:"projectFlat",value:function(e){return e}},{key:"unprojectFlat",value:function(e){return e}},{key:"panByPosition",value:function(e,t){var n=this.unproject(t);return{longitude:e[0]-n[0]+this.longitude,latitude:e[1]-n[1]+this.latitude}}}]),n}(nI);function CV(e,t){var n=dL([],t,e);return cL(n,n,1/n[3]),n}var RV=-1,LV=0,IV=1,DV=new VR,jV=new VR,NV=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=arguments.length>2?arguments[2]:void 0;(0,Vt.Z)(this,e),(0,re.Z)(this,"center",void 0),(0,re.Z)(this,"halfDiagonal",void 0),(0,re.Z)(this,"minimum",void 0),(0,re.Z)(this,"maximum",void 0),r=r||DV.copy(t).add(n).scale(.5),this.center=new VR(r),this.halfDiagonal=new VR(n).subtract(this.center),this.minimum=new VR(t),this.maximum=new VR(n)}return(0,Ht.Z)(e,[{key:"clone",value:function(){return new e(this.minimum,this.maximum,this.center)}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.minimum.equals(e.minimum)&&this.maximum.equals(e.maximum)}},{key:"transform",value:function(e){return this.center.transformAsPoint(e),this.halfDiagonal.transform(e),this.minimum.transform(e),this.maximum.transform(e),this}},{key:"intersectPlane",value:function(e){var t=this.halfDiagonal,n=jV.from(e.normal),r=t.x*Math.abs(n.x)+t.y*Math.abs(n.y)+t.z*Math.abs(n.z),i=this.center.dot(n)+e.distance;return i-r>0?IV:i+r<0?RV:LV}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}},{key:"distanceSquaredTo",value:function(e){var t,n=DV.from(e).subtract(this.center),r=this.halfDiagonal,i=0;return(t=Math.abs(n.x)-r.x)>0&&(i+=t*t),(t=Math.abs(n.y)-r.y)>0&&(i+=t*t),(t=Math.abs(n.z)-r.z)>0&&(i+=t*t),i}}]),e}(),BV=new VR,zV=new VR,ZV=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,Vt.Z)(this,e),(0,re.Z)(this,"center",void 0),(0,re.Z)(this,"radius",void 0),this.radius=-0,this.center=new VR,this.fromCenterRadius(t,n)}return(0,Ht.Z)(e,[{key:"fromCenterRadius",value:function(e,t){return this.center.from(e),this.radius=t,this}},{key:"fromCornerPoints",value:function(e,t){return t=BV.from(t),this.center=(new VR).from(e).add(t).scale(.5),this.radius=this.center.distance(t),this}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.radius===e.radius}},{key:"clone",value:function(){return new e(this.center,this.radius)}},{key:"union",value:function(e){var t=this.center,n=this.radius,r=e.center,i=e.radius,o=BV.copy(r).subtract(t),a=o.magnitude();if(n>=a+i)return this.clone();if(i>=a+n)return e.clone();var s=.5*(n+a+i);return zV.copy(o).scale((-n+s)/a).add(t),this.center.copy(zV),this.radius=s,this}},{key:"expand",value:function(e){var t=BV.from(e).subtract(this.center).magnitude();return t>this.radius&&(this.radius=t),this}},{key:"transform",value:function(e){this.center.transform(e);var t=iL(BV,e);return this.radius=Math.max(t[0],Math.max(t[1],t[2]))*this.radius,this}},{key:"distanceSquaredTo",value:function(e){var t=this.distanceTo(e);return t*t}},{key:"distanceTo",value:function(e){var t=BV.from(e).subtract(this.center);return Math.max(0,t.len()-this.radius)}},{key:"intersectPlane",value:function(e){var t=this.center,n=this.radius,r=e.normal.dot(t)+e.distance;return r<-n?RV:r<n?LV:IV}}]),e}();function FV(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=n[0],d=n[1],p=n[2],v=n[3],g=n[4],m=n[5],y=n[6],b=n[7],_=n[8];return e[0]=f*r+d*a+p*l,e[1]=f*i+d*s+p*c,e[2]=f*o+d*u+p*h,e[3]=v*r+g*a+m*l,e[4]=v*i+g*s+m*c,e[5]=v*o+g*u+m*h,e[6]=y*r+b*a+_*l,e[7]=y*i+b*s+_*c,e[8]=y*o+b*u+_*h,e}function UV(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}var KV;!function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL1ROW0=3]="COL1ROW0",e[e.COL1ROW1=4]="COL1ROW1",e[e.COL1ROW2=5]="COL1ROW2",e[e.COL2ROW0=6]="COL2ROW0",e[e.COL2ROW1=7]="COL2ROW1",e[e.COL2ROW2=8]="COL2ROW2"}(KV||(KV={}));var VV,HV,WV,GV=Object.freeze([1,0,0,0,1,0,0,0,1]),qV=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){for(var r,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return(0,Vt.Z)(this,n),r=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?r.copy(e):o.length>0?r.copy([e].concat(o)):r.identity(),r}return(0,Ht.Z)(n,[{key:"ELEMENTS",get:function(){return 9}},{key:"RANK",get:function(){return 3}},{key:"INDICES",get:function(){return KV}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}},{key:"identity",value:function(){return this.copy(GV)}},{key:"fromObject",value:function(e){return this.check()}},{key:"fromQuaternion",value:function(e){return function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,f=i*a,d=i*s,p=i*u,v=o*a,g=o*s,m=o*u;e[0]=1-h-p,e[3]=c-m,e[6]=f+g,e[1]=c+m,e[4]=1-l-p,e[7]=d-v,e[2]=f-g,e[5]=d+v,e[8]=1-l-h}(this,e),this.check()}},{key:"set",value:function(e,t,n,r,i,o,a,s,u){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this.check()}},{key:"setRowMajor",value:function(e,t,n,r,i,o,a,s,u){return this[0]=e,this[1]=r,this[2]=a,this[3]=t,this[4]=i,this[5]=s,this[6]=n,this[7]=o,this[8]=u,this.check()}},{key:"determinant",value:function(){return function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8];return t*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)}(this)}},{key:"transpose",value:function(){return function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8]}(this,this),this.check()}},{key:"invert",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=c*a-s*l,f=-c*o+s*u,d=l*o-a*u,p=n*h+r*f+i*d;p&&(p=1/p,e[0]=h*p,e[1]=(-c*r+i*l)*p,e[2]=(s*r-i*a)*p,e[3]=f*p,e[4]=(c*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-l*n+r*u)*p,e[8]=(a*n-r*o)*p)}(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return FV(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return FV(this,this,e),this.check()}},{key:"rotate",value:function(e){return function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=Math.sin(n),d=Math.cos(n);e[0]=d*r+f*a,e[1]=d*i+f*s,e[2]=d*o+f*u,e[3]=d*a-f*r,e[4]=d*s-f*i,e[5]=d*u-f*o,e[6]=l,e[7]=c,e[8]=h}(this,this,e),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?UV(this,this,e):UV(this,this,[e,e]),this.check()}},{key:"translate",value:function(e){return function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=n[0],d=n[1];e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=f*r+d*a+l,e[7]=f*i+d*s+c,e[8]=f*o+d*u+h}(this,this,e),this.check()}},{key:"transform",value:function(e,t){var n;switch(e.length){case 2:n=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}(t||[-0,-0],e,this);break;case 3:n=DR(t||[-0,-0,-0],e,this);break;case 4:n=FR(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return MR(n,e.length),n}},{key:"transformVector",value:function(e,t){return this.transform(e,t)}},{key:"transformVector2",value:function(e,t){return this.transform(e,t)}},{key:"transformVector3",value:function(e,t){return this.transform(e,t)}}],[{key:"IDENTITY",get:function(){return XV()}},{key:"ZERO",get:function(){return YV()}}]),n}($R);function YV(){return VV||(VV=new qV([0,0,0,0,0,0,0,0,0]),Object.freeze(VV)),VV}function XV(){return HV||(HV=new qV,Object.freeze(HV)),HV}var $V=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return(0,Vt.Z)(this,n),e=t.call(this,-0,-0,-0,-0),yR(r)&&1===arguments.length?e.copy(r):(gR.debug&&(xR(r),xR(i),xR(o),xR(a)),e[0]=r,e[1]=i,e[2]=o,e[3]=a),e}return(0,Ht.Z)(n,[{key:"set",value:function(e,t,n,r){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"fromObject",value:function(e){return gR.debug&&(xR(e.x),xR(e.y),xR(e.z),xR(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}},{key:"ELEMENTS",get:function(){return 4}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=xR(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=xR(e)}},{key:"transform",value:function(e){return IR(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return FR(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return function(e,t,n){var r=t[0],i=t[1];e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e[2]=t[2],e[3]=t[3]}(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return jR(this,this,e),this.check()}},{key:"applyMatrix4",value:function(e){return e.transform(this,this),this}}],[{key:"ZERO",get:function(){return WV||(WV=new n(0,0,0,0),Object.freeze(WV)),WV}}]),n}(AR);function JV(){var e=new PR(4);return PR!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function QV(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function eH(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+a*s+i*l-o*u,e[1]=i*c+a*u+o*s-r*l,e[2]=o*c+a*l+r*u-i*s,e[3]=a*c-r*s-i*u-o*l,e}function tH(e,t,n,r){var i,o,a,s,u,l=t[0],c=t[1],h=t[2],f=t[3],d=n[0],p=n[1],v=n[2],g=n[3];return(o=l*d+c*p+h*v+f*g)<0&&(o=-o,d=-d,p=-p,v=-v,g=-g),1-o>TR?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),e[0]=s*l+u*d,e[1]=s*c+u*p,e[2]=s*h+u*v,e[3]=s*f+u*g,e}function nH(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e}var rH=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},iH=cL,oH=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},aH=function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e},sH=hL,uH=fL,lH=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e},cH=function(){var e=OR(),t=CR(1,0,0),n=CR(0,1,0);return function(r,i,o){var a=RR(i,o);return a<-.999999?(LR(e,t,i),BR(e)<1e-6&&LR(e,n,i),function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o}(e,e),QV(r,e,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(LR(e,i,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+a,lH(r,r))}}(),hH=(function(){var e=JV(),t=JV()}(),function(){var e=function(){var e=new PR(9);return PR!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}()}(),[0,0,0,1]),fH=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,Vt.Z)(this,n),e=t.call(this,-0,-0,-0,-0),Array.isArray(r)&&1===arguments.length?e.copy(r):e.set(r,i,o,a),e}return(0,Ht.Z)(n,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"set",value:function(e,t,n,r){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this.check()}},{key:"fromObject",value:function(e){return this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this.check()}},{key:"fromMatrix3",value:function(e){return nH(this,e),this.check()}},{key:"fromAxisRotation",value:function(e,t){return QV(this,e,t),this.check()}},{key:"identity",value:function(){var e;return(e=this)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.check()}},{key:"setAxisAngle",value:function(e,t){return this.fromAxisRotation(e,t)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=xR(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=xR(e)}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=xR(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=xR(e)}},{key:"len",value:function(){return sH(this)}},{key:"lengthSquared",value:function(){return uH(this)}},{key:"dot",value:function(e){return oH(this,e)}},{key:"rotationTo",value:function(e,t){return cH(this,e,t),this.check()}},{key:"add",value:function(e){return rH(this,this,e),this.check()}},{key:"calculateW",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2];e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i))}(this,this),this.check()}},{key:"conjugate",value:function(){var e,t;return t=this,(e=this)[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],this.check()}},{key:"invert",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s}(this,this),this.check()}},{key:"lerp",value:function(e,t,n){return void 0===n?this.lerp(this,e,t):(aH(this,e,t,n),this.check())}},{key:"multiplyRight",value:function(e){return eH(this,this,e),this.check()}},{key:"multiplyLeft",value:function(e){return eH(this,e,this),this.check()}},{key:"normalize",value:function(){var e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}},{key:"rotateX",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-r*s}(this,this,e),this.check()}},{key:"rotateY",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u-o*s,e[1]=i*u+a*s,e[2]=o*u+r*s,e[3]=a*u-i*s}(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u+i*s,e[1]=i*u-r*s,e[2]=o*u+a*s,e[3]=a*u-o*s}(this,this,e),this.check()}},{key:"scale",value:function(e){return iH(this,this,e),this.check()}},{key:"slerp",value:function(e,t,n){var r,i,o;switch(arguments.length){case 1:var a=e.start;r=void 0===a?hH:a,i=e.target,o=e.ratio;break;case 2:r=this,i=e,o=t;break;default:r=e,i=t,o=n}return tH(this,r,i,o),this.check()}},{key:"transformVector4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $V;return function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,h=l*i+u*r-a*o,f=l*o+a*i-s*r,d=-a*r-s*i-u*o;e[0]=c*l+d*-a+h*-u-f*-s,e[1]=h*l+d*-s+f*-a-c*-u,e[2]=f*l+d*-u+c*-s-h*-a,e[3]=t[3]}(t,e,this),MR(t,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(e,t){return this.setAxisAngle(e,t)}},{key:"premultiply",value:function(e){return this.multiplyLeft(e)}},{key:"multiply",value:function(e){return this.multiplyRight(e)}}]),n}(SR),dH=new VR,pH=new VR,vH=new VR,gH=new VR,mH=new VR,yH=new VR,bH=new VR,_H=0,wH=1,EH=2,SH=3,xH=4,MH=5,kH=6,AH=7,TH=8,PH=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0,0,0,0,0,0];(0,Vt.Z)(this,e),(0,re.Z)(this,"center",void 0),(0,re.Z)(this,"halfAxes",void 0),this.center=(new VR).from(t),this.halfAxes=new qV(n)}return(0,Ht.Z)(e,[{key:"halfSize",get:function(){var e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2);return[new VR(e).len(),new VR(t).len(),new VR(n).len()]}},{key:"quaternion",get:function(){var e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2),r=new VR(e).normalize(),i=new VR(t).normalize(),o=new VR(n).normalize();return(new fH).fromMatrix3(new qV([].concat((0,g.Z)(r),(0,g.Z)(i),(0,g.Z)(o))))}},{key:"fromCenterHalfSizeQuaternion",value:function(e,t,n){var r=new fH(n),i=(new qV).fromQuaternion(r);return i[0]=i[0]*t[0],i[1]=i[1]*t[0],i[2]=i[2]*t[0],i[3]=i[3]*t[1],i[4]=i[4]*t[1],i[5]=i[5]*t[1],i[6]=i[6]*t[2],i[7]=i[7]*t[2],i[8]=i[8]*t[2],this.center=(new VR).from(e),this.halfAxes=i,this}},{key:"clone",value:function(){return new e(this.center,this.halfAxes)}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.halfAxes.equals(e.halfAxes)}},{key:"getBoundingSphere",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ZV,t=this.halfAxes,n=t.getColumn(0,vH),r=t.getColumn(1,gH),i=t.getColumn(2,mH),o=dH.copy(n).add(r).add(i);return e.center.copy(this.center),e.radius=o.magnitude(),e}},{key:"intersectPlane",value:function(e){var t=this.center,n=e.normal,r=this.halfAxes,i=n.x,o=n.y,a=n.z,s=Math.abs(i*r[_H]+o*r[wH]+a*r[EH])+Math.abs(i*r[SH]+o*r[xH]+a*r[MH])+Math.abs(i*r[kH]+o*r[AH]+a*r[TH]),u=n.dot(t)+e.distance;return u<=-s?RV:u>=s?IV:LV}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}},{key:"distanceSquaredTo",value:function(e){var t=pH.from(e).subtract(this.center),n=this.halfAxes,r=n.getColumn(0,vH),i=n.getColumn(1,gH),o=n.getColumn(2,mH),a=r.magnitude(),s=i.magnitude(),u=o.magnitude();r.normalize(),i.normalize(),o.normalize();var l,c=0;return(l=Math.abs(t.dot(r))-a)>0&&(c+=l*l),(l=Math.abs(t.dot(i))-s)>0&&(c+=l*l),(l=Math.abs(t.dot(o))-u)>0&&(c+=l*l),c}},{key:"computePlaneDistances",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-0,-0],r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=this.center,a=this.halfAxes,s=a.getColumn(0,vH),u=a.getColumn(1,gH),l=a.getColumn(2,mH),c=yH.copy(s).add(u).add(l).add(o),h=bH.copy(c).subtract(e),f=t.dot(h);return r=Math.min(f,r),i=Math.max(f,i),c.copy(o).add(s).add(u).subtract(l),h.copy(c).subtract(e),f=t.dot(h),r=Math.min(f,r),i=Math.max(f,i),c.copy(o).add(s).subtract(u).add(l),h.copy(c).subtract(e),f=t.dot(h),r=Math.min(f,r),i=Math.max(f,i),c.copy(o).add(s).subtract(u).subtract(l),h.copy(c).subtract(e),f=t.dot(h),r=Math.min(f,r),i=Math.max(f,i),o.copy(c).subtract(s).add(u).add(l),h.copy(c).subtract(e),f=t.dot(h),r=Math.min(f,r),i=Math.max(f,i),o.copy(c).subtract(s).add(u).subtract(l),h.copy(c).subtract(e),f=t.dot(h),r=Math.min(f,r),i=Math.max(f,i),o.copy(c).subtract(s).subtract(u).add(l),h.copy(c).subtract(e),f=t.dot(h),r=Math.min(f,r),i=Math.max(f,i),o.copy(c).subtract(s).subtract(u).subtract(l),h.copy(c).subtract(e),f=t.dot(h),r=Math.min(f,r),i=Math.max(f,i),n[0]=r,n[1]=i,n}},{key:"transform",value:function(e){this.center.transformAsPoint(e);var t=this.halfAxes.getColumn(0,vH);t.transformAsPoint(e);var n=this.halfAxes.getColumn(1,gH);n.transformAsPoint(e);var r=this.halfAxes.getColumn(2,mH);return r.transformAsPoint(e),this.halfAxes=new qV([].concat((0,g.Z)(t),(0,g.Z)(n),(0,g.Z)(r))),this}},{key:"getTransform",value:function(){throw new Error("not implemented")}}]),e}(),OH=new VR,CH=new VR,RH=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,Vt.Z)(this,e),(0,re.Z)(this,"normal",void 0),(0,re.Z)(this,"distance",void 0),this.normal=new VR,this.distance=-0,this.fromNormalDistance(t,n)}return(0,Ht.Z)(e,[{key:"fromNormalDistance",value:function(e,t){return kR(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}},{key:"fromPointNormal",value:function(e,t){e=OH.from(e),this.normal.from(t).normalize();var n=-this.normal.dot(e);return this.distance=n,this}},{key:"fromCoefficients",value:function(e,t,n,r){return this.normal.set(e,t,n),kR(wR(this.normal.len(),1)),this.distance=r,this}},{key:"clone",value:function(){return new e(this.normal,this.distance)}},{key:"equals",value:function(e){return wR(this.distance,e.distance)&&wR(this.normal,e.normal)}},{key:"getPointDistance",value:function(e){return this.normal.dot(e)+this.distance}},{key:"transform",value:function(e){var t=CH.copy(this.normal).transformAsVector(e).normalize(),n=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(n,t)}},{key:"projectPointOntoPlane",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];e=OH.from(e);var n=this.getPointDistance(e),r=CH.copy(this.normal).scale(n);return e.subtract(r).to(t)}}]),e}(),LH=[new VR([1,0,0]),new VR([0,1,0]),new VR([0,0,1])],IH=new VR,DH=new VR,jH=(new RH(new VR(1,0,0),0),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,Vt.Z)(this,e),(0,re.Z)(this,"planes",void 0),this.planes=t}return(0,Ht.Z)(e,[{key:"fromBoundingSphere",value:function(e){this.planes.length=2*LH.length;for(var t=e.center,n=e.radius,r=0,i=0,o=LH;i<o.length;i++){var a=o[i],s=this.planes[r],u=this.planes[r+1];s||(s=this.planes[r]=new RH),u||(u=this.planes[r+1]=new RH);var l=IH.copy(a).scale(-n).add(t);a.dot(l);s.fromPointNormal(l,a);var c=IH.copy(a).scale(n).add(t),h=DH.copy(a).negate();h.dot(c);u.fromPointNormal(c,h),r+=2}return this}},{key:"computeVisibility",value:function(e){var t,n=IV,r=gx(this.planes);try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(e.intersectPlane(i)){case RV:return RV;case LV:n=LV}}}catch(YJ){r.e(YJ)}finally{r.f()}return n}},{key:"computeVisibilityWithPlaneMask",value:function(t,n){if(kR(Number.isFinite(n),"parentPlaneMask is required."),n===e.MASK_OUTSIDE||n===e.MASK_INSIDE)return n;for(var r=e.MASK_INSIDE,i=this.planes,o=0;o<this.planes.length;++o){var a=o<31?1<<o:0;if(!(o<31&&0===(n&a))){var s=i[o],u=t.intersectPlane(s);if(u===RV)return e.MASK_OUTSIDE;u===LV&&(r|=a)}}return r}}]),e}());(0,re.Z)(jH,"MASK_OUTSIDE",4294967295),(0,re.Z)(jH,"MASK_INSIDE",0),(0,re.Z)(jH,"MASK_INDETERMINATE",2147483647);new VR,new VR,new VR,new VR,new VR,new VR,new VR,new VR,new VR,new VR,new VR,new VR,new VR,new VR,new VR,new VR,new VR,Math.PI;var NH={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI},BH=new qV,zH=new qV,ZH=new qV,FH=new qV,UH=new qV;function KH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=NH.EPSILON20,r=0,i=0,o=zH,a=ZH;o.identity(),a.copy(e);for(var s=n*function(e){for(var t=0,n=0;n<9;++n){var r=e[n];t+=r*r}return Math.sqrt(t)}(a);i<10&&WH(a)>s;)GH(a,FH),UH.copy(FH).transpose(),a.multiplyRight(FH),a.multiplyLeft(UH),o.multiplyRight(FH),++r>2&&(++i,r=0);return t.unitary=o.toTarget(t.unitary),t.diagonal=a.toTarget(t.diagonal),t}var VH=[1,0,0],HH=[2,2,1];function WH(e){for(var t=0,n=0;n<3;++n){var r=e[BH.getElementIndex(HH[n],VH[n])];t+=2*r*r}return Math.sqrt(t)}function GH(e,t){for(var n=NH.EPSILON15,r=0,i=1,o=0;o<3;++o){var a=Math.abs(e[BH.getElementIndex(HH[o],VH[o])]);a>r&&(i=o,r=a)}var s=VH[i],u=HH[i],l=1,c=0;if(Math.abs(e[BH.getElementIndex(u,s)])>n){var h,f=(e[BH.getElementIndex(u,u)]-e[BH.getElementIndex(s,s)])/2/e[BH.getElementIndex(u,s)];c=(h=f<0?-1/(-f+Math.sqrt(1+f*f)):1/(f+Math.sqrt(1+f*f)))*(l=1/Math.sqrt(1+h*h))}return qV.IDENTITY.to(t),t[BH.getElementIndex(s,s)]=t[BH.getElementIndex(u,u)]=l,t[BH.getElementIndex(u,s)]=c,t[BH.getElementIndex(s,u)]=-c,t}var qH=new VR,YH=new VR,XH=new VR,$H=new VR,JH=new VR,QH=new qV,eW={diagonal:new qV,unitary:new qV};var tW=512,nW=3,rW=[[.5,.5],[0,0],[0,1],[1,0],[1,1]],iW=rW.concat([[0,.5],[.5,0],[1,.5],[.5,1]]),oW=iW.concat([[.25,.5],[.75,.5]]),aW=function(){function e(t,n,r){(0,Vt.Z)(this,e),(0,re.Z)(this,"x",void 0),(0,re.Z)(this,"y",void 0),(0,re.Z)(this,"z",void 0),(0,re.Z)(this,"childVisible",void 0),(0,re.Z)(this,"selected",void 0),(0,re.Z)(this,"_children",void 0),this.x=t,this.y=n,this.z=r}return(0,Ht.Z)(e,[{key:"children",get:function(){if(!this._children){var t=2*this.x,n=2*this.y,r=this.z+1;this._children=[new e(t,n,r),new e(t,n+1,r),new e(t+1,n,r),new e(t+1,n+1,r)]}return this._children}},{key:"update",value:function(e){var t=e.viewport,n=e.cullingVolume,r=e.elevationBounds,i=e.minZ,o=e.maxZ,a=e.bounds,s=e.offset,u=e.project,l=this.getBoundingVolume(r,s,u);if(a&&!this.insideBounds(a))return!1;if(n.computeVisibility(l)<0)return!1;if(!this.childVisible){var c=this.z;if(c<o&&c>=i){var h=l.distanceTo(t.cameraPosition)*t.scale/t.height;c+=Math.floor(Math.log2(h))}if(c>=o)return this.selected=!0,!0}this.selected=!1,this.childVisible=!0;var f,d=gx(this.children);try{for(d.s();!(f=d.n()).done;){f.value.update(e)}}catch(YJ){d.e(YJ)}finally{d.f()}return!0}},{key:"getSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.selected&&e.push(this),this._children){var t,n=gx(this._children);try{for(n.s();!(t=n.n()).done;){t.value.getSelected(e)}}catch(YJ){n.e(YJ)}finally{n.f()}}return e}},{key:"insideBounds",value:function(e){var t=v(e,4),n=t[0],r=t[1],i=t[2],o=t[3],a=Math.pow(2,this.z),s=tW/a;return this.x*s<i&&this.y*s<o&&(this.x+1)*s>n&&(this.y+1)*s>r}},{key:"getBoundingVolume",value:function(e,t,n){if(n){var r,i=[],o=gx(this.z<1?oW:this.z<2?iW:rW);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=gW(this.x+a[0],this.y+a[1],this.z);s[2]=e[0],i.push(n(s)),e[0]!==e[1]&&(s[2]=e[1],i.push(n(s)))}}catch(YJ){o.e(YJ)}finally{o.f()}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new PH;if(!e||0===e.length)return t.halfAxes=new qV([0,0,0,0,0,0,0,0,0]),t.center=new VR,t;var n,r=e.length,i=new VR(0,0,0),o=gx(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.add(a)}}catch(YJ){o.e(YJ)}finally{o.f()}var s=1/r;i.multiplyByScalar(s);var u,l=0,c=0,h=0,f=0,d=0,p=0,v=gx(e);try{for(v.s();!(u=v.n()).done;){var g=u.value,m=qH.copy(g).subtract(i);l+=m.x*m.x,c+=m.x*m.y,h+=m.x*m.z,f+=m.y*m.y,d+=m.y*m.z,p+=m.z*m.z}}catch(YJ){v.e(YJ)}finally{v.f()}l*=s,c*=s,h*=s,f*=s,d*=s,p*=s;var y=QH;y[0]=l,y[1]=c,y[2]=h,y[3]=c,y[4]=f,y[5]=d,y[6]=h,y[7]=d,y[8]=p;var b,_=KH(y,eW).unitary,w=t.halfAxes.copy(_),E=w.getColumn(0,XH),S=w.getColumn(1,$H),x=w.getColumn(2,JH),M=-Number.MAX_VALUE,k=-Number.MAX_VALUE,A=-Number.MAX_VALUE,T=Number.MAX_VALUE,P=Number.MAX_VALUE,O=Number.MAX_VALUE,C=gx(e);try{for(C.s();!(b=C.n()).done;){var R=b.value;qH.copy(R),M=Math.max(qH.dot(E),M),k=Math.max(qH.dot(S),k),A=Math.max(qH.dot(x),A),T=Math.min(qH.dot(E),T),P=Math.min(qH.dot(S),P),O=Math.min(qH.dot(x),O)}}catch(YJ){C.e(YJ)}finally{C.f()}E=E.multiplyByScalar(.5*(T+M)),S=S.multiplyByScalar(.5*(P+k)),x=x.multiplyByScalar(.5*(O+A)),t.center.copy(E).add(S).add(x);var L=YH.set(M-T,k-P,A-O).multiplyByScalar(.5),I=new qV([L[0],0,0,0,L[1],0,0,0,L[2]]);return t.halfAxes.multiplyRight(I),t}(i)}var u=Math.pow(2,this.z),l=tW/u,c=this.x*l+t*tW,h=tW-(this.y+1)*l;return new NV([c,h,e[0]],[c+l,h+l,e[1]])}}]),e}();var sW,uW=512,lW=[-1/0,-1/0,1/0,1/0],cW={type:"object",value:null,validate:function(e,t){return t.optional&&null===e||"string"===typeof e||Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))},equal:function(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}};function hW(e,t){var n=[t.transformAsPoint([e[0],e[1]]),t.transformAsPoint([e[2],e[1]]),t.transformAsPoint([e[0],e[3]]),t.transformAsPoint([e[2],e[3]])],r=[Math.min.apply(Math,(0,g.Z)(n.map((function(e){return e[0]})))),Math.min.apply(Math,(0,g.Z)(n.map((function(e){return e[1]})))),Math.max.apply(Math,(0,g.Z)(n.map((function(e){return e[0]})))),Math.max.apply(Math,(0,g.Z)(n.map((function(e){return e[1]}))))];return r}function fW(e,t){if(!e||!e.length)return null;var n,r=t.index,i=t.id;Array.isArray(e)&&(e=e[(n=i,Math.abs(n.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)|0}),0))%e.length)]);for(var o=e,a=0,s=Object.keys(r);a<s.length;a++){var u=s[a],l=new RegExp("{".concat(u,"}"),"g");o=o.replace(l,String(r[u]))}return Number.isInteger(r.y)&&Number.isInteger(r.z)&&(o=o.replace(/\{-y\}/g,String(Math.pow(2,r.z)-r.y-1))),o}function dW(e){var t=e.viewport,n=e.z,r=void 0===n?0:n,i=e.cullRect;return(t.subViewports||[t]).map((function(e){return pW(e,r,i)}))}function pW(e,t,n){if(!Array.isArray(t)){var r=n.x-e.x,i=n.y-e.y,o=n.width,a=n.height,s={targetZ:t},u=e.unproject([r,i],s),l=e.unproject([r+o,i],s),c=e.unproject([r,i+a],s),h=e.unproject([r+o,i+a],s);return[Math.min(u[0],l[0],c[0],h[0]),Math.min(u[1],l[1],c[1],h[1]),Math.max(u[0],l[0],c[0],h[0]),Math.max(u[1],l[1],c[1],h[1])]}var f=pW(e,t[0],n),d=pW(e,t[1],n);return[Math.min(f[0],d[0]),Math.min(f[1],d[1]),Math.max(f[2],d[2]),Math.max(f[3],d[3])]}function vW(e,t){return Math.pow(2,e)*uW/t}function gW(e,t,n){var r=vW(n,uW),i=e/r*360-180,o=Math.PI-2*Math.PI*t/r;return[i,180/Math.PI*Math.atan(.5*(Math.exp(o)-Math.exp(-o)))]}function mW(e,t,n,r){var i=vW(n,r);return[e/i*uW,t/i*uW]}function yW(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:uW;if(e.isGeospatial){var o=v(gW(t,n,r),2),a=o[0],s=o[1],u=v(gW(t+1,n+1,r),2);return{west:a,north:s,east:u[0],south:u[1]}}var l=v(mW(t,n,r,i),2),c=l[0],h=l[1],f=v(mW(t+1,n+1,r,i),2);return{left:c,top:h,right:f[0],bottom:f[1]}}function bW(e,t,n,r,i){for(var o=function(e,t,n){var r;if(t&&2===t.length){var i=v(t,2),o=i[0],a=i[1],s=e.getBounds({z:o}),u=e.getBounds({z:a});r=[Math.min(s[0],u[0]),Math.min(s[1],u[1]),Math.max(s[2],u[2]),Math.max(s[3],u[3])]}else r=e.getBounds();return e.isGeospatial?[Math.max(r[0],n[0]),Math.max(r[1],n[1]),Math.min(r[2],n[2]),Math.min(r[3],n[3])]:[Math.max(Math.min(r[0],n[2]),n[0]),Math.max(Math.min(r[1],n[3]),n[1]),Math.min(Math.max(r[2],n[0]),n[2]),Math.min(Math.max(r[3],n[1]),n[3])]}(e,null,r),a=function(e,t,n){if(n){var r=hW(e,n).map((function(e){return e*t/uW}));return r}return e.map((function(e){return e*t/uW}))}(o,vW(t,n),i),s=v(a,4),u=s[0],l=s[1],c=s[2],h=s[3],f=[],d=Math.floor(u);d<c;d++)for(var p=Math.floor(l);p<h;p++)f.push({x:d,y:p,z:t});return f}function _W(e){var t=e.viewport,n=e.maxZoom,r=e.minZoom,i=e.zRange,o=e.extent,a=e.tileSize,s=void 0===a?uW:a,u=e.modelMatrix,l=e.modelMatrixInverse,c=e.zoomOffset,h=void 0===c?0:c,f=t.isGeospatial?Math.round(t.zoom+Math.log2(uW/s))+h:Math.ceil(t.zoom)+h;if("number"===typeof r&&Number.isFinite(r)&&f<r){if(!o)return[];f=r}"number"===typeof n&&Number.isFinite(n)&&f>n&&(f=n);var d=o;return u&&l&&o&&!t.isGeospatial&&(d=hW(o,u)),t.isGeospatial?function(e,t,n,r){var i=e instanceof OV&&e.resolution?e.projectPosition:null,o=Object.values(e.getFrustumPlanes()).map((function(e){var t=e.normal,n=e.distance;return new RH(t.clone().negate(),n)})),a=new jH(o),s=e.distanceScales.unitsPerMeter[2],u=n&&n[0]*s||0,l=n&&n[1]*s||0,c=e instanceof Ej&&e.pitch<=60?t:0;if(r){var h=v(r,4),f=h[0],d=h[1],p=h[2],g=IL([f,h[3]]),m=IL([p,d]);r=[g[0],tW-g[1],m[0],tW-m[1]]}var y=new aW(0,0,0),b={viewport:e,project:i,cullingVolume:a,elevationBounds:[u,l],minZ:c,maxZ:t,bounds:r,offset:0};if(y.update(b),e instanceof Ej&&e.subViewports&&e.subViewports.length>1){for(b.offset=-1;y.update(b)&&!(--b.offset<-nW););for(b.offset=1;y.update(b)&&!(++b.offset>nW););}return y.getSelected()}(t,f,i,o):bW(t,f,s,d||lW,l)}function wW(e,t){if(e===t)return!0;if(Array.isArray(e)){var n=e.length;if(!t||t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return!1}var EW=2,SW="best-available",xW=(sW={},(0,re.Z)(sW,SW,(function(e){var t,n=gx(e);try{for(n.s();!(t=n.n()).done;){t.value.state=0}}catch(YJ){n.e(YJ)}finally{n.f()}var r,i=gx(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.isSelected&&!AW(o)&&TW(o)}}catch(YJ){i.e(YJ)}finally{i.f()}var a,s=gx(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;u.isVisible=Boolean(u.state&EW)}}catch(YJ){s.e(YJ)}finally{s.f()}})),(0,re.Z)(sW,"no-overlap",(function(e){var t,n=gx(e);try{for(n.s();!(t=n.n()).done;){t.value.state=0}}catch(YJ){n.e(YJ)}finally{n.f()}var r,i=gx(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.isSelected&&AW(o)}}catch(YJ){i.e(YJ)}finally{i.f()}var a,s=gx(Array.from(e).sort((function(e,t){return e.zoom-t.zoom})));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.isVisible=Boolean(u.state&EW),u.children&&(u.isVisible||1&u.state)){var l,c=gx(u.children);try{for(c.s();!(l=c.n()).done;){l.value.state=1}}catch(YJ){c.e(YJ)}finally{c.f()}}else u.isSelected&&TW(u)}}catch(YJ){s.e(YJ)}finally{s.f()}})),(0,re.Z)(sW,"never",(function(){})),sW),MW={extent:null,tileSize:512,maxZoom:null,minZoom:null,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:"best-available",zRange:null,maxRequests:6,zoomOffset:0,onTileLoad:function(){},onTileUnload:function(){},onTileError:function(){}},kW=function(){function e(t){var n=this;(0,Vt.Z)(this,e),(0,re.Z)(this,"opts",void 0),(0,re.Z)(this,"_requestScheduler",void 0),(0,re.Z)(this,"_cache",void 0),(0,re.Z)(this,"_dirty",void 0),(0,re.Z)(this,"_tiles",void 0),(0,re.Z)(this,"_cacheByteSize",void 0),(0,re.Z)(this,"_viewport",void 0),(0,re.Z)(this,"_zRange",void 0),(0,re.Z)(this,"_selectedTiles",void 0),(0,re.Z)(this,"_frameNumber",void 0),(0,re.Z)(this,"_modelMatrix",void 0),(0,re.Z)(this,"_modelMatrixInverse",void 0),(0,re.Z)(this,"_maxZoom",void 0),(0,re.Z)(this,"_minZoom",void 0),(0,re.Z)(this,"onTileLoad",void 0),(0,re.Z)(this,"_getCullBounds",function(e){var t,n={};return function(r){for(var i in r)if(!wW(r[i],n[i])){t=e(r),n=r;break}return t}}(dW)),this.opts=(0,V.Z)((0,V.Z)({},MW),t),this.onTileLoad=function(e){var t,r;null===(t=(r=n.opts).onTileLoad)||void 0===t||t.call(r,e),n.opts.maxCacheByteSize&&(n._cacheByteSize+=e.byteLength,n._resizeCache())},this._requestScheduler=new SV({maxRequests:t.maxRequests,throttleRequests:Boolean(t.maxRequests&&t.maxRequests>0)}),this._cache=new Map,this._tiles=[],this._dirty=!1,this._cacheByteSize=0,this._viewport=null,this._selectedTiles=null,this._frameNumber=0,this._modelMatrix=new bL,this._modelMatrixInverse=new bL,this.setOptions(t)}return(0,Ht.Z)(e,[{key:"tiles",get:function(){return this._tiles}},{key:"selectedTiles",get:function(){return this._selectedTiles}},{key:"isLoaded",get:function(){return null!==this._selectedTiles&&this._selectedTiles.every((function(e){return e.isLoaded}))}},{key:"needsReload",get:function(){return null!==this._selectedTiles&&this._selectedTiles.some((function(e){return e.needsReload}))}},{key:"setOptions",value:function(e){Object.assign(this.opts,e),Number.isFinite(e.maxZoom)&&(this._maxZoom=Math.floor(e.maxZoom)),Number.isFinite(e.minZoom)&&(this._minZoom=Math.ceil(e.minZoom))}},{key:"finalize",value:function(){var e,t=gx(this._cache.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.isLoading&&n.abort()}}catch(YJ){t.e(YJ)}finally{t.f()}this._cache.clear(),this._tiles=[],this._selectedTiles=null}},{key:"reloadAll",value:function(){var e,t=gx(this._cache.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=this._cache.get(n);this._selectedTiles&&this._selectedTiles.includes(r)?r.setNeedsReload():this._cache.delete(n)}}catch(YJ){t.e(YJ)}finally{t.f()}}},{key:"update",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.zRange,i=n.modelMatrix,o=new bL(i),a=!o.equals(this._modelMatrix);if(this._viewport&&e.equals(this._viewport)&&wR(this._zRange,r)&&!a)this.needsReload&&(this._selectedTiles=this._selectedTiles.map((function(e){return t._getTile(e.index,!0)})));else{a&&(this._modelMatrixInverse=o.clone().invert(),this._modelMatrix=o),this._viewport=e,this._zRange=r;var s=this.getTileIndices({viewport:e,maxZoom:this._maxZoom,minZoom:this._minZoom,zRange:r,modelMatrix:this._modelMatrix,modelMatrixInverse:this._modelMatrixInverse});this._selectedTiles=s.map((function(e){return t._getTile(e,!0)})),this._dirty&&this._rebuildTree()}var u=this.updateTileStates();return this._pruneRequests(),this._dirty&&this._resizeCache(),u&&this._frameNumber++,this._frameNumber}},{key:"isTileVisible",value:function(e,t){if(!e.isVisible)return!1;if(t&&this._viewport){var n,r=this._getCullBounds({viewport:this._viewport,z:this._zRange,cullRect:t}),i=e.bbox,o=gx(r);try{for(o.s();!(n=o.n()).done;){var a=v(n.value,4),s=a[0],u=a[1],l=a[2],c=a[3],h=void 0;if("west"in i)h=i.west<l&&i.east>s&&i.south<c&&i.north>u;else{var f=Math.min(i.top,i.bottom),d=Math.max(i.top,i.bottom);h=i.left<l&&i.right>s&&f<c&&d>u}if(h)return!0}}catch(YJ){o.e(YJ)}finally{o.f()}return!1}return!0}},{key:"getTileIndices",value:function(e){var t=e.viewport,n=e.maxZoom,r=e.minZoom,i=e.zRange,o=e.modelMatrix,a=e.modelMatrixInverse,s=this.opts;return _W({viewport:t,maxZoom:n,minZoom:r,zRange:i,tileSize:s.tileSize,extent:s.extent,modelMatrix:o,modelMatrixInverse:a,zoomOffset:s.zoomOffset})}},{key:"getTileId",value:function(e){return"".concat(e.x,"-").concat(e.y,"-").concat(e.z)}},{key:"getTileZoom",value:function(e){return e.z}},{key:"getTileMetadata",value:function(e){var t=this.opts.tileSize;return{bbox:yW(this._viewport,e.x,e.y,e.z,t)}}},{key:"getParentIndex",value:function(e){return{x:Math.floor(e.x/2),y:Math.floor(e.y/2),z:e.z-1}}},{key:"updateTileStates",value:function(){var e,t=this.opts.refinementStrategy||SW,n=new Array(this._cache.size),r=0,i=gx(this._cache.values());try{for(i.s();!(e=i.n()).done;){var o=e.value;n[r++]=o.isVisible,o.isSelected=!1,o.isVisible=!1}}catch(YJ){i.e(YJ)}finally{i.f()}var a,s=gx(this._selectedTiles);try{for(s.s();!(a=s.n()).done;){var u=a.value;u.isSelected=!0,u.isVisible=!0}}catch(YJ){s.e(YJ)}finally{s.f()}("function"===typeof t?t:xW[t])(Array.from(this._cache.values())),r=0;var l,c=gx(this._cache.values());try{for(c.s();!(l=c.n()).done;){var h=l.value;if(n[r++]!==h.isVisible)return!0}}catch(YJ){c.e(YJ)}finally{c.f()}return!1}},{key:"_pruneRequests",value:function(){var e,t=this.opts.maxRequests,n=void 0===t?0:t,r=[],i=0,o=gx(this._cache.values());try{for(o.s();!(e=o.n()).done;){var a=e.value;a.isLoading&&(i++,a.isSelected||a.isVisible||r.push(a))}}catch(YJ){o.e(YJ)}finally{o.f()}for(;n>0&&i>n&&r.length>0;){r.shift().abort(),i--}}},{key:"_rebuildTree",value:function(){var e,t=this._cache,n=gx(t.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;r.parent=null,r.children&&(r.children.length=0)}}catch(YJ){n.e(YJ)}finally{n.f()}var i,o=gx(t.values());try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this._getNearestAncestor(a);a.parent=s,null!==s&&void 0!==s&&s.children&&s.children.push(a)}}catch(YJ){o.e(YJ)}finally{o.f()}}},{key:"_resizeCache",value:function(){var e=this._cache,t=this.opts,n=t.maxCacheSize||(t.maxCacheByteSize?1/0:5*this.selectedTiles.length),r=t.maxCacheByteSize||1/0;if(e.size>n||this._cacheByteSize>r){var i,o=gx(e);try{for(o.s();!(i=o.n()).done;){var a,s,u=v(i.value,2),l=u[0],c=u[1];if(!c.isVisible&&!c.isSelected)this._cacheByteSize-=t.maxCacheByteSize?c.byteLength:0,e.delete(l),null===(a=(s=this.opts).onTileUnload)||void 0===a||a.call(s,c);if(e.size<=n&&this._cacheByteSize<=r)break}}catch(YJ){o.e(YJ)}finally{o.f()}this._rebuildTree(),this._dirty=!0}this._dirty&&(this._tiles=Array.from(this._cache.values()).sort((function(e,t){return e.zoom-t.zoom})),this._dirty=!1)}},{key:"_getTile",value:function(e,t){var n=this.getTileId(e),r=this._cache.get(n),i=!1;return!r&&t?(r=new xV(e),Object.assign(r,this.getTileMetadata(r.index)),Object.assign(r,{id:n,zoom:this.getTileZoom(r.index)}),i=!0,this._cache.set(n,r),this._dirty=!0):r&&r.needsReload&&(i=!0),r&&i&&r.loadData({getData:this.opts.getTileData,requestScheduler:this._requestScheduler,onLoad:this.onTileLoad,onError:this.opts.onTileError}),r}},{key:"_getNearestAncestor",value:function(e){for(var t=this._minZoom,n=void 0===t?0:t,r=e.index;this.getTileZoom(r)>n;){r=this.getParentIndex(r);var i=this._getTile(r);if(i)return i}return null}}]),e}();function AW(e){for(var t=e;t;){if(t.isLoaded||t.content)return t.state|=EW,!0;t=t.parent}return!1}function TW(e){var t,n=gx(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.isLoaded||r.content?r.state|=EW:TW(r)}}catch(YJ){n.e(YJ)}finally{n.f()}}var PW={TilesetClass:kW,data:{type:"data",value:[]},dataComparator:cW.equal,renderSubLayers:{type:"function",value:function(e){return new mV(e)}},getTileData:{type:"function",optional:!0,value:null},onViewportLoad:{type:"function",optional:!0,value:null},onTileLoad:{type:"function",value:function(e){}},onTileUnload:{type:"function",value:function(e){}},onTileError:{type:"function",value:function(e){return console.error(e)}},extent:{type:"array",optional:!0,value:null,compare:!0},tileSize:512,maxZoom:null,minZoom:0,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:SW,zRange:null,maxRequests:6,zoomOffset:0},OW=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"initializeState",value:function(){this.state={tileset:null,isLoaded:!1}}},{key:"finalizeState",value:function(){var e,t;null===(e=this.state)||void 0===e||null===(t=e.tileset)||void 0===t||t.finalize()}},{key:"isLoaded",get:function(){var e,t;return null===(e=this.state)||void 0===e||null===(t=e.tileset)||void 0===t?void 0:t.selectedTiles.every((function(e){return e.isLoaded&&e.layers&&e.layers.every((function(e){return e.isLoaded}))}))}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){var t=e.changeFlags,n=this.state.tileset,r=t.propsOrDataChanged||t.updateTriggersChanged,i=t.dataChanged||t.updateTriggersChanged&&(t.updateTriggersChanged.all||t.updateTriggersChanged.getTileData);n?r&&(n.setOptions(this._getTilesetOptions()),i?n.reloadAll():this.state.tileset.tiles.forEach((function(e){e.layers=null}))):(n=new this.props.TilesetClass(this._getTilesetOptions()),this.setState({tileset:n})),this._updateTileset()}},{key:"_getTilesetOptions",value:function(){var e=this.props,t=e.tileSize,n=e.maxCacheSize,r=e.maxCacheByteSize,i=e.refinementStrategy,o=e.extent;return{maxCacheSize:n,maxCacheByteSize:r,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:t,refinementStrategy:i,extent:o,maxRequests:e.maxRequests,zoomOffset:e.zoomOffset,getTileData:this.getTileData.bind(this),onTileLoad:this._onTileLoad.bind(this),onTileError:this._onTileError.bind(this),onTileUnload:this._onTileUnload.bind(this)}}},{key:"_updateTileset",value:function(){var e=this.state.tileset,t=this.props,n=t.zRange,r=t.modelMatrix,i=e.update(this.context.viewport,{zRange:n,modelMatrix:r}),o=e.isLoaded,a=this.state.isLoaded!==o,s=this.state.frameNumber!==i;o&&(a||s)&&this._onViewportLoad(),s&&this.setState({frameNumber:i}),this.state.isLoaded=o}},{key:"_onViewportLoad",value:function(){var e=this.state.tileset,t=this.props.onViewportLoad;t&&t(e.selectedTiles)}},{key:"_onTileLoad",value:function(e){this.props.onTileLoad(e),e.layers=null,this.setNeedsUpdate()}},{key:"_onTileError",value:function(e,t){this.props.onTileError(e),t.layers=null,this.setNeedsUpdate()}},{key:"_onTileUnload",value:function(e){this.props.onTileUnload(e)}},{key:"getTileData",value:function(e){var t=this.props,n=t.data,r=t.getTileData,i=t.fetch,o=e.signal;return e.url="string"===typeof n||Array.isArray(n)?fW(n,e):null,r?r(e):i&&e.url?i(e.url,{propName:"data",layer:this,signal:o}):null}},{key:"renderSubLayers",value:function(e){return this.props.renderSubLayers(e)}},{key:"getSubLayerPropsByTile",value:function(e){return null}},{key:"getPickingInfo",value:function(e){var t=e.info,n=e.sourceLayer.props.tile;return t.picked&&(t.tile=n),t.sourceTile=n,t}},{key:"_updateAutoHighlight",value:function(e){var t=e.sourceTile;if(t&&t.layers){var n,r=gx(t.layers);try{for(r.s();!(n=r.n()).done;){n.value.updateAutoHighlight(e)}}catch(YJ){r.e(YJ)}finally{r.f()}}}},{key:"renderLayers",value:function(){var e=this;return this.state.tileset.tiles.map((function(t){var n=e.getSubLayerPropsByTile(t);if(t.isLoaded||t.content)if(t.layers)n&&t.layers[0]&&Object.keys(n).some((function(e){return t.layers[0].props[e]!==n[e]}))&&(t.layers=t.layers.map((function(e){return e.clone(n)})));else{var r=e.renderSubLayers((0,V.Z)((0,V.Z)({},e.props),{},{id:"".concat(e.id,"-").concat(t.id),data:t.content,_offset:0,tile:t}));t.layers=kP(r,Boolean).map((function(e){return e.clone((0,V.Z)({tile:t},n))}))}else;return t.layers}))}},{key:"filterSubLayer",value:function(e){var t=e.layer,n=e.cullRect,r=t.props.tile;return this.state.tileset.isTileVisible(r,n)}}]),n}(RF);(0,re.Z)(OW,"defaultProps",PW),(0,re.Z)(OW,"layerName","TileLayer");var CW=new Uint16Array([0,2,1,0,3,2]),RW=new Float32Array([0,1,0,0,1,0,1,1]);function LW(e,t){if(!t)return function(e){for(var t=new Float64Array(12),n=0;n<e.length;n++)t[3*n+0]=e[n][0],t[3*n+1]=e[n][1],t[3*n+2]=e[n][2]||0;return{vertexCount:6,positions:t,indices:CW,texCoords:RW}}(e);for(var n=Math.max(Math.abs(e[0][0]-e[3][0]),Math.abs(e[1][0]-e[2][0])),r=Math.max(Math.abs(e[1][1]-e[0][1]),Math.abs(e[2][1]-e[3][1])),i=Math.ceil(n/t)+1,o=Math.ceil(r/t)+1,a=(i-1)*(o-1)*6,s=new Uint32Array(a),u=new Float32Array(i*o*2),l=new Float64Array(i*o*3),c=0,h=0,f=0;f<i;f++)for(var d=f/(i-1),p=0;p<o;p++){var v=p/(o-1),g=IW(e,d,v);l[3*c+0]=g[0],l[3*c+1]=g[1],l[3*c+2]=g[2]||0,u[2*c+0]=d,u[2*c+1]=1-v,f>0&&p>0&&(s[h++]=c-o,s[h++]=c-o-1,s[h++]=c-1,s[h++]=c-o,s[h++]=c-1,s[h++]=c),c++}return{vertexCount:a,positions:l,indices:s,texCoords:u}}function IW(e,t,n){return _R(_R(e[0],e[1],n),_R(e[3],e[2],n),t)}var DW="\n#define SHADER_NAME bitmap-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D bitmapTexture;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float desaturate;\nuniform vec4 transparentColor;\nuniform vec3 tintColor;\nuniform float opacity;\n\nuniform float coordinateConversion;\nuniform vec4 bounds;\n\n/* projection utils */\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / PI / 2.0;\n\n// from degrees to Web Mercator\nvec2 lnglat_to_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\n// from Web Mercator to degrees\nvec2 mercator_to_lnglat(vec2 xy) {\n  xy /= WORLD_SCALE;\n  return degrees(vec2(\n    xy.x - PI,\n    atan(exp(xy.y - PI)) * 2.0 - PI * 0.5\n  ));\n}\n/* End projection utils */\n\n// apply desaturation\nvec3 color_desaturate(vec3 color) {\n  float luminance = (color.r + color.g + color.b) * 0.333333333;\n  return mix(color, vec3(luminance), desaturate);\n}\n\n// apply tint\nvec3 color_tint(vec3 color) {\n  return color * tintColor;\n}\n\n// blend with background color\nvec4 apply_opacity(vec3 color, float alpha) {\n  if (transparentColor.a == 0.0) {\n    return vec4(color, alpha);\n  }\n  float blendedAlpha = alpha + transparentColor.a * (1.0 - alpha);\n  float highLightRatio = alpha / blendedAlpha;\n  vec3 blendedRGB = mix(transparentColor.rgb, color, highLightRatio);\n  return vec4(blendedRGB, blendedAlpha);\n}\n\nvec2 getUV(vec2 pos) {\n  return vec2(\n    (pos.x - bounds[0]) / (bounds[2] - bounds[0]),\n    (pos.y - bounds[3]) / (bounds[1] - bounds[3])\n  );\n}\n\n".concat("\nvec3 packUVsIntoRGB(vec2 uv) {\n  // Extract the top 8 bits. We want values to be truncated down so we can add a fraction\n  vec2 uv8bit = floor(uv * 256.);\n\n  // Calculate the normalized remainders of u and v parts that do not fit into 8 bits\n  // Scale and clamp to 0-1 range\n  vec2 uvFraction = fract(uv * 256.);\n  vec2 uvFraction4bit = floor(uvFraction * 16.);\n\n  // Remainder can be encoded in blue channel, encode as 4 bits for pixel coordinates\n  float fractions = uvFraction4bit.x + uvFraction4bit.y * 16.;\n\n  return vec3(uv8bit, fractions) / 255.;\n}\n","\n\nvoid main(void) {\n  vec2 uv = vTexCoord;\n  if (coordinateConversion < -0.5) {\n    vec2 lnglat = mercator_to_lnglat(vTexPos);\n    uv = getUV(lnglat);\n  } else if (coordinateConversion > 0.5) {\n    vec2 commonPos = lnglat_to_mercator(vTexPos);\n    uv = getUV(commonPos);\n  }\n  vec4 bitmapColor = texture2D(bitmapTexture, uv);\n\n  gl_FragColor = apply_opacity(color_tint(color_desaturate(bitmapColor.rgb)), bitmapColor.a * opacity);\n\n  geometry.uv = uv;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n\n  if (picking_uActive && !picking_uAttribute) {\n    // Since instance information is not used, we can use picking color for pixel index\n    gl_FragColor.rgb = packUVsIntoRGB(uv);\n  }\n}\n"),jW={image:{type:"image",value:null,async:!0},bounds:{type:"array",value:[1,0,0,1],compare:!0},_imageCoordinateSystem:qL.DEFAULT,desaturate:{type:"number",min:0,max:1,value:0},transparentColor:{type:"color",value:[0,0,0,0]},tintColor:{type:"color",value:[255,255,255]},textureParameters:{type:"object",ignore:!0}},NW=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"state",void 0),e}return(0,Ht.Z)(n,[{key:"getShaders",value:function(){return KM((0,lx.Z)(n.prototype),"getShaders",this).call(this,{vs:"\n#define SHADER_NAME bitmap-layer-vertex-shader\n\nattribute vec2 texCoords;\nattribute vec3 positions;\nattribute vec3 positions64Low;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float coordinateConversion;\n\nconst vec3 pickingColor = vec3(1.0, 0.0, 0.0);\n\nvoid main(void) {\n  geometry.worldPosition = positions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = pickingColor;\n\n  gl_Position = project_position_to_clipspace(positions, positions64Low, vec3(0.0), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTexCoord = texCoords;\n\n  if (coordinateConversion < -0.5) {\n    vTexPos = geometry.position.xy + project_uCommonOrigin.xy;\n  } else if (coordinateConversion > 0.5) {\n    vTexPos = geometry.worldPosition.xy;\n  }\n\n  vec4 color = vec4(0.0);\n  DECKGL_FILTER_COLOR(color, geometry);\n}\n",fs:DW,modules:[DF,zF]})}},{key:"initializeState",value:function(){var e=this,t=this.getAttributeManager();t.remove(["instancePickingColors"]);var n=!0;t.add({indices:{size:1,isIndexed:!0,update:function(t){return t.value=e.state.mesh.indices},noAlloc:n},positions:{size:3,type:5130,fp64:this.use64bitPositions(),update:function(t){return t.value=e.state.mesh.positions},noAlloc:n},texCoords:{size:2,update:function(t){return t.value=e.state.mesh.texCoords},noAlloc:n}})}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags,i=this.getAttributeManager();if(r.extensionsChanged){var o,a=this.context.gl;null===(o=this.state.model)||void 0===o||o.delete(),this.state.model=this._getModel(a),i.invalidateAll()}if(t.bounds!==n.bounds){var s=this.state.mesh,u=this._createMesh();for(var l in this.state.model.setVertexCount(u.vertexCount),u)s&&s[l]!==u[l]&&i.invalidate(l);this.setState((0,V.Z)({mesh:u},this._getCoordinateUniforms()))}else t._imageCoordinateSystem!==n._imageCoordinateSystem&&this.setState(this._getCoordinateUniforms())}},{key:"getPickingInfo",value:function(e){var t=this.props.image,n=e.info;if(!n.color||!t)return n.bitmap=null,n;var r=t.width,i=t.height;n.index=0;var o=function(e){var t=v(e,3),n=t[0],r=t[1],i=t[2];return[(n+(15&i)/16)/256,(r+(240&i)/256)/256]}(n.color),a=[Math.floor(o[0]*r),Math.floor(o[1]*i)];return n.bitmap={size:{width:r,height:i},uv:o,pixel:a},n}},{key:"disablePickingIndex",value:function(){this.setState({disablePicking:!0})}},{key:"restorePickingColors",value:function(){this.setState({disablePicking:!1})}},{key:"_updateAutoHighlight",value:function(e){KM((0,lx.Z)(n.prototype),"_updateAutoHighlight",this).call(this,(0,V.Z)((0,V.Z)({},e),{},{color:this.encodePickingColor(0)}))}},{key:"_createMesh",value:function(){var e=this.props.bounds,t=e;return BW(e)&&(t=[[e[0],e[1]],[e[0],e[3]],[e[2],e[3]],[e[2],e[1]]]),LW(t,this.context.viewport.resolution)}},{key:"_getModel",value:function(e){return e?new aZ(e,(0,V.Z)((0,V.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new FF({drawMode:4,vertexCount:6}),isInstanced:!1})):null}},{key:"draw",value:function(e){var t=e.uniforms,n=e.moduleParameters,r=this.state,i=r.model,o=r.coordinateConversion,a=r.bounds,s=r.disablePicking,u=this.props,l=u.image,c=u.desaturate,h=u.transparentColor,f=u.tintColor;n.pickingActive&&s||l&&i&&i.setUniforms(t).setUniforms({bitmapTexture:l,desaturate:c,transparentColor:h.map((function(e){return e/255})),tintColor:f.slice(0,3).map((function(e){return e/255})),coordinateConversion:o,bounds:a}).draw()}},{key:"_getCoordinateUniforms",value:function(){var e=qL.LNGLAT,t=qL.CARTESIAN,n=qL.DEFAULT,r=this.props._imageCoordinateSystem;if(r!==n){var i=this.props.bounds;if(!BW(i))throw new Error("_imageCoordinateSystem only supports rectangular bounds");var o=this.context.viewport.resolution?e:t;if((r=r===e?e:t)===e&&o===t)return{coordinateConversion:-1,bounds:i};if(r===t&&o===e){var a=IL([i[0],i[1]]),s=IL([i[2],i[3]]);return{coordinateConversion:1,bounds:[a[0],a[1],s[0],s[1]]}}}return{coordinateConversion:0,bounds:[0,0,0,0]}}}]),n}(rF);function BW(e){return Number.isFinite(e[0])}(0,re.Z)(NW,"layerName","BitmapLayer"),(0,re.Z)(NW,"defaultProps",jW);var zW=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"opts",void 0),t&&(this.opts=t)}return(0,Ht.Z)(e,[{key:"equals",value:function(e){return this===e||this.constructor===e.constructor&&vj(this.opts,e.opts,1)}},{key:"getShaders",value:function(e){return null}},{key:"getSubLayerProps",value:function(e){var t=e.constructor.defaultProps,n={updateTriggers:{}};for(var r in t)if(r in this.props){var i=t[r],o=this.props[r];n[r]=o,i&&"accessor"===i.type&&(n.updateTriggers[r]=this.props.updateTriggers[r],"function"===typeof o&&(n[r]=this.getSubLayerAccessor(o)))}return n}},{key:"initializeState",value:function(e,t){}},{key:"updateState",value:function(e,t){}},{key:"onNeedsRedraw",value:function(e){}},{key:"getNeedsPickingBuffer",value:function(e){return!1}},{key:"draw",value:function(e,t){}},{key:"finalizeState",value:function(e,t){}}],[{key:"componentName",get:function(){return Object.prototype.hasOwnProperty.call(this,"extensionName")?this.extensionName:""}}]),e}();(0,re.Z)(zW,"defaultProps",{}),(0,re.Z)(zW,"extensionName","LayerExtension");var ZW={NONE:0,WRITE_HEIGHT_MAP:1,USE_HEIGHT_MAP:2,USE_COVER:3,USE_COVER_ONLY:4,SKIP:5},FW=Object.keys(ZW).map((function(e){return"const float TERRAIN_MODE_".concat(e," = ").concat(ZW[e],".0;")})).join("\n"),UW={name:"terrain",dependencies:[cj],inject:{"vs:#decl":"\nuniform float terrain_mode;\nuniform sampler2D terrain_map;\nuniform vec4 terrain_bounds;\nvarying vec3 commonPos;\n".concat(FW,"\n    "),"vs:#main-start":"\nif (terrain_mode == TERRAIN_MODE_SKIP) {\n  gl_Position = vec4(0.0);\n  return;\n}\n","vs:DECKGL_FILTER_GL_POSITION":"\ncommonPos = geometry.position.xyz;\nif (terrain_mode == TERRAIN_MODE_WRITE_HEIGHT_MAP) {\n  vec2 texCoords = (commonPos.xy - terrain_bounds.xy) / terrain_bounds.zw;\n  position = vec4(texCoords * 2.0 - 1.0, 0.0, 1.0);\n  commonPos.z += project_uCommonOrigin.z;\n}\nif (terrain_mode == TERRAIN_MODE_USE_HEIGHT_MAP) {\n  vec3 anchor = geometry.worldPosition;\n  anchor.z = 0.0;\n  vec3 anchorCommon = project_position(anchor);\n  vec2 texCoords = (anchorCommon.xy - terrain_bounds.xy) / terrain_bounds.zw;\n  if (texCoords.x >= 0.0 && texCoords.y >= 0.0 && texCoords.x <= 1.0 && texCoords.y <= 1.0) {\n    float terrainZ = texture2D(terrain_map, texCoords).r;\n    geometry.position.z += terrainZ;\n    position = project_common_position_to_clipspace(geometry.position);\n  }\n}\n    ","fs:#decl":"\nuniform float terrain_mode;\nuniform sampler2D terrain_map;\nuniform vec4 terrain_bounds;\nvarying vec3 commonPos;\n".concat(FW,"\n    "),"fs:#main-start":"\nif (terrain_mode == TERRAIN_MODE_WRITE_HEIGHT_MAP) {\n  gl_FragColor = vec4(commonPos.z, 0.0, 0.0, 1.0);\n  return;\n}\n    ","fs:DECKGL_FILTER_COLOR":"\nif ((terrain_mode == TERRAIN_MODE_USE_COVER) || (terrain_mode == TERRAIN_MODE_USE_COVER_ONLY)) {\n  vec2 texCoords = (commonPos.xy - terrain_bounds.xy) / terrain_bounds.zw;\n  vec4 pixel = texture2D(terrain_map, texCoords);\n  if (terrain_mode == TERRAIN_MODE_USE_COVER_ONLY) {\n    color = pixel;\n  } else {\n    // pixel is premultiplied\n    color = pixel + color * (1.0 - pixel.a);\n  }\n  return;\n}\n    "},getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("dummyHeightMap"in e){var n=e.drawToTerrainHeightMap,r=e.heightMap,i=e.heightMapBounds,o=e.dummyHeightMap,a=e.terrainCover,s=e.useTerrainHeightMap,u=e.terrainSkipRender,l=t.project_uCommonOrigin,c=u?ZW.SKIP:ZW.NONE,h=o,f=null;if(n)c=ZW.WRITE_HEIGHT_MAP,f=i;else if(s&&r)c=ZW.USE_HEIGHT_MAP,h=r,f=i;else if(a){var d=e.pickingActive;h=d?a.getPickingFramebuffer():a.getRenderFramebuffer(),d&&(c=ZW.SKIP),h?(c=c===ZW.SKIP?ZW.USE_COVER_ONLY:ZW.USE_COVER,f=a.bounds):h=o}return{terrain_mode:c,terrain_map:h,terrain_bounds:f?[f[0]-l[0],f[1]-l[1],f[2]-f[0],f[3]-f[1]]:[0,0,0,0]}}return null}};function KW(e,t){var n;return new jT(e,{id:t.id,attachments:(0,re.Z)({},36064,new tT(e,(0,V.Z)((0,V.Z)({},t.float&&{format:bk(e)?34836:6408,type:5126}),{},{mipmaps:!1,parameters:(n={},(0,re.Z)(n,10241,9729),(0,re.Z)(n,10240,9729),(0,re.Z)(n,10242,33071),(0,re.Z)(n,10243,33071),n)})))})}var VW=(new bL).lookAt({eye:[0,0,1]});function HW(e){var t=e.width,n=e.height,r=e.near,i=e.far,o=e.padding,a=-t/2,s=t/2,u=-n/2,l=n/2;if(o){var c=o.left,h=void 0===c?0:c,f=o.right,d=void 0===f?0:f,p=o.top,v=void 0===p?0:p,g=o.bottom,m=void 0===g?0:g,y=bR((h+t-d)/2,0,t)-t/2,b=bR((v+n-m)/2,0,n)-n/2;a-=y,s-=y,u+=b,l+=b}return(new bL).ortho({left:a,right:s,bottom:u,top:l,near:r,far:i})}var WW=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){(0,Vt.Z)(this,n);var r,i=e.width,o=e.height,a=e.near,s=void 0===a?.1:a,u=e.far,l=void 0===u?1e3:u,c=e.zoom,h=void 0===c?0:c,f=e.target,d=void 0===f?[0,0,0]:f,p=e.padding,v=void 0===p?null:p,g=e.flipY,m=void 0===g||g,y=Array.isArray(h)?h[0]:h,b=Array.isArray(h)?h[1]:h,_=Math.min(y,b),w=Math.pow(2,_);if(y!==b){var E=Math.pow(2,y),S=Math.pow(2,b);r={unitsPerMeter:[E/w,S/w,1],metersPerUnit:[w/E,w/S,1]}}return t.call(this,(0,V.Z)((0,V.Z)({},e),{},{longitude:void 0,position:d,viewMatrix:VW.clone().scale([w,w*(m?-1:1),w]),projectionMatrix:HW({width:i||1,height:o||1,padding:v,near:s,far:l}),zoom:_,distanceScales:r}))}return(0,Ht.Z)(n,[{key:"projectFlat",value:function(e){var t=v(e,2),n=t[0],r=t[1],i=this.distanceScales.unitsPerMeter;return[n*i[0],r*i[1]]}},{key:"unprojectFlat",value:function(e){var t=v(e,2),n=t[0],r=t[1],i=this.distanceScales.metersPerUnit;return[n*i[0],r*i[1]]}},{key:"panByPosition",value:function(e,t){var n=VL(t,this.pixelUnprojectionMatrix),r=sL([],this.projectFlat(e),uL([],n)),i=sL([],this.center,r);return{target:this.unprojectFlat(i)}}}]),n}(nI);function GW(e,t){var n,r=[1/0,1/0,-1/0,-1/0],i=gx(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.getBounds();if(a){var s=o.projectPosition(a[0],{viewport:t,autoOffset:!1}),u=o.projectPosition(a[1],{viewport:t,autoOffset:!1});r[0]=Math.min(r[0],s[0]),r[1]=Math.min(r[1],s[1]),r[2]=Math.max(r[2],u[0]),r[3]=Math.max(r[3],u[1])}}}catch(YJ){i.e(YJ)}finally{i.f()}return Number.isFinite(r[0])?r:null}function qW(e){var t=e.bounds,n=e.viewport,r=e.border,i=void 0===r?0:r,o=n.isGeospatial;if(t[2]<=t[0]||t[3]<=t[1])return null;var a=n.unprojectPosition([(t[0]+t[2])/2,(t[1]+t[3])/2,0]),s=e.width,u=e.height,l=e.zoom;if(void 0===l){s-=2*i,u-=2*i;var c=Math.min(s/(t[2]-t[0]),u/(t[3]-t[1]));l=Math.min(Math.log2(c),20)}else if(!s||!u){var h=Math.pow(2,l);s=Math.round(Math.abs(t[2]-t[0])*h),u=Math.round(Math.abs(t[3]-t[1])*h);var f=2048-2*i;if(s>f||u>f){var d=f/Math.max(s,u);s=Math.round(s*d),u=Math.round(u*d),l+=Math.log2(d)}}return o?new Ej({id:n.id,x:i,y:i,width:s,height:u,longitude:a[0],latitude:a[1],zoom:l,orthographic:!0}):new WW({id:n.id,x:i,y:i,width:s,height:u,target:a,zoom:l,flipY:!1})}function YW(e,t,n){if(!e)return[0,0,1,1];var r=function(e,t){var n;if(t&&2===t.length){var r=v(t,2),i=r[0],o=r[1],a=e.getBounds({z:i}),s=e.getBounds({z:o});n=[Math.min(a[0],s[0]),Math.min(a[1],s[1]),Math.max(a[2],s[2]),Math.max(a[3],s[3])]}else n=e.getBounds();var u=e.projectPosition(n.slice(0,2)),l=e.projectPosition(n.slice(2,4));return[u[0],u[1],l[0],l[1]]}(t,n),i=function(e){var t=e[2]-e[0],n=e[3]-e[1],r=(e[0]+e[2])/2,i=(e[1]+e[3])/2;return[r-t,i-n,r+t,i+n]}(r);return e[2]-e[0]<=i[2]-i[0]&&e[3]-e[1]<=i[3]-i[1]?e:[Math.max(e[0],i[0]),Math.max(e[1],i[1]),Math.min(e[2],i[2]),Math.min(e[3],i[3])]}var XW=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"isDirty",!0),(0,re.Z)(this,"targetLayer",void 0),(0,re.Z)(this,"renderViewport",null),(0,re.Z)(this,"bounds",null),(0,re.Z)(this,"fbo",void 0),(0,re.Z)(this,"pickingFbo",void 0),(0,re.Z)(this,"layers",[]),(0,re.Z)(this,"tile",void 0),(0,re.Z)(this,"targetBounds",null),(0,re.Z)(this,"targetBoundsCommon",null),this.targetLayer=t,this.tile=$W(t)}return(0,Ht.Z)(e,[{key:"id",get:function(){return this.targetLayer.id}},{key:"isActive",get:function(){return Boolean(this.targetLayer.getCurrentLayer())}},{key:"shouldUpdate",value:function(e){var t=e.targetLayer,n=e.viewport,r=e.layers,i=e.layerNeedsRedraw;t&&(this.targetLayer=t);var o=!!n&&this._updateViewport(n),a=!!r&&this._updateLayers(r);if(i){var s,u=gx(this.layers);try{for(u.s();!(s=u.n()).done;){if(i[s.value]){a=!0;break}}}catch(YJ){u.e(YJ)}finally{u.f()}}return a||o}},{key:"_updateLayers",value:function(e){var t=!1;if((e=this.tile?function(e,t){return t.filter((function(t){var n=$W(t);return!n||function(e,t){if(e&&t)return e[0][0]<t[1][0]&&t[0][0]<e[1][0]&&e[0][1]<t[1][1]&&t[0][1]<e[1][1];return!1}(e.boundingBox,n.boundingBox)}))}(this.tile,e):e).length!==this.layers.length)t=!0;else for(var n=0;n<e.length;n++){if(e[n].id!==this.layers[n]){t=!0;break}}return t&&(this.layers=e.map((function(e){return e.id}))),t}},{key:"_updateViewport",value:function(e){var t=this.targetLayer,n=!1;if(this.tile&&"boundingBox"in this.tile){if(!this.targetBounds){n=!0,this.targetBounds=this.tile.boundingBox;var r=e.projectPosition(this.targetBounds[0]),i=e.projectPosition(this.targetBounds[1]);this.targetBoundsCommon=[r[0],r[1],i[0],i[1]]}}else this.targetBounds!==t.getBounds()&&(n=!0,this.targetBounds=t.getBounds(),this.targetBoundsCommon=GW([t],e));if(!this.targetBoundsCommon)return!1;var o=Math.ceil(e.zoom+.5);if(this.tile)this.bounds=this.targetBoundsCommon;else{var a,s=null===(a=this.renderViewport)||void 0===a?void 0:a.zoom;n=n||o!==s;var u=YW(this.targetBoundsCommon,e),l=this.bounds;n=n||!l||u.some((function(e,t){return e!==l[t]})),this.bounds=u}return n&&(this.renderViewport=qW({bounds:this.bounds,zoom:o,viewport:e})),n}},{key:"getRenderFramebuffer",value:function(){return this.renderViewport&&0!==this.layers.length?(this.fbo||(this.fbo=KW(this.targetLayer.context.gl,{id:this.id})),this.fbo):null}},{key:"getPickingFramebuffer",value:function(){return!this.renderViewport||0===this.layers.length&&!this.targetLayer.props.pickable?null:(this.pickingFbo||(this.pickingFbo=KW(this.targetLayer.context.gl,{id:"".concat(this.id,"-picking")})),this.pickingFbo)}},{key:"filterLayers",value:function(e){var t=this;return e.filter((function(e){var n=e.id;return t.layers.includes(n)}))}},{key:"delete",value:function(){var e=this.fbo,t=this.pickingFbo;e&&(e.texture.delete(),e.delete()),t&&(t.texture.delete(),t.delete())}}]),e}();function $W(e){for(;e;){var t=e.props.tile;if(t)return t;e=e.parent}return null}var JW=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"getRenderableLayers",value:function(e,t){for(var n=t.layers,r=[],i=this._getDrawLayerParams(e,t,!0),o=0;o<n.length;o++){var a=n[o];!a.isComposite&&i[o].shouldDrawLayer&&r.push(a)}return r}},{key:"renderHeightMap",value:function(e,t){var n=this,r=e.getRenderFramebuffer(),i=e.renderViewport;r&&i&&(r.resize(i),oA(this.gl,{clearColor:[0,0,0,0],blend:!0,blendFunc:[1,1],blendEquation:32776,depthTest:!1},(function(){return n.render((0,V.Z)((0,V.Z)({},t),{},{target:r,pass:"terrain-height-map",layers:t.layers,viewports:[i],effects:[]}))})))}},{key:"renderTerrainCover",value:function(e,t){var n=this,r=e.getRenderFramebuffer(),i=e.renderViewport;if(r&&i){var o=e.filterLayers(t.layers);r.resize(i),oA(this.gl,{depthTest:!1},(function(){return n.render((0,V.Z)((0,V.Z)({},t),{},{target:r,pass:"terrain-cover-".concat(e.id),layers:o,effects:[],viewports:[i]}))}))}}}]),n}(tN),QW=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"drawParameters",{}),e}return(0,Ht.Z)(n,[{key:"getRenderableLayers",value:function(e,t){var n=t.layers,r=[];this.drawParameters={},this._resetColorEncoder(t.pickZ);for(var i=this._getDrawLayerParams(e,t),o=0;o<n.length;o++){var a=n[o];!a.isComposite&&i[o].shouldDrawLayer&&(r.push(a),this.drawParameters[a.id]=i[o].layerParameters)}return r}},{key:"renderTerrainCover",value:function(e,t){var n=this,r=e.getPickingFramebuffer(),i=e.renderViewport;if(r&&i){var o=e.filterLayers(t.layers),a=e.targetLayer;a.props.pickable&&o.unshift(a),r.resize(i),oA(this.gl,{depthTest:!1},(function(){return n.render((0,V.Z)((0,V.Z)({},t),{},{pickingFBO:r,pass:"terrain-cover-picking-".concat(e.id),layers:o,effects:[],viewports:[i],cullRect:void 0,deviceRect:i,pickZ:!1}))}))}}},{key:"getLayerParameters",value:function(e,t,r){if(this.drawParameters[e.id])return this.drawParameters[e.id];var i=KM((0,lx.Z)(n.prototype),"getLayerParameters",this).call(this,e,t,r);return i.blend=!0,i}}]),n}(mN),eG=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"renderViewport",null),(0,re.Z)(this,"bounds",null),(0,re.Z)(this,"fbo",void 0),(0,re.Z)(this,"gl",void 0),(0,re.Z)(this,"layers",[]),(0,re.Z)(this,"layersBounds",[]),(0,re.Z)(this,"layersBoundsCommon",null),(0,re.Z)(this,"lastViewport",null),this.gl=t}return(0,Ht.Z)(e,[{key:"getRenderFramebuffer",value:function(){return this.renderViewport?(this.fbo||(this.fbo=KW(this.gl,{id:"height-map",float:!0})),this.fbo):null}},{key:"shouldUpdate",value:function(e){var t=this,n=e.layers,r=e.viewport,i=n.length!==this.layers.length||n.some((function(e,n){return e!==t.layers[n]||e.props.transitions||e.getBounds()!==t.layersBounds[n]}));i&&(this.layers=n,this.layersBounds=n.map((function(e){return e.getBounds()})),this.layersBoundsCommon=GW(n,r));var o=!this.lastViewport||!r.equals(this.lastViewport);if(this.layersBoundsCommon){if(i||o){var a=YW(this.layersBoundsCommon,r);if(a[2]<=a[0]||a[3]<=a[1])return this.renderViewport=null,!1;this.bounds=a,this.lastViewport=r;var s=r.scale,u=(a[2]-a[0])*s,l=(a[3]-a[1])*s;return this.renderViewport=u>0||l>0?qW({bounds:[r.center[0]-1,r.center[1]-1,r.center[0]+1,r.center[1]+1],zoom:r.zoom,width:Math.min(u,2048),height:Math.min(l,2048),viewport:r}):null,!0}}else this.renderViewport=null;return!1}},{key:"delete",value:function(){this.fbo&&(this.fbo.color.delete(),this.fbo.delete())}}],[{key:"isSupported",value:function(e){return jT.isSupported(e,{colorBufferFloat:!0})}}]),e}(),tG=function(){function e(){(0,Vt.Z)(this,e),(0,re.Z)(this,"id","terrain-effect"),(0,re.Z)(this,"props",null),(0,re.Z)(this,"useInPicking",!0),(0,re.Z)(this,"isPicking",!1),(0,re.Z)(this,"isDrapingEnabled",!1),(0,re.Z)(this,"dummyHeightMap",void 0),(0,re.Z)(this,"heightMap",void 0),(0,re.Z)(this,"terrainPass",void 0),(0,re.Z)(this,"terrainPickingPass",void 0),(0,re.Z)(this,"terrainCovers",new Map)}return(0,Ht.Z)(e,[{key:"initialize",value:function(e){this.dummyHeightMap=new tT(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])}),this.terrainPass=new JW(e,{id:"terrain"}),this.terrainPickingPass=new QW(e,{id:"terrain-picking"}),eG.isSupported(e)?this.heightMap=new eG(e):EP.warn("Terrain offset mode is not supported by this browser")(),WD.getDefaultProgramManager(e).addDefaultModule(UW)}},{key:"preRender",value:function(e,t){if(!this.dummyHeightMap){this.initialize(e);var n,r=gx(t.layers);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.props.operation.includes("terrain")&&i.setChangeFlags({extensionsChanged:!0})}}catch(YJ){r.e(YJ)}finally{r.f()}}if(t.pickZ)this.isDrapingEnabled=!1;else{var o=t.viewports,a=t.isPicking,s=void 0!==a&&a;this.isPicking=s,this.isDrapingEnabled=!0;var u=o[0],l=(s?this.terrainPickingPass:this.terrainPass).getRenderableLayers(u,t),c=l.filter((function(e){return e.props.operation.includes("terrain")}));if(0!==c.length){if(!s)l.filter((function(e){return"offset"===e.state.terrainDrawMode})).length>0&&this._updateHeightMap(c,u,t);var h=l.filter((function(e){return"drape"===e.state.terrainDrawMode}));this._updateTerrainCovers(c,h,u,t)}}}},{key:"getModuleParameters",value:function(e){var t,n,r=e.state.terrainDrawMode;return{heightMap:null===(t=this.heightMap)||void 0===t?void 0:t.getRenderFramebuffer(),heightMapBounds:null===(n=this.heightMap)||void 0===n?void 0:n.bounds,dummyHeightMap:this.dummyHeightMap,terrainCover:this.isDrapingEnabled?this.terrainCovers.get(e.id):null,useTerrainHeightMap:"offset"===r,terrainSkipRender:"drape"===r||!e.props.operation.includes("draw")}}},{key:"cleanup",value:function(){this.dummyHeightMap&&(this.dummyHeightMap.delete(),this.dummyHeightMap=void 0),this.heightMap&&(this.heightMap.delete(),this.heightMap=void 0);var e,t=gx(this.terrainCovers.values());try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(YJ){t.e(YJ)}finally{t.f()}this.terrainCovers.clear()}},{key:"_updateHeightMap",value:function(e,t,n){this.heightMap&&(this.heightMap.shouldUpdate({layers:e,viewport:t})&&this.terrainPass.renderHeightMap(this.heightMap,(0,V.Z)((0,V.Z)({},n),{},{layers:e,moduleParameters:{heightMapBounds:this.heightMap.bounds,dummyHeightMap:this.dummyHeightMap,devicePixelRatio:1,drawToTerrainHeightMap:!0}})))}},{key:"_updateTerrainCovers",value:function(e,t,n,r){var i,o={},a=gx(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.state.terrainCoverNeedsRedraw&&(o[s.id]=!0,s.state.terrainCoverNeedsRedraw=!1)}}catch(YJ){a.e(YJ)}finally{a.f()}var u,l=gx(this.terrainCovers.values());try{for(l.s();!(u=l.n()).done;){var c=u.value;c.isDirty=c.isDirty||c.shouldUpdate({layerNeedsRedraw:o})}}catch(YJ){l.e(YJ)}finally{l.f()}var h,f=gx(e);try{for(f.s();!(h=f.n()).done;){var d=h.value;this._updateTerrainCover(d,t,n,r)}}catch(YJ){f.e(YJ)}finally{f.f()}this.isPicking||this._pruneTerrainCovers()}},{key:"_updateTerrainCover",value:function(e,t,n,r){var i=this.isPicking?this.terrainPickingPass:this.terrainPass,o=this.terrainCovers.get(e.id);o||(o=new XW(e),this.terrainCovers.set(e.id,o));try{var a=o.shouldUpdate({targetLayer:e,viewport:n,layers:t});(this.isPicking||o.isDirty||a)&&(i.renderTerrainCover(o,(0,V.Z)((0,V.Z)({},r),{},{layers:t,moduleParameters:{dummyHeightMap:this.dummyHeightMap,terrainSkipRender:!1,devicePixelRatio:1}})),o.isDirty=!1)}catch(YJ){e.raiseError(YJ,"Error rendering terrain cover ".concat(o.id))}}},{key:"_pruneTerrainCovers",value:function(){var e,t=[],n=gx(this.terrainCovers);try{for(n.s();!(e=n.n()).done;){var r=v(e.value,2),i=r[0];r[1].isActive||t.push(i)}}catch(YJ){n.e(YJ)}finally{n.f()}for(var o=0,a=t;o<a.length;o++){var s=a[o];this.terrainCovers.delete(s)}}}]),e}(),nG={terrainDrawMode:void 0},rG=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"getShaders",value:function(){return{modules:[UW]}}},{key:"initializeState",value:function(){var e;null===(e=this.context.deck)||void 0===e||e._addDefaultEffect(new tG)}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps;if(!this.state.terrainDrawMode||t.terrainDrawMode!==n.terrainDrawMode||t.extruded!==n.extruded){var r=t.terrainDrawMode;if(!r){var i,o=this.props.extruded,a=null===(i=this.getAttributeManager())||void 0===i?void 0:i.attributes;r=o||a&&"instancePositions"in a?"offset":"drape"}this.setState({terrainDrawMode:r})}}},{key:"onNeedsRedraw",value:function(){var e=this.state;"drape"===e.terrainDrawMode&&(e.terrainCoverNeedsRedraw=!0)}}]),n}(zW);function iG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iG(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aG(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(U1){return!1}}();return function(){var n,r=(0,lx.Z)(e);if(t){var i=(0,lx.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,CF.Z)(this,n)}}(0,re.Z)(rG,"defaultProps",nG),(0,re.Z)(rG,"extensionName","TerrainExtension");var sG=function(e){(0,sx.Z)(n,e);var t=aG(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"renderLayers",value:function(){return[this.renderTiledLayer()]}},{key:"getValidUrlTemplates",value:function(e){if(e.includes("{s}")){var t=[];return["a","b","c"].forEach((function(n){var r=e.replace("{s}",n);t.push(r)})),t}return e}},{key:"renderTiledLayer",value:function(){var e=this,t=this.props,n=t.options,r=t.opacity,i=t.key,o=n.url,a=n.urls,s=n.minNativeZoom,u=n.maxNativeZoom,l=n.tileSize,c=n.clampToTerrain,h=a?(0,ie.flatten)(a.map((function(t){return e.getValidUrlTemplates(t)}))):this.getValidUrlTemplates(o);return new OW(oG(oG({id:"".concat(i,"-tileLayer"),opacity:r||0===r?r:1,data:h,minZoom:s||In.defaultLevelsRange[0],maxZoom:u||In.defaultLevelsRange[1],tileSize:l||256,extensions:c?[new rG]:[]},null!==c&&void 0!==c&&c.terrainDrawMode?{terrainDrawMode:c.terrainDrawMode}:{}),{},{renderSubLayers:function(e){var t=e.tile.bbox,n=t.west,r=t.south,i=t.east,o=t.north;return new NW(e,{data:null,image:e.data,bounds:[n,r,i,o]})}}))}}]),n}(RF),uG=sG,lG=n(9234).default;var cG=function(e){var n=e.view,r=e.zoom,i=e.component,o=e.width,a=e.height,s=e.crs,u=e.boxRangeRange,l=e.features,c=e.omittedFeatureKeys,h=e.style,f=e.mapKey,d=e.layerKey,p=e.uniqueLayerKey,v=e.onClick,g=e.opacity,m=e.resources,y=e.type,b=e.zIndex,_=e.fidColumnName,w=e.hovered,E=e.hoverable,S=e.hoveredStyleDefinition,x=e.pointAsMarker,M=e.selectable,k=e.selected,A=(0,t.useRef)(lG()),T=(0,t.useRef)(bF()((function(e){var t,n;e&&(null===(t=A.current)||void 0===t||t.clear(),null===(n=A.current)||void 0===n||n.load(e))})));if(l&&function(){if(!u)return!0;var e=u[0],t=u[1];return e&&t?e<=n.boxRange&&t>=n.boxRange:e?e<=n.boxRange:t?t>=n.boxRange:void 0}()){T.current(l);var P=function(e,t,n,r,i){if(r&&"EPSG:3857"!==r)return{minLat:-90,maxLat:90,minLon:-180,maxLon:180};var o=e.boxRange,a=nr.view.getNearestZoomLevelBoxRange(t,n,e.boxRange);return o!==a&&(o=a),nr.view.getBoundingBoxFromViewForEpsg3857(e.center,o,t/n,i)}(n,o,a,s,In.averageLatitude),O={type:"Feature",bbox:[P.minLon,P.minLat,P.maxLon,P.maxLat]},C=A.current.search(O),R=C&&C.features||[];return l.length!==R.length&&(l=R),(0,t.createElement)(i,{view:n,zoom:r,width:o,height:a,crs:s,boxRangeRange:u,features:l,omittedFeatureKeys:c,style:h,mapKey:f,layerKey:d,uniqueLayerKey:p,onClick:v,opacity:g,resources:m,type:y,zIndex:b,fidColumnName:_,hoverable:E,hovered:w,hoveredStyleDefinition:S,pointAsMarker:x,selectable:M,selected:k})}return null};cG.propTypes={view:dn().object,zoom:dn().number,component:dn().oneOfType([dn().func,dn().object]),width:dn().number,height:dn().number,crs:dn().string,boxRangeRange:dn().array,features:dn().array,omittedFeatureKeys:dn().array,style:dn().object,mapKey:dn().string,layerKey:dn().string,uniqueLayerKey:dn().string,onClick:dn().func,opacity:dn().number,resources:dn().object,type:dn().string,zIndex:dn().number,fidColumnName:dn().string,hovered:dn().object,hoverable:dn().bool,hoveredStyleDefinition:dn().object,pointAsMarker:dn().bool,selectable:dn().bool,selected:dn().object};var hG=cG;var fG=(0,t.createContext)(null),dG=fG.Provider;function pG(){var e=(0,t.useContext)(fG);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function vG(e){function n(n,r){var i=e(n).current,o=i.instance,a=i.context;return(0,t.useImperativeHandle)(r,(function(){return o})),null==n.children?null:t.createElement(dG,{value:a},n.children)}return(0,t.forwardRef)(n)}function gG(e,n){return null==n?function(n,r){var i=(0,t.useRef)();return i.current||(i.current=e(n,r)),i}:function(r,i){var o=(0,t.useRef)();o.current||(o.current=e(r,i));var a=(0,t.useRef)(r),s=o.current.instance;return(0,t.useEffect)((function(){a.current!==r&&(n(s,r,a.current),a.current=r)}),[s,r,i]),o}}function mG(e,n){var r=(0,t.useRef)();(0,t.useEffect)((function(){return null!=n&&e.instance.on(n),r.current=n,function(){null!=r.current&&e.instance.off(r.current),r.current=null}}),[e,n])}function yG(e,t){var n,r=null!==(n=e.pane)&&void 0!==n?n:t.pane;return r?(0,V.Z)((0,V.Z)({},e),{},{pane:r}):e}function bG(e,n){(0,t.useEffect)((function(){var t;return(null!==(t=n.layerContainer)&&void 0!==t?t:n.map).addLayer(e.instance),function(){var t;null===(t=n.layerContainer)||void 0===t||t.removeLayer(e.instance),n.map.removeLayer(e.instance)}}),[n,e])}function _G(e){return function(n){var r=pG(),i=e(yG(n,r),r);return function(e,n){var r=(0,t.useRef)(n);(0,t.useEffect)((function(){n!==r.current&&null!=e.attributionControl&&(null!=r.current&&e.attributionControl.removeAttribution(r.current),null!=n&&e.attributionControl.addAttribution(n)),r.current=n}),[e,n])}(r.map,n.attribution),mG(i.current,n.eventHandlers),bG(i.current,r),i}}function wG(e){return function(n){var r=pG(),i=e(yG(n,r),r);return mG(i.current,n.eventHandlers),bG(i.current,r),function(e,n){var r=(0,t.useRef)();(0,t.useEffect)((function(){if(n.pathOptions!==r.current){var t,i=null!==(t=n.pathOptions)&&void 0!==t?t:{};e.instance.setStyle(i),r.current=i}}),[e,n])}(i.current,n),i}}function EG(e){var t={type:"Feature"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}})),t.properties=SG(e.properties),t.geometry=xG(e.geometry),t}function SG(e){var t={};return e?(Object.keys(e).forEach((function(n){var r=e[n];"object"===typeof r?null===r?t[n]=null:Array.isArray(r)?t[n]=r.map((function(e){return e})):t[n]=SG(r):t[n]=r})),t):t}function xG(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((function(e){return xG(e)})),t):(t.coordinates=MG(e.coordinates),t)}function MG(e){var t=e;return"object"!==typeof t[0]?t.slice():t.map((function(e){return MG(e)}))}var kG=function(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return EG(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}})),t.features=e.features.map((function(e){return EG(e)})),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return xG(e);default:throw new Error("unknown GeoJSON type")}};function AG(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}var TG=function(e,t,n){void 0===n&&(n={});var r=AG(e),i=AG(t),o=Jt(i[1]-r[1]),a=Jt(i[0]-r[0]),s=Jt(r[1]),u=Jt(i[1]),l=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(u);return $t(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),n.units)};var PG=function(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var n,r=1/0,i=0;return tn(t,(function(t,n){var o=TG(e,t);o<r&&(i=n,r=o)})),(n=kG(t.features[i])).properties.featureIndex=i,n.properties.distanceToPoint=r,n};function OG(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var a=t[i][0],s=t[i][1],u=t[o][0],l=t[o][1];if(e[1]*(a-u)+s*(u-e[0])+l*(e[0]-a)===0&&(a-e[0])*(u-e[0])<=0&&(s-e[1])*(l-e[1])<=0)return!n;s>e[1]!==l>e[1]&&e[0]<(u-a)*(e[1]-s)/(l-s)+a&&(r=!r)}return r}var CG=n(8559),RG=n.n(CG);CG.DomUtil.setTransform=CG.DomUtil.setTransform||function(e,t,n){var r=t||new CG.Point(0,0);e.style[CG.DomUtil.TRANSFORM]=(CG.Browser.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")};var LG=(CG.Layer?CG.Layer:CG.Class).extend({initialize:function(e){this._paneName=e.paneName,this._paneZindex=e.paneZindex,this._map=null,this._canvas=null,this._frame=null,this._delegate=null,CG.setOptions(this,e)},delegate:function(e){return this._delegate=e,this},needRedraw:function(){return this._frame||(this._frame=CG.Util.requestAnimFrame(this.drawLayer,this)),this},_onLayerDidResize:function(e){this._canvas.width=e.newSize.x,this._canvas.height=e.newSize.y},_onLayerDidMove:function(){var e,t=this._map.containerPointToLayerPoint([0,0]);t.x===(null===(e=this._topLeft)||void 0===e?void 0:e.x)&&t.y===this._topLeft.y||(this._topLeft=t,CG.DomUtil.setPosition(this._canvas,t),this.drawLayer())},_onLayerDidZoom:function(){var e;if("tiledVector"!==(null===(e=this.props)||void 0===e?void 0:e.type)){var t=this._map.containerPointToLayerPoint([0,0]);CG.DomUtil.setPosition(this._canvas,t),this.needRedraw()}},getEvents:function(){var e={resize:this._onLayerDidResize,moveend:this._onLayerDidMove,zoom:this._onLayerDidZoom};return this._map.options.zoomAnimation&&CG.Browser.any3d&&(e.zoomanim=this._animateZoom),e},onAdd:function(e){this._map=e,this._canvas=CG.DomUtil.create("canvas","leaflet-layer"),this.tiles={};var t=this._map.getSize();this._canvas.width=t.x,this._canvas.height=t.y;var n=this._map.options.zoomAnimation&&CG.Browser.any3d;CG.DomUtil.addClass(this._canvas,"leaflet-zoom-"+(n?"animated":"hide"));var r=this._map.containerPointToLayerPoint([0,0]);CG.DomUtil.setPosition(this._canvas,r);var i=this._map.getPane(this._paneName);i||((i=this._map.createPane(this._paneName)).style.zIndex=this._paneZindex),i.appendChild(this._canvas),e.on(this.getEvents(),this);var o=this._delegate||this;o.onLayerDidMount&&o.onLayerDidMount(),this.needRedraw()},onRemove:function(e){var t=this._delegate||this;t.onLayerWillUnmount&&t.onLayerWillUnmount(),this._frame&&CG.Util.cancelAnimFrame(this._frame);var n=e.getPane(this._paneName);n&&n.removeChild(this._canvas),e.off(this.getEvents(),this),this._canvas=null},addTo:function(e){return e.addLayer(this),this},LatLonToMercator:function(e){return{x:6378137*e.lng*Math.PI/180,y:6378137*Math.log(Math.tan((90+e.lat)*Math.PI/360))}},drawLayer:function(){if(this._map){var e=this._map.getSize(),t=this._map.getBounds(),n=this._map.getZoom(),r=this.LatLonToMercator(this._map.getCenter()),i=this.LatLonToMercator(this._map.containerPointToLatLng(this._map.getSize())),o=this._delegate||this;o.onDrawLayer&&o.onDrawLayer({layer:this,canvas:this._canvas,bounds:t,size:e,zoom:n,center:r,corner:i}),this._frame=null}},_setTransform:function(e,t,n){var r=t||new CG.Point(0,0);e.style[CG.DomUtil.TRANSFORM]=(CG.Browser.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=CG.Layer?this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),e.zoom,e.center).min:this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());CG.DomUtil.setTransform(this._canvas,n,t)}});var IG={setLineStyle:function(e,t){t.outlineColor&&t.outlineWidth&&(e.lineWidth=t.outlineWidth,e.strokeStyle=t.outlineColor,t.outlineOpacity&&(e.strokeStyle=zm()(t.outlineColor).alpha(t.outlineOpacity).hex()),e.lineJoin="round",e.lineCap="round",e.stroke())},setPolygonStyle:function(e,t){t.fill&&(e.fillStyle=t.fill,(t.fillOpacity||0===t.fillOpacity)&&(e.fillStyle=zm()(t.fill).alpha(t.fillOpacity).hex()),e.fill()),t.outlineColor&&t.outlineWidth&&(e.lineWidth=t.outlineWidth,e.strokeStyle=t.outlineColor,(t.outlineOpacity||0===t.outlineOpacity)&&(e.strokeStyle=zm()(t.outlineColor).alpha(t.outlineOpacity).hex()),e.lineJoin="round",e.stroke())},getSize:function(e,t){var n=t?e/t:e;return n>.5?n:.5}};var DG={draw:function(e,t,n,r){"square"===n.shape?function(e,t,n,r){var i=IG.getSize(n.size,r);e.beginPath(),e.rect(t.x-i/2,t.y-i/2,i,i),IG.setPolygonStyle(e,n),e.closePath()}(e,t,n,r):function(e,t,n,r){e.beginPath();var i=IG.getSize(n.size,r)/2;e.arc(Math.floor(t.x),Math.floor(t.y),i,0,2*Math.PI),IG.setPolygonStyle(e,n),e.closePath()}(e,t,n,r)}};function jG(e,t,n){e.beginPath(),t.forEach((function(t){var n=t[0],r=t.slice(1);e.moveTo(Math.floor(n.x),Math.floor(n.y)),r.forEach((function(t){e.lineTo(Math.floor(t.x),Math.floor(t.y))})),e.closePath()})),IG.setPolygonStyle(e,n)}var NG={drawPolygon:jG,drawMultiPolygon:function(e,t,n){t.map((function(t){return jG(e,t,n)}))}};var BG={drawLine:function(e,t,n){e.beginPath();var r=t[0],i=t.slice(1);e.moveTo(Math.floor(r.x),Math.floor(r.y)),i.forEach((function(t){e.lineTo(Math.floor(t.x),Math.floor(t.y))})),IG.setLineStyle(e,n)}};function zG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ZG=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zG(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({maxFeaturesAsReactElement:100,defaultLeafletPaneZindex:400,projDefinitions:{epsg5514:"+proj=krovak +lat_0=49.5 +lon_0=24.83333333333333 +alpha=30.28813972222222 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +towgs84=589,76,480,0,0,0,0 +units=m +no_defs"}},SF);var FG={getDefaultStyleObject:function(e,t){return $m.getStyleObject(e.properties,t||ZG.vectorFeatureStyle.defaultFull)},getSelectedStyleObject:function(e){return"default"===e?ZG.vectorFeatureStyle.selected:e}};function UG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UG(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var VG=LG.extend({onLayerDidMount:function(){this.customEvents={click:this.onLayerClick},this._map.on(this.customEvents,this)},onLayerWillUnmount:function(){this._map.off(this.customEvents,this)},boundsToQuery:function(e){return{lat:e.getSouthWest().lat,lng:e.getSouthWest().lng,width:e.getNorthEast().lat-e.getSouthWest().lat,height:e.getNorthEast().lng-e.getSouthWest().lng}},isPointInsideBounds:function(e,t,n){return e>=n.lat&&e<=n.lat+n.width&&t>=n.lng&&t<=n.lng+n.height},onLayerClick:function(e){var t=this;if(this.props.selectable){var n=[],r=[],i=e.containerPoint,o=this;if((0,ie.isArray)(this.features))if(this.features.forEach((function(e){var a=e.original.geometry.type;if("Point"===a){var s=e.defaultStyle.size/2,u=CG.latLngBounds(t._map.containerPointToLatLng(i.add(CG.point(s,s))),t._map.containerPointToLatLng(i.subtract(CG.point(s,s)))),l=t.boundsToQuery(u),c=e.original.geometry.coordinates,h=c[1],f=c[0];o.isPointInsideBounds(h,f,l)&&n.push(e.original)}else if("Polygon"===a||"MultiPolygon"===a){var d=t._map.containerPointToLatLng(CG.point(i.x,i.y)),p=function(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var r,i=AG(e),o="Feature"===(r=t).type?r.geometry:r,a=o.type,s=t.bbox,u=o.coordinates;if(s&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(i,s))return!1;"Polygon"===a&&(u=[u]);for(var l=!1,c=0;c<u.length&&!l;c++)if(OG(i,u[c][0],n.ignoreBoundary)){for(var h=!1,f=1;f<u[c].length&&!h;)OG(i,u[c][f],!n.ignoreBoundary)&&(h=!0),f++;h||(l=!0)}return l}(Xt([d.lng,d.lat]),e.original.geometry);p&&r.push(e)}})),n.length){var a=this._map.containerPointToLatLng(i),s=PG(Xt([a.lng,a.lat]),{type:"FeatureCollection",features:n});o.props.onClick(o.props.layerKey,[s.id||s.properties[o.props.fidColumnName]])}else r.length&&o.props.onClick(o.props.layerKey,[r[0].original.id||r[0].original.properties[o.props.fidColumnName]])}},setProps:function(e){this.props=e,this.features=this.prepareFeatures(e.features),this.needRedraw()},setPaneZindex:function(e,t){var n=this._map.getPane(e);n&&(n.style.zIndex=t)},prepareFeatures:function(e){var t=this.props,n=[],r=[],i=[];return(0,ie.forEach)(e,(function(e){var o=e&&e.geometry&&e.geometry.type,a=e.id||t.fidColumnName&&e.properties[t.fidColumnName],s=FG.getDefaultStyleObject(e,t.style),u={original:e,defaultStyle:s,fid:a};t.selected&&a&&(0,ie.forIn)(t.selected,(function(e){e.keys&&(0,ie.includes)(e.keys,a)&&(u.selected=!0,u.selectedStyle=KG(KG({},s),FG.getSelectedStyleObject(e.style)))})),"Point"===o?n.push(u):"Polygon"===o||"MultiPolygon"===o?r.push(u):"LineString"===o&&i.push(u)})),n.length?(0,ie.orderBy)(n,["defaultStyle.size","fid"],["desc","asc"]):r.length?t.selected?(0,ie.orderBy)(r,["selected"],["desc"]):r:i.length?t.selected?(0,ie.orderBy)(i,["selected"],["desc"]):i:null},onDrawLayer:function(e){var t=e.canvas.getContext("2d");t.clearRect(0,0,e.canvas.width,e.canvas.height),this.features&&t.drawImage(this.renderOffScreen(e),0,0)},renderOffScreen:function(e){var t=null,n=document.createElement("canvas");n.width=e.canvas.width,n.height=e.canvas.height;var r=n.getContext("2d");e.layer.props.pointAsMarker||(t=In.getPixelSizeInLevelsForLatitude(In.pixelSizeInLevels,0)[e.zoom]);for(var i=0;i<this.features.length;i++){var o,a=this.features[i];(null===(o=this.props.omittedFeatureKeys)||void 0===o?void 0:o.length)&&(0,ie.includes)(this.props.omittedFeatureKeys,a.fid)||this.drawFeature(r,e.layer,e.canvas,a,t)}return n},drawFeature:function(e,t,n,r,i){var o=this,a=r.original.geometry,s=a.type;if("Point"===s){var u=a.coordinates,l=t._map.latLngToContainerPoint([u[1],u[0]]);if(l.x>=0&&l.y>=0&&l.x<=n.width&&l.y<=n.height){var c=r.defaultStyle;r.selected&&(c=r.selectedStyle),DG.draw(e,l,c,i)}}else if("Polygon"===s||"MultiPolygon"===s){var h=null,f=r.defaultStyle;r.selected&&(f=r.selectedStyle),"Polygon"===s?(h=this.getPolygonCoordinates(a.coordinates,t),NG.drawPolygon(e,h,f)):(h=a.coordinates.map((function(e){return o.getPolygonCoordinates(e,t)})),NG.drawMultiPolygon(e,h,f))}else if("LineString"===s){var d,p=r.defaultStyle;r.selected&&(p=r.selectedStyle),d=this.getLineCoordinates(a.coordinates,t),BG.drawLine(e,d,p)}},getPolygonCoordinates:function(e,t){var n=this;return e.map((function(e){return n.getLineCoordinates(e,t)}))},getLineCoordinates:function(e,t){return e.map((function(e){return t._map.latLngToContainerPoint([e[1],e[0]])}))}}),HG=VG,WG=function(e,t,n){var r=(null===t||void 0===t?void 0:t.key)||n||t;return"".concat(e,"-").concat(r)};function GG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GG(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var YG=function(e,t){return vG(_G(gG(e,t)))}((function(e,t){var n=WG(e.mapKey,e.uniqueLayerKey),r=new HG({paneName:n,paneZindex:e.zIndex});return setTimeout((function(){r.setProps(e)}),10),{instance:r,context:qG(qG({},t),{},{overlayContainer:r})}}),(function(e,t,n){if(n.zIndex!==t.zIndex){var r=WG(t.mapKey,t.uniqueLayerKey);e.setPaneZindex(r,t.zIndex)}n.selected===t.selected&&n.features===t.features&&n.style===t.style&&n.omittedFeatureKeys===t.omittedFeatureKeys||setTimeout((function(){e.setProps(t)}),10)})),XG=YG,$G=n(9142);function JG(e){return e.split(" ").filter(Boolean)}function QG(e,t){JG(t).forEach((function(t){CG.DomUtil.addClass(e,t)}))}var eq=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function tq(e,t){e[t];return vn(e,[t].map($G.Z))}function nq(e,n){var r=v((0,t.useState)(e.name),1)[0],i=v((0,t.useState)(null),2),o=i[0],a=i[1];(0,t.useImperativeHandle)(n,(function(){return o}),[o]);var u=pG(),l=(0,t.useMemo)((function(){return(0,V.Z)((0,V.Z)({},u),{},{pane:r})}),[u]);return(0,t.useEffect)((function(){return a(function(e,t,n){var r;if(-1!==eq.indexOf(e))throw new Error("You must use a unique name for a pane that is not a default Leaflet pane: ".concat(e));if(null!=n.map.getPane(e))throw new Error("A pane with this name already exists: ".concat(e));var i=null!==(r=t.pane)&&void 0!==r?r:n.pane,o=i?n.map.getPane(i):void 0,a=n.map.createPane(e,o);return null!=t.className&&QG(a,t.className),null!=t.style&&Object.keys(t.style).forEach((function(e){a.style[e]=t.style[e]})),a}(r,e,u)),function(){var e,t=u.map.getPane(r);null===t||void 0===t||null===(e=t.remove)||void 0===e||e.call(t),null!=u.map._panes&&(u.map._panes=tq(u.map._panes,r),u.map._paneRenderers=tq(u.map._paneRenderers,r))}}),[]),null!=e.children&&null!=o?(0,s.createPortal)(t.createElement(dG,{value:l},e.children),o):null}var rq=(0,t.forwardRef)(nq);var iq=function(e,t){if(!(n=t=t||{})||n.constructor!==Object)throw new Error("options is invalid");var n,r=t.mutate;if(!e)throw new Error("geojson is required");return!1!==r&&void 0!==r||(e=kG(e)),en(e,(function(e){var t=e[0],n=e[1];e[0]=n,e[1]=t})),e},oq=["outlineColor","outlineWidth","outlineOpacity","fillOpacity","fill","size","volume"];function aq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aq(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uq(e,t){return cq(e,t)}function lq(e,t,n){return cq(e,sq(sq({},t),n))}function cq(e,t){t.outlineColor,t.outlineWidth,t.outlineOpacity,t.fillOpacity,t.fill,t.size,t.volume;var n=vn(t,oq);return n.color=t.outlineColor?t.outlineColor:null,n.weight=t.outlineWidth?t.outlineWidth:0,n.opacity=t.outlineOpacity||0===t.outlineOpacity?t.outlineOpacity:1,n.fillOpacity=t.fillOpacity||0===t.fillOpacity?t.fillOpacity:1,n.fillColor=t.fill,t.fill||(n.fillColor=null,n.fillOpacity=0),t.outlineColor&&t.outlineWidth||(n.color=null,n.opacity=0,n.weight=0),"Point"!==e.geometry.type&&"MultiPoint"!==e.geometry.type||(t.size?n.radius=t.size/2:t.volume&&(n.radius=Math.sqrt(t.volume/Math.PI))),n}bF()((function(e){var t=iq(e);return t&&t.geometry&&t.geometry.coordinates}));var hq=function(e,t,n,r,i,o){var a=FG.getDefaultStyleObject(e,t),s=uq(e,a),u=null;n&&(u=lq(e,a,"default"===n?ZG.vectorFeatureStyle.hovered:n));var l=null,c=null;if(r){i&&(l=lq(e,a,FG.getSelectedStyleObject(i))),o&&(c=lq(e,a,"default"===o?ZG.vectorFeatureStyle.selectedHovered:o))}return{default:s,hovered:u,selected:l,selectedHovered:c}},fq=(bF()(hq),function(e){return dq(e,null,e.radius)}),dq=function(e,t,n){var r={};if(e.radius&&(r.width=2*e.radius+"px",r.height=2*e.radius+"px"),e.fillColor)if(e.fillOpacity&&1!==e.fillOpacity){var i=$m.hexToRgb(e.fillColor);r.backgroundColor="rgba(".concat(i.r,",").concat(i.g,",").concat(i.b,",").concat(e.fillOpacity,")")}else r.backgroundColor=e.fillColor;if(e.color)if(e.opacity&&1!==e.opacity){var o=$m.hexToRgb(e.color);r.borderColor="rgba(".concat(o.r,",").concat(o.g,",").concat(o.b,",").concat(e.opacity,")")}else r.borderColor=e.color;return e.weight?(r.borderStyle="solid",r.borderWidth=e.weight+"px"):r.borderWidth=0,n&&(r.borderRadius=n+"px"),t&&(r.transform="rotate("+t+"deg)"),r},pq=hq,vq=function(e,t){return uq(e,FG.getDefaultStyleObject(e,t))},gq=function(e){switch(e.shape){case"square":return dq(e);case"diamond":return dq(e,45);default:return fq(e)}},mq=function(e){var t={};if(e.radius){var n=2*e.radius+(e.weight||0);t.width=n+"px",t.height=n+"px"}return e.fillColor&&(t.fill=e.fillColor),(e.fillOpacity||0===e.fillOpacity)&&(t.fillOpacity=e.fillOpacity),e.color&&(t.stroke=e.color),e.opacity&&(t.strokeOpacity=e.opacity),e.weight?t.strokeWidth=e.weight+"px":t.strokeWidth=0,e.iconFill&&(t.iconFill=e.iconFill),t},yq=["data"],bq=function(e,t){return vG(wG(gG(e,t)))}((function(e,t){var n,r,i,o,a,s=e.data,u=vn(e,yq),l=new CG.GeoJSON(s,u);return n=l,o=t,a={overlayContainer:l},r=Object.freeze((0,V.Z)((0,V.Z)({},o),a)),Object.freeze({instance:n,context:r,container:i})}),(function(e,t,n){t.style!==n.style&&(null==t.style?e.resetStyle():e.setStyle(t.style))})),_q=["outlineWidth","className","style","children"];function wq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wq(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sq=function(e){var n=e.outlineWidth,r=e.className,i=e.style,o=e.children,a=vn(e,_q),s=32,u=0;return n&&(s+=n,u=n/2),(0,k_.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:s+"px",height:s+"px",viewBox:"0 0 ".concat(s," ").concat(s),xmlSpace:"preserve",className:"ptr-map-shape ".concat(r||""),style:i,children:(0,t.createElement)(o,Eq(Eq({},a),{},{offset:u,outlineWidth:n,className:r,style:i}))})};Sq.propTypes={children:dn().elementType,className:dn().string,outlineWidth:dn().number,style:dn().object};var xq=Sq,Mq=function(e){var t=e.offset;return(0,k_.jsxs)("g",{transform:"translate(".concat(t," ").concat(t,")"),children:[(0,k_.jsx)("path",{vectorEffect:"non-scaling-stroke",d:"M 1,1 31,31"}),(0,k_.jsx)("path",{vectorEffect:"non-scaling-stroke",d:"M 1,31 31,1"})]})};Mq.propTypes={offset:dn().number};var kq=function(e){return(0,t.createElement)(xq,e,Mq)},Aq=function(e){var t=e.offset,n=e.icon;return(0,k_.jsxs)("g",{transform:"translate(".concat(t," ").concat(t+t/4,")"),children:[(0,k_.jsx)("path",{vectorEffect:"non-scaling-stroke",d:"M 27,10.999999 C 26.999936,4.924849 22.075087,0 16,0 9.9249129,0 5.0000636,4.924849 5,10.999999 4.9998451,13.460703 6.2398215,15.834434 8.6666665,18.857143 11.093512,21.879851 13.424935,25.819509 16,32 18.614084,25.725879 20.878951,21.8993 23.333333,18.857143 25.787715,15.814985 26.999857,13.488539 27,10.999999 Z"}),n?(0,k_.jsx)("g",{transform:"translate(9 3.5) scale(0.4375 0.4375)",children:n}):null]})};Aq.propTypes={icon:dn().node,offset:dn().number};var Tq={cross:{anchorPoint:[.5,.5],component:kq},pin:{anchorPoint:[.5,1],component:function(e){return(0,t.createElement)(xq,e,Aq)}}},Pq=["iconFill"];function Oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oq(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rq(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(U1){return!1}}();return function(){var n,r=(0,lx.Z)(e);if(t){var i=(0,lx.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,CF.Z)(this,n)}}var Lq=function(e){(0,sx.Z)(r,e);var n=Rq(r);function r(e){var t;return(0,Vt.Z)(this,r),(t=n.call(this,e)).iconAnchor=e.iconAnchor,t.basicShape=e.basicShape,t.id=e.id,t.style=e.style,t.shape=e.shape,t.icon=e.icon,t.onMouseMove=e.onMouseMove,t.onMouseOver=e.onMouseOver,t.onMouseOut=e.onMouseOut,t.onClick=e.onClick,t}return(0,Ht.Z)(r,[{key:"createIcon",value:function(e){var t;e&&"DIV"===e.tagName?t=e:((t=document.createElement("div")).id=this.id,this.onMouseMove&&t.addEventListener("mousemove",this.onMouseMove),this.onMouseOver&&t.addEventListener("mouseover",this.onMouseOver),this.onMouseOut&&t.addEventListener("mouseout",this.onMouseOut),this.onClick&&t.addEventListener("click",this.onClick));var n=this.getShapeHtml();return n instanceof Element?t.appendChild(n):t.innerHTML=!1!==n?n:"",this._setIconStyles(t,"icon"),t}},{key:"getShapeHtml",value:function(){if(this.basicShape){var e=gq(this.style);return _n.renderToString((0,k_.jsx)("div",{style:e}))}var t,n=mq(this.style);return this.shape&&this.icon?t=this.getShapeWithIcon(n):this.shape?t=this.getShape(n):this.icon&&(t=this.getIcon(n)),_n.renderToString(t)}},{key:"getShape",value:function(e){var n=this.shape.componentProps?Cq(Cq({},this.shape.componentProps),{},{style:e}):{style:e};return(0,t.createElement)(this.shape.component,Cq(Cq({},n),{},{outlineWidth:this.style.weight}))}},{key:"getIcon",value:function(e){var n=Cq(Cq({},e),{},{fill:e.iconFill?e.iconFill:e.fill}),r=this.icon.componentProps?Cq(Cq({},this.icon.componentProps),{},{style:n}):{style:n};return(0,t.createElement)(this.icon.component,r)}},{key:"getShapeWithIcon",value:function(e){var n={strokeWidth:0},r=e.iconFill,i=vn(e,Pq);n.fill=r||i.stroke;var o=this.icon.componentProps?Cq(Cq({},this.icon.componentProps),{},{style:n}):{style:n},a=(0,t.createElement)(this.icon.component,o),s=this.shape.componentProps?Cq(Cq({},this.shape.componentProps),{},{style:i}):{style:i};return(0,t.createElement)(this.shape.component,Cq(Cq({},s),{},{icon:a,outlineWidth:this.style.weight}))}},{key:"setStyle",value:function(e,t,n){var r;t=t||this.id;var i=(n=n||this.basicShape)?gq(e):mq(e),o=document.getElementById(t),a=null===o||void 0===o||null===(r=o.children)||void 0===r?void 0:r[0];a&&(0,ie.forIn)(i,(function(e,t){a.style[t]=e}))}}]),r}(RG().DivIcon),Iq=Lq;function Dq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dq(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nq=function(e){var n=e.omittedFeatureKeys,r=e.features,i=e.styleDefinition,o=e.hoveredStyleDefinition,a=e.onFeatureClick,s=e.selectable,u=e.hoverable,l=e.pointAsMarker,c=e.paneName,h=e.icons,f=e.fidColumnName,d=(0,t.useRef)(bF()((function(e){if(e)return _c.uuid()}))),p=function(e,t){var n,r=null===t||void 0===t||null===(n=t.options)||void 0===n?void 0:n.icon;r?r.setStyle(e,r.id,r.isBasicShape):t.setStyle(e)},v=r.map((function(e){return jq(jq({},e.feature),e)})),g=d.current(v);return(0,k_.jsx)(bq,{data:v,style:function(e){var t=pq(e.feature,i,o,e.selected,e.selectedStyleDefinition,e.selectedHoveredStyleDefinition);return e.selected?t.selected:t.default},onEachFeature:function(e,t){var n=e.geometry.type,r="Polygon"===n||"MultiPolygon"===n,l="Line"===n||"LineString"===n,c=pq(e.feature,i,o,e.selected,e.selectedStyleDefinition,e.selectedHoveredStyleDefinition);t.on({click:function(){a&&s&&e.fid&&a(e.fid)},mouseover:function(e){s||u||(e.originalEvent.target.className.baseVal="")},mousemove:function(n){u&&(e.selected&&c.selectedHovered?p(c.selectedHovered,n.target):p(c.hovered,n.target),(r||l)&&t.bringToFront())},mouseout:function(n){u&&(e.selected&&c.selected?p(c.selected,n.target):p(c.default,n.target),!l&&!r||e.selected||t.bringToBack())}})},pointToLayer:function(e,t){if(l){var n,r,f,d=e.defaultStyle;if((null!==(n=d)&&void 0!==n&&n.shape||null!==(r=d)&&void 0!==r&&r.icon)&&"circle"!==(null===(f=d)||void 0===f?void 0:f.shape)){if(e.selected)d=pq(e.feature,i,o,e.selected,e.selectedStyleDefinition,e.selectedHoveredStyleDefinition).selected;var p=function(e,t,n){var r,i,o,a,s,u=t.shape,l=t.icon,c=!0,h=0,f=.5,d=.5;return u&&(r=Tq[u]||null),l&&(i=(null===n||void 0===n||null===(o=n.icons)||void 0===o?void 0:o[l])||null),(r||i)&&(c=!1,null!==(a=r)&&void 0!==a&&a.anchorPoint?(f=r.anchorPoint[0],d=r.anchorPoint[1]):!r&&null!==(s=i)&&void 0!==s&&s.anchorPoint&&(f=i.anchorPoint[0],d=i.anchorPoint[1]),null!==t&&void 0!==t&&t.weight&&(h=null===t||void 0===t?void 0:t.weight)),new Iq({basicShape:c,id:e,style:t,iconAnchor:t.radius?[(2*t.radius+h)*f,(2*t.radius+h)*d]:null,icon:i,shape:r,onMouseMove:n.onMouseMove,onMouseOut:n.onMouseOut,onMouseOver:n.onMouseOver,onClick:n.onClick})}(e.uniqueFeatureKey?"".concat(e.uniqueFeatureKey,"_icon"):_c.uuid(),d,{icons:h,onClick:function(t){s&&a(e.fid,{x:t.x,y:t.y})}});return RG().marker(t,{pane:c,interactive:u||s,icon:p})}return RG().circleMarker(t,jq(jq({},e.defaultStyle),{},{pane:c}))}return RG().circle(t,e.defaultStyle)},filter:function(e){if(n){var t=e.id||e.properties[f];return!(t&&(0,ie.includes)(n,t))}return!0}},g)};Nq.propTypes={omittedFeatureKeys:dn().array,features:dn().array,styleDefinition:dn().object,hoveredStyleDefinition:dn().oneOfType([dn().string,dn().object]),onFeatureClick:dn().func,selectable:dn().bool,hoverable:dn().bool,pointAsMarker:dn().bool,paneName:dn().string,icons:dn().object,fidColumnName:dn().string};var Bq=Nq;function zq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zq(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fq=function(e){var n,r,i,o=e.opacity,a=e.layerKey,s=e.uniqueLayerKey,u=e.features,l=e.fidColumnName,c=e.omittedFeatureKeys,h=e.selectable,f=e.selected,d=e.hoverable,p=e.hovered,v=e.style,g=e.pointAsMarker,m=e.onClick,y=e.withSelectedFeaturesOnly,b=e.resources,_=(0,t.useRef)(_c.uuid()),w=(0,t.useRef)(_c.uuid()),E=(0,t.useRef)(_c.uuid()),S=function(e,t){m&&m(a,[e],t)},x=function(e){return function(e){return(0,k_.jsx)(Bq,{layerKey:a,uniqueLayerKey:s,paneName:_.current,features:e,onFeatureClick:S,omittedFeatureKeys:c,fidColumnName:l,pointAsMarker:g,selectable:h,hoverable:d,styleDefinition:v,hoveredStyleDefinition:p&&p.style,icons:null===b||void 0===b?void 0:b.icons})}(e)},M=function(e){if(e){var t=[],n=[],r=[],i=null,o=null;return(0,ie.forEach)(e,(function(e){var i=e&&e.geometry&&e.geometry.type;if(i){var o,a,u=e.id||l&&e.properties[l],c="".concat(s,"_").concat(u),h=null,d=null;f&&u&&(0,ie.forIn)(f,(function(e){e.keys&&(0,ie.includes)(e.keys,u)&&(h=e)})),"Point"!==i&&"MultiPoint"!==i||(d=vq(e,v));var p={feature:e,fid:u,uniqueFeatureKey:c,defaultStyle:d,selected:!!h,selectedStyleDefinition:null===(o=h)||void 0===o?void 0:o.style,selectedHoveredStyleDefinition:null===(a=h)||void 0===a?void 0:a.hoveredStyle};switch(i){case"Point":case"MultiPoint":t.push(p);break;case"Polygon":case"MultiPolygon":n.push(p);break;case"LineString":case"MultiLineString":r.push(p)}}})),t.length&&(i=(0,ie.orderBy)(t,["defaultStyle.radius","fid"],["desc","asc"])),n.length&&(o=f?(0,ie.orderBy)(n,["selected"],["asc"]):n),{polygons:o,points:i||t,lines:r}}return null}(u),k=o?{opacity:o}:null,A=bn()({"hoverable-pane":d,"selected-features-pane":y});return M?(0,k_.jsxs)(k_.Fragment,{children:[null!==(n=M.polygons)&&void 0!==n&&n.length?(0,k_.jsx)(rq,{className:A,style:Zq(Zq({},k),{},{zIndex:1}),name:E.current,children:x(M.polygons)}):null,null!==(r=M.lines)&&void 0!==r&&r.length?(0,k_.jsx)(rq,{className:A,style:Zq(Zq({},k),{},{zIndex:2}),name:w.current,children:x(M.lines)}):null,null!==(i=M.points)&&void 0!==i&&i.length?(0,k_.jsx)(rq,{className:A,style:Zq(Zq({},k),{},{zIndex:3}),name:_.current,children:x(M.points)}):null]}):null};Fq.propTypes={layerKey:dn().string,uniqueLayerKey:dn().string,features:dn().array,fidColumnName:dn().string,omittedFeatureKeys:dn().array,selectable:dn().bool,selected:dn().object,hoverable:dn().bool,hovered:dn().object,style:dn().object,pointAsMarker:dn().bool,onClick:dn().func,withSelectedFeaturesOnly:dn().bool,opacity:dn().number,resources:dn().object};var Uq=Fq;function Kq(e,t,n,r){var i=(0,ie.findIndex)(e,(function(e){return e.key===t})),o=0;if(i>=0){for(var a=[],s=new Set;o<i;){var u=e[o];(0,ie.forEach)(u.featureKeys,(function(e){s.add(e)})),o++}return(0,ie.forEach)(n,(function(e){var t=e.id||e.properties[r];t&&s.has(t)&&a.push(t)})),a.length?a:null}return null}function Vq(e,t){var n=e[0],r=t[0];return!n&&!r||!(!n||!r)&&(0,ie.isEqual)(n.sort(),r.sort())}var Hq=function(e){var n=e.tileKey,r=e.featureKeysGroupedByTileKey,i=e.renderingTechnique,o=e.level,a=e.tile,s=e.view,u=e.zoom,l=e.width,c=e.height,h=e.crs,f=e.boxRangeRange,d=e.features,p=e.style,v=e.mapKey,g=e.layerKey,m=e.onClick,y=e.opacity,b=e.resources,_=e.type,w=e.zIndex,E=e.fidColumnName,S=e.hovered,x=e.hoverable,M=e.hoveredStyleDefinition,k=e.pointAsMarker,A=e.selectable,T=e.selected,P=(0,t.useRef)(bF()(Kq)),O=(0,t.useRef)(bF()((function(e){return e}),Vq)),C=P.current(r,n,d,E);return"canvas"===i?(0,t.createElement)(XG,{features:d,fidColumnName:E,level:o,tile:a,key:n,uniqueLayerKey:n,omittedFeatureKeys:O.current(C)}):(0,t.createElement)(hG,{view:s,zoom:u,width:l,height:c,crs:h,boxRangeRange:f,features:d,style:p,mapKey:v,layerKey:g,onClick:m,opacity:y,resources:b,type:_,zIndex:w,fidColumnName:E,hovered:S,hoverable:x,hoveredStyleDefinition:M,pointAsMarker:k,selectable:A,selected:T,component:Uq,key:n,uniqueLayerKey:n,omittedFeatureKeys:O.current(C)})};Hq.propTypes={tileKey:dn().string,features:dn().array,fidColumnName:dn().string,level:dn().number,tile:dn().oneOfType([dn().array,dn().string]),featureKeysGroupedByTileKey:dn().array,renderingTechnique:dn().string,view:dn().object,zoom:dn().number,component:dn().oneOfType([dn().func,dn().object]),width:dn().number,height:dn().number,crs:dn().string,boxRangeRange:dn().array,omittedFeatureKeys:dn().array,style:dn().object,mapKey:dn().string,layerKey:dn().string,uniqueLayerKey:dn().string,onClick:dn().func,opacity:dn().number,resources:dn().object,type:dn().string,zIndex:dn().number,hovered:dn().object,hoverable:dn().bool,hoveredStyleDefinition:dn().object,pointAsMarker:dn().bool,selectable:dn().bool,selected:dn().object};var Wq=Hq;function Gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gq(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yq(e,t,n,r){var i=[],o=[],a={};return(0,ie.forEach)(t,(function(t){var s=function(e,t){return"".concat(e,"_").concat(t.level,"_").concat("string"===typeof t.tile?t.tile:JSON.stringify(t.tile))}(e,t),u=[];t.features&&(0,ie.forEach)(t.features,(function(e){var i=e.id||e.properties[n];r&&(0,ie.forIn)(r,(function(n,r){var o;n.keys&&(0,ie.includes)(n.keys,i)&&(null!==(o=a[r])&&void 0!==o&&o.features?(a[r].features[i]=e,a[r].featureKeys.push(i)):a[r]={features:(0,re.Z)({},i,e),featureKeys:[i],level:t.level})})),u.push(i)})),i.push(qq(qq({},t),{},{key:s})),o.push({key:s,featureKeys:u})})),(0,ie.isEmpty)(a)||(0,ie.forIn)(a,(function(t,n){var r="".concat(e,"_").concat(n,"_").concat(t.level);i.unshift({key:r,features:Object.values(t.features),level:t.level,withSelectedFeaturesOnly:!0}),o.unshift({key:r,featureKeys:(0,ie.uniq)(t.featureKeys)})})),{groupedFeatures:i,groupedFeatureKeys:o}}var Xq=function(e){var n,r=e.fidColumnName,i=e.tiles,o=e.layerKey,a=e.selected,s=e.uniqueLayerKey,u=e.renderingTechnique,l=e.view,c=e.zoom,h=e.width,f=e.height,d=e.crs,p=e.boxRangeRange,v=e.style,g=e.mapKey,m=e.onClick,y=e.opacity,b=e.resources,_=e.type,w=e.zIndex,E=e.hovered,S=e.hoverable,x=e.hoveredStyleDefinition,M=e.pointAsMarker,k=e.selectable,A=(0,t.useRef)(bF()(Yq)).current(s,i,r,a);return null!==(n=A.groupedFeatures)&&void 0!==n&&n.length?A.groupedFeatures.map((function(e){return(0,k_.jsx)(Wq,{tileKey:e.key,featureKeysGroupedByTileKey:A.groupedFeatureKeys,renderingTechnique:u,level:e.level,tile:e.tile,features:e.features,withSelectedFeaturesOnly:e.withSelectedFeaturesOnly,view:l,zoom:c,width:h,height:f,crs:d,boxRangeRange:p,style:v,mapKey:g,layerKey:o,uniqueLayerKey:s,onClick:m,opacity:y,resources:b,type:_,zIndex:w,fidColumnName:r,hovered:E,hoverable:S,hoveredStyleDefinition:x,pointAsMarker:M,selectable:k,selected:a},e.key)})):null};Xq.propTypes={fidColumnName:dn().string,tiles:dn().array,layerKey:dn().string,uniqueLayerKey:dn().string,selected:dn().object,view:dn().object,zoom:dn().number,width:dn().number,height:dn().number,crs:dn().string,boxRangeRange:dn().array,style:dn().object,mapKey:dn().string,onClick:dn().func,opacity:dn().number,resources:dn().object,type:dn().string,zIndex:dn().number,hovered:dn().object,hoverable:dn().bool,hoveredStyleDefinition:dn().object,pointAsMarker:dn().bool,selectable:dn().bool,renderingTechnique:dn().string};function $q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$q(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qq(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(U1){return!1}}();return function(){var n,r=(0,lx.Z)(e);if(t){var i=(0,lx.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,CF.Z)(this,n)}}var eY=function(e){(0,sx.Z)(n,e);var t=Qq(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"renderLayers",value:function(){var e,t,n,r,i,o=this.props,a=o.tileKey,s=Kq(o.featureKeysGroupedByTileKey,a,this.props.features,this.props.fidColumnName);return[new dY(this.getSubLayerProps(Jq({omittedFeatureKeys:s,options:Jq(Jq({},this.props.options),{},{features:this.props.features}),id:this.props.key,key:this.props.key,layerKey:this.props.layerKey||this.props.key,onClick:this.props.onVectorLayerClick,autoHighlight:this.props.hoverable,styleForDeck:this.props.styleForDeck,pointAsMarker:this.props.pointAsMarker,extensions:null!==(e=this.props)&&void 0!==e&&null!==(t=e.options)&&void 0!==t&&t.clampToTerrain?[new rG]:[]},null!==(n=this.props)&&void 0!==n&&null!==(r=n.options)&&void 0!==r&&null!==(i=r.clampToTerrain)&&void 0!==i&&i.terrainDrawMode?{terrainDrawMode:this.props.options.clampToTerrain.terrainDrawMode}:{})))]}}]),n}(RF);eY.propTypes={tileKey:dn().string,features:dn().array,fidColumnName:dn().string,level:dn().number,tile:dn().oneOfType([dn().array,dn().string]),featureKeysGroupedByTileKey:dn().array,view:dn().object,zoom:dn().number,width:dn().number,height:dn().number,crs:dn().string,boxRangeRange:dn().array,omittedFeatureKeys:dn().array,style:dn().object,mapKey:dn().string,layerKey:dn().string,uniqueLayerKey:dn().string,onClick:dn().func,opacity:dn().number,type:dn().string,zIndex:dn().number,hovered:dn().object,hoverable:dn().bool,hoveredStyleDefinition:dn().object,selectable:dn().bool,selected:dn().object};var tY=eY;function nY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nY(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iY(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(U1){return!1}}();return function(){var n,r=(0,lx.Z)(e);if(t){var i=(0,lx.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,CF.Z)(this,n)}}var oY=function(e){(0,sx.Z)(n,e);var t=iY(n);function n(e){var r;return(0,Vt.Z)(this,n),(r=t.call(this,e)).getTileLayer=r.getTileLayer.bind((0,UM.Z)(r)),r.getTilesLayers=r.getTilesLayers.bind((0,UM.Z)(r)),r}return(0,Ht.Z)(n,[{key:"getTileLayer",value:function(e,t){var n,r;return new tY(this.getSubLayerProps(rY(rY({features:e.features},this.props),{},{key:e.key,tileKey:e.key,featureKeysGroupedByTileKey:t.groupedFeatureKeys,fidColumnName:null===(n=this.props)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.fidColumnName})))}},{key:"getTilesLayers",value:function(){var e,t,n,r,i,o,a,s=this,u=null===(e=this.props)||void 0===e||null===(t=e.options)||void 0===t?void 0:t.tiles,l=null===(n=this.props)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.fidColumnName,c=null===(i=this.props)||void 0===i?void 0:i.selected,h=Yq(null===(o=this.props)||void 0===o?void 0:o.uniqueLayerKey,u,l,c);return null===h||void 0===h||null===(a=h.groupedFeatures)||void 0===a?void 0:a.map((function(e){return s.getTileLayer(e,h)}))}},{key:"renderLayers",value:function(){return[this.getTilesLayers()]}}]),n}(RF),aY=oY;function sY(e,t){return t.id||t.properties[e]}var uY={getKey:sY,getSelectedFeatureKeysOnClick:function(e,t,n,r){var i=sY(e,t);if(null!==r&&void 0!==r&&r.length){var o=r.indexOf(i);return n?-1!==o?mn.removeItemByIndex(r,o):[].concat((0,g.Z)(r),[i]):-1!==o?[]:[i]}return[i]}};function lY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lY(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hY(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(U1){return!1}}();return function(){var n,r=(0,lx.Z)(e);if(t){var i=(0,lx.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,CF.Z)(this,n)}}var fY=function(e){(0,sx.Z)(n,e);var t=hY(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"renderLayers",value:function(){var e=this.props,t=e.key,n=e.options,r=e.type,i=n.features,o=n.fidColumnName,a=n.selected,s=this.getSelectedFeatureKeys(a);if("tiledVector"===r||"tiled-vector"===r)return[this.renderTiledVectorLayer("".concat(t,"-tiledVectorLayer"))];if(s){var u=(0,ie.partition)(i,(function(e){return!!(0,ie.includes)(s,uY.getKey(o,e))}));return[this.renderVectorLayer("".concat(t,"-geoJsonLayer"),u[1]),this.renderVectorLayer("".concat(t,"-geoJsonLayer-selected"),u[0])]}return[this.renderVectorLayer("".concat(t,"-geoJsonLayer"),i)]}},{key:"updateState",value:function(e){var t=this;if(e.changeFlags.propsOrDataChanged){var n=this.props,r=n.options,i=n.styleForDeck,o=r.fidColumnName,a=r.features,s=r.selected;if(i&&a){var u={};a.forEach((function(e){var n=uY.getKey(o,e);u[n]=t.calculateDefaultStyle(i,n,e,s)})),this.setState({styleByFeatureKey:u})}}}},{key:"calculateDefaultStyle",value:function(e,t,n,r){var i,o=OF.getStyleForFeature(e,n);return r&&t&&(0,ie.forIn)(r,(function(e){if(e.keys&&(0,ie.includes)(e.keys,t)){var n=e.style;"default"===e.style&&(n=ZG.vectorFeatureStyle.selected),i=cY(cY({},o),OF.getDeckReadyStyleObject(n))}})),i||o}},{key:"getDefaultFeatureStyle",value:function(e,t){var n=uY.getKey(e,t);return this.state.styleByFeatureKey[n]||null}},{key:"getFeatureFill",value:function(e,t,n){var r=this.getDefaultFeatureStyle(t,n);return null!==r&&void 0!==r&&r.fill?OF.getRgbaColorArray(null===r||void 0===r?void 0:r.fill,null===r||void 0===r?void 0:r.fillOpacity):OF.getRgbaColorArray([255,255,255],0)}},{key:"getFeatureOutlineColor",value:function(e,t,n){var r=this.getDefaultFeatureStyle(t,n);return OF.getRgbaColorArray(null===r||void 0===r?void 0:r.outlineColor,null===r||void 0===r?void 0:r.outlineOpacity)}},{key:"getPointRadius",value:function(e,t,n){var r=this.getDefaultFeatureStyle(t,n);return(null===r||void 0===r?void 0:r.size)&&r.size/2}},{key:"getFeatureOutlineWidth",value:function(e,t,n){var r=this.getDefaultFeatureStyle(t,n);return null===r||void 0===r?void 0:r.outlineWidth}},{key:"getSelectedFeatureKeys",value:function(e,t){if((0,ie.isEmpty)(e))return null;var n=[];return(0,ie.forIn)(e,(function(e,r){var i;null===(i=e.keys)||void 0===i||!i.length||t&&t!==r||(n=[].concat((0,g.Z)(n),(0,g.Z)(e.keys)))})),n.length?n:null}},{key:"onClick",value:function(e,t){var n,r=this.props,i=r.options,o=r.onClick,a=r.layerKey,s=r.activeSelectionKey,u=t.srcEvent,l=e.x,c=e.y,h=e.object;null!==i&&void 0!==i&&i.selectable&&o&&o(a,uY.getSelectedFeatureKeysOnClick(null===i||void 0===i?void 0:i.fidColumnName,h,(u.ctrlKey||u.metaKey)&&!(null!==i&&void 0!==i&&null!==(n=i.selectedOptions)&&void 0!==n&&n.disableMultiClick),this.getSelectedFeatureKeys(null===i||void 0===i?void 0:i.selected,s)),{x:l,y:c})}},{key:"onHover",value:function(e){if(this.props.options.hoverable&&this.props.onHover){var t=e.layer,n=e.object,r=e.x,i=e.y,o=n&&uY.getKey(this.props.options.fidColumnName,n);this.props.onHover(t,o,n,r,i)}if(this.props.options.selectable&&this.props.onClick){var a,s,u,l=null===e||void 0===e?void 0:e.object,c=null===e||void 0===e||null===(a=e.layer)||void 0===a||null===(s=a.context)||void 0===s||null===(u=s.deck)||void 0===u?void 0:u.canvas;c.style.cursor=c&&l?"pointer":"inherit"}}},{key:"renderTiledVectorLayer",value:function(e){return new aY(cY({id:e,key:e},this.props))}},{key:"renderVectorLayer",value:function(e,t){var n=this,r=this.props,i=r.layerKey,o=r.options,a=r.styleForDeck,s=r.pointAsMarker,u=r.opacity,l=o.fidColumnName,c=o.selectable,h=o.hoverable,f=o.clampToTerrain,d=this.props.omittedFeatureKeys?t.filter((function(e){return!n.props.omittedFeatureKeys.includes(e.key)})):t;return new mV(cY({id:e,key:e,layerKey:i,fidColumnName:l,data:d,pickable:c||h,stroked:!0,filled:!0,extruded:!1,pointType:"circle",lineWidthUnits:"pixels",lineCapRounded:!0,lineJointRounded:!0,getFillColor:this.getFeatureFill.bind(this,a,l),getLineColor:this.getFeatureOutlineColor.bind(this,a,l),getPointRadius:this.getPointRadius.bind(this,a,l),pointRadiusUnits:s?"pixels":"meters",getLineWidth:this.getFeatureOutlineWidth.bind(this,a,l),updateTriggers:{getFillColor:[o,a],getLineColor:[o,a],getLineWidth:[o,a],getPointRadius:[o,a]},pointRadiusMinPixels:1,opacity:u,extensions:f?[new rG]:[]},null!==f&&void 0!==f&&f.terrainDrawMode?{terrainDrawMode:f.terrainDrawMode}:{}))}}]),n}(RF),dY=fY,pY=9729,vY=9987,gY=10240,mY=10241,yY=10242,bY=10243,_Y=33071,wY=n(2646),EY=n.n(wY);function SY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SY(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MY(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(U1){return!1}}();return function(){var n,r=(0,lx.Z)(e);if(t){var i=(0,lx.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,CF.Z)(this,n)}}var kY=function(e){(0,sx.Z)(n,e);var t=MY(n);function n(e){var r;return(0,Vt.Z)(this,n),(r=t.call(this,(0,ie.omit)(e,["onClick","onHover"]))).originProps=e,r}return(0,Ht.Z)(n,[{key:"onClick",value:function(e,t){"function"===typeof this.originProps.onClick&&this.originProps.onClick(this.props.key,e,t)}},{key:"renderLayers",value:function(){return[this.renderWmsLayer()]}},{key:"getPickable",value:function(){return!0===this.props.options.pickable||!1}},{key:"renderWmsLayer",value:function(){var e,t=this,n=this.props,r=n.options,i=n.opacity,o=n.key,a=n.terrainDrawMode,s=n.extensions;if(!r)throw new Error("WmsLayer: options are not defined!");var u=r.url,l=r.params,c=r.transparentColor,h=void 0===c?[0,0,0,0]:c,f=r.textureParameters,d=void 0===f?(e={},(0,re.Z)(e,mY,vY),(0,re.Z)(e,gY,pY),(0,re.Z)(e,yY,_Y),(0,re.Z)(e,bY,_Y),e):f;if(!u)throw new Error("WmsLayer: options.url is not defined!");if(!l)throw new Error("WmsLayer: options.params are not defined!");var p=l.layers,g=l.format,m=l.styles,y=l.version;if(!p)throw new Error("WmsLayer: options.params.layers are not defined!");var b="".concat(o,"-wmsLayer-").concat(u),_=l.tileSize||256,w=new(EY())({size:_,antimeridian:!0}),E=this.getPickable();return new OW(xY(xY(xY({id:b,opacity:i,tileSize:_,pickable:E,transparentColor:h},s?{extensions:s}:{}),a?{terrainDrawMode:a}:{}),{},{getTileData:function(e){var t=e.x,n=e.y,r=e.z,i=e.index;t=t||i.x,n=n||i.y,r=r||i.z;var o=v(w.bbox(t,n,r,!1,"900913"),4),a={bbox:[o[0],o[1],o[2],o[3]].join(","),format:g||"image/png",height:_,layers:p,request:"GetMap",service:"WMS",styles:m||"",width:_,transparent:!0};Object.hasOwn(l,"transparent")&&(a.transparent=l.transparent),"1.1.1"===y?(a.srs="EPSG:3857",a.version="1.1.1"):(a.crs="EPSG:3857",a.version="1.3.0");var s=Object.keys(a).map((function(e){return"".concat(e,"=").concat(a[e])})).join("&");return cR(u+"?"+s)},renderSubLayers:function(e){var n=e.tile.bbox,r=n.west,i=n.south,o=n.east,a=n.north,s=t.getPickable();return new NW(xY(xY({},e),{},{pickable:s,data:null,image:e.data,bounds:[r,i,o,a],textureParameters:d}))}}))}}]),n}(RF),AY=kY,TY=function(){function e(t){(0,Vt.Z)(this,e),(0,re.Z)(this,"fetch",void 0),(0,re.Z)(this,"loadOptions",void 0),(0,re.Z)(this,"_needsRefresh",!0),(0,re.Z)(this,"props",void 0),this.props=(0,V.Z)({},t),this.loadOptions=(0,V.Z)({},t.loadOptions),this.fetch=function(e){var t=null===e||void 0===e?void 0:e.fetch;if(t&&"function"===typeof t)return function(e,n){return t(e,n)};var n=null===e||void 0===e?void 0:e.fetch;if(n&&"function"!==typeof n)return function(e){return fetch(e,n)};return function(e){return fetch(e)}}(this.loadOptions)}return(0,Ht.Z)(e,[{key:"setProps",value:function(e){this.props=Object.assign(this.props,e),this.setNeedsRefresh()}},{key:"setNeedsRefresh",value:function(){this._needsRefresh=!0}},{key:"getNeedsRefresh",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this._needsRefresh;return e&&(this._needsRefresh=!1),t}}]),e}();var PY=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n)}(TY),OY=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){return(0,Vt.Z)(this,n),t.call(this,e)}return(0,Ht.Z)(n,[{key:"getMetadata",value:function(){var e=ZT(BT().mark((function e(){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("ImageSource.getMetadata not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getImage",value:function(){var e=ZT(BT().mark((function e(t){var n,r,i,o;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getGranularParameters(t),r=this.getURLFromTemplate(n),e.next=4,this.fetch(r);case 4:return i=e.sent,e.next=7,i.arrayBuffer();case 7:return o=e.sent,e.next=10,sB.parse(o);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGranularParameters",value:function(e){var t=v(e.bbox,4),n=t[0],r=t[1],i=t[2],o=t[3];return(0,V.Z)((0,V.Z)({},e),{},{east:n,north:r,south:o,west:i})}},{key:"getURLFromTemplate",value:function(e){for(var t=this.props.url,n=0,r=Object.entries(e);n<r.length;n++){var i=v(r[n],2),o=i[0],a=i[1];t=(t=t.replace("${".concat(o,"}"),String(a))).replace("{".concat(o,"}"),String(a))}return t}}]),n}(PY);(0,re.Z)(OY,"type","template"),(0,re.Z)(OY,"testURL",(function(e){return e.toLowerCase().includes("{")}));var CY=n(1335);function RY(e){return"string"===typeof e?e.charAt(0).toLowerCase()+e.slice(1):e}function LY(e){if(Array.isArray(e))return e.map((function(e){return LY(e)}));if(e&&"object"===typeof e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=v(r[n],2),o=i[0],a=i[1];t[RY(o)]=LY(a)}return t}return e}var IY={name:"XML",id:"xml",module:"xml",version:"3.4.4",worker:!1,extensions:["xml"],mimeTypes:["application/xml","text/xml"],testText:function(e){return e.startsWith("<?xml")},options:{xml:{parser:"fast-xml-parser",uncapitalizeKeys:!1,removeNSPrefix:!1,textNodeName:"value",arrayPaths:[]}},parse:function(){var e=ZT(BT().mark((function e(t,n){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DY((new TextDecoder).decode(t),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),parseTextSync:function(e,t){return DY(e,t)}};function DY(e,t){var n,r=(0,V.Z)((0,V.Z)({},IY.options.xml),null===t||void 0===t?void 0:t.xml);if("fast-xml-parser"===r.parser){var i=(0,V.Z)({allowBooleanAttributes:!0,ignoreDeclaration:!0,removeNSPrefix:r.removeNSPrefix,textNodeName:r.textNodeName,isArray:function(e,t,n,i){var o,a=Boolean(null===r||void 0===r||null===(o=r.arrayPaths)||void 0===o?void 0:o.some((function(e){return t===e})));return a}},null===t||void 0===t?void 0:t._fastXML),o=function(e,t){return new CY.XMLParser((0,V.Z)({ignoreAttributes:!1,attributeNamePrefix:""},t)).parse(e)}(e,i);return r.uncapitalizeKeys?LY(o):o}throw new Error(null===t||void 0===t||null===(n=t.xml)||void 0===n?void 0:n.parser)}function jY(e){return Array.isArray(e)?e:e?[e]:[]}function NY(e){var t=jY(e);return t.length>0&&t.every((function(e){return"string"===typeof e}))?t:[]}function BY(e){switch(typeof e){case"number":return e;case"string":return parseFloat(e);default:return}}function zY(e){switch(typeof e){case"number":return e;case"string":return parseInt(e,10);default:return}}function ZY(e){switch(e){case"true":case"1":return!0;default:return!1}}function FY(e,t){var n=IY.parseTextSync(e,t),r=n.WMT_MS_Capabilities||n.WMS_Capabilities||n,i=function(e){var t,n,r,i,o,a,s,u,l,c,h,f,d,p,g,m,y,b={version:String(e.version||""),name:String((null===(t=e.Service)||void 0===t?void 0:t.Name)||"unnamed"),title:null!==(n=e.Service)&&void 0!==n&&n.Title?String(null===(r=e.Service)||void 0===r?void 0:r.Title):void 0,abstract:null!==(i=e.Service)&&void 0!==i&&i.Abstract?String(null===(o=e.Service)||void 0===o?void 0:o.Abstract):void 0,keywords:NY(null===(a=e.Service)||void 0===a||null===(s=a.KeywordList)||void 0===s?void 0:s.Keyword),fees:null!==(u=e.Service)&&void 0!==u&&u.Fees?JSON.stringify(null===(l=e.Service)||void 0===l?void 0:l.Fees):void 0,accessConstraints:null!==(c=e.Service)&&void 0!==c&&c.AccessConstraints?JSON.stringify(null===(h=e.Service)||void 0===h?void 0:h.AccessConstraints):void 0,layerLimit:zY(null===(f=e.Service)||void 0===f?void 0:f.LayerLimit),maxWidth:zY(null===(d=e.Service)||void 0===d?void 0:d.maxWidth),maxHeight:zY(null===(p=e.Service)||void 0===p?void 0:p.maxHeight),layers:[],requests:UY(null===(g=e.Capability)||void 0===g?void 0:g.Request),exceptions:KY(e.Exception)},_=gx(jY(null===(m=e.Capability)||void 0===m?void 0:m.Layer));try{for(_.s();!(y=_.n()).done;){var w=y.value;b.layers.push(VY(w))}}catch(YJ){_.e(YJ)}finally{_.f()}for(var E=0,S=Object.entries(b);E<S.length;E++){var x=v(S[E],2),M=x[0];void 0===x[1]&&delete b[M]}return b}(r);if(null!==t&&void 0!==t&&t.inheritedLayerProps){var o,a=gx(i.layers);try{for(a.s();!(o=a.n()).done;){HY(o.value,null)}}catch(YJ){a.e(YJ)}finally{a.f()}}return(null!==t&&void 0!==t&&t.includeRawData||null!==t&&void 0!==t&&t.raw)&&(i.raw=r),null!==t&&void 0!==t&&t.includeXMLText&&(i.xml=e),i}function UY(e){for(var t={},n=0,r=Object.entries(e||{});n<r.length;n++){var i=v(r[n],2),o=i[0],a=i[1],s=NY(null===a||void 0===a?void 0:a.Format);t[o]={mimeTypes:s}}return t}function KY(e){if(jY(null===e||void 0===e?void 0:e.Format).length>0)return{mimeTypes:NY(e)}}function VY(e){var t,n={title:String((null===e||void 0===e?void 0:e.Title)||""),name:(null===e||void 0===e?void 0:e.Name)&&String(null===e||void 0===e?void 0:e.Name),abstract:(null===e||void 0===e?void 0:e.Name)&&String(null===e||void 0===e?void 0:e.Abstract),keywords:NY(null===(t=e.KeywordList)||void 0===t?void 0:t.Keyword)},r=(null===e||void 0===e?void 0:e.CRS)||(null===e||void 0===e?void 0:e.SRS);r&&Array.isArray(r)&&r.every((function(e){return"string"===typeof e}))&&(n.crs=r);var i=(null===e||void 0===e?void 0:e.EX_GeographicBoundingBox)&&function(e){var t=e.westBoundLongitude,n=e.northBoundLatitude,r=e.eastBoundLongitude,i=e.southBoundLatitude;return[[t,i],[r,n]]}(null===e||void 0===e?void 0:e.EX_GeographicBoundingBox);i&&(n.geographicBoundingBox=i),(i=(null===e||void 0===e?void 0:e.LatLonBoundingBox)&&function(e){var t=e.minx,n=e.miny,r=e.maxx,i=e.maxy;return[[t,n],[r,i]]}(null===e||void 0===e?void 0:e.LatLonBoundingBox))&&(n.geographicBoundingBox=i);var o=(null===e||void 0===e?void 0:e.BoundingBox)&&jY(null===e||void 0===e?void 0:e.BoundingBox).map((function(e){return function(e){var t=e.CRS,n=e.SRS,r=e.minx,i=e.miny,o=e.maxx,a=e.maxy,s=e.resx,u=e.resy,l={crs:t||n,boundingBox:[[BY(r),BY(i)],[BY(o),BY(a)]]};return s&&(l.xResolution=s),u&&(l.yResolution=u),l}(e)}));o&&o.length>0&&(n.boundingBoxes=o);var a=jY(null===e||void 0===e?void 0:e.Dimension).map((function(e){return function(e){var t=e.name,n=e.units,r=e.value,i={name:t,units:n,extent:r};e.unitSymbol&&(i.unitSymbol=e.unitSymbol);e.default&&(i.defaultValue=e.default);e.multipleValues&&(i.multipleValues=ZY(e.multipleValues));e.nearestValue&&(i.nearestValue=ZY(e.nearestValue));e.current&&(i.current=ZY(e.current));return i}(e)}));a.length&&(n.dimensions=a),null!==e&&void 0!==e&&e.opaque&&(n.opaque=ZY(null===e||void 0===e?void 0:e.opaque)),null!==e&&void 0!==e&&e.cascaded&&(n.cascaded=ZY(null===e||void 0===e?void 0:e.cascaded)),null!==e&&void 0!==e&&e.queryable&&(n.queryable=ZY(null===e||void 0===e?void 0:e.queryable));var s,u=[],l=gx(jY(null===e||void 0===e?void 0:e.Layer));try{for(l.s();!(s=l.n()).done;){var c=s.value;u.push(VY(c))}}catch(YJ){l.e(YJ)}finally{l.f()}u.length>0&&(n.layers=u);for(var h=0,f=Object.entries(n);h<f.length;h++){var d=v(f[h],2),p=d[0];void 0===d[1]&&delete n[p]}return n}function HY(e,t){null!==t&&void 0!==t&&t.geographicBoundingBox&&!e.geographicBoundingBox&&(e.geographicBoundingBox=(0,g.Z)(t.geographicBoundingBox)),null!==t&&void 0!==t&&t.crs&&!e.crs&&(e.crs=(0,g.Z)(t.crs)),null!==t&&void 0!==t&&t.boundingBoxes&&!e.boundingBoxes&&(e.boundingBoxes=(0,g.Z)(t.boundingBoxes)),null!==t&&void 0!==t&&t.dimensions&&!e.dimensions&&(e.dimensions=(0,g.Z)(t.dimensions));var n,r=gx(e.layers||[]);try{for(r.s();!(n=r.n()).done;){HY(n.value,e)}}catch(YJ){r.e(YJ)}finally{r.f()}}var WY={id:"wms-capabilities",name:"WMS Capabilities",module:"wms",version:"3.4.4",worker:!1,extensions:["xml"],mimeTypes:["application/vnd.ogc.wms_xml","application/xml","text/xml"],testText:function(e){return e.startsWith("<?xml")},options:{wms:{}},parse:function(){var e=ZT(BT().mark((function e(t,n){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FY((new TextDecoder).decode(t),null===n||void 0===n?void 0:n.wms));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),parseTextSync:function(e,t){return FY(e,null===t||void 0===t?void 0:t.wms)}};function GY(e,t){var n,r=(null===(n=IY.parseTextSync(e,t).FeatureInfoResponse)||void 0===n?void 0:n.FIELDS)||[];return{features:(Array.isArray(r)?r:[r]).map((function(e){return function(e){var t=e||{};return{attributes:t,type:"",bounds:{bottom:0,top:0,left:0,right:0}}}(e)}))}}var qY=(0,V.Z)((0,V.Z)({},WY),{},{id:"wms-feature-info",name:"WMS FeatureInfo",parse:function(){var e=ZT(BT().mark((function e(t,n){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GY((new TextDecoder).decode(t),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),parseTextSync:function(e,t){return GY(e,t)}});function YY(e,t){var n;return null===(n=IY.parseTextSync)||void 0===n?void 0:n.call(IY,e,t)}var XY=(0,V.Z)((0,V.Z)({},WY),{},{id:"wms-layer-description",name:"WMS DescribeLayer",parse:function(){var e=ZT(BT().mark((function e(t,n){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YY((new TextDecoder).decode(t),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),parseTextSync:function(e,t){return YY(e,t)}});var $Y={id:"wms-error",name:"WMS Error",module:"wms",version:"3.4.4",worker:!1,extensions:["xml"],mimeTypes:["application/vnd.ogc.se_xml","application/xml","text/xml"],testText:function(e){return e.startsWith("<?xml")},options:{wms:{throwOnError:!1}},parse:function(){var e=ZT(BT().mark((function e(t,n){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JY((new TextDecoder).decode(t),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),parseSync:function(e,t){return JY((new TextDecoder).decode(e),t)},parseTextSync:function(e,t){return JY(e,t)}};function JY(e,t){var n=(0,V.Z)((0,V.Z)({},$Y.options.wms),null===t||void 0===t?void 0:t.wms),r=function(e,t){var n,r,i,o=null===(n=IY.parseTextSync)||void 0===n?void 0:n.call(IY,e,t),a=(null===o||void 0===o||null===(r=o.ServiceExceptionReport)||void 0===r?void 0:r.ServiceException)||(null===o||void 0===o||null===(i=o["ogc:ServiceExceptionReport"])||void 0===i?void 0:i["ogc:ServiceException"]);return"string"===typeof a?a:a.value||a.code||"Unknown error"}(e,n),i=n.minimalErrors?r:"WMS Service error: ".concat(r);if(n.throwOnError)throw new Error(i);return i}var QY=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){var r,i;return(0,Vt.Z)(this,n),r=t.call(this,e),(0,re.Z)((0,UM.Z)(r),"url",void 0),(0,re.Z)((0,UM.Z)(r),"substituteCRS84",void 0),(0,re.Z)((0,UM.Z)(r),"flipCRS",void 0),(0,re.Z)((0,UM.Z)(r),"wmsParameters",void 0),(0,re.Z)((0,UM.Z)(r),"vendorParameters",void 0),(0,re.Z)((0,UM.Z)(r),"capabilities",null),(0,re.Z)((0,UM.Z)(r),"loaders",[sB,$Y,WY,qY,XY]),r.url=e.url,r.substituteCRS84=null!==(i=e.substituteCRS84)&&void 0!==i&&i,r.flipCRS=["EPSG:4326"],r.wmsParameters=(0,V.Z)({layers:void 0,query_layers:void 0,styles:void 0,version:"1.3.0",crs:"EPSG:4326",format:"image/png",info_format:"text/plain",transparent:void 0,time:void 0,elevation:void 0},e.wmsParameters),r.vendorParameters=e.vendorParameters||{},r}return(0,Ht.Z)(n,[{key:"getMetadata",value:function(){var e=ZT(BT().mark((function e(){var t;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCapabilities();case 2:return t=e.sent,e.abrupt("return",this.normalizeMetadata(t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getImage",value:function(){var e=ZT(BT().mark((function e(t){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMap(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"normalizeMetadata",value:function(e){return e}},{key:"getCapabilities",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o,a;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getCapabilitiesURL(t,n),e.next=3,this.fetch(r);case 3:return i=e.sent,e.next=6,i.arrayBuffer();case 6:return o=e.sent,this._checkResponse(i,o),e.next=10,WY.parse(o,this.loadOptions);case 10:return a=e.sent,this.capabilities=a,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getMap",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getMapURL(t,n),e.next=3,this.fetch(r);case 3:return i=e.sent,e.next=6,i.arrayBuffer();case 6:return o=e.sent,this._checkResponse(i,o),e.prev=8,e.next=11,sB.parse(o,this.loadOptions);case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(8),this._parseError(o);case 17:case"end":return e.stop()}}),e,this,[[8,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFeatureInfo",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getFeatureInfoURL(t,n),e.next=3,this.fetch(r);case 3:return i=e.sent,e.next=6,i.arrayBuffer();case 6:return o=e.sent,this._checkResponse(i,o),e.next=10,qY.parse(o,this.loadOptions);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFeatureInfoText",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getFeatureInfoURL(t,n),e.next=3,this.fetch(r);case 3:return i=e.sent,e.next=6,i.arrayBuffer();case 6:return o=e.sent,this._checkResponse(i,o),e.abrupt("return",(new TextDecoder).decode(o));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"describeLayer",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.describeLayerURL(t,n),e.next=3,this.fetch(r);case 3:return i=e.sent,e.next=6,i.arrayBuffer();case 6:return o=e.sent,this._checkResponse(i,o),e.next=10,XY.parse(o,this.loadOptions);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLegendGraphic",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getLegendGraphicURL(t,n),e.next=3,this.fetch(r);case 3:return i=e.sent,e.next=6,i.arrayBuffer();case 6:return o=e.sent,this._checkResponse(i,o),e.prev=8,e.next=11,sB.parse(o,this.loadOptions);case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(8),this._parseError(o);case 17:case"end":return e.stop()}}),e,this,[[8,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getCapabilitiesURL",value:function(e,t){var n=(0,V.Z)({version:this.wmsParameters.version},e);return this._getWMSUrl("GetCapabilities",n,t)}},{key:"getMapURL",value:function(e,t){e=this._getWMS130Parameters(e);var n=(0,V.Z)({version:this.wmsParameters.version,format:this.wmsParameters.format,transparent:this.wmsParameters.transparent,time:this.wmsParameters.time,elevation:this.wmsParameters.elevation,layers:this.wmsParameters.layers,styles:this.wmsParameters.styles,crs:this.wmsParameters.crs},e);return this._getWMSUrl("GetMap",n,t)}},{key:"getFeatureInfoURL",value:function(e,t){var n=(0,V.Z)({version:this.wmsParameters.version,info_format:this.wmsParameters.info_format,layers:this.wmsParameters.layers,query_layers:this.wmsParameters.query_layers,styles:this.wmsParameters.styles,crs:this.wmsParameters.crs},e);return this._getWMSUrl("GetFeatureInfo",n,t)}},{key:"describeLayerURL",value:function(e,t){var n=(0,V.Z)({version:this.wmsParameters.version},e);return this._getWMSUrl("DescribeLayer",n,t)}},{key:"getLegendGraphicURL",value:function(e,t){var n=(0,V.Z)({version:this.wmsParameters.version},e);return this._getWMSUrl("GetLegendGraphic",n,t)}},{key:"_parseWMSUrl",value:function(e){var t,n=v(e.split("?"),2),r=n[0],i={},o=gx(n[1].split("&"));try{for(o.s();!(t=o.n()).done;){var a=v(t.value.split("="),2),s=a[0],u=a[1];i[s]=u}}catch(YJ){o.e(YJ)}finally{o.f()}return{url:r,parameters:i}}},{key:"_getWMSUrl",value:function(e,t,n){for(var r=this.url,i=!0,o=(0,V.Z)((0,V.Z)((0,V.Z)({service:"WMS",version:t.version,request:e},t),this.vendorParameters),n),a=["transparent","time","elevation"],s=0,u=Object.entries(o);s<u.length;s++){var l=v(u[s],2),c=l[0],h=l[1];a.includes(c)&&!h||(r+=i?"?":"&",i=!1,r+=this._getURLParameter(c,h,t))}return encodeURI(r)}},{key:"_getWMS130Parameters",value:function(e){var t=(0,V.Z)({},e);return t.srs&&(t.crs=t.crs||t.srs,delete t.srs),t}},{key:"_getURLParameter",value:function(e,t,n){switch(e){case"crs":"1.3.0"!==n.version?e="srs":this.substituteCRS84&&"EPSG:4326"===t&&(t="CRS:84");break;case"srs":"1.3.0"===n.version&&(e="crs");break;case"bbox":var r=this._flipBoundingBox(t,n);r&&(t=r)}return e=e.toUpperCase(),Array.isArray(t)?"".concat(e,"=").concat(t.join(",")):"".concat(e,"=").concat(t?String(t):"")}},{key:"_flipBoundingBox",value:function(e,t){if(!Array.isArray(e)||4!==e.length)return null;var n=e;return"1.3.0"===t.version&&this.flipCRS.includes(t.crs||"")&&!(this.substituteCRS84&&"EPSG:4326"===t.crs)?[n[1],n[0],n[3],n[2]]:n}},{key:"_fetchArrayBuffer",value:function(){var e=ZT(BT().mark((function e(t){var n,r;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(t);case 2:return n=e.sent,e.next=5,n.arrayBuffer();case 5:return r=e.sent,this._checkResponse(n,r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_checkResponse",value:function(e,t){var n=e.headers["content-type"];if(!e.ok||$Y.mimeTypes.includes(n)){var r=function(e,t){for(var n=(0,V.Z)({},e),r=0,i=Object.entries(t);r<i.length;r++){var o=v(i[r],2),a=o[0],s=o[1];s&&"object"===typeof s?(n[a]=n[a]||{},Object.assign(n[a],t[a])):n[a]=t[a]}return n}(this.loadOptions,{wms:{throwOnError:!0}}),i=$Y.parseSync(t,r);throw new Error(i)}}},{key:"_parseError",value:function(e){var t=$Y.parseSync(e,this.loadOptions);return new Error(t)}}]),n}(PY);(0,re.Z)(QY,"type","wms"),(0,re.Z)(QY,"testURL",(function(e){return e.toLowerCase().includes("wms")}));var eX=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){return(0,Vt.Z)(this,n),t.call(this,e)}return(0,Ht.Z)(n,[{key:"getMetadata",value:function(){var e=ZT(BT().mark((function e(){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.metadata();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getImage",value:function(){var e=ZT(BT().mark((function e(t){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"metadata",value:function(){var e=ZT(BT().mark((function e(){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"exportImage",value:function(e){throw new Error("not implemented")}},{key:"metadataURL",value:function(e){return"".concat(this.props.url,"?f=pjson")}},{key:"exportImageURL",value:function(e){var t="bbox=".concat(e.bbox[0],",").concat(e.bbox[1],",").concat(e.bbox[2],",").concat(e.bbox[3]),n="size=".concat(e.width,",").concat(e.height),r=(0,V.Z)((0,V.Z)({},e),{},{bbox:t,size:n});return delete r.width,delete r.height,this.getUrl("exportImage",r)}},{key:"getUrl",value:function(e,t,n){for(var r="".concat(this.props.url,"/").concat(e),i=!0,o=0,a=Object.entries(t);o<a.length;o++){var s=v(a[o],2),u=s[0],l=s[1];r+=i?"?":"&",i=!1,Array.isArray(l)?r+="".concat(u.toUpperCase(),"=").concat(l.join(",")):r+="".concat(u.toUpperCase(),"=").concat(l?String(l):"")}return r}},{key:"checkResponse",value:function(){var e=ZT(BT().mark((function e(t){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw new Error("error");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(PY);(0,re.Z)(eX,"type","arcgis-image-server"),(0,re.Z)(eX,"testURL",(function(e){return e.toLowerCase().includes("ImageServer")}));var tX=[QY,eX,OY];function nX(e){var t=e.type,n=void 0===t?"auto":t,r="auto"===n?function(e){var t,n=gx(tX);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.testURL&&r.testURL(e))return r.type}}catch(YJ){n.e(YJ)}finally{n.f()}return"wms"}(e.url):n;switch(r){case"template":return new OY(e);case"wms":return new QY(e);default:throw new Error("Not a valid image source type")}}var rX=6378137*Math.PI;function iX(e){var t=IL(e);return t[0]=(t[0]/256-1)*rX,t[1]=(t[1]/256-1)*rX,t}var oX={id:"imagery-layer",data:"",serviceType:"auto",srs:"auto",layers:{type:"array",compare:!0,value:[]},onMetadataLoad:{type:"function",value:function(){}},onMetadataLoadError:{type:"function",value:console.error},onImageLoadStart:{type:"function",value:function(){}},onImageLoad:{type:"function",value:function(){}},onImageLoadError:{type:"function",compare:!1,value:function(e,t){return console.error(t,e)}}},aX=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"state",void 0),e}return(0,Ht.Z)(n,[{key:"isLoaded",get:function(){return Boolean(this.state)&&0===this.state.loadCounter&&KM((0,lx.Z)(n.prototype),"isLoaded",this)}},{key:"shouldUpdateState",value:function(){return!0}},{key:"initializeState",value:function(){this.state._nextRequestId=0,this.state.lastRequestId=-1,this.state.loadCounter=0}},{key:"updateState",value:function(e){var t=this,n=e.changeFlags,r=e.props,i=e.oldProps,o=this.context.viewport;n.dataChanged||r.serviceType!==i.serviceType?(this.state.imageSource=this._createImageSource(r),this._loadMetadata(),this.debounce((function(){return t.loadImage(o,"image source changed")}),0)):vj(r.layers,i.layers,1)?n.viewportChanged&&this.debounce((function(){return t.loadImage(o,"viewport changed")})):this.debounce((function(){return t.loadImage(o,"layers changed")}),0)}},{key:"finalizeState",value:function(){}},{key:"renderLayers",value:function(){var e=this.state,t=e.bounds,n=e.image,r=e.lastRequestParameters;return n&&new NW((0,V.Z)((0,V.Z)({},this.getSubLayerProps({id:"bitmap"})),{},{_imageCoordinateSystem:"EPSG:4326"===r.srs?qL.LNGLAT:qL.CARTESIAN,bounds:t,image:n}))}},{key:"getFeatureInfoText",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o,a;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.state.lastRequestParameters)){e.next=6;break}return e.next=4,null===(i=(o=this.state.imageSource).getFeatureInfoText)||void 0===i?void 0:i.call(o,(0,V.Z)((0,V.Z)({},r),{},{query_layers:r.layers,x:t,y:n,info_format:"application/vnd.ogc.gml"}));case 4:return a=e.sent,e.abrupt("return",a);case 6:return e.abrupt("return","");case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_createImageSource",value:function(e){if(e.data instanceof PY)return e.data;if("string"===typeof e.data)return nX({url:e.data,loadOptions:e.loadOptions,type:e.serviceType});throw new Error("invalid image source in props.data")}},{key:"_loadMetadata",value:function(){var e=ZT(BT().mark((function e(){var t,n,r,i;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.imageSource,e.prev=1,this.state.loadCounter++,e.next=5,t.getMetadata();case 5:n=e.sent,this.state.imageSource===t&&(null===(r=this.getCurrentLayer())||void 0===r||r.props.onMetadataLoad(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),null===(i=this.getCurrentLayer())||void 0===i||i.props.onMetadataLoadError(e.t0);case 12:return e.prev=12,this.state.loadCounter--,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadImage",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o,a,s,u,l,c,h,f,d,p,g,m,y,b,_,w,E;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,i=r.layers,"wms"!==r.serviceType||0!==i.length){e.next=3;break}return e.abrupt("return");case 3:return o=t.getBounds(),a=t.width,s=t.height,u=this.getRequestId(),"auto"===(l=this.props.srs)&&(l=t.resolution?"EPSG:4326":"EPSG:3857"),c={width:a,height:s,bbox:o,layers:i,srs:l},"EPSG:3857"===l&&(h=iX([o[0],o[1]]),f=v(h,2),d=f[0],p=f[1],g=iX([o[2],o[3]]),m=v(g,2),y=m[0],b=m[1],c.bbox=[d,p,y,b]),e.prev=10,this.state.loadCounter++,this.props.onImageLoadStart(u),e.next=15,this.state.imageSource.getImage(c);case 15:_=e.sent,this.state.lastRequestId<u&&(null===(w=this.getCurrentLayer())||void 0===w||w.props.onImageLoad(u),this.setState({image:_,bounds:o,lastRequestParameters:c,lastRequestId:u})),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(10),this.raiseError(e.t0,"Load image"),null===(E=this.getCurrentLayer())||void 0===E||E.props.onImageLoadError(u,e.t0);case 23:return e.prev=23,this.state.loadCounter--,e.finish(23);case 26:case"end":return e.stop()}}),e,this,[[10,19,23,26]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getRequestId",value:function(){return this.state._nextRequestId++}},{key:"debounce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;clearTimeout(this.state._timeoutId),this.state._timeoutId=setTimeout((function(){return e()}),t)}}]),n}(RF);(0,re.Z)(aX,"layerName","WMSLayer"),(0,re.Z)(aX,"defaultProps",oX);var sX=Math.PI/180,uX=new Float32Array(16),lX=new Float32Array(12);function cX(e,t,n){var r=t[0]*sX,i=t[1]*sX,o=t[2]*sX,a=Math.sin(o),s=Math.sin(r),u=Math.sin(i),l=Math.cos(o),c=Math.cos(r),h=Math.cos(i),f=n[0],d=n[1],p=n[2];e[0]=f*h*c,e[1]=f*u*c,e[2]=f*-s,e[3]=d*(-u*l+h*s*a),e[4]=d*(h*l+u*s*a),e[5]=d*c*a,e[6]=p*(u*a+h*s*l),e[7]=p*(-h*a+u*s*l),e[8]=p*c*l}function hX(e){return e[0]=e[0],e[1]=e[1],e[2]=e[2],e[3]=e[4],e[4]=e[5],e[5]=e[6],e[6]=e[8],e[7]=e[9],e[8]=e[10],e[9]=e[12],e[10]=e[13],e[11]=e[14],e.subarray(0,12)}var fX={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update:function(e,t){var n=t.startRow,r=t.endRow,i=this.props,o=i.data,a=i.getOrientation,s=i.getScale,u=i.getTranslation,l=i.getTransformMatrix,c=Array.isArray(l),h=c&&16===l.length,f=Array.isArray(s),d=Array.isArray(a),p=Array.isArray(u),v=h||!c&&Boolean(l(o[0]));e.constant=v?h:d&&f&&p;var g=e.value;if(e.constant){var m;if(v)uX.set(l),m=hX(uX);else cX(m=lX,a,s),m.set(u,9);e.value=new Float32Array(m)}else{var y,b=n*e.size,_=pz(o,n,r),w=_.iterable,E=_.objectInfo,S=gx(w);try{for(S.s();!(y=S.n()).done;){var x=y.value;E.index++;var M=void 0;if(v)uX.set(h?l:l(x,E)),M=hX(uX);else cX(M=lX,d?a:a(x,E),f?s:s(x,E)),M.set(p?u:u(x,E),9);g[b++]=M[0],g[b++]=M[1],g[b++]=M[2],g[b++]=M[3],g[b++]=M[4],g[b++]=M[5],g[b++]=M[6],g[b++]=M[7],g[b++]=M[8],g[b++]=M[9],g[b++]=M[10],g[b++]=M[11]}}catch(YJ){S.e(YJ)}finally{S.f()}}}};function dX(e,t){return t===qL.CARTESIAN||t===qL.METER_OFFSETS||t===qL.DEFAULT&&!e.isGeospatial}function pX(e,t){(e.COLOR_0||e.colors)&&t||(e.colors={constant:!0,value:new Float32Array([1,1,1])}),EP.assert(e.positions||e.POSITION,'no "postions" or "POSITION" attribute in mesh')}function vX(e,t){if(e.attributes)return pX(e.attributes,t),e instanceof FF?e:new FF(e);if(e.positions||e.POSITION)return pX(e,t),new FF({attributes:e});throw Error("Invalid mesh")}var gX={mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},textureParameters:{type:"object",ignore:!0}},mX=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"state",void 0),e}return(0,Ht.Z)(n,[{key:"getShaders",value:function(){var e=!bk(this.context.gl),t={};return RT(this.context.gl,TT)&&(t.DERIVATIVES_AVAILABLE=1),KM((0,lx.Z)(n.prototype),"getShaders",this).call(this,{vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    geometry.worldPosition += pos;\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  DECKGL_FILTER_COLOR(color, geometry);\n\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n}\n",modules:[DF,jK,zF],transpileToGLSL100:e,defines:t})}},{key:"getBounds",value:function(){var e;if(this.props._instanced)return KM((0,lx.Z)(n.prototype),"getBounds",this).call(this);var t=this.state.positionBounds;if(t)return t;var r=this.props.mesh;if(!r)return null;if(!(t=null===(e=r.header)||void 0===e?void 0:e.boundingBox)){var i=vX(r,this.props._useMeshColors).attributes;i.POSITION=i.POSITION||i.positions,t=function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=e.POSITION?e.POSITION.value:[],u=s&&s.length,l=0;l<u;l+=3){var c=s[l],h=s[l+1],f=s[l+2];t=c<t?c:t,n=h<n?h:n,r=f<r?f:r,i=c>i?c:i,o=h>o?h:o,a=f>a?f:a}return[[t,n,r],[i,o,a]]}(i)}return this.state.positionBounds=t,t}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:fX}),this.setState({emptyTexture:new tT(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}},{key:"updateState",value:function(e){KM((0,lx.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps,i=e.changeFlags;if(t.mesh!==r.mesh||i.extensionsChanged){var o;if(this.state.positionBounds=null,null===(o=this.state.model)||void 0===o||o.delete(),t.mesh){this.state.model=this.getModel(t.mesh);var a=t.mesh.attributes||t.mesh;this.setState({hasNormals:Boolean(a.NORMAL||a.normals)})}this.getAttributeManager().invalidateAll()}t.texture!==r.texture&&this.setTexture(t.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}},{key:"finalizeState",value:function(e){KM((0,lx.Z)(n.prototype),"finalizeState",this).call(this,e),this.state.emptyTexture.delete()}},{key:"draw",value:function(e){var t=e.uniforms;if(this.state.model){var n=this.context.viewport,r=this.props,i=r.sizeScale,o=r.coordinateSystem,a=r._instanced;this.state.model.setUniforms(t).setUniforms({sizeScale:i,composeModelMatrix:!a||dX(n,o),flatShading:!this.state.hasNormals}).draw()}}},{key:"getModel",value:function(e){var t=new aZ(this.context.gl,(0,V.Z)((0,V.Z)({},this.getShaders()),{},{id:this.props.id,geometry:vX(e,this.props._useMeshColors),isInstanced:!0})),n=this.props.texture,r=this.state.emptyTexture;return t.setUniforms({sampler:n||r,hasTexture:Boolean(n)}),t}},{key:"setTexture",value:function(e){var t=this.state,n=t.emptyTexture,r=t.model;r&&r.setUniforms({sampler:e||n,hasTexture:Boolean(e)})}}]),n}(rF);(0,re.Z)(mX,"defaultProps",gX),(0,re.Z)(mX,"layerName","SimpleMeshLayer");var yX={name:"Terrain",id:"terrain",module:"terrain",version:"3.4.4",worker:!0,extensions:["png","pngraw","jpg","jpeg","gif","webp","bmp"],mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp"],options:{terrain:{tesselator:"auto",bounds:null,meshMaxError:10,elevationDecoder:{rScaler:1,gScaler:0,bScaler:0,offset:0},skirtHeight:null}}},bX=[1],_X=(0,V.Z)((0,V.Z)({},OW.defaultProps),{},{elevationData:cW,texture:(0,V.Z)((0,V.Z)({},cW),{},{optional:!0}),meshMaxError:{type:"number",value:4},bounds:{type:"array",value:null,optional:!0,compare:!0},color:{type:"color",value:[255,255,255]},elevationDecoder:{type:"object",value:{rScaler:1,gScaler:0,bScaler:0,offset:0}},workerUrl:"",wireframe:!1,material:!0,loaders:[yX]});function wX(e){return Array.isArray(e)?e.join(";"):e||""}var EX=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,re.Z)((0,UM.Z)(e),"state",void 0),e}return(0,Ht.Z)(n,[{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=t.elevationData!==n.elevationData;if(r){var i=t.elevationData,o=i&&(Array.isArray(i)||i.includes("{x}")&&i.includes("{y}"));this.setState({isTiled:o})}var a=r||t.meshMaxError!==n.meshMaxError||t.elevationDecoder!==n.elevationDecoder||t.bounds!==n.bounds;if(!this.state.isTiled&&a){var s=this.loadTerrain(t);this.setState({terrain:s})}t.workerUrl&&EP.removed("workerUrl","loadOptions.terrain.workerUrl")()}},{key:"loadTerrain",value:function(e){var t,n=e.elevationData,r=e.bounds,i=e.elevationDecoder,o=e.meshMaxError,a=e.signal;if(!n)return null;var s=this.getLoadOptions();return s=(0,V.Z)((0,V.Z)({},s),{},{terrain:(0,V.Z)((0,V.Z)({skirtHeight:this.state.isTiled?2*o:0},null===(t=s)||void 0===t?void 0:t.terrain),{},{bounds:r,meshMaxError:o,elevationDecoder:i})}),(0,this.props.fetch)(n,{propName:"elevationData",layer:this,loadOptions:s,signal:a})}},{key:"getTiledTerrainData",value:function(e){var t=this.props,n=t.elevationData,r=t.fetch,i=t.texture,o=t.elevationDecoder,a=t.meshMaxError,s=this.context.viewport,u=fW(n,e),l=i&&fW(i,e),c=e.signal,h=[0,0],f=[0,0];if(s.isGeospatial){var d=e.bbox;h=s.projectFlat([d.west,d.south]),f=s.projectFlat([d.east,d.north])}else{var p=e.bbox;h=[p.left,p.bottom],f=[p.right,p.top]}var v=[h[0],h[1],f[0],f[1]],g=this.loadTerrain({elevationData:u,bounds:v,elevationDecoder:o,meshMaxError:a,signal:c}),m=l?r(l,{propName:"texture",layer:this,loaders:[],signal:c}).catch((function(e){return null})):Promise.resolve(null);return Promise.all([g,m])}},{key:"renderSubLayers",value:function(e){var t=this.getSubLayerClass("mesh",mX),n=this.props,r=n.color,i=n.wireframe,o=n.material,a=e.data;if(!a)return null;var s=v(a,2),u=s[0],l=s[1];return new t(e,{data:bX,mesh:u,texture:l,_instanced:!1,coordinateSystem:qL.CARTESIAN,getPosition:function(e){return[0,0,0]},getColor:r,wireframe:i,material:o})}},{key:"onViewportLoad",value:function(e){if(e){var t=this.state.zRange,n=e.map((function(e){return e.content})).filter(Boolean).map((function(e){return e[0].header.boundingBox.map((function(e){return e[2]}))}));if(0!==n.length){var r=Math.min.apply(Math,(0,g.Z)(n.map((function(e){return e[0]})))),i=Math.max.apply(Math,(0,g.Z)(n.map((function(e){return e[1]}))));(!t||r<t[0]||i>t[1])&&this.setState({zRange:[r,i]})}}}},{key:"renderLayers",value:function(){var e=this.props,t=e.color,n=e.material,r=e.elevationData,i=e.texture,o=e.wireframe,a=e.meshMaxError,s=e.elevationDecoder,u=e.tileSize,l=e.maxZoom,c=e.minZoom,h=e.extent,f=e.maxRequests,d=e.onTileLoad,p=e.onTileUnload,v=e.onTileError,g=e.maxCacheSize,m=e.maxCacheByteSize,y=e.refinementStrategy;return this.state.isTiled?new OW(this.getSubLayerProps({id:"tiles"}),{getTileData:this.getTiledTerrainData.bind(this),renderSubLayers:this.renderSubLayers.bind(this),updateTriggers:{getTileData:{elevationData:wX(r),texture:wX(i),meshMaxError:a,elevationDecoder:s}},onViewportLoad:this.onViewportLoad.bind(this),zRange:this.state.zRange||null,tileSize:u,maxZoom:l,minZoom:c,extent:h,maxRequests:f,onTileLoad:d,onTileUnload:p,onTileError:v,maxCacheSize:g,maxCacheByteSize:m,refinementStrategy:y}):new(this.getSubLayerClass("mesh",mX))(this.getSubLayerProps({id:"mesh"}),{data:bX,mesh:this.state.terrain,texture:i,_instanced:!1,getPosition:function(e){return[0,0,0]},getColor:t,material:n,wireframe:o})}}]),n}(RF);function SX(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(U1){o(U1)}}function s(e){try{u(r.throw(e))}catch(U1){o(U1)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function xX(e){return xX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xX(e)}function MX(e){var t=function(e,t){if("object"!==xX(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xX(t)?t:String(t)}function kX(e,t,n){return(t=MX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,re.Z)(EX,"defaultProps",_X),(0,re.Z)(EX,"layerName","TerrainLayer");var AX="undefined"!==typeof Float32Array?Float32Array:Array;function TX(e,t){var n,r=[1/0,1/0,-1/0,-1/0],i=gx(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.getBounds();if(a){var s=o.projectPosition(a[0],{viewport:t,autoOffset:!1}),u=o.projectPosition(a[1],{viewport:t,autoOffset:!1});r[0]=Math.min(r[0],s[0]),r[1]=Math.min(r[1],s[1]),r[2]=Math.max(r[2],u[0]),r[3]=Math.max(r[3],u[1])}}}catch(YJ){i.e(YJ)}finally{i.f()}return Number.isFinite(r[0])?r:null}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),function(){var e=function(){var e=new AX(2);return AX!=Float32Array&&(e[0]=0,e[1]=0),e}()}(),function(){var e=function(){var e=new AX(3);return AX!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}()}(),function(){var e=function(){var e=new AX(4);return AX!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}();function PX(e){var t=e.bounds,n=e.viewport,r=e.border,i=void 0===r?0:r,o=n.isGeospatial;if(t[2]<=t[0]||t[3]<=t[1])return null;var a=n.unprojectPosition([(t[0]+t[2])/2,(t[1]+t[3])/2,0]),s=e.width,u=e.height,l=e.zoom;if(void 0===l){s-=2*i,u-=2*i;var c=Math.min(s/(t[2]-t[0]),u/(t[3]-t[1]));l=Math.min(Math.log2(c),20)}else if(!s||!u){var h=Math.pow(2,l);s=Math.round(Math.abs(t[2]-t[0])*h),u=Math.round(Math.abs(t[3]-t[1])*h);var f=2048-2*i;if(s>f||u>f){var d=f/Math.max(s,u);s=Math.round(s*d),u=Math.round(u*d),l+=Math.log2(d)}}return o?new Ej({id:n.id,x:i,y:i,width:s,height:u,longitude:a[0],latitude:a[1],zoom:l,orthographic:!0}):new WW({id:n.id,x:i,y:i,width:s,height:u,target:a,zoom:l,flipY:!1})}function OX(e,t,n){if(!e)return[0,0,1,1];var r=function(e,t){var n;if(t&&2===t.length){var r=v(t,2),i=r[0],o=r[1],a=e.getBounds({z:i}),s=e.getBounds({z:o});n=[Math.min(a[0],s[0]),Math.min(a[1],s[1]),Math.max(a[2],s[2]),Math.max(a[3],s[3])]}else n=e.getBounds();var u=e.projectPosition(n.slice(0,2)),l=e.projectPosition(n.slice(2,4));return[u[0],u[1],l[0],l[1]]}(t,n),i=function(e){var t=e[2]-e[0],n=e[3]-e[1],r=(e[0]+e[2])/2,i=(e[1]+e[3])/2;return[r-t,i-n,r+t,i+n]}(r);return e[2]-e[0]<=i[2]-i[0]&&e[3]-e[1]<=i[3]-i[1]?e:[Math.max(e[0],i[0]),Math.max(e[1],i[1]),Math.min(e[2],i[2]),Math.min(e[3],i[3])]}var CX={NONE:0,WRITE_HEIGHT_MAP:1,USE_HEIGHT_MAP:2,USE_COVER:3,USE_COVER_ONLY:4,SKIP:5},RX=Object.keys(CX).map((function(e){return"const float TERRAIN_MODE_".concat(e," = ").concat(CX[e],".0;")})).join("\n"),LX={name:"terrain",dependencies:[cj],inject:{"vs:#decl":"\nuniform float terrain_mode;\nuniform sampler2D terrain_map;\nuniform vec4 terrain_bounds;\nvarying vec3 commonPos;\n".concat(RX,"\n    "),"vs:#main-start":"\nif (terrain_mode == TERRAIN_MODE_SKIP) {\n  gl_Position = vec4(0.0);\n  return;\n}\n","vs:DECKGL_FILTER_GL_POSITION":"\ncommonPos = geometry.position.xyz;\nif (terrain_mode == TERRAIN_MODE_WRITE_HEIGHT_MAP) {\n  vec2 texCoords = (commonPos.xy - terrain_bounds.xy) / terrain_bounds.zw;\n  position = vec4(texCoords * 2.0 - 1.0, 0.0, 1.0);\n  commonPos.z += project_uCommonOrigin.z;\n}\nif (terrain_mode == TERRAIN_MODE_USE_HEIGHT_MAP) {\n  vec3 anchor = geometry.worldPosition;\n  anchor.z = 0.0;\n  vec3 anchorCommon = project_position(anchor);\n  vec2 texCoords = (anchorCommon.xy - terrain_bounds.xy) / terrain_bounds.zw;\n  if (texCoords.x >= 0.0 && texCoords.y >= 0.0 && texCoords.x <= 1.0 && texCoords.y <= 1.0) {\n    float terrainZ = texture2D(terrain_map, texCoords).r;\n    geometry.position.z += terrainZ;\n    position = project_common_position_to_clipspace(geometry.position);\n  }\n}\n    ","fs:#decl":"\nuniform float terrain_mode;\nuniform sampler2D terrain_map;\nuniform vec4 terrain_bounds;\nvarying vec3 commonPos;\n".concat(RX,"\n    "),"fs:#main-start":"\nif (terrain_mode == TERRAIN_MODE_WRITE_HEIGHT_MAP) {\n  gl_FragColor = vec4(commonPos.z, 0.0, 0.0, 1.0);\n  return;\n}\n    ","fs:DECKGL_FILTER_COLOR":"\nif ((terrain_mode == TERRAIN_MODE_USE_COVER) || (terrain_mode == TERRAIN_MODE_USE_COVER_ONLY)) {\n  vec2 texCoords = (commonPos.xy - terrain_bounds.xy) / terrain_bounds.zw;\n  vec4 pixel = texture2D(terrain_map, texCoords);\n  if (terrain_mode == TERRAIN_MODE_USE_COVER_ONLY) {\n    color = pixel;\n  } else {\n    // pixel is premultiplied\n    color = pixel + color * (1.0 - pixel.a);\n  }\n  return;\n}\n    "},getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("dummyHeightMap"in e){var n=e.drawToTerrainHeightMap,r=e.heightMap,i=e.heightMapBounds,o=e.dummyHeightMap,a=e.terrainCover,s=e.useTerrainHeightMap,u=e.terrainSkipRender,l=t.project_uCommonOrigin,c=u?CX.SKIP:CX.NONE,h=o,f=null;if(n)c=CX.WRITE_HEIGHT_MAP,f=i;else if(s&&r)c=CX.USE_HEIGHT_MAP,h=r,f=i;else if(a){var d=e.pickingActive;h=d?a.getPickingFramebuffer():a.getRenderFramebuffer(),d&&(c=CX.SKIP),h?(c=c===CX.SKIP?CX.USE_COVER_ONLY:CX.USE_COVER,f=a.bounds):h=o}return{terrain_mode:c,terrain_map:h,terrain_bounds:f?[f[0]-l[0],f[1]-l[1],f[2]-f[0],f[3]-f[1]]:[0,0,0,0]}}return null}};function IX(e,t){var n;return new jT(e,{id:t.id,attachments:(0,re.Z)({},36064,new tT(e,(0,V.Z)((0,V.Z)({},t.float&&{format:bk(e)?34836:6408,type:5126}),{},{mipmaps:!1,parameters:(n={},(0,re.Z)(n,10241,9729),(0,re.Z)(n,10240,9729),(0,re.Z)(n,10242,33071),(0,re.Z)(n,10243,33071),n)})))})}var DX=function(){function e(t){(0,Vt.Z)(this,e),kX(this,"isDirty",!0),kX(this,"targetLayer",void 0),kX(this,"renderViewport",null),kX(this,"bounds",null),kX(this,"fbo",void 0),kX(this,"pickingFbo",void 0),kX(this,"layers",[]),kX(this,"tile",void 0),kX(this,"targetBounds",null),kX(this,"targetBoundsCommon",null),this.targetLayer=t,this.tile=jX(t)}return(0,Ht.Z)(e,[{key:"id",get:function(){return this.targetLayer.id}},{key:"isActive",get:function(){return Boolean(this.targetLayer.getCurrentLayer())}},{key:"shouldUpdate",value:function(e){var t=e.targetLayer,n=e.viewport,r=e.layers,i=e.layerNeedsRedraw;t&&(this.targetLayer=t);var o=!!n&&this._updateViewport(n),a=!!r&&this._updateLayers(r);if(i){var s,u=gx(this.layers);try{for(u.s();!(s=u.n()).done;){if(i[s.value]){a=!0;break}}}catch(YJ){u.e(YJ)}finally{u.f()}}return a||o}},{key:"_updateLayers",value:function(e){var t=!1;if((e=this.tile?function(e,t){return t.filter((function(t){var n=jX(t);return!n||function(e,t){if(e&&t)return e[0][0]<t[1][0]&&t[0][0]<e[1][0]&&e[0][1]<t[1][1]&&t[0][1]<e[1][1];return!1}(e.boundingBox,n.boundingBox)}))}(this.tile,e):e).length!==this.layers.length)t=!0;else for(var n=0;n<e.length;n++){if(e[n].id!==this.layers[n]){t=!0;break}}return t&&(this.layers=e.map((function(e){return e.id}))),t}},{key:"_updateViewport",value:function(e){var t=this.targetLayer,n=!1;if(this.tile&&"boundingBox"in this.tile){if(!this.targetBounds){n=!0,this.targetBounds=this.tile.boundingBox;var r=e.projectPosition(this.targetBounds[0]),i=e.projectPosition(this.targetBounds[1]);this.targetBoundsCommon=[r[0],r[1],i[0],i[1]]}}else this.targetBounds!==t.getBounds()&&(n=!0,this.targetBounds=t.getBounds(),this.targetBoundsCommon=TX([t],e));if(!this.targetBoundsCommon)return!1;var o=Math.ceil(e.zoom+.5);if(this.tile)this.bounds=this.targetBoundsCommon;else{var a,s=null===(a=this.renderViewport)||void 0===a?void 0:a.zoom;n=n||o!==s;var u=OX(this.targetBoundsCommon,e),l=this.bounds;n=n||!l||u.some((function(e,t){return e!==l[t]})),this.bounds=u}return n&&(this.renderViewport=PX({bounds:this.bounds,zoom:o,viewport:e})),n}},{key:"getRenderFramebuffer",value:function(){return this.renderViewport&&0!==this.layers.length?(this.fbo||(this.fbo=IX(this.targetLayer.context.gl,{id:this.id})),this.fbo):null}},{key:"getPickingFramebuffer",value:function(){return!this.renderViewport||0===this.layers.length&&!this.targetLayer.props.pickable?null:(this.pickingFbo||(this.pickingFbo=IX(this.targetLayer.context.gl,{id:"".concat(this.id,"-picking")})),this.pickingFbo)}},{key:"filterLayers",value:function(e){var t=this;return e.filter((function(e){var n=e.id;return t.layers.includes(n)}))}},{key:"delete",value:function(){var e=this.fbo,t=this.pickingFbo;e&&(e.texture.delete(),e.delete()),t&&(t.texture.delete(),t.delete())}}]),e}();function jX(e){for(;e;){var t=e.props.tile;if(t)return t;e=e.parent}return null}var NX,BX=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"getRenderableLayers",value:function(e,t){for(var n=t.layers,r=[],i=this._getDrawLayerParams(e,t,!0),o=0;o<n.length;o++){var a=n[o];!a.isComposite&&i[o].shouldDrawLayer&&r.push(a)}return r}},{key:"renderHeightMap",value:function(e,t){var n=this,r=e.getRenderFramebuffer(),i=e.renderViewport;r&&i&&(r.resize(i),oA(this.gl,{clearColor:[0,0,0,0],blend:!0,blendFunc:[1,1],blendEquation:32776,depthTest:!1},(function(){return n.render((0,V.Z)((0,V.Z)({},t),{},{target:r,pass:"terrain-height-map",layers:t.layers,viewports:[i],effects:[]}))})))}},{key:"renderTerrainCover",value:function(e,t){var n=this,r=e.getRenderFramebuffer(),i=e.renderViewport;if(r&&i){var o=e.filterLayers(t.layers);r.resize(i),oA(this.gl,{depthTest:!1},(function(){return n.render((0,V.Z)((0,V.Z)({},t),{},{target:r,pass:"terrain-cover-".concat(e.id),layers:o,effects:[],viewports:[i]}))}))}}}]),n}(tN),zX=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;(0,Vt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),kX((0,UM.Z)(e),"drawParameters",{}),e}return(0,Ht.Z)(n,[{key:"getRenderableLayers",value:function(e,t){var n=t.layers,r=[];this.drawParameters={},this._resetColorEncoder(t.pickZ);for(var i=this._getDrawLayerParams(e,t),o=0;o<n.length;o++){var a=n[o];!a.isComposite&&i[o].shouldDrawLayer&&(r.push(a),this.drawParameters[a.id]=i[o].layerParameters)}return r}},{key:"renderTerrainCover",value:function(e,t){var n=this,r=e.getPickingFramebuffer(),i=e.renderViewport;if(r&&i){var o=e.filterLayers(t.layers),a=e.targetLayer;a.props.pickable&&o.unshift(a),r.resize(i),oA(this.gl,{depthTest:!1},(function(){return n.render((0,V.Z)((0,V.Z)({},t),{},{pickingFBO:r,pass:"terrain-cover-picking-".concat(e.id),layers:o,effects:[],viewports:[i],cullRect:void 0,deviceRect:i,pickZ:!1}))}))}}},{key:"getLayerParameters",value:function(e,t,r){if(this.drawParameters[e.id])return this.drawParameters[e.id];var i=KM((0,lx.Z)(n.prototype),"getLayerParameters",this).call(this,e,t,r);return i.blend=!0,i}}]),n}(mN),ZX=function(){function e(t){(0,Vt.Z)(this,e),kX(this,"renderViewport",null),kX(this,"bounds",null),kX(this,"fbo",void 0),kX(this,"gl",void 0),kX(this,"layers",[]),kX(this,"layersBounds",[]),kX(this,"layersBoundsCommon",null),kX(this,"lastViewport",null),this.gl=t}return(0,Ht.Z)(e,[{key:"getRenderFramebuffer",value:function(){return this.renderViewport?(this.fbo||(this.fbo=IX(this.gl,{id:"height-map",float:!0})),this.fbo):null}},{key:"shouldUpdate",value:function(e){var t=this,n=e.layers,r=e.viewport,i=n.length!==this.layers.length||n.some((function(e,n){return e!==t.layers[n]||e.props.transitions||e.getBounds()!==t.layersBounds[n]}));i&&(this.layers=n,this.layersBounds=n.map((function(e){return e.getBounds()})),this.layersBoundsCommon=TX(n,r));var o=!this.lastViewport||!r.equals(this.lastViewport);if(this.layersBoundsCommon){if(i||o){var a=OX(this.layersBoundsCommon,r);if(a[2]<=a[0]||a[3]<=a[1])return this.renderViewport=null,!1;this.bounds=a,this.lastViewport=r;var s=r.scale,u=(a[2]-a[0])*s,l=(a[3]-a[1])*s;return this.renderViewport=u>0||l>0?PX({bounds:[r.center[0]-1,r.center[1]-1,r.center[0]+1,r.center[1]+1],zoom:r.zoom,width:Math.min(u,2048),height:Math.min(l,2048),viewport:r}):null,!0}}else this.renderViewport=null;return!1}},{key:"delete",value:function(){this.fbo&&(this.fbo.color.delete(),this.fbo.delete())}}],[{key:"isSupported",value:function(e){return jT.isSupported(e,{colorBufferFloat:!0})}}]),e}(),FX=function(){function e(){(0,Vt.Z)(this,e),kX(this,"id","terrain-effect"),kX(this,"props",null),kX(this,"useInPicking",!0),kX(this,"isPicking",!1),kX(this,"isDrapingEnabled",!1),kX(this,"dummyHeightMap",void 0),kX(this,"heightMap",void 0),kX(this,"terrainPass",void 0),kX(this,"terrainPickingPass",void 0),kX(this,"terrainCovers",new Map)}return(0,Ht.Z)(e,[{key:"initialize",value:function(e){this.dummyHeightMap=new tT(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])}),this.terrainPass=new BX(e,{id:"terrain"}),this.terrainPickingPass=new zX(e,{id:"terrain-picking"}),ZX.isSupported(e)?this.heightMap=new ZX(e):EP.warn("Terrain offset mode is not supported by this browser")(),WD.getDefaultProgramManager(e).addDefaultModule(LX)}},{key:"preRender",value:function(e,t){if(!this.dummyHeightMap){this.initialize(e);var n,r=gx(t.layers);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.props.operation.includes("terrain")&&i.setChangeFlags({extensionsChanged:!0})}}catch(YJ){r.e(YJ)}finally{r.f()}}if(t.pickZ)this.isDrapingEnabled=!1;else{var o=t.viewports,a=t.isPicking,s=void 0!==a&&a;this.isPicking=s,this.isDrapingEnabled=!0;var u=o[0],l=(s?this.terrainPickingPass:this.terrainPass).getRenderableLayers(u,t),c=l.filter((function(e){return e.props.operation.includes("terrain")}));if(0!==c.length){if(!s)l.filter((function(e){return"offset"===e.state.terrainDrawMode})).length>0&&this._updateHeightMap(c,u,t);var h=l.filter((function(e){return"drape"===e.state.terrainDrawMode}));this._updateTerrainCovers(c,h,u,t)}}}},{key:"getModuleParameters",value:function(e){var t,n,r=e.state.terrainDrawMode;return{heightMap:null===(t=this.heightMap)||void 0===t?void 0:t.getRenderFramebuffer(),heightMapBounds:null===(n=this.heightMap)||void 0===n?void 0:n.bounds,dummyHeightMap:this.dummyHeightMap,terrainCover:this.isDrapingEnabled?this.terrainCovers.get(e.id):null,useTerrainHeightMap:"offset"===r,terrainSkipRender:"drape"===r||!e.props.operation.includes("draw")}}},{key:"cleanup",value:function(){this.dummyHeightMap&&(this.dummyHeightMap.delete(),this.dummyHeightMap=void 0),this.heightMap&&(this.heightMap.delete(),this.heightMap=void 0);var e,t=gx(this.terrainCovers.values());try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(YJ){t.e(YJ)}finally{t.f()}this.terrainCovers.clear()}},{key:"_updateHeightMap",value:function(e,t,n){this.heightMap&&(this.heightMap.shouldUpdate({layers:e,viewport:t})&&this.terrainPass.renderHeightMap(this.heightMap,(0,V.Z)((0,V.Z)({},n),{},{layers:e,moduleParameters:{heightMapBounds:this.heightMap.bounds,dummyHeightMap:this.dummyHeightMap,devicePixelRatio:1,drawToTerrainHeightMap:!0}})))}},{key:"_updateTerrainCovers",value:function(e,t,n,r){var i,o={},a=gx(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.state.terrainCoverNeedsRedraw&&(o[s.id]=!0,s.state.terrainCoverNeedsRedraw=!1)}}catch(YJ){a.e(YJ)}finally{a.f()}var u,l=gx(this.terrainCovers.values());try{for(l.s();!(u=l.n()).done;){var c=u.value;c.isDirty=c.isDirty||c.shouldUpdate({layerNeedsRedraw:o})}}catch(YJ){l.e(YJ)}finally{l.f()}var h,f=gx(e);try{for(f.s();!(h=f.n()).done;){var d=h.value;this._updateTerrainCover(d,t,n,r)}}catch(YJ){f.e(YJ)}finally{f.f()}this.isPicking||this._pruneTerrainCovers()}},{key:"_updateTerrainCover",value:function(e,t,n,r){var i=this.isPicking?this.terrainPickingPass:this.terrainPass,o=this.terrainCovers.get(e.id);o||(o=new DX(e),this.terrainCovers.set(e.id,o));try{var a=o.shouldUpdate({targetLayer:e,viewport:n,layers:t});(this.isPicking||o.isDirty||a)&&(i.renderTerrainCover(o,(0,V.Z)((0,V.Z)({},r),{},{layers:t,moduleParameters:{dummyHeightMap:this.dummyHeightMap,terrainSkipRender:!1,devicePixelRatio:1}})),o.isDirty=!1)}catch(YJ){e.raiseError(YJ,"Error rendering terrain cover ".concat(o.id))}}},{key:"_pruneTerrainCovers",value:function(){var e,t=[],n=gx(this.terrainCovers);try{for(n.s();!(e=n.n()).done;){var r=v(e.value,2),i=r[0];r[1].isActive||t.push(i)}}catch(YJ){n.e(YJ)}finally{n.f()}for(var o=0,a=t;o<a.length;o++){var s=a[o];this.terrainCovers.delete(s)}}}]),e}(),UX={terrainDrawMode:void 0},KX=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"getShaders",value:function(){return{modules:[LX]}}},{key:"initializeState",value:function(){var e;null===(e=this.context.deck)||void 0===e||e._addDefaultEffect(new FX)}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps;if(!this.state.terrainDrawMode||t.terrainDrawMode!==n.terrainDrawMode||t.extruded!==n.extruded){var r=t.terrainDrawMode;if(!r){var i,o=this.props.extruded,a=null===(i=this.getAttributeManager())||void 0===i?void 0:i.attributes;r=o||a&&"instancePositions"in a?"offset":"drape"}this.setState({terrainDrawMode:r})}}},{key:"onNeedsRedraw",value:function(){var e=this.state;"drape"===e.terrainDrawMode&&(e.terrainCoverNeedsRedraw=!0)}}]),n}(zW);kX(KX,"defaultProps",UX),kX(KX,"extensionName","TerrainExtension"),function(e){e.NONE="application/octet-stream",e.JPEG="image/jpeg",e.JP2="image/jp2",e.JPEGXL="image/jpegxl",e.WEBP="image/webp",e.ZSTD="application/zstd",e.LZW="application/lzw",e.DEFLATE="application/deflate",e.LZERC="application/lerc",e.LZMA="application/x-lzma"}(NX||(NX={}));var VX,HX,WX,GX,qX={1:NX.NONE,5:NX.LZW,6:NX.JPEG,7:NX.JPEG,8:NX.DEFLATE,34887:NX.LZERC,34925:NX.LZMA,34712:NX.JP2,5e4:NX.ZSTD,50001:NX.WEBP,50002:NX.JPEGXL};function YX(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(e){e[e.Artist=315]="Artist",e[e.BitsPerSample=258]="BitsPerSample",e[e.CellLength=265]="CellLength",e[e.CellWidth=264]="CellWidth",e[e.ColorMap=320]="ColorMap",e[e.Compression=259]="Compression",e[e.Copyright=33432]="Copyright",e[e.DateTime=306]="DateTime",e[e.ExtraSamples=338]="ExtraSamples",e[e.FillOrder=266]="FillOrder",e[e.FreeByteCounts=289]="FreeByteCounts",e[e.FreeOffsets=288]="FreeOffsets",e[e.GrayResponseCurve=291]="GrayResponseCurve",e[e.GrayResponseUnit=290]="GrayResponseUnit",e[e.HostComputer=316]="HostComputer",e[e.ImageDescription=270]="ImageDescription",e[e.ImageHeight=257]="ImageHeight",e[e.ImageWidth=256]="ImageWidth",e[e.Make=271]="Make",e[e.MaxSampleValue=281]="MaxSampleValue",e[e.MinSampleValue=280]="MinSampleValue",e[e.Model=272]="Model",e[e.NewSubFileType=254]="NewSubFileType",e[e.Orientation=274]="Orientation",e[e.PhotometricInterpretation=262]="PhotometricInterpretation",e[e.PlanarConfiguration=284]="PlanarConfiguration",e[e.ResolutionUnit=296]="ResolutionUnit",e[e.RowsPerStrip=278]="RowsPerStrip",e[e.SamplesPerPixel=277]="SamplesPerPixel",e[e.Software=305]="Software",e[e.StripByteCounts=279]="StripByteCounts",e[e.StripOffsets=273]="StripOffsets",e[e.SubFileType=255]="SubFileType",e[e.Threshholding=263]="Threshholding",e[e.XResolution=282]="XResolution",e[e.YResolution=283]="YResolution",e[e.BadFaxLines=326]="BadFaxLines",e[e.CleanFaxData=327]="CleanFaxData",e[e.ClipPath=343]="ClipPath",e[e.ConsecutiveBadFaxLines=328]="ConsecutiveBadFaxLines",e[e.Decode=433]="Decode",e[e.DefaultImageColor=434]="DefaultImageColor",e[e.DocumentName=269]="DocumentName",e[e.DotRange=336]="DotRange",e[e.HalftoneHints=321]="HalftoneHints",e[e.Indexed=346]="Indexed",e[e.JPEGTables=347]="JPEGTables",e[e.PageName=285]="PageName",e[e.PageNumber=297]="PageNumber",e[e.Predictor=317]="Predictor",e[e.PrimaryChromaticities=319]="PrimaryChromaticities",e[e.ReferenceBlackWhite=532]="ReferenceBlackWhite",e[e.SampleFormat=339]="SampleFormat",e[e.SMinSampleValue=340]="SMinSampleValue",e[e.SMaxSampleValue=341]="SMaxSampleValue",e[e.StripRowCounts=559]="StripRowCounts",e[e.SubIFDs=330]="SubIFDs",e[e.T4Options=292]="T4Options",e[e.T6Options=293]="T6Options",e[e.TileByteCounts=325]="TileByteCounts",e[e.TileHeight=323]="TileHeight",e[e.TileOffsets=324]="TileOffsets",e[e.TileWidth=322]="TileWidth",e[e.TransferFunction=301]="TransferFunction",e[e.WhitePoint=318]="WhitePoint",e[e.XClipPathUnits=344]="XClipPathUnits",e[e.XPosition=286]="XPosition",e[e.YCbCrCoefficients=529]="YCbCrCoefficients",e[e.YCbCrPositioning=531]="YCbCrPositioning",e[e.YCbCrSubSampling=530]="YCbCrSubSampling",e[e.YClipPathUnits=345]="YClipPathUnits",e[e.YPosition=287]="YPosition",e[e.ApertureValue=37378]="ApertureValue",e[e.ColorSpace=40961]="ColorSpace",e[e.DateTimeDigitized=36868]="DateTimeDigitized",e[e.DateTimeOriginal=36867]="DateTimeOriginal",e[e.ExifIFD=34665]="ExifIFD",e[e.ExifVersion=36864]="ExifVersion",e[e.ExposureTime=33434]="ExposureTime",e[e.FileSource=41728]="FileSource",e[e.Flash=37385]="Flash",e[e.FlashpixVersion=40960]="FlashpixVersion",e[e.FNumber=33437]="FNumber",e[e.ImageUniqueID=42016]="ImageUniqueID",e[e.LightSource=37384]="LightSource",e[e.MakerNote=37500]="MakerNote",e[e.ShutterSpeedValue=37377]="ShutterSpeedValue",e[e.UserComment=37510]="UserComment",e[e.IPTC=33723]="IPTC",e[e.ICCProfile=34675]="ICCProfile",e[e.XMP=700]="XMP",e[e.GDAL_METADATA=42112]="GDAL_METADATA",e[e.GDAL_NODATA=42113]="GDAL_NODATA",e[e.Photoshop=34377]="Photoshop",e[e.ModelPixelScale=33550]="ModelPixelScale",e[e.ModelTiePoint=33922]="ModelTiePoint",e[e.ModelTransformation=34264]="ModelTransformation",e[e.GeoKeyDirectory=34735]="GeoKeyDirectory",e[e.GeoDoubleParams=34736]="GeoDoubleParams",e[e.GeoAsciiParams=34737]="GeoAsciiParams"}(VX||(VX={})),function(e){e[e.GTModelTypeGeoKey=1024]="GTModelTypeGeoKey",e[e.GTRasterTypeGeoKey=1025]="GTRasterTypeGeoKey",e[e.GTCitationGeoKey=1026]="GTCitationGeoKey",e[e.GeographicTypeGeoKey=2048]="GeographicTypeGeoKey",e[e.GeogCitationGeoKey=2049]="GeogCitationGeoKey",e[e.GeogGeodeticDatumGeoKey=2050]="GeogGeodeticDatumGeoKey",e[e.GeogPrimeMeridianGeoKey=2051]="GeogPrimeMeridianGeoKey",e[e.GeogLinearUnitsGeoKey=2052]="GeogLinearUnitsGeoKey",e[e.GeogLinearUnitSizeGeoKey=2053]="GeogLinearUnitSizeGeoKey",e[e.GeogAngularUnitsGeoKey=2054]="GeogAngularUnitsGeoKey",e[e.GeogAngularUnitSizeGeoKey=2055]="GeogAngularUnitSizeGeoKey",e[e.GeogEllipsoidGeoKey=2056]="GeogEllipsoidGeoKey",e[e.GeogSemiMajorAxisGeoKey=2057]="GeogSemiMajorAxisGeoKey",e[e.GeogSemiMinorAxisGeoKey=2058]="GeogSemiMinorAxisGeoKey",e[e.GeogInvFlatteningGeoKey=2059]="GeogInvFlatteningGeoKey",e[e.GeogAzimuthUnitsGeoKey=2060]="GeogAzimuthUnitsGeoKey",e[e.GeogPrimeMeridianLongGeoKey=2061]="GeogPrimeMeridianLongGeoKey",e[e.GeogTOWGS84GeoKey=2062]="GeogTOWGS84GeoKey",e[e.ProjectedCSTypeGeoKey=3072]="ProjectedCSTypeGeoKey",e[e.PCSCitationGeoKey=3073]="PCSCitationGeoKey",e[e.ProjectionGeoKey=3074]="ProjectionGeoKey",e[e.ProjCoordTransGeoKey=3075]="ProjCoordTransGeoKey",e[e.ProjLinearUnitsGeoKey=3076]="ProjLinearUnitsGeoKey",e[e.ProjLinearUnitSizeGeoKey=3077]="ProjLinearUnitSizeGeoKey",e[e.ProjStdParallel1GeoKey=3078]="ProjStdParallel1GeoKey",e[e.ProjStdParallel2GeoKey=3079]="ProjStdParallel2GeoKey",e[e.ProjNatOriginLongGeoKey=3080]="ProjNatOriginLongGeoKey",e[e.ProjNatOriginLatGeoKey=3081]="ProjNatOriginLatGeoKey",e[e.ProjFalseEastingGeoKey=3082]="ProjFalseEastingGeoKey",e[e.ProjFalseNorthingGeoKey=3083]="ProjFalseNorthingGeoKey",e[e.ProjFalseOriginLongGeoKey=3084]="ProjFalseOriginLongGeoKey",e[e.ProjFalseOriginLatGeoKey=3085]="ProjFalseOriginLatGeoKey",e[e.ProjFalseOriginEastingGeoKey=3086]="ProjFalseOriginEastingGeoKey",e[e.ProjFalseOriginNorthingGeoKey=3087]="ProjFalseOriginNorthingGeoKey",e[e.ProjCenterLongGeoKey=3088]="ProjCenterLongGeoKey",e[e.ProjCenterLatGeoKey=3089]="ProjCenterLatGeoKey",e[e.ProjCenterEastingGeoKey=3090]="ProjCenterEastingGeoKey",e[e.ProjCenterNorthingGeoKey=3091]="ProjCenterNorthingGeoKey",e[e.ProjScaleAtNatOriginGeoKey=3092]="ProjScaleAtNatOriginGeoKey",e[e.ProjScaleAtCenterGeoKey=3093]="ProjScaleAtCenterGeoKey",e[e.ProjAzimuthAngleGeoKey=3094]="ProjAzimuthAngleGeoKey",e[e.ProjStraightVertPoleLongGeoKey=3095]="ProjStraightVertPoleLongGeoKey",e[e.ProjRectifiedGridAngleGeoKey=3096]="ProjRectifiedGridAngleGeoKey",e[e.VerticalCSTypeGeoKey=4096]="VerticalCSTypeGeoKey",e[e.VerticalCitationGeoKey=4097]="VerticalCitationGeoKey",e[e.VerticalDatumGeoKey=4098]="VerticalDatumGeoKey",e[e.VerticalUnitsGeoKey=4099]="VerticalUnitsGeoKey"}(HX||(HX={})),function(e){e[e.BYTE=1]="BYTE",e[e.ASCII=2]="ASCII",e[e.SHORT=3]="SHORT",e[e.LONG=4]="LONG",e[e.RATIONAL=5]="RATIONAL",e[e.SBYTE=6]="SBYTE",e[e.UNDEFINED=7]="UNDEFINED",e[e.SSHORT=8]="SSHORT",e[e.SLONG=9]="SLONG",e[e.SRATIONAL=10]="SRATIONAL",e[e.FLOAT=11]="FLOAT",e[e.DOUBLE=12]="DOUBLE",e[e.LONG8=16]="LONG8",e[e.SLONG8=17]="SLONG8",e[e.IFD8=18]="IFD8"}(WX||(WX={})),function(e){e[e.UInt8=1]="UInt8",e[e.UInt16=2]="UInt16",e[e.UInt32=4]="UInt32",e[e.UInt64=8]="UInt64",e[e.Double=8]="Double",e[e.Float=4]="Float"}(GX||(GX={})),"undefined"===typeof setImmediate?setTimeout:setImmediate;var XX=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)};var $X=function(e,t){return String.fromCharCode(e.getUint8(t))},JX=function(e,t){return e.getUint8(t)},QX=function(e,t){return e.getUint16(t)},e$=function(e,t){return e.getUint32(t)},t$=function(e,t){return e.getUint64(t)},n$=function(e,t){return XX(e.bytes(t,GX.Double),0,e.isLittleEndian,52,8)},r$=function(e,t){return[e.getUint32(t),e.getUint32(t+4)]};function i$(e){switch(e){case WX.ASCII:return $X;case WX.BYTE:case WX.UNDEFINED:case WX.SBYTE:return JX;case WX.SHORT:case WX.SSHORT:return QX;case WX.LONG:case WX.SLONG:return e$;case WX.RATIONAL:case WX.SRATIONAL:return r$;case WX.DOUBLE:return n$;case WX.LONG8:return t$;default:throw new Error('Unknown read type "'.concat(e,'" "').concat(WX[e],'"'))}}var o$,a$,s$,u$,l$,c$=function(){function e(t,n,r){(0,Vt.Z)(this,e),this.tiff=n,this.byteOffset=r,this.id=t,this.name=VX[this.id],this.dataType=this.tiff.source.getUint16(r+2),this.dataCount=this.tiff.source.getUint(r+4,this.tiff.ifdConfig.pointer),this.dataTypeSize=function(e){switch(e){case WX.BYTE:case WX.ASCII:case WX.SBYTE:case WX.UNDEFINED:return 1;case WX.SHORT:case WX.SSHORT:return 2;case WX.LONG:case WX.SLONG:case WX.FLOAT:return 4;case WX.RATIONAL:case WX.SRATIONAL:case WX.DOUBLE:case WX.LONG8:case WX.SLONG8:case WX.IFD8:return 8;default:throw new Error("Invalid fieldType ".concat(e))}}(this.dataType),this.dataLength=this.dataTypeSize*this.dataCount}return(0,Ht.Z)(e,[{key:"hasBytes",get:function(){return this.tiff.source.hasBytes(this.valuePointer,this.dataLength)}},{key:"isReady",get:function(){return!0}},{key:"dataTypeName",get:function(){return WX[this.dataType]}},{key:"valuePointer",get:function(){var e=this.size-this.tiff.ifdConfig.pointer;return this.isValueInline?this.byteOffset+e:this.tiff.source.getUint(this.byteOffset+e,this.tiff.ifdConfig.pointer)}},{key:"size",get:function(){return this.tiff.ifdConfig.ifd}},{key:"isValueInline",get:function(){return this.dataLength<=this.tiff.ifdConfig.pointer}},{key:"readValue",value:function(){var e=this.valuePointer,t=this.dataTypeSize,n=i$(this.dataType),r=this.dataCount,i=r*t;if(1===r)return n(this.tiff.source,e);for(var o=[],a=0;a<i;a+=t)o.push(n(this.tiff.source,e+a));return this.dataType===WX.ASCII?o.join("").trim():o}},{key:"toJSON",value:function(){return{id:this.id,name:this.name,offset:this.byteOffset,isReady:this.isReady,type:this.dataTypeName,value:this.value}}}]),e}(),h$=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;return(0,Vt.Z)(this,n),(e=t.apply(this,arguments)).value=null,e}return(0,Ht.Z)(n,[{key:"isReady",get:function(){return null!=this.value}},{key:"fetch",value:function(){var e=ZT(BT().mark((function e(){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.tiff.source.hasBytes(this.valuePointer,this.dataLength)){e.next=3;break}return e.next=3,this.tiff.source.loadBytes(this.valuePointer,this.dataLength);case 3:return this.value=this.readValue(),e.abrupt("return",this.value);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(c$),f$=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e,r,i){var o;return(0,Vt.Z)(this,n),(o=t.call(this,e,r,i)).loadedValues=null,o}return(0,Ht.Z)(n,[{key:"value",get:function(){return null!=this.loadedValues?this.loadedValues:this.hasBytes?(this.readValue(),this.loadedValues):null}},{key:"load",value:function(){var e=ZT(BT().mark((function e(){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tiff.source.loadBytes(this.valuePointer,this.dataLength);case 2:this.readValue();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readValue",value:function(){var e=KM((0,lx.Z)(n.prototype),"readValue",this).call(this);return this.loadedValues="number"===typeof e?[e]:e,this.loadedValues}},{key:"getValueAt",value:function(){var e=ZT(BT().mark((function e(t){var n,r,i;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loadedValues){e.next=2;break}return e.abrupt("return",this.loadedValues[t]);case 2:if(n=this.dataTypeSize,r=this.valuePointer+n*t,i=i$(this.dataType),this.tiff.source.hasBytes(r,n)){e.next=8;break}return e.next=8,this.tiff.source.loadBytes(r,n);case 8:return e.abrupt("return",i(this.tiff.source,r));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(c$),d$=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;return(0,Vt.Z)(this,n),(e=t.apply(this,arguments))._isRead=!1,e._value=null,e}return(0,Ht.Z)(n,[{key:"value",get:function(){return!1===this._isRead&&(this._value=this.readValue(),this._isRead=!0),this._value}}]),n}(c$),p$=function(e,t){var n=e.source.getUint16(t);if(n===VX.TileOffsets||n===VX.TileByteCounts||n===VX.StripByteCounts||n===VX.StripOffsets)return new f$(n,e,t);var r=new d$(n,e,t);return r.hasBytes?r:new h$(n,e,t)},v$=function(e){return e instanceof h$},g$=function(){function e(t,n,r){(0,Vt.Z)(this,e),this.tagsGeoLoaded=!1,this.tagsGeo=new Map,this.tif=t,this.id=n,this.tags=r}return(0,Ht.Z)(e,[{key:"init",value:function(){var e=ZT(BT().mark((function e(){var t,n,r=arguments;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],n=[this.fetch(VX.Compression),this.fetch(VX.ImageHeight),this.fetch(VX.ImageWidth),this.fetch(VX.ModelPixelScale),this.fetch(VX.ModelTiePoint),this.fetch(VX.ModelTransformation),this.fetch(VX.TileHeight),this.fetch(VX.TileWidth)],t&&(n.push(this.fetch(VX.GeoKeyDirectory)),n.push(this.fetch(VX.GeoAsciiParams)),n.push(this.fetch(VX.GeoDoubleParams))),e.next=5,Promise.all(n);case 5:if(!t){e.next=8;break}return e.next=8,this.loadGeoTiffTags();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"value",value:function(e){var t=this.tags.get(e);return null==t?null:t.value}},{key:"loadGeoTiffTags",value:function(){var e=ZT(BT().mark((function e(){var t,n,r,i,o,a,s,u;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.tagsGeoLoaded){e.next=2;break}return e.abrupt("return");case 2:if(null!=(t=this.tags.get(VX.GeoKeyDirectory))){e.next=6;break}return this.tagsGeoLoaded=!0,e.abrupt("return");case 6:if(t.isReady||!(t instanceof h$)){e.next=9;break}return e.next=9,Promise.all([this.fetch(VX.GeoKeyDirectory),this.fetch(VX.GeoAsciiParams),this.fetch(VX.GeoDoubleParams)]);case 9:if(this.tagsGeoLoaded=!0,null!=t.value){e.next=12;break}return e.abrupt("return");case 12:if(n=t.value,Array.isArray(n)){e.next=15;break}throw new Error("Invalid geo tags found");case 15:r=4;case 16:if(!(r<=4*n[3])){e.next=31;break}if(i=n[r],o=n[r+1],a=n[r+3],0!==o){e.next=23;break}return this.tagsGeo.set(i,a),e.abrupt("continue",28);case 23:if(null!=(s=this.tags.get(o))&&null!=s.value){e.next=26;break}return e.abrupt("continue",28);case 26:u=n[r+2],Array.isArray(s.value)?this.tagsGeo.set(i,s.value[a+u-1]):"string"===typeof s.value&&this.tagsGeo.set(i,s.value.substr(a,a+u-1).trim());case 28:r+=4,e.next=16;break;case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"valueGeo",value:function(e){if(!1===this.tagsGeoLoaded)throw new Error("loadGeoTiffTags() has not been called");return this.tagsGeo.get(e)}},{key:"fetch",value:function(){var e=ZT(BT().mark((function e(t){var n;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=this.tags.get(t))){e.next=3;break}return e.abrupt("return",null);case 3:if(!v$(n)){e.next=5;break}return e.abrupt("return",n.fetch());case 5:return e.abrupt("return",n.value);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"origin",get:function(){var e=this.value(VX.ModelTiePoint);if(null!=e&&6===e.length)return[e[3],e[4],e[5]];var t=this.value(VX.ModelTransformation);if(null!=t)return[t[3],t[7],t[11]];if(1===this.value(VX.NewSubFileType)&&0!==this.id)return this.tif.images[0].origin;throw new Error("Image does not have a geo transformation.")}},{key:"isGeoLocated",get:function(){return!(null==this.value(VX.ModelPixelScale)&&null==this.value(VX.ModelTransformation))||1===this.value(VX.NewSubFileType)&&0!==this.id&&this.tif.images[0].isGeoLocated}},{key:"resolution",get:function(){var e=this.value(VX.ModelPixelScale);if(null!=e)return[e[0],-e[1],e[2]];var t=this.value(VX.ModelTransformation);if(null!=t)return[t[0],t[5],t[10]];if(1===this.value(VX.NewSubFileType)&&0!==this.id){var n=this.tif.images[0],r=v(n.resolution,3),i=r[0],o=r[1],a=r[2],s=n.size,u=this.size;return[i*s.width/u.width,o*s.height/u.height,a]}throw new Error("Image does not have a geo transformation.")}},{key:"bbox",get:function(){var e=this.size,t=this.origin,n=this.resolution;if(null==t||null==e||null==n)throw new Error("Unable to calculate bounding box");var r=t[0],i=t[1],o=r+n[0]*e.width,a=i+n[1]*e.height;return[Math.min(r,o),Math.min(i,a),Math.max(r,o),Math.max(i,a)]}},{key:"compression",get:function(){var e=this.value(VX.Compression);return null==e||"number"!==typeof e?null:qX[e]}},{key:"epsg",get:function(){var e=this.valueGeo(HX.ProjectedCSTypeGeoKey);return 32767===e?null:e}},{key:"size",get:function(){return{width:this.value(VX.ImageWidth),height:this.value(VX.ImageHeight)}}},{key:"tagList",get:function(){return(0,g.Z)(this.tags.keys()).map((function(e){return VX[e]}))}},{key:"isTiled",value:function(){return null!==this.value(VX.TileWidth)}},{key:"tileSize",get:function(){return{width:this.value(VX.TileWidth),height:this.value(VX.TileHeight)}}},{key:"tileCount",get:function(){var e=this.size,t=this.tileSize;return{x:Math.ceil(e.width/t.width),y:Math.ceil(e.height/t.height)}}},{key:"tileOffset",get:function(){var e=this.tags.get(VX.TileOffsets);if(null==e)throw new Error("No tile offsets found");return e}},{key:"stripCount",get:function(){var e=this.tags.get(VX.StripByteCounts);return null==e?0:e.dataCount}},{key:"getTileOffset",value:function(){var e=ZT(BT().mark((function e(t){var n;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.tileOffset,!(t<0||t>n.dataCount)){e.next=3;break}throw new Error("Tile offset: ".concat(t," out of range: 0 -> ").concat(n.dataCount));case 3:return e.abrupt("return",n.getValueAt(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTileBounds",value:function(e,t){var n=this.size,r=this.tileSize,i=t*r.height,o=e*r.width;return{x:o,y:i,width:o+r.width>=n.width?n.width-o:r.width,height:i+r.height>=n.height?n.height-i:r.height}}},{key:"getStrip",value:function(){var e=ZT(BT().mark((function e(t){var n,r,i,o,a,s;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isTiled()){e.next=2;break}throw new Error("Cannot read stripes, tiff is tiled");case 2:if(n=this.tags.get(VX.StripByteCounts),r=this.tags.get(VX.StripOffsets),!(t>=n.dataCount)){e.next=6;break}throw new Error("Cannot read strip, index out of bounds");case 6:return e.next=8,Promise.all([r.getValueAt(t),n.getValueAt(t)]);case 8:return i=e.sent,o=v(i,2),a=o[0],s=o[1],e.abrupt("return",this.getBytes(a,s));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getJpegHeader",value:function(e){var t=this.value(VX.JPEGTables);if(null==t)throw new Error("Unable to find Jpeg header");var n=t.slice(0,t.length-2),r=new Uint8Array(e.byteLength+n.length-2);return r.set(n,0),r.set(e.slice(2),n.length),r}},{key:"getBytes",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=this.compression)){e.next=3;break}throw new Error("Unsupported compression: "+this.value(VX.Compression));case 3:if(0!==n){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.tif.source.loadBytes(t,n);case 7:if(i=this.tif.source.bytes(t,n),this.compression!==NX.JPEG){e.next=10;break}return e.abrupt("return",{mimeType:r,bytes:this.getJpegHeader(i)});case 10:return e.abrupt("return",{mimeType:r,bytes:i});case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTile",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o,a,s,u,l,c,h,f;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.compression,i=this.size,null!=(o=this.tileSize)){e.next=5;break}throw new Error("Tiff is not tiled");case 5:if(null!=r){e.next=7;break}throw new Error("Unsupported compression: "+this.value(VX.Compression));case 7:if(a=Math.ceil(i.height/o.height),s=Math.ceil(i.width/o.width),!(t>=s||n>=a)){e.next=11;break}throw new Error("Tile index is outside of range x:".concat(t," >= ").concat(s," or y:").concat(n," >= ").concat(a));case 11:if(!((u=n*s+t)>=(l=s*a))){e.next=15;break}throw new Error("Tile index is outside of tile range: ".concat(u," >= ").concat(l));case 15:return e.next=17,this.getTileSize(u);case 17:return c=e.sent,h=c.offset,f=c.imageSize,e.abrupt("return",this.getBytes(h,f));case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"hasTile",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o,a,s,u;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.tileSize,i=this.size,null!=r){e.next=4;break}throw new Error("Tiff is not tiled");case 4:if(o=Math.ceil(i.height/r.height),a=Math.ceil(i.width/r.width),!(t>=a||n>=o)){e.next=8;break}return e.abrupt("return",!1);case 8:return s=n*a+t,e.next=11,this.getTileSize(s);case 11:return u=e.sent,e.abrupt("return",u.offset>0);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTileSize",value:function(){var e=ZT(BT().mark((function e(t){var n,r,i,o,a,s,u;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.tif.options.tileLeaderByteSize)){e.next=10;break}return e.next=4,this.getTileOffset(t);case 4:if(0!==(r=e.sent)){e.next=7;break}return e.abrupt("return",{offset:0,imageSize:0});case 7:return e.next=9,this.tif.source.loadBytes(r-n,n);case 9:return e.abrupt("return",{offset:r,imageSize:this.tif.source.getUint(r-n,n)});case 10:if(null!=(i=this.tags.get(VX.TileByteCounts))){e.next=13;break}throw new Error("No tile byte counts found");case 13:return e.next=15,Promise.all([this.getTileOffset(t),i.getValueAt(t)]);case 15:return o=e.sent,a=v(o,2),s=a[0],u=a[1],e.abrupt("return",{offset:s,imageSize:u});case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e[e.Big=19789]="Big",e[e.Little=18761]="Little"}(o$||(o$={})),function(e){e[e.BigTiff=43]="BigTiff",e[e.Tiff=42]="Tiff"}(a$||(a$={})),function(e){e.GDAL_STRUCTURAL_METADATA_SIZE="GDAL_STRUCTURAL_METADATA_SIZE",e.LAYOUT="LAYOUT",e.BLOCK_ORDER="BLOCK_ORDER",e.BLOCK_LEADER="BLOCK_LEADER",e.BLOCK_TRAILER="BLOCK_TRAILER",e.KNOWN_INCOMPATIBLE_EDITION="KNOWN_INCOMPATIBLE_EDITION",e.MASK_INTERLEAVED_WITH_IMAGERY="MASK_INTERLEAVED_WITH_IMAGERY"}(s$||(s$={})),function(e){e.RowMajor="ROW_MAJOR"}(u$||(u$={})),function(e){e.uint32="SIZE_AS_UINT4"}(l$||(l$={}));var m$=function(){function e(){(0,Vt.Z)(this,e),this.options=new Map}return(0,Ht.Z)(e,[{key:"isCogOptimized",get:function(){return!this.isBroken&&"IFDS_BEFORE_DATA"===this.options.get(s$.LAYOUT)}},{key:"isBroken",get:function(){return"YES"===this.options.get(s$.KNOWN_INCOMPATIBLE_EDITION)}},{key:"process",value:function(e){for(var t="",n="",r=!1,i=0;i<e.length;i++){var o=e[i];if(0===o)break;var a=String.fromCharCode(o);"\n"===a?(this.options.set(t.trim(),n.trim()),t="",n="",r=!1):"="===a?r=!0:r?n+=a:t+=a}}},{key:"tileLeaderByteSize",get:function(){return this.options.get(s$.BLOCK_LEADER)===l$.uint32?GX.UInt32:null}},{key:"isMaskInterleaved",get:function(){return"YES"===this.options.get(s$.MASK_INTERLEAVED_WITH_IMAGERY)}}]),e}(),y$={version:a$.Tiff,pointer:GX.UInt32,offset:GX.UInt16,ifd:GX.UInt16+GX.UInt16+2*GX.UInt32},b$={version:a$.BigTiff,pointer:GX.UInt64,offset:GX.UInt64,ifd:GX.UInt16+GX.UInt16+2*GX.UInt64},_$={};(0,re.Z)(_$,a$.BigTiff,b$),(0,re.Z)(_$,a$.Tiff,y$);var w$=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,Vt.Z)(this,e),this.tiff=t,this.byteOffset=n,this.relativeOffset=0}return(0,Ht.Z)(e,[{key:"currentOffset",get:function(){return this.byteOffset+this.relativeOffset}},{key:"seekTo",value:function(e){return this.byteOffset=e,this.relativeOffset=0,this}},{key:"seek",value:function(e){var t=this.currentOffset;return this.relativeOffset+=e,t}},{key:"bytes",value:function(e){return this.tiff.source.bytes(this.seek(e),e)}},{key:"uint",value:function(e){return this.tiff.source.getUint(this.seek(e),e)}},{key:"uint8",value:function(){return this.tiff.source.getUint8(this.seek(GX.UInt8))}},{key:"uint16",value:function(){return this.tiff.source.getUint16(this.seek(GX.UInt16))}},{key:"uint32",value:function(){return this.tiff.source.getUint32(this.seek(GX.UInt32))}},{key:"uint64",value:function(){return this.tiff.source.getUint64(this.seek(GX.UInt64))}},{key:"pointer",value:function(){var e=this.tiff.ifdConfig.pointer;return this.tiff.source.getUint(this.seek(e),e)}},{key:"offset",value:function(){var e=this.tiff.ifdConfig.offset;return this.tiff.source.getUint(this.seek(e),e)}},{key:"float",value:function(){return XX(this.bytes(GX.Float),0,this.tiff.source.isLittleEndian,23,4)}},{key:"double",value:function(){return XX(this.bytes(GX.Double),0,this.tiff.source.isLittleEndian,52,8)}}]),e}();function E$(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.toString(16).padStart(t,"0");return n?"0x"+r:r}var S$,x$=function(){function e(t){(0,Vt.Z)(this,e),this.version=a$.Tiff,this.images=[],this.options=new m$,this.ifdConfig=y$,this.isInitialized=!1,this.source=t,this.cursor=new w$(this)}return(0,Ht.Z)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._initPromise||(this._initPromise=this.doInit(e)),this._initPromise}},{key:"doInit",value:function(){var e=ZT(BT().mark((function e(){var t,n=arguments;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],!this.isInitialized){e.next=3;break}return e.abrupt("return",this);case 3:return e.next=5,this.source.loadBytes(0,this.source.chunkSize);case 5:return e.next=7,this.fetchIfd();case 7:return e.next=9,Promise.all(this.images.map((function(e){return e.init(t)})));case 9:return this.isInitialized=!0,e.abrupt("return",this);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchIfd",value:function(){var e=ZT(BT().mark((function e(){var t,n,r,i;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.cursor.seekTo(0),n=t.uint16(),this.source.isLittleEndian=n===o$.Little,this.source.isLittleEndian){e.next=5;break}throw new Error("Only little endian is supported");case 5:if(this.version=t.uint16(),this.version!==a$.BigTiff){e.next=17;break}if(this.ifdConfig=b$,8===t.uint16()){e.next=11;break}throw new Error("Only 8byte pointers are supported");case 11:if(0===t.uint16()){e.next=14;break}throw new Error("Invalid big tiff header");case 14:r=t.pointer(),e.next=22;break;case 17:if(this.version!==a$.Tiff){e.next=21;break}r=t.pointer(),e.next=22;break;case 21:throw new Error("Only tiff supported version:".concat(this.version));case 22:return(i=r-this.cursor.currentOffset)>0&&i<16384&&this.options.process(t.bytes(i)),e.abrupt("return",this.processIfd(r));case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getImage",value:function(e){return this.images[e]}},{key:"getImageByResolution",value:function(e){for(var t=this.images[0],n=t.size,r=v(t.resolution,1)[0]*n.width,i=this.images.length-1;i>0;i--){var o=this.images[i];if(r/o.size.width-e<=.01)return o}return t}},{key:"getTile",value:function(){var e=ZT(BT().mark((function e(t,n,r){var i;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(i=this.getImage(r))){e.next=3;break}throw new Error("Missing z: ".concat(r));case 3:if(i.isTiled()){e.next=5;break}throw new Error("Tif is not tiled");case 5:return e.abrupt("return",i.getTile(t,n));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"processIfd",value:function(){var e=ZT(BT().mark((function e(t){var n,r,i;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readIfd(t);case 2:if(n=e.sent,r=n.image,i=n.nextOffset,this.images.push(r),!i){e.next=9;break}return e.next=9,this.processIfd(i);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readIfd",value:function(){var e=ZT(BT().mark((function e(t){var n,r,i,o,a,s,u,l,c;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.source.hasBytes(t,4096)){e.next=3;break}return e.next=3,this.source.loadBytes(t,4096);case 3:n=this.cursor.seekTo(t),r=n.offset(),i=t+this.ifdConfig.offset,o=new Map,a=i,s=0;case 9:if(!(s<r)){e.next=18;break}if(u=p$(this,a),a+=u.size,null!=u.name){e.next=14;break}throw new Error("Unknown IFD Tag: "+E$(u.id));case 14:o.set(u.id,u);case 15:s++,e.next=9;break;case 18:return l=new g$(this,this.images.length,o),c=this.source.getUint(a,this.ifdConfig.pointer),e.abrupt("return",{nextOffset:c,image:l});case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=ZT(BT().mark((function e(){var t,n;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=null===(t=this.source)||void 0===t?void 0:t.close)||void 0===n?void 0:n.call(t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"create",value:function(t){return new e(t).init()}}]),e}();!function(e){e[e.UInt8=1]="UInt8",e[e.UInt16=2]="UInt16",e[e.UInt32=4]="UInt32",e[e.UInt64=8]="UInt64",e[e.Double=8]="Double",e[e.Float=4]="Float"}(S$||(S$={}));var M$=Math.pow(2,32),k$="undefined"===typeof setImmediate?setTimeout:setImmediate,A$=function(){throw new Error("Method not implemented.")},T$=function(){function e(){(0,Vt.Z)(this,e),this.isLittleEndian=!0,this.delayMs=1,this.maxChunkCount=10,this.chunks=new Map,this.requests=[],this.isRequestsTracked=e.DefaultTrackRequests,this.blankFillCount=16,this.maxConcurrentRequests=50,this.toFetch=new Set,this.toFetchPromise=null,this.byteOffset=0,this.getFloat32=A$,this.getFloat64=A$,this.getInt8=A$,this.getInt16=A$,this.getInt32=A$,this.setFloat32=A$,this.setFloat64=A$,this.setInt8=A$,this.setInt16=A$,this.setInt32=A$,this.setUint8=A$,this.setUint16=A$,this.setUint32=A$,this.setBigInt64=A$,this.setBigUint64=A$}return(0,Ht.Z)(e,[{key:"fetchData",value:function(){var t=ZT(BT().mark((function t(n){var r,i,o,a,s,u,l,c,h,f,d,p,v,g,m,y,b,_,w;return BT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.toFetch.size){t.next=2;break}return t.abrupt("return");case 2:r=this.toFetch,this.toFetch=new Set,this.toFetchPromise=null,i=e.getByteRanges(r,this.maxChunkCount,this.blankFillCount),o=Date.now(),a=gx(i.chunks),t.prev=8,a.s();case 10:if((s=a.n()).done){t.next=32;break}return u=s.value,l=u[0],c=u[u.length-1],h={startAt:o,requestStartAt:Date.now(),endAt:-1,chunks:u},f=l*this.chunkSize,d=c*this.chunkSize+this.chunkSize-f,p=Date.now(),t.next=20,this.fetchBytes(f,d,n);case 20:if(v=t.sent,h.endAt=Date.now(),this.isRequestsTracked&&this.requests.push(h),null===n||void 0===n||n.info({uri:this.uri,source:this.type,bytes:d,chunks:u,chunkCount:u.length,duration:Date.now()-p},"FetchChunk"),1!==u.length){t.next=27;break}return this.chunks.set(l,new DataView(v)),t.abrupt("continue",30);case 27:g=l*this.chunkSize,m=gx(u);try{for(m.s();!(y=m.n()).done;)b=y.value,_=b*this.chunkSize-g,w=v.slice(_,_+this.chunkSize),this.chunks.set(b,new DataView(w))}catch(YJ){m.e(YJ)}finally{m.f()}case 30:t.next=10;break;case 32:t.next=37;break;case 34:t.prev=34,t.t0=t.catch(8),a.e(t.t0);case 37:return t.prev=37,a.f(),t.finish(37);case 40:case"end":return t.stop()}}),t,this,[[8,34,37,40]])})));return function(e){return t.apply(this,arguments)}}()},{key:"loadBytes",value:function(){var e=ZT(BT().mark((function e(t,n,r){var i,o,a,s=this;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<0)){e.next=2;break}throw new Error("Offset must be positive");case 2:i=Math.floor(t/this.chunkSize),o=Math.ceil((t+n)/this.chunkSize)-1,a=i;case 5:if(!(a<=o)){e.next=12;break}if(!this.chunks.has(a)){e.next=8;break}return e.abrupt("continue",9);case 8:this.toFetch.add(a);case 9:a++,e.next=5;break;case 12:if(0!==this.toFetch.size){e.next=14;break}return e.abrupt("return");case 14:if(null==this.toFetchPromise&&(this.toFetchPromise=new Promise((function(e){return k$(e,1)})).then((function(){return s.fetchData(r)}))),!(this.toFetch.size>this.maxConcurrentRequests)){e.next=17;break}throw new Error("Too many outstanding requests");case 17:return e.next=19,this.toFetchPromise;case 19:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getChunkId",value:function(e){return Math.floor(e/this.chunkSize)}},{key:"getUint",value:function(e,t){switch(t){case S$.UInt8:return this.getUint8(e);case S$.UInt16:return this.getUint16(e);case S$.UInt32:return this.getUint32(e);case S$.UInt64:return this.getUint64(e)}}},{key:"bytes",value:function(e,t){var n=this.isOneChunk(e,t);if(n){var r=this.getView(n),i=e-n*this.chunkSize;return new Uint8Array(r.buffer.slice(i,i+t))}for(var o=new Uint8Array(t),a=e+t,s=Math.floor(e/this.chunkSize),u=Math.ceil((e+t)/this.chunkSize)-1,l=0,c=s;c<=u;c++){var h=e+l,f=c*this.chunkSize,d=this.getView(c),p=Math.min(a,f+this.chunkSize),v=d.buffer.slice(h-f,p-f);o.set(new Uint8Array(v),l),l+=v.byteLength}return o}},{key:"getView",value:function(e){var t=this.chunks.get(e);if(null==t)throw new Error("Chunk:".concat(e," is not ready"));return t}},{key:"isOneChunk",value:function(e,t){var n=Math.floor(e/this.chunkSize);return Math.floor((e+t)/this.chunkSize)-n<1?Math.floor(n):null}},{key:"hasBytes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Math.floor(e/this.chunkSize),r=Math.ceil((e+t)/this.chunkSize)-1,i=n;i<=r;i++)if(!this.chunks.has(i))return!1;return!0}},{key:"toRange",value:function(e,t){if(null==t)return"bytes=".concat(e);if(e<0)throw new Error("Cannot read from remote source with negative offset and length");return"bytes=".concat(e,"-").concat(e+t)}},{key:"parseContentRange",value:function(e){var t=v(e.split(" "),2),n=t[0],r=t[1];if("bytes"!==n)throw new Error("Failed to parse content-range: "+e);if(null==r)throw new Error("Failed to parse content-range: "+e);var i=v(r.split("/"),2)[1],o=Number(i);if(isNaN(o))throw new Error("Failed to parse content-range: "+e);return o}},{key:"buffer",get:function(){throw new Error("Method not implemented.")}},{key:"byteLength",get:function(){if(this._byteLength)return this._byteLength;throw Error(".size() has not been feteched.")}},{key:"getUint8",value:function(e){var t=this.getChunkId(e);return this.getView(t).getUint8(e-t*this.chunkSize)}},{key:"getUint16",value:function(e){var t=this.isOneChunk(e,S$.UInt8);if(null!=t)return this.getView(t).getUint16(e-t*this.chunkSize,this.isLittleEndian);var n=this.getUint8(e),r=this.getUint8(e+S$.UInt8);return this.isLittleEndian?n+(r<<8):(n<<8)+r}},{key:"getUint32",value:function(e){var t=this.isOneChunk(e,S$.UInt32);if(null!=t)return this.getView(t).getUint32(e-t*this.chunkSize,this.isLittleEndian);var n=this.getUint16(e),r=this.getUint16(e+S$.UInt16);return this.isLittleEndian?n+65536*r:65536*n+r}},{key:"getUint64",value:function(e){var t=this.isOneChunk(e,S$.UInt64);if(null!=t){var n=this.getView(t);return Number(n.getBigUint64(e-t*this.chunkSize,this.isLittleEndian))}var r=this.getUint32(e),i=this.getUint32(e+S$.UInt32);return this.isLittleEndian?r+i*M$:r*M$+i}},{key:"getBigUint64",value:function(e){var t=this.isOneChunk(e,S$.UInt64);if(null!=t)return this.getView(t).getBigUint64(e-t*this.chunkSize,this.isLittleEndian);var n=BigInt(this.getUint32(e)),r=BigInt(this.getUint32(e+S$.UInt32));return this.isLittleEndian?n+(r<<BigInt(32)):(n<<BigInt(32))+r}},{key:"getBigInt64",value:function(){throw new Error("Not implemented.")}}],[{key:"getByteRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;if(0===e.size)return{chunks:[],blankFill:[]};var r=(0,g.Z)(e.values()).sort((function(e,t){return e-t})),i=[],o=[];i.push(o);for(var a=[],s=0;s<r.length;++s){var u=r[s],l=r[s-1];if(o.length>=t)o=[u],i.push(o);else if(0===s||u===l+1)o.push(u);else if(u<l+n){for(var c=l;c<u;c++)o.push(c+1),a.push(c+1);a.pop()}else o=[u],i.push(o)}return{chunks:i,blankFill:a}}}]),e}();T$.DefaultTrackRequests=!1;var P$=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){var r;return(0,Vt.Z)(this,n),(r=t.call(this)).type="url",r.protocol="http",r.chunkSize=n.DefaultChunkSize,r.uri=e,r}return(0,Ht.Z)(n,[{key:"size",get:function(){var e=this;return this._size||(this._size=Promise.resolve().then(ZT(BT().mark((function t(){var r;return BT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.fetch(e.uri,{method:"HEAD"});case 2:return r=t.sent,t.abrupt("return",Number(r.headers.get("content-length")));case 4:case"end":return t.stop()}}),t)}))))),this._size}},{key:"fetchBytes",value:function(){var e=ZT(BT().mark((function e(t,r,i){var o,a,s,u;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.toRange(t,r),a={Range:o},e.next=4,n.fetch(this.uri,{headers:a});case 4:if(!(s=e.sent).ok){e.next=9;break}return u=s.headers.get("content-range"),null==this._size&&null!=u&&(this._size=Promise.resolve(this.parseContentRange(u))),e.abrupt("return",s.arrayBuffer());case 9:throw null===i||void 0===i||i.error({offset:t,bytes:r,status:s.status,statusText:s.statusText,url:this.uri},"Failed to fetch"),new Error("Failed to fetch");case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}],[{key:"isSource",value:function(e){return"url"===e.type}}]),n}(T$);P$.DefaultChunkSize=32768,P$.fetch=function(e,t){return fetch(e,t)};function O$(e){for(var t=e.length;--t>=0;)e[t]=0}var C$=256,R$=286,L$=30,I$=15,D$=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),j$=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),N$=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),B$=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z$=new Array(576);O$(z$);var Z$=new Array(60);O$(Z$);var F$=new Array(512);O$(F$);var U$=new Array(256);O$(U$);var K$=new Array(29);O$(K$);var V$,H$,W$,G$=new Array(L$);function q$(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function Y$(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}O$(G$);var X$=function(e){return e<256?F$[e]:F$[256+(e>>>7)]},$$=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},J$=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,$$(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Q$=function(e,t,n){J$(e,n[2*t],n[2*t+1])},eJ=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},tJ=function(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=I$;r++)a=a+n[r-1]<<1,o[r]=a;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=eJ(o[s]++,s))}},nJ=function(e){var t;for(t=0;t<R$;t++)e.dyn_ltree[2*t]=0;for(t=0;t<L$;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},rJ=function(e){e.bi_valid>8?$$(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},iJ=function(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},oJ=function(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&iJ(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!iJ(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},aJ=function(e,t,n){var r,i,o,a,s=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,i=e.pending_buf[e.sym_buf+s++],0===r?Q$(e,i,t):(o=U$[i],Q$(e,o+C$+1,t),0!==(a=D$[o])&&(i-=K$[o],J$(e,i,a)),r--,o=X$(r),Q$(e,o,n),0!==(a=j$[o])&&(r-=G$[o],J$(e,r,a)))}while(s<e.sym_next);Q$(e,256,t)},sJ=function(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)oJ(e,o,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],oJ(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,oJ(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,u=t.dyn_tree,l=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(o=0;o<=I$;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,v++),u[2*r+1]=o,r>l||(e.bl_count[o]++,a=0,r>=d&&(a=f[r-d]),s=u[2*r],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==v){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>l||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(e,t),tJ(o,l,e.bl_count)},uJ=function(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))},lJ=function(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<l)do{Q$(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(Q$(e,i,e.bl_tree),s--),Q$(e,16,e.bl_tree),J$(e,s-3,2)):s<=10?(Q$(e,17,e.bl_tree),J$(e,s-3,3)):(Q$(e,18,e.bl_tree),J$(e,s-11,7));s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4)}},cJ=!1,hJ=function(e,t,n,r){J$(e,0+(r?1:0),3),rJ(e),$$(e,n),$$(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},fJ=function(e){cJ||(!function(){var e,t,n,r,i,o=new Array(16);for(n=0,r=0;r<28;r++)for(K$[r]=n,e=0;e<1<<D$[r];e++)U$[n++]=r;for(U$[n-1]=r,i=0,r=0;r<16;r++)for(G$[r]=i,e=0;e<1<<j$[r];e++)F$[i++]=r;for(i>>=7;r<L$;r++)for(G$[r]=i<<7,e=0;e<1<<j$[r]-7;e++)F$[256+i++]=r;for(t=0;t<=I$;t++)o[t]=0;for(e=0;e<=143;)z$[2*e+1]=8,e++,o[8]++;for(;e<=255;)z$[2*e+1]=9,e++,o[9]++;for(;e<=279;)z$[2*e+1]=7,e++,o[7]++;for(;e<=287;)z$[2*e+1]=8,e++,o[8]++;for(tJ(z$,287,o),e=0;e<L$;e++)Z$[2*e+1]=5,Z$[2*e]=eJ(e,5);V$=new q$(z$,D$,257,R$,I$),H$=new q$(Z$,j$,0,L$,I$),W$=new q$(new Array(0),N$,0,19,7)}(),cJ=!0),e.l_desc=new Y$(e.dyn_ltree,V$),e.d_desc=new Y$(e.dyn_dtree,H$),e.bl_desc=new Y$(e.bl_tree,W$),e.bi_buf=0,e.bi_valid=0,nJ(e)},dJ=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<C$;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),sJ(e,e.l_desc),sJ(e,e.d_desc),a=function(e){var t;for(uJ(e,e.dyn_ltree,e.l_desc.max_code),uJ(e,e.dyn_dtree,e.d_desc.max_code),sJ(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*B$[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?hJ(e,t,n,r):4===e.strategy||o===i?(J$(e,2+(r?1:0),3),aJ(e,z$,Z$)):(J$(e,4+(r?1:0),3),function(e,t,n,r){var i;for(J$(e,t-257,5),J$(e,n-1,5),J$(e,r-4,4),i=0;i<r;i++)J$(e,e.bl_tree[2*B$[i]+1],3);lJ(e,e.dyn_ltree,t-1),lJ(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),aJ(e,e.dyn_ltree,e.dyn_dtree)),nJ(e),r&&rJ(e)},pJ=function(e,t,n){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(U$[n]+C$+1)]++,e.dyn_dtree[2*X$(t)]++),e.sym_next===e.sym_end},vJ={_tr_init:fJ,_tr_stored_block:hJ,_tr_flush_block:dJ,_tr_tally:pJ,_tr_align:function(e){J$(e,2,3),Q$(e,256,z$),function(e){16===e.bi_valid?($$(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},gJ=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0},mJ=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),yJ=function(e,t,n,r){var i=mJ,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e},bJ={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_J={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},wJ=vJ._tr_init,EJ=vJ._tr_stored_block,SJ=vJ._tr_flush_block,xJ=vJ._tr_tally,MJ=vJ._tr_align,kJ=_J.Z_NO_FLUSH,AJ=_J.Z_PARTIAL_FLUSH,TJ=_J.Z_FULL_FLUSH,PJ=_J.Z_FINISH,OJ=_J.Z_BLOCK,CJ=_J.Z_OK,RJ=_J.Z_STREAM_END,LJ=_J.Z_STREAM_ERROR,IJ=_J.Z_DATA_ERROR,DJ=_J.Z_BUF_ERROR,jJ=_J.Z_DEFAULT_COMPRESSION,NJ=_J.Z_FILTERED,BJ=_J.Z_HUFFMAN_ONLY,zJ=_J.Z_RLE,ZJ=_J.Z_FIXED,FJ=_J.Z_DEFAULT_STRATEGY,UJ=_J.Z_UNKNOWN,KJ=_J.Z_DEFLATED,VJ=258,HJ=262,WJ=42,GJ=113,qJ=666,YJ=function(e,t){return e.msg=bJ[t],t},XJ=function(e){return 2*e-(e>4?9:0)},$J=function(e){for(var t=e.length;--t>=0;)e[t]=0},JJ=function(e){var t,n,r,i=e.w_size;r=t=e.hash_size;do{n=e.head[--r],e.head[r]=n>=i?n-i:0}while(--t);r=t=i;do{n=e.prev[--r],e.prev[r]=n>=i?n-i:0}while(--t)},QJ=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},eQ=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},tQ=function(e,t){SJ(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,eQ(e.strm)},nQ=function(e,t){e.pending_buf[e.pending++]=t},rQ=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},iQ=function(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=gJ(e.adler,t,i,n):2===e.state.wrap&&(e.adler=yJ(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},oQ=function(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-HJ?e.strstart-(e.w_size-HJ):0,l=e.window,c=e.w_mask,h=e.prev,f=e.strstart+VJ,d=l[o+a-1],p=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===p&&l[n+a-1]===d&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<f);if(r=VJ-(f-o),o=f-VJ,r>a){if(e.match_start=t,a=r,r>=s)break;d=l[o+a-1],p=l[o+a]}}}while((t=h[t&c])>u&&0!==--i);return a<=e.lookahead?a:e.lookahead},aQ=function(e){var t,n,r,i=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-HJ)&&(e.window.set(e.window.subarray(i,i+i-n),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),JJ(e),n+=i),0===e.strm.avail_in)break;if(t=iQ(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=QJ(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=QJ(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<HJ&&0!==e.strm.avail_in)},sQ=function(e,t){var n,r,i,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,s=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i)break;if(i=e.strm.avail_out-i,n>(r=e.strstart-e.block_start)+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&t!==PJ||t===kJ||n!==r+e.strm.avail_in))break;a=t===PJ&&n===r+e.strm.avail_in?1:0,EJ(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,eQ(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(iQ(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return(s-=e.strm.avail_in)&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==kJ&&t!==PJ&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(iQ(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,o=(i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i)>e.w_size?e.w_size:i,((r=e.strstart-e.block_start)>=o||(r||t===PJ)&&t!==kJ&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=t===PJ&&0===e.strm.avail_in&&n===r?1:0,EJ(e,e.block_start,n,a),e.block_start+=n,eQ(e.strm)),a?3:1)},uQ=function(e,t){for(var n,r;;){if(e.lookahead<HJ){if(aQ(e),e.lookahead<HJ&&t===kJ)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=QJ(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-HJ&&(e.match_length=oQ(e,n)),e.match_length>=3)if(r=xJ(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=QJ(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=QJ(e,e.ins_h,e.window[e.strstart+1]);else r=xJ(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(tQ(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===PJ?(tQ(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(tQ(e,!1),0===e.strm.avail_out)?1:2},lQ=function(e,t){for(var n,r,i;;){if(e.lookahead<HJ){if(aQ(e),e.lookahead<HJ&&t===kJ)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=QJ(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-HJ&&(e.match_length=oQ(e,n),e.match_length<=5&&(e.strategy===NJ||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=xJ(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=QJ(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(tQ(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=xJ(e,0,e.window[e.strstart-1]))&&tQ(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=xJ(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===PJ?(tQ(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(tQ(e,!1),0===e.strm.avail_out)?1:2};function cQ(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var hQ=[new cQ(0,0,0,0,sQ),new cQ(4,4,8,4,uQ),new cQ(4,5,16,8,uQ),new cQ(4,6,32,32,uQ),new cQ(4,4,16,16,lQ),new cQ(8,16,32,32,lQ),new cQ(8,16,128,128,lQ),new cQ(8,32,128,256,lQ),new cQ(32,128,258,1024,lQ),new cQ(32,258,258,4096,lQ)];function fQ(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=KJ,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),$J(this.dyn_ltree),$J(this.dyn_dtree),$J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),$J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),$J(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var dQ=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||t.status!==WJ&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==GJ&&t.status!==qJ?1:0},pQ=function(e){if(dQ(e))return YJ(e,LJ);e.total_in=e.total_out=0,e.data_type=UJ;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?WJ:GJ,e.adler=2===t.wrap?0:1,t.last_flush=-2,wJ(t),CJ},vQ=function(e){var t,n=pQ(e);return n===CJ&&((t=e.state).window_size=2*t.w_size,$J(t.head),t.max_lazy_match=hQ[t.level].max_lazy,t.good_match=hQ[t.level].good_length,t.nice_match=hQ[t.level].nice_length,t.max_chain_length=hQ[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},gQ=function(e,t,n,r,i,o){if(!e)return LJ;var a=1;if(t===jJ&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==KJ||r<8||r>15||t<0||t>9||o<0||o>ZJ||8===r&&1!==a)return YJ(e,LJ);8===r&&(r=9);var s=new fQ;return e.state=s,s.strm=e,s.status=WJ,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=o,s.method=n,vQ(e)},mQ=function(e,t){var n=t.length;if(dQ(e))return LJ;var r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==WJ||r.lookahead)return LJ;if(1===i&&(e.adler=gJ(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&($J(r.head),r.strstart=0,r.block_start=0,r.insert=0);var o=new Uint8Array(r.w_size);o.set(t.subarray(n-r.w_size,n),0),t=o,n=r.w_size}var a=e.avail_in,s=e.next_in,u=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,aQ(r);r.lookahead>=3;){var l=r.strstart,c=r.lookahead-2;do{r.ins_h=QJ(r,r.ins_h,r.window[l+3-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++}while(--c);r.strstart=l,r.lookahead=2,aQ(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=u,e.avail_in=a,r.wrap=i,CJ},yQ={deflateInit:function(e,t){return gQ(e,t,KJ,15,8,FJ)},deflateInit2:gQ,deflateReset:vQ,deflateResetKeep:pQ,deflateSetHeader:function(e,t){return dQ(e)||2!==e.state.wrap?LJ:(e.state.gzhead=t,CJ)},deflate:function(e,t){if(dQ(e)||t>OJ||t<0)return e?YJ(e,LJ):LJ;var n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===qJ&&t!==PJ)return YJ(e,0===e.avail_out?DJ:LJ);var r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(eQ(e),0===e.avail_out)return n.last_flush=-1,CJ}else if(0===e.avail_in&&XJ(t)<=XJ(r)&&t!==PJ)return YJ(e,DJ);if(n.status===qJ&&0!==e.avail_in)return YJ(e,DJ);if(n.status===WJ&&0===n.wrap&&(n.status=GJ),n.status===WJ){var i=KJ+(n.w_bits-8<<4)<<8;if(i|=(n.strategy>=BJ||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(i|=32),rQ(n,i+=31-i%31),0!==n.strstart&&(rQ(n,e.adler>>>16),rQ(n,65535&e.adler)),e.adler=1,n.status=GJ,eQ(e),0!==n.pending)return n.last_flush=-1,CJ}if(57===n.status)if(e.adler=0,nQ(n,31),nQ(n,139),nQ(n,8),n.gzhead)nQ(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),nQ(n,255&n.gzhead.time),nQ(n,n.gzhead.time>>8&255),nQ(n,n.gzhead.time>>16&255),nQ(n,n.gzhead.time>>24&255),nQ(n,9===n.level?2:n.strategy>=BJ||n.level<2?4:0),nQ(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(nQ(n,255&n.gzhead.extra.length),nQ(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=yJ(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(nQ(n,0),nQ(n,0),nQ(n,0),nQ(n,0),nQ(n,0),nQ(n,9===n.level?2:n.strategy>=BJ||n.level<2?4:0),nQ(n,3),n.status=GJ,eQ(e),0!==n.pending)return n.last_flush=-1,CJ;if(69===n.status){if(n.gzhead.extra){for(var o=n.pending,a=(65535&n.gzhead.extra.length)-n.gzindex;n.pending+a>n.pending_buf_size;){var s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=yJ(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=s,eQ(e),0!==n.pending)return n.last_flush=-1,CJ;o=0,a-=s}var u=new Uint8Array(n.gzhead.extra);n.pending_buf.set(u.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending+=a,n.gzhead.hcrc&&n.pending>o&&(e.adler=yJ(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){var l,c=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>c&&(e.adler=yJ(e.adler,n.pending_buf,n.pending-c,c)),eQ(e),0!==n.pending)return n.last_flush=-1,CJ;c=0}l=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,nQ(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>c&&(e.adler=yJ(e.adler,n.pending_buf,n.pending-c,c)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){var h,f=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>f&&(e.adler=yJ(e.adler,n.pending_buf,n.pending-f,f)),eQ(e),0!==n.pending)return n.last_flush=-1,CJ;f=0}h=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,nQ(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>f&&(e.adler=yJ(e.adler,n.pending_buf,n.pending-f,f))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(eQ(e),0!==n.pending))return n.last_flush=-1,CJ;nQ(n,255&e.adler),nQ(n,e.adler>>8&255),e.adler=0}if(n.status=GJ,eQ(e),0!==n.pending)return n.last_flush=-1,CJ}if(0!==e.avail_in||0!==n.lookahead||t!==kJ&&n.status!==qJ){var d=0===n.level?sQ(n,t):n.strategy===BJ?function(e,t){for(var n;;){if(0===e.lookahead&&(aQ(e),0===e.lookahead)){if(t===kJ)return 1;break}if(e.match_length=0,n=xJ(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(tQ(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===PJ?(tQ(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(tQ(e,!1),0===e.strm.avail_out)?1:2}(n,t):n.strategy===zJ?function(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=VJ){if(aQ(e),e.lookahead<=VJ&&t===kJ)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+VJ;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=VJ-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=xJ(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=xJ(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(tQ(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===PJ?(tQ(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(tQ(e,!1),0===e.strm.avail_out)?1:2}(n,t):hQ[n.level].func(n,t);if(3!==d&&4!==d||(n.status=qJ),1===d||3===d)return 0===e.avail_out&&(n.last_flush=-1),CJ;if(2===d&&(t===AJ?MJ(n):t!==OJ&&(EJ(n,0,0,!1),t===TJ&&($J(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),eQ(e),0===e.avail_out))return n.last_flush=-1,CJ}return t!==PJ?CJ:n.wrap<=0?RJ:(2===n.wrap?(nQ(n,255&e.adler),nQ(n,e.adler>>8&255),nQ(n,e.adler>>16&255),nQ(n,e.adler>>24&255),nQ(n,255&e.total_in),nQ(n,e.total_in>>8&255),nQ(n,e.total_in>>16&255),nQ(n,e.total_in>>24&255)):(rQ(n,e.adler>>>16),rQ(n,65535&e.adler)),eQ(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?CJ:RJ)},deflateEnd:function(e){if(dQ(e))return LJ;var t=e.state.status;return e.state=null,t===GJ?YJ(e,IJ):CJ},deflateSetDictionary:mQ,deflateInfo:"pako deflate (from Nodeca project)"},bQ=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_Q={assign:function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)bQ(n,r)&&(e[r]=n[r])}}return e},flattenChunks:function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var i=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var u=e[o];i.set(u,a),a+=u.length}return i}},wQ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Kre){wQ=!1}for(var EQ=new Uint8Array(256),SQ=0;SQ<256;SQ++)EQ[SQ]=SQ>=252?6:SQ>=248?5:SQ>=240?4:SQ>=224?3:SQ>=192?2:1;EQ[254]=EQ[254]=1;var xQ={string2buf:function(e){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296===(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320===(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)55296===(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320===(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},buf2string:function(e,t){var n,r,i=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var o=new Array(2*i);for(r=0,n=0;n<i;){var a=e[n++];if(a<128)o[r++]=a;else{var s=EQ[a];if(s>4)o[r++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<i;)a=a<<6|63&e[n++],s--;s>1?o[r++]=65533:a<65536?o[r++]=a:(a-=65536,o[r++]=55296|a>>10&1023,o[r++]=56320|1023&a)}}}return function(e,t){if(t<65534&&e.subarray&&wQ)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}(o,r)},utf8border:function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+EQ[e[n]]>t?n:t}};var MQ=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},kQ=Object.prototype.toString,AQ=_J.Z_NO_FLUSH,TQ=_J.Z_SYNC_FLUSH,PQ=_J.Z_FULL_FLUSH,OQ=_J.Z_FINISH,CQ=_J.Z_OK,RQ=_J.Z_STREAM_END,LQ=_J.Z_DEFAULT_COMPRESSION,IQ=_J.Z_DEFAULT_STRATEGY,DQ=_J.Z_DEFLATED;function jQ(e){this.options=_Q.assign({level:LQ,method:DQ,chunkSize:16384,windowBits:15,memLevel:8,strategy:IQ},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new MQ,this.strm.avail_out=0;var n=yQ.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==CQ)throw new Error(bJ[n]);if(t.header&&yQ.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"===typeof t.dictionary?xQ.string2buf(t.dictionary):"[object ArrayBuffer]"===kQ.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=yQ.deflateSetDictionary(this.strm,r))!==CQ)throw new Error(bJ[n]);this._dict_set=!0}}jQ.prototype.push=function(e,t){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?OQ:AQ,"string"===typeof e?i.input=xQ.string2buf(e):"[object ArrayBuffer]"===kQ.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(r===TQ||r===PQ)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((n=yQ.deflate(i,r))===RQ)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),n=yQ.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===CQ;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},jQ.prototype.onData=function(e){this.chunks.push(e)},jQ.prototype.onEnd=function(e){e===CQ&&(this.result=_Q.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var NQ=16209,BQ=function(e,t){var n,r,i,o,a,s,u,l,c,h,f,d,p,v,g,m,y,b,_,w,E,S,x,M,k=e.state;n=e.next_in,x=e.input,r=n+(e.avail_in-5),i=e.next_out,M=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=k.dmax,u=k.wsize,l=k.whave,c=k.wnext,h=k.window,f=k.hold,d=k.bits,p=k.lencode,v=k.distcode,g=(1<<k.lenbits)-1,m=(1<<k.distbits)-1;e:do{d<15&&(f+=x[n++]<<d,d+=8,f+=x[n++]<<d,d+=8),y=p[f&g];t:for(;;){if(f>>>=b=y>>>24,d-=b,0===(b=y>>>16&255))M[i++]=65535&y;else{if(!(16&b)){if(0===(64&b)){y=p[(65535&y)+(f&(1<<b)-1)];continue t}if(32&b){k.mode=16191;break e}e.msg="invalid literal/length code",k.mode=NQ;break e}_=65535&y,(b&=15)&&(d<b&&(f+=x[n++]<<d,d+=8),_+=f&(1<<b)-1,f>>>=b,d-=b),d<15&&(f+=x[n++]<<d,d+=8,f+=x[n++]<<d,d+=8),y=v[f&m];n:for(;;){if(f>>>=b=y>>>24,d-=b,!(16&(b=y>>>16&255))){if(0===(64&b)){y=v[(65535&y)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",k.mode=NQ;break e}if(w=65535&y,d<(b&=15)&&(f+=x[n++]<<d,(d+=8)<b&&(f+=x[n++]<<d,d+=8)),(w+=f&(1<<b)-1)>s){e.msg="invalid distance too far back",k.mode=NQ;break e}if(f>>>=b,d-=b,w>(b=i-o)){if((b=w-b)>l&&k.sane){e.msg="invalid distance too far back",k.mode=NQ;break e}if(E=0,S=h,0===c){if(E+=u-b,b<_){_-=b;do{M[i++]=h[E++]}while(--b);E=i-w,S=M}}else if(c<b){if(E+=u+c-b,(b-=c)<_){_-=b;do{M[i++]=h[E++]}while(--b);if(E=0,c<_){_-=b=c;do{M[i++]=h[E++]}while(--b);E=i-w,S=M}}}else if(E+=c-b,b<_){_-=b;do{M[i++]=h[E++]}while(--b);E=i-w,S=M}for(;_>2;)M[i++]=S[E++],M[i++]=S[E++],M[i++]=S[E++],_-=3;_&&(M[i++]=S[E++],_>1&&(M[i++]=S[E++]))}else{E=i-w;do{M[i++]=M[E++],M[i++]=M[E++],M[i++]=M[E++],_-=3}while(_>2);_&&(M[i++]=M[E++],_>1&&(M[i++]=M[E++]))}break}}break}}while(n<r&&i<a);n-=_=d>>3,f&=(1<<(d-=_<<3))-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),k.hold=f,k.bits=d},zQ=15,ZQ=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),FQ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),UQ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),KQ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),VQ=function(e,t,n,r,i,o,a,s){var u,l,c,h,f,d,p,v,g,m=s.bits,y=0,b=0,_=0,w=0,E=0,S=0,x=0,M=0,k=0,A=0,T=null,P=new Uint16Array(16),O=new Uint16Array(16),C=null;for(y=0;y<=zQ;y++)P[y]=0;for(b=0;b<r;b++)P[t[n+b]]++;for(E=m,w=zQ;w>=1&&0===P[w];w--);if(E>w&&(E=w),0===w)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(_=1;_<w&&0===P[_];_++);for(E<_&&(E=_),M=1,y=1;y<=zQ;y++)if(M<<=1,(M-=P[y])<0)return-1;if(M>0&&(0===e||1!==w))return-1;for(O[1]=0,y=1;y<zQ;y++)O[y+1]=O[y]+P[y];for(b=0;b<r;b++)0!==t[n+b]&&(a[O[t[n+b]]++]=b);if(0===e?(T=C=a,d=20):1===e?(T=ZQ,C=FQ,d=257):(T=UQ,C=KQ,d=0),A=0,b=0,y=_,f=o,S=E,x=0,c=-1,h=(k=1<<E)-1,1===e&&k>852||2===e&&k>592)return 1;for(;;){p=y-x,a[b]+1<d?(v=0,g=a[b]):a[b]>=d?(v=C[a[b]-d],g=T[a[b]-d]):(v=96,g=0),u=1<<y-x,_=l=1<<S;do{i[f+(A>>x)+(l-=u)]=p<<24|v<<16|g|0}while(0!==l);for(u=1<<y-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,b++,0===--P[y]){if(y===w)break;y=t[n+a[b]]}if(y>E&&(A&h)!==c){for(0===x&&(x=E),f+=_,M=1<<(S=y-x);S+x<w&&!((M-=P[S+x])<=0);)S++,M<<=1;if(k+=1<<S,1===e&&k>852||2===e&&k>592)return 1;i[c=A&h]=E<<24|S<<16|f-o|0}}return 0!==A&&(i[f+A]=y-x<<24|64<<16|0),s.bits=E,0},HQ=_J.Z_FINISH,WQ=_J.Z_BLOCK,GQ=_J.Z_TREES,qQ=_J.Z_OK,YQ=_J.Z_STREAM_END,XQ=_J.Z_NEED_DICT,$Q=_J.Z_STREAM_ERROR,JQ=_J.Z_DATA_ERROR,QQ=_J.Z_MEM_ERROR,e0=_J.Z_BUF_ERROR,t0=_J.Z_DEFLATED,n0=16180,r0=16190,i0=16191,o0=16192,a0=16194,s0=16199,u0=16200,l0=16206,c0=16209,h0=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function f0(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var d0,p0,v0=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||t.mode<n0||t.mode>16211?1:0},g0=function(e){if(v0(e))return $Q;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=n0,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,qQ},m0=function(e){if(v0(e))return $Q;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,g0(e)},y0=function(e,t){var n;if(v0(e))return $Q;var r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?$Q:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,m0(e))},b0=function(e,t){if(!e)return $Q;var n=new f0;e.state=n,n.strm=e,n.window=null,n.mode=n0;var r=y0(e,t);return r!==qQ&&(e.state=null),r},_0=!0,w0=function(e){if(_0){d0=new Int32Array(512),p0=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(VQ(1,e.lens,0,288,d0,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;VQ(2,e.lens,0,32,p0,0,e.work,{bits:5}),_0=!1}e.lencode=d0,e.lenbits=9,e.distcode=p0,e.distbits=5},E0=function(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},S0=function(e,t){var n,r,i,o,a,s,u,l,c,h,f,d,p,v,g,m,y,b,_,w,E,S,x,M,k=0,A=new Uint8Array(4),T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(v0(e)||!e.output||!e.input&&0!==e.avail_in)return $Q;(n=e.state).mode===i0&&(n.mode=o0),a=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,l=n.hold,c=n.bits,h=s,f=u,S=qQ;e:for(;;)switch(n.mode){case n0:if(0===n.wrap){n.mode=o0;break}for(;c<16;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}if(2&n.wrap&&35615===l){0===n.wbits&&(n.wbits=15),n.check=0,A[0]=255&l,A[1]=l>>>8&255,n.check=yJ(n.check,A,2,0),l=0,c=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=c0;break}if((15&l)!==t0){e.msg="unknown compression method",n.mode=c0;break}if(c-=4,E=8+(15&(l>>>=4)),0===n.wbits&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=c0;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&l?16189:i0,l=0,c=0;break;case 16181:for(;c<16;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}if(n.flags=l,(255&n.flags)!==t0){e.msg="unknown compression method",n.mode=c0;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=c0;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&4&n.wrap&&(A[0]=255&l,A[1]=l>>>8&255,n.check=yJ(n.check,A,2,0)),l=0,c=0,n.mode=16182;case 16182:for(;c<32;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}n.head&&(n.head.time=l),512&n.flags&&4&n.wrap&&(A[0]=255&l,A[1]=l>>>8&255,A[2]=l>>>16&255,A[3]=l>>>24&255,n.check=yJ(n.check,A,4,0)),l=0,c=0,n.mode=16183;case 16183:for(;c<16;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&4&n.wrap&&(A[0]=255&l,A[1]=l>>>8&255,n.check=yJ(n.check,A,2,0)),l=0,c=0,n.mode=16184;case 16184:if(1024&n.flags){for(;c<16;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&4&n.wrap&&(A[0]=255&l,A[1]=l>>>8&255,n.check=yJ(n.check,A,2,0)),l=0,c=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&((d=n.length)>s&&(d=s),d&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+d),E)),512&n.flags&&4&n.wrap&&(n.check=yJ(n.check,r,d,o)),s-=d,o+=d,n.length-=d),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break e;d=0;do{E=r[o+d++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&d<s);if(512&n.flags&&4&n.wrap&&(n.check=yJ(n.check,r,d,o)),s-=d,o+=d,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break e;d=0;do{E=r[o+d++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&d<s);if(512&n.flags&&4&n.wrap&&(n.check=yJ(n.check,r,d,o)),s-=d,o+=d,E)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;c<16;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}if(4&n.wrap&&l!==(65535&n.check)){e.msg="header crc mismatch",n.mode=c0;break}l=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=i0;break;case 16189:for(;c<32;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}e.adler=n.check=h0(l),l=0,c=0,n.mode=r0;case r0:if(0===n.havedict)return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=c,XQ;e.adler=n.check=1,n.mode=i0;case i0:if(t===WQ||t===GQ)break e;case o0:if(n.last){l>>>=7&c,c-=7&c,n.mode=l0;break}for(;c<3;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}switch(n.last=1&l,c-=1,3&(l>>>=1)){case 0:n.mode=16193;break;case 1:if(w0(n),n.mode=s0,t===GQ){l>>>=2,c-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=c0}l>>>=2,c-=2;break;case 16193:for(l>>>=7&c,c-=7&c;c<32;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}if((65535&l)!==(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=c0;break}if(n.length=65535&l,l=0,c=0,n.mode=a0,t===GQ)break e;case a0:n.mode=16195;case 16195:if(d=n.length){if(d>s&&(d=s),d>u&&(d=u),0===d)break e;i.set(r.subarray(o,o+d),a),s-=d,o+=d,u-=d,a+=d,n.length-=d;break}n.mode=i0;break;case 16196:for(;c<14;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}if(n.nlen=257+(31&l),l>>>=5,c-=5,n.ndist=1+(31&l),l>>>=5,c-=5,n.ncode=4+(15&l),l>>>=4,c-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=c0;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;c<3;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}n.lens[T[n.have++]]=7&l,l>>>=3,c-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,x={bits:n.lenbits},S=VQ(0,n.lens,0,19,n.lencode,0,n.work,x),n.lenbits=x.bits,S){e.msg="invalid code lengths set",n.mode=c0;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;m=(k=n.lencode[l&(1<<n.lenbits)-1])>>>16&255,y=65535&k,!((g=k>>>24)<=c);){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}if(y<16)l>>>=g,c-=g,n.lens[n.have++]=y;else{if(16===y){for(M=g+2;c<M;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}if(l>>>=g,c-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=c0;break}E=n.lens[n.have-1],d=3+(3&l),l>>>=2,c-=2}else if(17===y){for(M=g+3;c<M;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}c-=g,E=0,d=3+(7&(l>>>=g)),l>>>=3,c-=3}else{for(M=g+7;c<M;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}c-=g,E=0,d=11+(127&(l>>>=g)),l>>>=7,c-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=c0;break}for(;d--;)n.lens[n.have++]=E}}if(n.mode===c0)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=c0;break}if(n.lenbits=9,x={bits:n.lenbits},S=VQ(1,n.lens,0,n.nlen,n.lencode,0,n.work,x),n.lenbits=x.bits,S){e.msg="invalid literal/lengths set",n.mode=c0;break}if(n.distbits=6,n.distcode=n.distdyn,x={bits:n.distbits},S=VQ(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,x),n.distbits=x.bits,S){e.msg="invalid distances set",n.mode=c0;break}if(n.mode=s0,t===GQ)break e;case s0:n.mode=u0;case u0:if(s>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=c,BQ(e,f),a=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,l=n.hold,c=n.bits,n.mode===i0&&(n.back=-1);break}for(n.back=0;m=(k=n.lencode[l&(1<<n.lenbits)-1])>>>16&255,y=65535&k,!((g=k>>>24)<=c);){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}if(m&&0===(240&m)){for(b=g,_=m,w=y;m=(k=n.lencode[w+((l&(1<<b+_)-1)>>b)])>>>16&255,y=65535&k,!(b+(g=k>>>24)<=c);){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}l>>>=b,c-=b,n.back+=b}if(l>>>=g,c-=g,n.back+=g,n.length=y,0===m){n.mode=16205;break}if(32&m){n.back=-1,n.mode=i0;break}if(64&m){e.msg="invalid literal/length code",n.mode=c0;break}n.extra=15&m,n.mode=16201;case 16201:if(n.extra){for(M=n.extra;c<M;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;m=(k=n.distcode[l&(1<<n.distbits)-1])>>>16&255,y=65535&k,!((g=k>>>24)<=c);){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}if(0===(240&m)){for(b=g,_=m,w=y;m=(k=n.distcode[w+((l&(1<<b+_)-1)>>b)])>>>16&255,y=65535&k,!(b+(g=k>>>24)<=c);){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}l>>>=b,c-=b,n.back+=b}if(l>>>=g,c-=g,n.back+=g,64&m){e.msg="invalid distance code",n.mode=c0;break}n.offset=y,n.extra=15&m,n.mode=16203;case 16203:if(n.extra){for(M=n.extra;c<M;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=c0;break}n.mode=16204;case 16204:if(0===u)break e;if(d=f-u,n.offset>d){if((d=n.offset-d)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=c0;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),v=n.window}else v=i,p=a-n.offset,d=n.length;d>u&&(d=u),u-=d,n.length-=d;do{i[a++]=v[p++]}while(--d);0===n.length&&(n.mode=u0);break;case 16205:if(0===u)break e;i[a++]=n.length,u--,n.mode=u0;break;case l0:if(n.wrap){for(;c<32;){if(0===s)break e;s--,l|=r[o++]<<c,c+=8}if(f-=u,e.total_out+=f,n.total+=f,4&n.wrap&&f&&(e.adler=n.check=n.flags?yJ(n.check,i,f,a-f):gJ(n.check,i,f,a-f)),f=u,4&n.wrap&&(n.flags?l:h0(l))!==n.check){e.msg="incorrect data check",n.mode=c0;break}l=0,c=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;c<32;){if(0===s)break e;s--,l+=r[o++]<<c,c+=8}if(4&n.wrap&&l!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=c0;break}l=0,c=0}n.mode=16208;case 16208:S=YQ;break e;case c0:S=JQ;break e;case 16210:return QQ;default:return $Q}return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=c,(n.wsize||f!==e.avail_out&&n.mode<c0&&(n.mode<l0||t!==HQ))&&E0(e,e.output,e.next_out,f-e.avail_out),h-=e.avail_in,f-=e.avail_out,e.total_in+=h,e.total_out+=f,n.total+=f,4&n.wrap&&f&&(e.adler=n.check=n.flags?yJ(n.check,i,f,e.next_out-f):gJ(n.check,i,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===i0?128:0)+(n.mode===s0||n.mode===a0?256:0),(0===h&&0===f||t===HQ)&&S===qQ&&(S=e0),S},x0={inflateReset:m0,inflateReset2:y0,inflateResetKeep:g0,inflateInit:function(e){return b0(e,15)},inflateInit2:b0,inflate:S0,inflateEnd:function(e){if(v0(e))return $Q;var t=e.state;return t.window&&(t.window=null),e.state=null,qQ},inflateGetHeader:function(e,t){if(v0(e))return $Q;var n=e.state;return 0===(2&n.wrap)?$Q:(n.head=t,t.done=!1,qQ)},inflateSetDictionary:function(e,t){var n,r=t.length;return v0(e)||0!==(n=e.state).wrap&&n.mode!==r0?$Q:n.mode===r0&&gJ(1,t,r,0)!==n.check?JQ:E0(e,t,r,r)?(n.mode=16210,QQ):(n.havedict=1,qQ)},inflateInfo:"pako inflate (from Nodeca project)"};var M0=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},k0=Object.prototype.toString,A0=_J.Z_NO_FLUSH,T0=_J.Z_FINISH,P0=_J.Z_OK,O0=_J.Z_STREAM_END,C0=_J.Z_NEED_DICT,R0=_J.Z_STREAM_ERROR,L0=_J.Z_DATA_ERROR,I0=_J.Z_MEM_ERROR;function D0(e){this.options=_Q.assign({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new MQ,this.strm.avail_out=0;var n=x0.inflateInit2(this.strm,t.windowBits);if(n!==P0)throw new Error(bJ[n]);if(this.header=new M0,x0.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=xQ.string2buf(t.dictionary):"[object ArrayBuffer]"===k0.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=x0.inflateSetDictionary(this.strm,t.dictionary))!==P0))throw new Error(bJ[n])}function j0(e,t){var n=new D0(t);if(n.push(e),n.err)throw n.msg||bJ[n.err];return n.result}D0.prototype.push=function(e,t){var n,r,i,o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(r=t===~~t?t:!0===t?T0:A0,"[object ArrayBuffer]"===k0.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(n=x0.inflate(o,r))===C0&&s&&((n=x0.inflateSetDictionary(o,s))===P0?n=x0.inflate(o,r):n===L0&&(n=C0));o.avail_in>0&&n===O0&&o.state.wrap>0&&0!==e[o.next_in];)x0.inflateReset(o),n=x0.inflate(o,r);switch(n){case R0:case L0:case C0:case I0:return this.onEnd(n),this.ended=!0,!1}if(i=o.avail_out,o.next_out&&(0===o.avail_out||n===O0))if("string"===this.options.to){var u=xQ.utf8border(o.output,o.next_out),l=o.next_out-u,c=xQ.buf2string(o.output,u);o.next_out=l,o.avail_out=a-l,l&&o.output.set(o.output.subarray(u,u+l),0),this.onData(c)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==P0||0!==i){if(n===O0)return n=x0.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},D0.prototype.onData=function(e){this.chunks.push(e)},D0.prototype.onEnd=function(e){e===P0&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=_Q.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var N0=function(e,t){return(t=t||{}).raw=!0,j0(e,t)},B0={Inflate:D0,inflate:j0,inflateRaw:N0,ungzip:j0,constants:_J},z0=B0.inflate,Z0={exports:{}};!function(e){function t(e){var t,n,r,i,o,a=Math.floor,s=new Array(64),u=new Array(64),l=new Array(64),c=new Array(64),h=new Array(65535),f=new Array(65535),d=new Array(64),p=new Array(64),v=[],g=0,m=7,y=new Array(64),b=new Array(64),_=new Array(64),w=new Array(256),E=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],C=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(e,t){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=e[o];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function L(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<m),n--,--m<0&&(255==g?(I(255),I(0)):I(g),m=7,g=0)}function I(e){v.push(e)}function D(e){I(e>>8&255),I(255&e)}function j(e,t,n,r,i){for(var o,a=i[0],s=i[240],u=function(e,t){var n,r,i,o,a,s,u,l,c,h,f=0;for(c=0;c<8;++c){n=e[f],r=e[f+1],i=e[f+2],o=e[f+3],a=e[f+4],s=e[f+5],u=e[f+6];var p=n+(l=e[f+7]),v=n-l,g=r+u,m=r-u,y=i+s,b=i-s,_=o+a,w=o-a,E=p+_,S=p-_,x=g+y,M=g-y;e[f]=E+x,e[f+4]=E-x;var k=.707106781*(M+S);e[f+2]=S+k,e[f+6]=S-k;var A=.382683433*((E=w+b)-(M=m+v)),T=.5411961*E+A,P=1.306562965*M+A,O=.707106781*(x=b+m),C=v+O,R=v-O;e[f+5]=R+T,e[f+3]=R-T,e[f+1]=C+P,e[f+7]=C-P,f+=8}for(f=0,c=0;c<8;++c){n=e[f],r=e[f+8],i=e[f+16],o=e[f+24],a=e[f+32],s=e[f+40],u=e[f+48];var L=n+(l=e[f+56]),I=n-l,D=r+u,j=r-u,N=i+s,B=i-s,z=o+a,Z=o-a,F=L+z,U=L-z,K=D+N,V=D-N;e[f]=F+K,e[f+32]=F-K;var H=.707106781*(V+U);e[f+16]=U+H,e[f+48]=U-H;var W=.382683433*((F=Z+B)-(V=j+I)),G=.5411961*F+W,q=1.306562965*V+W,Y=.707106781*(K=B+j),X=I+Y,$=I-Y;e[f+40]=$+G,e[f+24]=$-G,e[f+8]=X+q,e[f+56]=X-q,f++}for(c=0;c<64;++c)h=e[c]*t[c],d[c]=h>0?h+.5|0:h-.5|0;return d}(e,t),l=0;l<64;++l)p[S[l]]=u[l];var c=p[0]-n;n=p[0],0==c?L(r[0]):(L(r[f[o=32767+c]]),L(h[o]));for(var v=63;v>0&&0==p[v];v--);if(0==v)return L(a),n;for(var g,m=1;m<=v;){for(var y=m;0==p[m]&&m<=v;++m);var b=m-y;if(b>=16){g=b>>4;for(var _=1;_<=g;++_)L(s);b&=15}o=32767+p[m],L(i[(b<<4)+f[o]]),L(h[o]),m++}return 63!=v&&L(a),n}function N(e){if(e<=0&&(e=1),e>100&&(e=100),o!=e){(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((t[n]*e+50)/100);r<1?r=1:r>255&&(r=255),s[S[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var h=a((i[o]*e+50)/100);h<1?h=1:h>255&&(h=255),u[S[o]]=h}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var v=0;v<8;v++)l[d]=1/(s[S[d]]*f[p]*f[v]*8),c[d]=1/(u[S[d]]*f[p]*f[v]*8),d++})(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e}}this.encode=function(e,o){var a;(new Date).getTime(),o&&N(o),v=new Array,g=0,m=7,D(65496),D(65504),D(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),D(1),D(1),I(0),I(0),"undefined"!==typeof(a=e.comments)&&a.constructor===Array&&a.forEach((function(e){if("string"===typeof e){D(65534);var t,n=e.length;for(D(n+2),t=0;t<n;t++)I(e.charCodeAt(t))}})),function(e){if(e){D(65505),69===e[0]&&120===e[1]&&105===e[2]&&102===e[3]?D(e.length+2):(D(e.length+5+2),I(69),I(120),I(105),I(102),I(0));for(var t=0;t<e.length;t++)I(e[t])}}(e.exifBuffer),function(){D(65499),D(132),I(0);for(var e=0;e<64;e++)I(s[e]);I(1);for(var t=0;t<64;t++)I(u[t])}(),function(e,t){D(65472),D(17),I(8),D(t),D(e),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)}(e.width,e.height),function(){D(65476),D(418),I(0);for(var e=0;e<16;e++)I(x[e+1]);for(var t=0;t<=11;t++)I(M[t]);I(16);for(var n=0;n<16;n++)I(k[n+1]);for(var r=0;r<=161;r++)I(A[r]);I(1);for(var i=0;i<16;i++)I(T[i+1]);for(var o=0;o<=11;o++)I(P[o]);I(17);for(var a=0;a<16;a++)I(O[a+1]);for(var s=0;s<=161;s++)I(C[s])}(),D(65498),D(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var h=0,f=0,d=0;g=0,m=7,this.encode.displayName="_encode_";for(var p,w,S,R,B,z,Z,F,U,K=e.data,V=e.width,H=e.height,W=4*V,G=0;G<H;){for(p=0;p<W;){for(z=B=W*G+p,Z=-1,F=0,U=0;U<64;U++)z=B+(F=U>>3)*W+(Z=4*(7&U)),G+F>=H&&(z-=W*(G+1+F-H)),p+Z>=W&&(z-=p+Z-W+4),w=K[z++],S=K[z++],R=K[z++],y[U]=(E[w]+E[S+256>>0]+E[R+512>>0]>>16)-128,b[U]=(E[w+768>>0]+E[S+1024>>0]+E[R+1280>>0]>>16)-128,_[U]=(E[w+1280>>0]+E[S+1536>>0]+E[R+1792>>0]>>16)-128;h=j(y,l,h,t,r),f=j(b,c,f,n,i),d=j(_,c,d,n,i),p+=32}G+=8}if(m>=0){var q=[];q[1]=m+1,q[0]=(1<<m+1)-1,L(q)}return D(65497),Buffer.from(v)},(new Date).getTime(),e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=R(x,M),n=R(T,P),r=R(k,A),i=R(O,C),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)f[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)f[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)E[e]=19595*e,E[e+256>>0]=38470*e,E[e+512>>0]=7471*e+32768,E[e+768>>0]=-11059*e,E[e+1024>>0]=-21709*e,E[e+1280>>0]=32768*e+8421375,E[e+1536>>0]=-27439*e,E[e+1792>>0]=-5329*e}(),N(e),(new Date).getTime()}e.exports=function(e,n){"undefined"===typeof n&&(n=50);var r=new t(n),i=r.encode(e,n);return{data:i,width:e.width,height:e.height}}}(Z0);var F0=Z0.exports,U0={exports:{}};!function(e){var t=function(){var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,n=799,r=3406,i=2276,o=1567,a=3784,s=5793,u=2896;function l(){}function c(e,t){for(var n,r,i=0,o=[],a=16;a>0&&!e[a-1];)a--;o.push({children:[],index:0});var s,u=o[0];for(n=0;n<a;n++){for(r=0;r<e[n];r++){for((u=o.pop()).children[u.index]=t[i];u.index>0;){if(0===o.length)throw new Error("Could not recreate Huffman Table");u=o.pop()}for(u.index++,o.push(u);o.length<=n;)o.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s;i++}n+1<a&&(o.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s)}return o[0].children}function h(t,n,r,i,o,a,s,u,l,c){r.precision,r.samplesPerLine,r.scanLines;var h=r.mcusPerLine,f=r.progressive;r.maxH,r.maxV;var d=n,p=0,v=0;function g(){if(v>0)return v--,p>>v&1;if(255==(p=t[n++])){var e=t[n++];if(e)throw new Error("unexpected marker: "+(p<<8|e).toString(16))}return v=7,p>>>7}function m(e){for(var t,n=e;null!==(t=g());){if("number"===typeof(n=n[t]))return n;if("object"!==typeof n)throw new Error("invalid huffman sequence")}return null}function y(e){for(var t=0;e>0;){var n=g();if(null===n)return;t=t<<1|n,e--}return t}function b(e){var t=y(e);return t>=1<<e-1?t:t+(-1<<e)+1}var _=0;var w,E=0;function S(e,t,n,r,i){var o=n%h,a=(n/h|0)*e.v+r,s=o*e.h+i;void 0===e.blocks[a]&&c.tolerantDecoding||t(e,e.blocks[a][s])}function x(e,t,n){var r=n/e.blocksPerLine|0,i=n%e.blocksPerLine;void 0===e.blocks[r]&&c.tolerantDecoding||t(e,e.blocks[r][i])}var M,k,A,T,P,O,C=i.length;O=f?0===a?0===u?function(e,t){var n=m(e.huffmanTableDC),r=0===n?0:b(n)<<l;t[0]=e.pred+=r}:function(e,t){t[0]|=g()<<l}:0===u?function(t,n){if(_>0)_--;else for(var r=a,i=s;r<=i;){var o=m(t.huffmanTableAC),u=15&o,c=o>>4;if(0!==u)n[e[r+=c]]=b(u)*(1<<l),r++;else{if(c<15){_=y(c)+(1<<c)-1;break}r+=16}}}:function(t,n){for(var r=a,i=s,o=0;r<=i;){var u=e[r],c=n[u]<0?-1:1;switch(E){case 0:var h=m(t.huffmanTableAC),f=15&h;if(o=h>>4,0===f)o<15?(_=y(o)+(1<<o),E=4):(o=16,E=1);else{if(1!==f)throw new Error("invalid ACn encoding");w=b(f),E=o?2:3}continue;case 1:case 2:n[u]?n[u]+=(g()<<l)*c:0===--o&&(E=2==E?3:0);break;case 3:n[u]?n[u]+=(g()<<l)*c:(n[u]=w<<l,E=0);break;case 4:n[u]&&(n[u]+=(g()<<l)*c)}r++}4===E&&0===--_&&(E=0)}:function(t,n){var r=m(t.huffmanTableDC),i=0===r?0:b(r);n[0]=t.pred+=i;for(var o=1;o<64;){var a=m(t.huffmanTableAC),s=15&a,u=a>>4;if(0!==s)n[e[o+=u]]=b(s),o++;else{if(u<15)break;o+=16}}};var R,L,I,D,j=0;for(L=1==C?i[0].blocksPerLine*i[0].blocksPerColumn:h*r.mcusPerColumn,o||(o=L);j<L;){for(k=0;k<C;k++)i[k].pred=0;if(_=0,1==C)for(M=i[0],P=0;P<o;P++)x(M,O,j),j++;else for(P=0;P<o;P++){for(k=0;k<C;k++)for(I=(M=i[k]).h,D=M.v,A=0;A<D;A++)for(T=0;T<I;T++)S(M,O,j,A,T);if(++j===L)break}if(j===L)do{if(255===t[n]&&0!==t[n+1])break;n+=1}while(n<t.length-2);if(v=0,(R=t[n]<<8|t[n+1])<65280)throw new Error("marker was not found");if(!(R>=65488&&R<=65495))break;n+=2}return n-d}function f(e,l){var c,h,f=[],d=l.blocksPerLine,p=l.blocksPerColumn,v=d<<3,m=new Int32Array(64),y=new Uint8Array(64);function b(e,c,h){var f,d,p,v,g,m,y,b,_,w,E=l.quantizationTable,S=h;for(w=0;w<64;w++)S[w]=e[w]*E[w];for(w=0;w<8;++w){var x=8*w;0!=S[1+x]||0!=S[2+x]||0!=S[3+x]||0!=S[4+x]||0!=S[5+x]||0!=S[6+x]||0!=S[7+x]?(f=s*S[0+x]+128>>8,d=s*S[4+x]+128>>8,p=S[2+x],v=S[6+x],g=u*(S[1+x]-S[7+x])+128>>8,b=u*(S[1+x]+S[7+x])+128>>8,m=S[3+x]<<4,y=S[5+x]<<4,_=f-d+1>>1,f=f+d+1>>1,d=_,_=p*a+v*o+128>>8,p=p*o-v*a+128>>8,v=_,_=g-y+1>>1,g=g+y+1>>1,y=_,_=b+m+1>>1,m=b-m+1>>1,b=_,_=f-v+1>>1,f=f+v+1>>1,v=_,_=d-p+1>>1,d=d+p+1>>1,p=_,_=g*i+b*r+2048>>12,g=g*r-b*i+2048>>12,b=_,_=m*n+y*t+2048>>12,m=m*t-y*n+2048>>12,y=_,S[0+x]=f+b,S[7+x]=f-b,S[1+x]=d+y,S[6+x]=d-y,S[2+x]=p+m,S[5+x]=p-m,S[3+x]=v+g,S[4+x]=v-g):(_=s*S[0+x]+512>>10,S[0+x]=_,S[1+x]=_,S[2+x]=_,S[3+x]=_,S[4+x]=_,S[5+x]=_,S[6+x]=_,S[7+x]=_)}for(w=0;w<8;++w){var M=w;0!=S[8+M]||0!=S[16+M]||0!=S[24+M]||0!=S[32+M]||0!=S[40+M]||0!=S[48+M]||0!=S[56+M]?(f=s*S[0+M]+2048>>12,d=s*S[32+M]+2048>>12,p=S[16+M],v=S[48+M],g=u*(S[8+M]-S[56+M])+2048>>12,b=u*(S[8+M]+S[56+M])+2048>>12,m=S[24+M],y=S[40+M],_=f-d+1>>1,f=f+d+1>>1,d=_,_=p*a+v*o+2048>>12,p=p*o-v*a+2048>>12,v=_,_=g-y+1>>1,g=g+y+1>>1,y=_,_=b+m+1>>1,m=b-m+1>>1,b=_,_=f-v+1>>1,f=f+v+1>>1,v=_,_=d-p+1>>1,d=d+p+1>>1,p=_,_=g*i+b*r+2048>>12,g=g*r-b*i+2048>>12,b=_,_=m*n+y*t+2048>>12,m=m*t-y*n+2048>>12,y=_,S[0+M]=f+b,S[56+M]=f-b,S[8+M]=d+y,S[48+M]=d-y,S[16+M]=p+m,S[40+M]=p-m,S[24+M]=v+g,S[32+M]=v-g):(_=s*h[w+0]+8192>>14,S[0+M]=_,S[8+M]=_,S[16+M]=_,S[24+M]=_,S[32+M]=_,S[40+M]=_,S[48+M]=_,S[56+M]=_)}for(w=0;w<64;++w){var k=128+(S[w]+8>>4);c[w]=k<0?0:k>255?255:k}}g(v*p*8);for(var _=0;_<p;_++){var w=_<<3;for(c=0;c<8;c++)f.push(new Uint8Array(v));for(var E=0;E<d;E++){b(l.blocks[_][E],y,m);var S=0,x=E<<3;for(h=0;h<8;h++){var M=f[w+h];for(c=0;c<8;c++)M[x+c]=y[S++]}}}return f}function d(e){return e<0?0:e>255?255:e}l.prototype={load:function(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){var e=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),t.send(null)},parse:function(t){var n=1e3*this.opts.maxResolutionInMP*1e3,r=0;function i(){var e=t[r]<<8|t[r+1];return r+=2,e}function o(){var e=i(),n=t.subarray(r,r+e-2);return r+=n.length,n}function a(e){var t,n,r=1,i=1;for(n in e.components)e.components.hasOwnProperty(n)&&(r<(t=e.components[n]).h&&(r=t.h),i<t.v&&(i=t.v));var o=Math.ceil(e.samplesPerLine/8/r),a=Math.ceil(e.scanLines/8/i);for(n in e.components)if(e.components.hasOwnProperty(n)){t=e.components[n];var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/r),u=Math.ceil(Math.ceil(e.scanLines/8)*t.v/i),l=o*t.h,c=a*t.v,h=[];g(256*(c*l));for(var f=0;f<c;f++){for(var d=[],p=0;p<l;p++)d.push(new Int32Array(64));h.push(d)}t.blocksPerLine=s,t.blocksPerColumn=u,t.blocks=h}e.maxH=r,e.maxV=i,e.mcusPerLine=o,e.mcusPerColumn=a}t.length;var s,u,l=null,d=null,p=[],v=[],m=[],y=[],b=i(),_=-1;if(this.comments=[],65496!=b)throw new Error("SOI not found");for(b=i();65497!=b;){switch(b){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var w=o();if(65534===b){var E=String.fromCharCode.apply(null,w);this.comments.push(E)}65504===b&&74===w[0]&&70===w[1]&&73===w[2]&&70===w[3]&&0===w[4]&&(l={version:{major:w[5],minor:w[6]},densityUnits:w[7],xDensity:w[8]<<8|w[9],yDensity:w[10]<<8|w[11],thumbWidth:w[12],thumbHeight:w[13],thumbData:w.subarray(14,14+3*w[12]*w[13])}),65505===b&&69===w[0]&&120===w[1]&&105===w[2]&&102===w[3]&&0===w[4]&&(this.exifBuffer=w.subarray(5,w.length)),65518===b&&65===w[0]&&100===w[1]&&111===w[2]&&98===w[3]&&101===w[4]&&0===w[5]&&(d={version:w[6],flags0:w[7]<<8|w[8],flags1:w[9]<<8|w[10],transformCode:w[11]});break;case 65499:for(var S=i()+r-2;r<S;){var x=t[r++];g(256);var M=new Int32Array(64);if(x>>4===0)for(q=0;q<64;q++){M[e[q]]=t[r++]}else{if(x>>4!==1)throw new Error("DQT: invalid table spec");for(q=0;q<64;q++){M[e[q]]=i()}}p[15&x]=M}break;case 65472:case 65473:case 65474:i(),(s={}).extended=65473===b,s.progressive=65474===b,s.precision=t[r++],s.scanLines=i(),s.samplesPerLine=i(),s.components={},s.componentsOrder=[];var k=s.scanLines*s.samplesPerLine;if(k>n){var A=Math.ceil((k-n)/1e6);throw new Error("maxResolutionInMP limit exceeded by ".concat(A,"MP"))}var T,P=t[r++];for(W=0;W<P;W++){T=t[r];var O=t[r+1]>>4,C=15&t[r+1],R=t[r+2];if(O<=0||C<=0)throw new Error("Invalid sampling factor, expected values above 0");s.componentsOrder.push(T),s.components[T]={h:O,v:C,quantizationIdx:R},r+=3}a(s),v.push(s);break;case 65476:var L=i();for(W=2;W<L;){var I=t[r++],D=new Uint8Array(16),j=0;for(q=0;q<16;q++,r++)j+=D[q]=t[r];g(16+j);var N=new Uint8Array(j);for(q=0;q<j;q++,r++)N[q]=t[r];W+=17+j,(I>>4===0?y:m)[15&I]=c(D,N)}break;case 65501:i(),u=i();break;case 65500:i(),i();break;case 65498:i();var B=t[r++],z=[];for(W=0;W<B;W++){Y=s.components[t[r++]];var Z=t[r++];Y.huffmanTableDC=y[Z>>4],Y.huffmanTableAC=m[15&Z],z.push(Y)}var F=t[r++],U=t[r++],K=t[r++],V=h(t,r,s,z,u,F,U,K>>4,15&K,this.opts);r+=V;break;case 65535:255!==t[r]&&r--;break;default:if(255==t[r-3]&&t[r-2]>=192&&t[r-2]<=254){r-=3;break}if(224===b||225==b){if(-1!==_)throw new Error("first unknown JPEG marker at offset ".concat(_.toString(16),", second unknown JPEG marker ").concat(b.toString(16)," at offset ").concat((r-1).toString(16)));_=r-1;var H=i();if(255===t[r+H-2]){r+=H-2;break}}throw new Error("unknown JPEG marker "+b.toString(16))}b=i()}if(1!=v.length)throw new Error("only single frame JPEGs supported");for(var W=0;W<v.length;W++){var G=v[W].components;for(var q in G)G[q].quantizationTable=p[G[q].quantizationIdx],delete G[q].quantizationIdx}this.width=s.samplesPerLine,this.height=s.scanLines,this.jfif=l,this.adobe=d,this.components=[];for(W=0;W<s.componentsOrder.length;W++){var Y=s.components[s.componentsOrder[W]];this.components.push({lines:f(0,Y),scaleX:Y.h/s.maxH,scaleY:Y.v/s.maxV})}},getData:function(e,t){var n,r,i,o,a,s,u,l,c,h,f,p,v,m,y,b,_,w,E,S,x,M=this.width/e,k=this.height/t,A=0,T=e*t*this.components.length;g(T);var P=new Uint8Array(T);switch(this.components.length){case 1:for(n=this.components[0],h=0;h<t;h++)for(a=n.lines[0|h*n.scaleY*k],c=0;c<e;c++)f=a[0|c*n.scaleX*M],P[A++]=f;break;case 2:for(n=this.components[0],r=this.components[1],h=0;h<t;h++)for(a=n.lines[0|h*n.scaleY*k],s=r.lines[0|h*r.scaleY*k],c=0;c<e;c++)f=a[0|c*n.scaleX*M],P[A++]=f,f=s[0|c*r.scaleX*M],P[A++]=f;break;case 3:for(x=!0,this.adobe&&this.adobe.transformCode?x=!0:"undefined"!==typeof this.opts.colorTransform&&(x=!!this.opts.colorTransform),n=this.components[0],r=this.components[1],i=this.components[2],h=0;h<t;h++)for(a=n.lines[0|h*n.scaleY*k],s=r.lines[0|h*r.scaleY*k],u=i.lines[0|h*i.scaleY*k],c=0;c<e;c++)x?(f=a[0|c*n.scaleX*M],p=s[0|c*r.scaleX*M],w=d(f+1.402*((v=u[0|c*i.scaleX*M])-128)),E=d(f-.3441363*(p-128)-.71413636*(v-128)),S=d(f+1.772*(p-128))):(w=a[0|c*n.scaleX*M],E=s[0|c*r.scaleX*M],S=u[0|c*i.scaleX*M]),P[A++]=w,P[A++]=E,P[A++]=S;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(x=!1,this.adobe&&this.adobe.transformCode?x=!0:"undefined"!==typeof this.opts.colorTransform&&(x=!!this.opts.colorTransform),n=this.components[0],r=this.components[1],i=this.components[2],o=this.components[3],h=0;h<t;h++)for(a=n.lines[0|h*n.scaleY*k],s=r.lines[0|h*r.scaleY*k],u=i.lines[0|h*i.scaleY*k],l=o.lines[0|h*o.scaleY*k],c=0;c<e;c++)x?(f=a[0|c*n.scaleX*M],p=s[0|c*r.scaleX*M],v=u[0|c*i.scaleX*M],m=l[0|c*o.scaleX*M],y=255-d(f+1.402*(v-128)),b=255-d(f-.3441363*(p-128)-.71413636*(v-128)),_=255-d(f+1.772*(p-128))):(y=a[0|c*n.scaleX*M],b=s[0|c*r.scaleX*M],_=u[0|c*i.scaleX*M],m=l[0|c*o.scaleX*M]),P[A++]=255-y,P[A++]=255-b,P[A++]=255-_,P[A++]=255-m;break;default:throw new Error("Unsupported color mode")}return P},copyToImageData:function(e,t){var n,r,i,o,a,s,u,l,c,h=e.width,f=e.height,p=e.data,v=this.getData(h,f),g=0,m=0;switch(this.components.length){case 1:for(r=0;r<f;r++)for(n=0;n<h;n++)i=v[g++],p[m++]=i,p[m++]=i,p[m++]=i,t&&(p[m++]=255);break;case 3:for(r=0;r<f;r++)for(n=0;n<h;n++)u=v[g++],l=v[g++],c=v[g++],p[m++]=u,p[m++]=l,p[m++]=c,t&&(p[m++]=255);break;case 4:for(r=0;r<f;r++)for(n=0;n<h;n++)a=v[g++],s=v[g++],i=v[g++],u=255-d(a*(1-(o=v[g++])/255)+o),l=255-d(s*(1-o/255)+o),c=255-d(i*(1-o/255)+o),p[m++]=u,p[m++]=l,p[m++]=c,t&&(p[m++]=255);break;default:throw new Error("Unsupported color mode")}}};var p=0,v=0;function g(){var e=p+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0);if(e>v){var t=Math.ceil((e-v)/1024/1024);throw new Error("maxMemoryUsageInMB limit exceeded by at least ".concat(t,"MB"))}p=e}return l.resetMaxMemoryUsage=function(e){p=0,v=e},l.getBytesAllocated=function(){return p},l.requestMemoryAllocation=g,l}();e.exports=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},i=(0,V.Z)((0,V.Z)({},r),n),o=new Uint8Array(e),a=new t;a.opts=i,t.resetMaxMemoryUsage(1024*i.maxMemoryUsageInMB*1024),a.parse(o);var s=i.formatAsRGBA?4:3,u=a.width*a.height*s;try{t.requestMemoryAllocation(u);var l={width:a.width,height:a.height,exifBuffer:a.exifBuffer,data:i.useTArray?new Uint8Array(u):Buffer.alloc(u)};a.comments.length>0&&(l.comments=a.comments)}catch(YJ){if(YJ instanceof RangeError)throw new Error("Could not allocate enough memory for the image. Required: "+u);if(YJ instanceof ReferenceError&&"Buffer is not defined"===YJ.message)throw new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true");throw YJ}return a.copyToImageData(l,i.formatAsRGBA),l}}(U0);var K0=YX({encode:F0,decode:U0.exports}),V0=Math.PI,H0=V0/4,W0=180/V0;function G0(e,t){var n=e.length-t,r=0;do{for(var i=t;i>0;i--)e[r+t]+=e[r],r++;n-=t}while(n>0)}function q0(e,t,n){for(var r=0,i=e.length,o=i/n;i>t;){for(var a=t;a>0;--a)e[r+t]+=e[r],++r;i-=t}for(var s=e.slice(),u=0;u<o;++u)for(var l=0;l<n;++l)e[n*u+l]=s[(n-l-1)*o+u]}function Y0(e,t,n,r,i,o){if(!t||1===t)return e;for(var a=0;a<i.length;++a){if(i[a]%8!==0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[a]!==i[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s=i[0]/8,u=2===o?1:i.length,l=0;l<r&&!(l*u*n*s>=e.byteLength);++l){var c=void 0;if(2===t){switch(i[0]){case 8:c=new Uint8Array(e,l*u*n*s,u*n*s);break;case 16:c=new Uint16Array(e,l*u*n*s,u*n*s/2);break;case 32:c=new Uint32Array(e,l*u*n*s,u*n*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}G0(c,u)}else 3===t&&q0(c=new Uint8Array(e,l*u*n*s,u*n*s),u,s)}return e}var X0=function(){function e(){(0,Vt.Z)(this,e)}return(0,Ht.Z)(e,[{key:"decode",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o,a,s;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.decodeBlock(n);case 2:if(r=e.sent,1===(i=t.Predictor||1)){e.next=9;break}return o=!t.StripOffsets,a=o?t.TileWidth:t.ImageWidth,s=o?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",Y0(r,i,a,s,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),$0=257;function J0(e,t){for(var n=t.length-1;n>=0;n--)e.push(t[n]);return e}function Q0(e){for(var t=new Uint16Array(4093),n=new Uint8Array(4093),r=0;r<=257;r++)t[r]=4096,n[r]=r;var i=258,o=9,a=0;function s(){i=258,o=9}function u(e){var t=function(e,t,n){var r=t%8,i=Math.floor(t/8),o=8-r,a=t+n-8*(i+1),s=8*(i+2)-(t+n),u=8*(i+2)-t;if(s=Math.max(0,s),i>=e.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),$0;var l=e[i]&Math.pow(2,8-r)-1,c=l<<=n-o;if(i+1<e.length){var h=e[i+1]>>>s;c+=h<<=Math.max(0,n-u)}if(a>8&&i+2<e.length){var f=8*(i+3)-(t+n);c+=e[i+2]>>>f}return c}(e,a,o);return a+=o,t}function l(e,r){return n[i]=r,t[i]=e,++i-1}function c(e){for(var r=[],i=e;4096!==i;i=t[i])r.push(n[i]);return r}var h=[];s();for(var f,d=new Uint8Array(e),p=u(d);p!==$0;){if(256===p){for(s(),p=u(d);256===p;)p=u(d);if(p===$0)break;if(p>256)throw new Error("corrupted code at scanline ".concat(p));J0(h,c(p)),f=p}else if(p<i){var v=c(p);J0(h,v),l(f,v[v.length-1]),f=p}else{var g=c(f);if(!g)throw new Error("Bogus entry. Not in dictionary,\n                 ".concat(f," / ").concat(i,",\n                  position: ").concat(a));J0(h,g),h.push(g[g.length-1]),l(f,g[g.length-1]),f=p}i+1>=Math.pow(2,o)&&(12===o?f=void 0:o++),p=u(d)}return new Uint8Array(h)}var e1=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"decodeBlock",value:function(e){return Q0(e).buffer}}]),n}(X0);function t1(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r1(e,t,r)}}function n1(e,t){return t1(i1(e,t).get)}var r1=Reflect.apply,i1=(Reflect.construct,Reflect.defineProperty,Reflect.get,Reflect.getOwnPropertyDescriptor),o1=Reflect.getPrototypeOf,a1=(Reflect.has,Reflect.ownKeys),s1=(Reflect.set,Reflect.setPrototypeOf,Symbol.iterator),u1=(Symbol.species,Symbol.toStringTag),l1=(Symbol.for,Object),c1=l1.create,h1=l1.defineProperty,f1=(l1.freeze,l1.is,Array.prototype[s1]),d1=t1(f1),p1=ArrayBuffer;n1(p1.prototype,"byteLength");var v1="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:null;v1&&n1(v1.prototype,"byteLength");var g1=o1(Uint8Array);g1.from;var m1=g1.prototype;m1[s1],t1(m1.keys),t1(m1.values),t1(m1.entries),t1(m1.set),t1(m1.reverse),t1(m1.fill),t1(m1.copyWithin),t1(m1.sort),t1(m1.slice),t1(m1.subarray),n1(m1,"buffer"),n1(m1,"byteOffset"),n1(m1,"length"),n1(m1,u1);var y1=Uint32Array,b1=Float32Array,_1=o1([][s1]()),w1=t1(_1.next),E1=t1(BT().mark((function e(){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))().next),S1=o1(_1),x1=t1(DataView.prototype.getUint16),M1=WeakMap,k1=M1.prototype,A1=t1(k1.get),T1=t1(k1.set),P1=new M1,O1=c1(null,(0,re.Z)({next:{value:function(){var e=A1(P1,this);return w1(e)}}},s1,{value:function(){return this}}));var C1,R1=new M1,L1=c1(S1,{next:{value:function(){var e=A1(R1,this);return E1(e)},writable:!0,configurable:!0}}),I1=gx(a1(_1));try{for(I1.s();!(C1=I1.n()).done;){var D1=C1.value;"next"!==D1&&h1(L1,D1,i1(_1,D1))}}catch(YJ){I1.e(YJ)}finally{I1.f()}for(var j1=new p1(4),N1=new b1(j1),B1=new y1(j1),z1=new y1(512),Z1=new y1(512),F1=0;F1<256;++F1){var U1=F1-127;U1<-27?(z1[F1]=0,z1[256|F1]=32768,Z1[F1]=24,Z1[256|F1]=24):U1<-14?(z1[F1]=1024>>-U1-14,z1[256|F1]=1024>>-U1-14|32768,Z1[F1]=-U1-1,Z1[256|F1]=-U1-1):U1<=15?(z1[F1]=U1+15<<10,z1[256|F1]=U1+15<<10|32768,Z1[F1]=13,Z1[256|F1]=13):U1<128?(z1[F1]=31744,z1[256|F1]=64512,Z1[F1]=24,Z1[256|F1]=24):(z1[F1]=31744,z1[256|F1]=64512,Z1[F1]=13,Z1[256|F1]=13)}for(var K1=new y1(2048),V1=new y1(64),H1=new y1(64),W1=1;W1<1024;++W1){for(var G1=W1<<13,q1=0;0===(8388608&G1);)G1<<=1,q1-=8388608;G1&=-8388609,q1+=947912704,K1[W1]=G1|q1}for(var Y1=1024;Y1<2048;++Y1)K1[Y1]=939524096+(Y1-1024<<13);for(var X1=1;X1<31;++X1)V1[X1]=X1<<23;V1[31]=1199570944,V1[32]=2147483648;for(var $1=33;$1<63;++$1)V1[$1]=2147483648+($1-32<<23);V1[63]=3347054592;for(var J1=1;J1<64;++J1)32!==J1&&(H1[J1]=1024);function Q1(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return function(e){var t=e>>10;return B1[0]=K1[H1[t]+(1023&e)]+V1[t],N1[0]}(x1.apply(void 0,[e,t].concat((0,g.Z)(function(e){if(e[s1]===f1&&_1.next===w1)return e;var t=c1(O1);return T1(P1,t,d1(e)),t}(r)))))}var e2={exports:{}};function t2(e,t,n){var r=n&&n.debug||!1;r&&console.log("[xml-utils] getting "+t+" in "+e);for(var i="object"===typeof e?e.outer:e,o=i.slice(0,i.indexOf(">")+1),a=['"',"'"],s=0;s<a.length;s++){var u=a[s],l=t+"\\="+u+"([^"+u+"]*)"+u;r&&console.log("[xml-utils] pattern:",l);var c=new RegExp(l).exec(o);if(r&&console.log("[xml-utils] match:",c),c)return c[1]}}e2.exports=t2,e2.exports.default=t2;var n2=YX(e2.exports),r2={exports:{}},i2={exports:{}},o2={exports:{}};function a2(e,t,n){var r=new RegExp(t).exec(e.slice(n));return r?n+r.index:-1}o2.exports=a2,o2.exports.default=a2;var s2=o2.exports,u2={exports:{}};function l2(e,t,n){var r=new RegExp(t).exec(e.slice(n));return r?n+r.index+r[0].length-1:-1}u2.exports=l2,u2.exports.default=l2;var c2=u2.exports,h2={exports:{}};function f2(e,t){var n=new RegExp(t,"g"),r=e.match(n);return r?r.length:0}h2.exports=f2,h2.exports.default=f2;var d2=h2.exports,p2=s2,v2=c2,g2=d2;function m2(e,t,n){var r=n&&n.debug||!1,i=!(n&&!1===typeof n.nested),o=n&&n.startIndex||0;r&&console.log("[xml-utils] starting findTagByName with",t," and ",n);var a=p2(e,"<".concat(t,"[ \n>/]"),o);if(r&&console.log("[xml-utils] start:",a),-1!==a){var s=e.slice(a+t.length),u=v2(s,"^[^<]*[ /]>",0),l=-1!==u&&"/"===s[u-1];if(r&&console.log("[xml-utils] selfClosing:",l),!1===l)if(i)for(var c=0,h=1,f=0;-1!==(u=v2(s,"[ /]"+t+">",c));){var d=s.substring(c,u+1);if(h+=g2(d,"<"+t+"[ \n\t>]"),(f+=g2(d,"</"+t+">"))>=h)break;c=u}else u=v2(s,"[ /]"+t+">",0);var p=a+t.length+u+1;if(r&&console.log("[xml-utils] end:",p),-1!==p){var v=e.slice(a,p);return{inner:l?null:v.slice(v.indexOf(">")+1,v.lastIndexOf("<")),outer:v,start:a,end:p}}}}i2.exports=m2,i2.exports.default=m2;var y2=i2.exports;function b2(e,t,n){for(var r,i=[],o=n&&n.debug||!1,a=!n||"boolean"!==typeof n.nested||n.nested,s=n&&n.startIndex||0;r=y2(e,t,{debug:o,startIndex:s});)s=a?r.start+1+t.length:r.end,i.push(r);return o&&console.log("findTagsByName found",i.length,"tags"),i}r2.exports=b2,r2.exports.default=b2;var _2=YX(r2.exports),w2={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},E2={};for(var S2 in w2)w2.hasOwnProperty(S2)&&(E2[w2[S2]]=parseInt(S2,10));var x2=[E2.BitsPerSample,E2.ExtraSamples,E2.SampleFormat,E2.StripByteCounts,E2.StripOffsets,E2.StripRowCounts,E2.TileByteCounts,E2.TileOffsets,E2.SubIFDs],M2={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},k2={};for(var A2 in M2)M2.hasOwnProperty(A2)&&(k2[M2[A2]]=parseInt(A2,10));var T2=0,P2=1,O2=2,C2=3,R2=5,L2=6,I2=8,D2=0,j2=1,N2=0,B2=1,z2={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"};function Z2(e,t){for(var n,r=e.width,i=e.height,o=new Uint8Array(r*i*3),a=0,s=0;a<e.length;++a,s+=3)n=256-e[a]/t*256,o[s]=n,o[s+1]=n,o[s+2]=n;return o}function F2(e,t){for(var n,r=e.width,i=e.height,o=new Uint8Array(r*i*3),a=0,s=0;a<e.length;++a,s+=3)n=e[a]/t*256,o[s]=n,o[s+1]=n,o[s+2]=n;return o}function U2(e,t){for(var n=e.width,r=e.height,i=new Uint8Array(n*r*3),o=t.length/3,a=t.length/3*2,s=0,u=0;s<e.length;++s,u+=3){var l=e[s];i[u]=t[l]/65536*256,i[u+1]=t[l+o]/65536*256,i[u+2]=t[l+a]/65536*256}return i}function K2(e){for(var t=e.width,n=e.height,r=new Uint8Array(t*n*3),i=0,o=0;i<e.length;i+=4,o+=3){var a=e[i],s=e[i+1],u=e[i+2],l=e[i+3];r[o]=(255-a)/256*255*((255-l)/256),r[o+1]=(255-s)/256*255*((255-l)/256),r[o+2]=(255-u)/256*255*((255-l)/256)}return r}function V2(e){for(var t=e.width,n=e.height,r=new Uint8ClampedArray(t*n*3),i=0,o=0;i<e.length;i+=3,o+=3){var a=e[i],s=e[i+1],u=e[i+2];r[o]=a+1.402*(u-128),r[o+1]=a-.34414*(s-128)-.71414*(u-128),r[o+2]=a+1.772*(s-128)}return r}function H2(e){for(var t=e.width,n=e.height,r=new Uint8Array(t*n*3),i=0,o=0;i<e.length;i+=3,o+=3){var a=(e[i+0]+16)/116,s=(e[i+1]<<24>>24)/500+a,u=a-(e[i+2]<<24>>24)/200,l=void 0,c=void 0,h=void 0;c=-.9689*(s=.95047*(s*s*s>.008856?s*s*s:(s-16/116)/7.787))+1.8758*(a=1*(a*a*a>.008856?a*a*a:(a-16/116)/7.787))+.0415*(u=1.08883*(u*u*u>.008856?u*u*u:(u-16/116)/7.787)),h=.0557*s+-.204*a+1.057*u,l=(l=3.2406*s+-1.5372*a+-.4986*u)>.0031308?1.055*Math.pow(l,1/2.4)-.055:12.92*l,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:12.92*c,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:12.92*h,r[o]=255*Math.max(0,Math.min(1,l)),r[o+1]=255*Math.max(0,Math.min(1,c)),r[o+2]=255*Math.max(0,Math.min(1,h))}return r}var W2=new Map;function G2(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){return W2.set(e,t)}))}function q2(e){return Y2.apply(this,arguments)}function Y2(){return(Y2=ZT(BT().mark((function e(t){var n,r;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=W2.get(t.Compression)){e.next=3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next=5,n();case 5:return r=e.sent,e.abrupt("return",new r(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X2(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new(Object.getPrototypeOf(e).constructor)(t*n*r)}function $2(e,t,n){return(1-n)*e+n*t}function J2(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"nearest";switch(o.toLowerCase()){case"nearest":return function(e,t,n,r,i){var o=t/r,a=n/i;return e.map((function(e){for(var s=X2(e,r,i),u=0;u<i;++u)for(var l=Math.min(Math.round(a*u),n-1),c=0;c<r;++c){var h=Math.min(Math.round(o*c),t-1),f=e[l*t+h];s[u*r+c]=f}return s}))}(e,t,n,r,i);case"bilinear":case"linear":return function(e,t,n,r,i){var o=t/r,a=n/i;return e.map((function(e){for(var s=X2(e,r,i),u=0;u<i;++u)for(var l=a*u,c=Math.floor(l),h=Math.min(Math.ceil(l),n-1),f=0;f<r;++f){var d=o*f,p=d%1,v=Math.floor(d),g=Math.min(Math.ceil(d),t-1),m=e[c*t+v],y=e[c*t+g],b=e[h*t+v],_=e[h*t+g],w=$2($2(m,y,p),$2(b,_,p),l%1);s[u*r+f]=w}return s}))}(e,t,n,r,i);default:throw new Error("Unsupported resampling method: '".concat(o,"'"))}}function Q2(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"nearest";switch(a.toLowerCase()){case"nearest":return function(e,t,n,r,i,o){for(var a=t/r,s=n/i,u=X2(e,r,i,o),l=0;l<i;++l)for(var c=Math.min(Math.round(s*l),n-1),h=0;h<r;++h)for(var f=Math.min(Math.round(a*h),t-1),d=0;d<o;++d){var p=e[c*t*o+f*o+d];u[l*r*o+h*o+d]=p}return u}(e,t,n,r,i,o);case"bilinear":case"linear":return function(e,t,n,r,i,o){for(var a=t/r,s=n/i,u=X2(e,r,i,o),l=0;l<i;++l)for(var c=s*l,h=Math.floor(c),f=Math.min(Math.ceil(c),n-1),d=0;d<r;++d)for(var p=a*d,v=p%1,g=Math.floor(p),m=Math.min(Math.ceil(p),t-1),y=0;y<o;++y){var b=e[h*t*o+g*o+y],_=e[h*t*o+m*o+y],w=e[f*t*o+g*o+y],E=e[f*t*o+m*o+y],S=$2($2(b,_,v),$2(w,E,v),c%1);u[l*r*o+d*o+y]=S}return u}(e,t,n,r,i,o);default:throw new Error("Unsupported resampling method: '".concat(a,"'"))}}function e3(e,t,n){for(var r=0,i=t;i<n;++i)r+=e[i];return r}function t3(e,t,n){switch(e){case 1:if(t<=8)return new Uint8Array(n);if(t<=16)return new Uint16Array(n);if(t<=32)return new Uint32Array(n);break;case 2:if(8===t)return new Int8Array(n);if(16===t)return new Int16Array(n);if(32===t)return new Int32Array(n);break;case 3:switch(t){case 16:case 32:return new Float32Array(n);case 64:return new Float64Array(n)}}throw Error("Unsupported data format/bitsPerSample")}function n3(e,t){return(1!==e&&2!==e||!(t<=32)||t%8!==0)&&(3!==e||16!==t&&32!==t&&64!==t)}function r3(e,t,n,r,i,o,a){var s=new DataView(e),u=2===n?1:r,l=t3(t,i,2===n?a*o:a*o*r),c=parseInt("1".repeat(i),2);if(1===t){var h=o*(1===n?r*i:i);0!==(7&h)&&(h=h+7&-8);for(var f=0;f<a;++f)for(var d=f*h,p=0;p<o;++p)for(var v=d+p*u*i,g=0;g<u;++g){var m=v+g*i,y=(f*o+p)*u+g,b=Math.floor(m/8),_=m%8;if(_+i<=8)l[y]=s.getUint8(b)>>8-i-_&c;else if(_+i<=16)l[y]=s.getUint16(b)>>16-i-_&c;else if(_+i<=24){var w=s.getUint16(b)<<8|s.getUint8(b+2);l[y]=w>>24-i-_&c}else l[y]=s.getUint32(b)>>32-i-_&c}}return l.buffer}G2([void 0,1],(function(){return Promise.resolve().then((function(){return I3})).then((function(e){return e.default}))})),G2(5,(function(){return Promise.resolve().then((function(){return z3})).then((function(e){return e.default}))})),G2(6,(function(){throw new Error("old style JPEG compression is not supported.")})),G2(7,(function(){return Promise.resolve().then((function(){return t6})).then((function(e){return e.default}))})),G2([8,32946],(function(){return Promise.resolve().then((function(){return r6})).then((function(e){return e.default}))})),G2(32773,(function(){return Promise.resolve().then((function(){return o6})).then((function(e){return e.default}))})),G2(34887,(function(){return Promise.resolve().then((function(){return l6})).then((function(e){return e.default}))})),G2(50001,(function(){return Promise.resolve().then((function(){return h6})).then((function(e){return e.default}))}));var i3=function(){function e(t,n,r,i,o,a){(0,Vt.Z)(this,e),this.fileDirectory=t,this.geoKeys=n,this.dataView=r,this.littleEndian=i,this.tiles=o?{}:null,this.isTiled=!t.StripOffsets;var s=t.PlanarConfiguration;if(this.planarConfiguration="undefined"===typeof s?1:s,1!==this.planarConfiguration&&2!==this.planarConfiguration)throw new Error("Invalid planar configuration.");this.source=a}return(0,Ht.Z)(e,[{key:"getFileDirectory",value:function(){return this.fileDirectory}},{key:"getGeoKeys",value:function(){return this.geoKeys}},{key:"getWidth",value:function(){return this.fileDirectory.ImageWidth}},{key:"getHeight",value:function(){return this.fileDirectory.ImageLength}},{key:"getSamplesPerPixel",value:function(){return"undefined"!==typeof this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}},{key:"getTileWidth",value:function(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}},{key:"getTileHeight",value:function(){return this.isTiled?this.fileDirectory.TileLength:"undefined"!==typeof this.fileDirectory.RowsPerStrip?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}},{key:"getBlockWidth",value:function(){return this.getTileWidth()}},{key:"getBlockHeight",value:function(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}},{key:"getBytesPerPixel",value:function(){for(var e=0,t=0;t<this.fileDirectory.BitsPerSample.length;++t)e+=this.getSampleByteSize(t);return e}},{key:"getSampleByteSize",value:function(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError("Sample index ".concat(e," is out of range."));return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}},{key:"getReaderForSample",value:function(e){var t=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,n=this.fileDirectory.BitsPerSample[e];switch(t){case 1:if(n<=8)return DataView.prototype.getUint8;if(n<=16)return DataView.prototype.getUint16;if(n<=32)return DataView.prototype.getUint32;break;case 2:if(n<=8)return DataView.prototype.getInt8;if(n<=16)return DataView.prototype.getInt16;if(n<=32)return DataView.prototype.getInt32;break;case 3:switch(n){case 16:return function(e,t){return Q1(this,e,t)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample")}},{key:"getSampleFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}},{key:"getBitsPerSample",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.fileDirectory.BitsPerSample[e]}},{key:"getArrayForSample",value:function(e,t){return t3(this.getSampleFormat(e),this.getBitsPerSample(e),t)}},{key:"getTileOrStrip",value:function(){var e=ZT(BT().mark((function e(t,n,r,i,o){var a,s,u,l,c,h,f,d,p=this;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Math.ceil(this.getWidth()/this.getTileWidth()),s=Math.ceil(this.getHeight()/this.getTileHeight()),l=this.tiles,1===this.planarConfiguration?u=n*a+t:2===this.planarConfiguration&&(u=r*a*s+n*a+t),this.isTiled?(c=this.fileDirectory.TileOffsets[u],h=this.fileDirectory.TileByteCounts[u]):(c=this.fileDirectory.StripOffsets[u],h=this.fileDirectory.StripByteCounts[u]),e.next=7,this.source.fetch([{offset:c,length:h}],o);case 7:return f=e.sent[0],null!==l&&l[u]?d=l[u]:(d=ZT(BT().mark((function e(){var t,r,o;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.decode(p.fileDirectory,f);case 2:return t=e.sent,r=p.getSampleFormat(),o=p.getBitsPerSample(),n3(r,o)&&(t=r3(t,r,p.planarConfiguration,p.getSamplesPerPixel(),o,p.getTileWidth(),p.getBlockHeight(n))),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))(),null!==l&&(l[u]=d)),e.t0=t,e.t1=n,e.t2=r,e.next=14,d;case 14:return e.t3=e.sent,e.abrupt("return",{x:e.t0,y:e.t1,sample:e.t2,data:e.t3});case 16:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"_readRaster",value:function(){var e=ZT(BT().mark((function e(t,n,r,i,o,a,s,u,l){var c,h,f,d,p,v,g,m,y,b,_,w,E,S,x,M,k,A,T,P,O=this;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=this.getTileWidth(),h=this.getTileHeight(),f=this.getWidth(),d=this.getHeight(),p=Math.max(Math.floor(t[0]/c),0),v=Math.min(Math.ceil(t[2]/c),Math.ceil(f/c)),g=Math.max(Math.floor(t[1]/h),0),m=Math.min(Math.ceil(t[3]/h),Math.ceil(d/h)),y=t[2]-t[0],b=this.getBytesPerPixel(),_=[],w=[],E=0;E<n.length;++E)1===this.planarConfiguration?_.push(e3(this.fileDirectory.BitsPerSample,0,n[E])/8):_.push(0),w.push(this.getReaderForSample(n[E]));S=[],x=this.littleEndian,M=g;case 16:if(!(M<m)){e.next=32;break}k=p;case 18:if(!(k<v)){e.next=29;break}A=BT().mark((function e(){var a,s,u;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=T,s=n[T],2===O.planarConfiguration&&(b=O.getSampleByteSize(T)),u=O.getTileOrStrip(k,M,s,o,l).then((function(e){for(var o=e.data,s=new DataView(o),u=O.getBlockHeight(e.y),l=e.y*h,p=e.x*c,v=l+u,g=(e.x+1)*c,m=w[a],E=Math.min(u,u-(v-t[3]),d-l),S=Math.min(c,c-(g-t[2]),f-p),M=Math.max(0,t[1]-l);M<E;++M)for(var k=Math.max(0,t[0]-p);k<S;++k){var A=(M*c+k)*b,T=m.call(s,A+_[a],x),P=void 0;i?(P=(M+l-t[1])*y*n.length+(k+p-t[0])*n.length+a,r[P]=T):(P=(M+l-t[1])*y+k+p-t[0],r[a][P]=T)}})),S.push(u);case 5:case"end":return e.stop()}}),e)})),T=0;case 21:if(!(T<n.length)){e.next=26;break}return e.delegateYield(A(),"t0",23);case 23:++T,e.next=21;break;case 26:++k,e.next=18;break;case 29:++M,e.next=16;break;case 32:return e.next=34,Promise.all(S);case 34:if(!(a&&t[2]-t[0]!==a||s&&t[3]-t[1]!==s)){e.next=39;break}return(P=i?Q2(r,t[2]-t[0],t[3]-t[1],a,s,n.length,u):J2(r,t[2]-t[0],t[3]-t[1],a,s,u)).width=a,P.height=s,e.abrupt("return",P);case 39:return r.width=a||t[2]-t[0],r.height=s||t[3]-t[1],e.abrupt("return",r);case 42:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a,s,u,l){return e.apply(this,arguments)}}()},{key:"readRasters",value:function(){var e=ZT(BT().mark((function e(){var t,n,r,i,o,a,s,u,l,c,h,f,d,p,v,g,m,y,b,_,w,E,S,x,M,k,A=arguments;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=A.length>0&&void 0!==A[0]?A[0]:{}).window,r=t.samples,i=void 0===r?[]:r,o=t.interleave,a=t.pool,s=void 0===a?null:a,u=t.width,l=t.height,c=t.resampleMethod,h=t.fillValue,f=t.signal,!((d=n||[0,0,this.getWidth(),this.getHeight()])[0]>d[2]||d[1]>d[3])){e.next=4;break}throw new Error("Invalid subsets");case 4:if(p=d[2]-d[0],v=d[3]-d[1],g=p*v,m=this.getSamplesPerPixel(),i&&i.length){e.next=12;break}for(y=0;y<m;++y)i.push(y);e.next=19;break;case 12:b=0;case 13:if(!(b<i.length)){e.next=19;break}if(!(i[b]>=m)){e.next=16;break}return e.abrupt("return",Promise.reject(new RangeError("Invalid sample index '".concat(i[b],"'."))));case 16:++b,e.next=13;break;case 19:if(o)w=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,E=Math.max.apply(null,this.fileDirectory.BitsPerSample),_=t3(w,E,g*i.length),h&&_.fill(h);else for(_=[],S=0;S<i.length;++S)x=this.getArrayForSample(i[S],g),Array.isArray(h)&&S<h.length?x.fill(h[S]):h&&!Array.isArray(h)&&x.fill(h),_.push(x);if(e.t0=s,e.t0){e.next=25;break}return e.next=24,q2(this.fileDirectory);case 24:e.t0=e.sent;case 25:return M=e.t0,e.next=28,this._readRaster(d,i,_,o,M,u,l,c,f);case 28:return k=e.sent,e.abrupt("return",k);case 30:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readRGB",value:function(){var e=ZT(BT().mark((function e(){var t,n,r,i,o,a,s,u,l,c,h,f,d,p,v,g,m,y,b,_,w,E,S,x,M,k,A,T=arguments;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=T.length>0&&void 0!==T[0]?T[0]:{}).window,r=t.interleave,i=void 0===r||r,o=t.pool,a=void 0===o?null:o,s=t.width,u=t.height,l=t.resampleMethod,c=t.enableAlpha,h=void 0!==c&&c,f=t.signal,!((d=n||[0,0,this.getWidth(),this.getHeight()])[0]>d[2]||d[1]>d[3])){e.next=4;break}throw new Error("Invalid subsets");case 4:if((p=this.fileDirectory.PhotometricInterpretation)!==O2){e.next=9;break}if(v=[0,1,2],this.fileDirectory.ExtraSamples!==D2&&h)for(v=[],g=0;g<this.fileDirectory.BitsPerSample.length;g+=1)v.push(g);return e.abrupt("return",this.readRasters({window:n,interleave:i,samples:v,pool:a,width:s,height:u,resampleMethod:l,signal:f}));case 9:e.t0=p,e.next=e.t0===T2||e.t0===P2||e.t0===C2?12:e.t0===R2?14:e.t0===L2||e.t0===I2?16:18;break;case 12:return m=[0],e.abrupt("break",19);case 14:return m=[0,1,2,3],e.abrupt("break",19);case 16:return m=[0,1,2],e.abrupt("break",19);case 18:throw new Error("Invalid or unsupported photometric interpretation.");case 19:return y={window:d,interleave:!0,samples:m,pool:a,width:s,height:u,resampleMethod:l,signal:f},b=this.fileDirectory,e.next=23,this.readRasters(y);case 23:_=e.sent,w=Math.pow(2,this.fileDirectory.BitsPerSample[0]),e.t1=p,e.next=e.t1===T2?28:e.t1===P2?30:e.t1===C2?32:e.t1===R2?34:e.t1===L2?36:e.t1===I2?38:40;break;case 28:return E=Z2(_,w),e.abrupt("break",41);case 30:return E=F2(_,w),e.abrupt("break",41);case 32:return E=U2(_,b.ColorMap),e.abrupt("break",41);case 34:return E=K2(_),e.abrupt("break",41);case 36:return E=V2(_),e.abrupt("break",41);case 38:return E=H2(_),e.abrupt("break",41);case 40:throw new Error("Unsupported photometric interpretation.");case 41:if(!i){for(S=new Uint8Array(E.length/3),x=new Uint8Array(E.length/3),M=new Uint8Array(E.length/3),k=0,A=0;k<E.length;k+=3,++A)S[A]=E[k],x[A]=E[k+1],M[A]=E[k+2];E=[S,x,M]}return E.width=_.width,E.height=_.height,e.abrupt("return",E);case 45:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTiePoints",value:function(){if(!this.fileDirectory.ModelTiepoint)return[];for(var e=[],t=0;t<this.fileDirectory.ModelTiepoint.length;t+=6)e.push({i:this.fileDirectory.ModelTiepoint[t],j:this.fileDirectory.ModelTiepoint[t+1],k:this.fileDirectory.ModelTiepoint[t+2],x:this.fileDirectory.ModelTiepoint[t+3],y:this.fileDirectory.ModelTiepoint[t+4],z:this.fileDirectory.ModelTiepoint[t+5]});return e}},{key:"getGDALMetadata",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={};if(!this.fileDirectory.GDAL_METADATA)return null;var n=this.fileDirectory.GDAL_METADATA,r=_2(n,"Item");r=null===e?r.filter((function(e){return void 0===n2(e,"sample")})):r.filter((function(t){return Number(n2(t,"sample"))===e}));for(var i=0;i<r.length;++i){var o=r[i];t[n2(o,"name")]=o.inner}return t}},{key:"getGDALNoData",value:function(){if(!this.fileDirectory.GDAL_NODATA)return null;var e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}},{key:"getOrigin",value:function(){var e=this.fileDirectory.ModelTiepoint,t=this.fileDirectory.ModelTransformation;if(e&&6===e.length)return[e[3],e[4],e[5]];if(t)return[t[3],t[7],t[11]];throw new Error("The image does not have an affine transformation.")}},{key:"getResolution",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.fileDirectory.ModelPixelScale,n=this.fileDirectory.ModelTransformation;if(t)return[t[0],-t[1],t[2]];if(n)return[n[0],n[5],n[10]];if(e){var r=v(e.getResolution(),3),i=r[0],o=r[1],a=r[2];return[i*e.getWidth()/this.getWidth(),o*e.getHeight()/this.getHeight(),a*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}},{key:"pixelIsArea",value:function(){return 1===this.geoKeys.GTRasterTypeGeoKey}},{key:"getBoundingBox",value:function(){var e=this.getOrigin(),t=this.getResolution(),n=e[0],r=e[1],i=n+t[0]*this.getWidth(),o=r+t[1]*this.getHeight();return[Math.min(n,i),Math.min(r,o),Math.max(n,i),Math.max(r,o)]}}]),e}(),o3=i3,a3=function(){function e(t){(0,Vt.Z)(this,e),this._dataView=new DataView(t)}return(0,Ht.Z)(e,[{key:"buffer",get:function(){return this._dataView.buffer}},{key:"getUint64",value:function(e,t){var n,r=this.getUint32(e,t),i=this.getUint32(e+4,t);if(t){if(n=r+Math.pow(2,32)*i,!Number.isSafeInteger(n))throw new Error("".concat(n," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return n}if(n=Math.pow(2,32)*r+i,!Number.isSafeInteger(n))throw new Error("".concat(n," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return n}},{key:"getInt64",value:function(e,t){for(var n=0,r=(128&this._dataView.getUint8(e+(t?7:0)))>0,i=!0,o=0;o<8;o++){var a=this._dataView.getUint8(e+(t?o:7-o));r&&(i?0!==a&&(a=255&~(a-1),i=!1):a=255&~a),n+=a*Math.pow(256,o)}return r&&(n=-n),n}},{key:"getUint8",value:function(e,t){return this._dataView.getUint8(e,t)}},{key:"getInt8",value:function(e,t){return this._dataView.getInt8(e,t)}},{key:"getUint16",value:function(e,t){return this._dataView.getUint16(e,t)}},{key:"getInt16",value:function(e,t){return this._dataView.getInt16(e,t)}},{key:"getUint32",value:function(e,t){return this._dataView.getUint32(e,t)}},{key:"getInt32",value:function(e,t){return this._dataView.getInt32(e,t)}},{key:"getFloat16",value:function(e,t){return Q1(this._dataView,e,t)}},{key:"getFloat32",value:function(e,t){return this._dataView.getFloat32(e,t)}},{key:"getFloat64",value:function(e,t){return this._dataView.getFloat64(e,t)}}]),e}(),s3=function(){function e(t,n,r,i){(0,Vt.Z)(this,e),this._dataView=new DataView(t),this._sliceOffset=n,this._littleEndian=r,this._bigTiff=i}return(0,Ht.Z)(e,[{key:"sliceOffset",get:function(){return this._sliceOffset}},{key:"sliceTop",get:function(){return this._sliceOffset+this.buffer.byteLength}},{key:"littleEndian",get:function(){return this._littleEndian}},{key:"bigTiff",get:function(){return this._bigTiff}},{key:"buffer",get:function(){return this._dataView.buffer}},{key:"covers",value:function(e,t){return this.sliceOffset<=e&&this.sliceTop>=e+t}},{key:"readUint8",value:function(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}},{key:"readInt8",value:function(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}},{key:"readUint16",value:function(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}},{key:"readInt16",value:function(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}},{key:"readUint32",value:function(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}},{key:"readInt32",value:function(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}},{key:"readFloat32",value:function(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}},{key:"readFloat64",value:function(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}},{key:"readUint64",value:function(e){var t,n=this.readUint32(e),r=this.readUint32(e+4);if(this._littleEndian){if(t=n+Math.pow(2,32)*r,!Number.isSafeInteger(t))throw new Error("".concat(t," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return t}if(t=Math.pow(2,32)*n+r,!Number.isSafeInteger(t))throw new Error("".concat(t," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return t}},{key:"readInt64",value:function(e){for(var t=0,n=(128&this._dataView.getUint8(e+(this._littleEndian?7:0)))>0,r=!0,i=0;i<8;i++){var o=this._dataView.getUint8(e+(this._littleEndian?i:7-i));n&&(r?0!==o&&(o=255&~(o-1),r=!1):o=255&~o),t+=o*Math.pow(256,i)}return n&&(t=-t),t}},{key:"readOffset",value:function(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}]),e}(),u3=function(){function e(){(0,Vt.Z)(this,e)}return(0,Ht.Z)(e,[{key:"fetch",value:function(){var e=ZT(BT().mark((function e(t){var n,r=this,i=arguments;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:void 0,e.abrupt("return",Promise.all(t.map((function(e){return r.fetchSlice(e,n)}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchSlice",value:function(){var e=ZT(BT().mark((function e(t){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("fetching of slice ".concat(t," not possible, not implemented"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fileSize",get:function(){return null}},{key:"close",value:function(){var e=ZT(BT().mark((function e(){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),l3=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){var r;return(0,Vt.Z)(this,n),r=t.call(this,e),Error.captureStackTrace&&Error.captureStackTrace((0,UM.Z)(r),n),r.name="AbortError",r}return(0,Ht.Z)(n)}(dx(Error)),c3=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){var r;return(0,Vt.Z)(this,n),(r=t.call(this)).arrayBuffer=e,r}return(0,Ht.Z)(n,[{key:"fetchSlice",value:function(e,t){if(t&&t.aborted)throw new l3("Request aborted");return this.arrayBuffer.slice(e.offset,e.offset+e.length)}}]),n}(u3);function h3(e){return new c3(e)}function f3(e,t){var n=e.length-t,r=0;do{for(var i=t;i>0;i--)e[r+t]+=e[r],r++;n-=t}while(n>0)}function d3(e,t,n){for(var r=0,i=e.length,o=i/n;i>t;){for(var a=t;a>0;--a)e[r+t]+=e[r],++r;i-=t}for(var s=e.slice(),u=0;u<o;++u)for(var l=0;l<n;++l)e[n*u+l]=s[(n-l-1)*o+u]}function p3(e,t,n,r,i,o){if(!t||1===t)return e;for(var a=0;a<i.length;++a){if(i[a]%8!==0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[a]!==i[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s=i[0]/8,u=2===o?1:i.length,l=0;l<r&&!(l*u*n*s>=e.byteLength);++l){var c=void 0;if(2===t){switch(i[0]){case 8:c=new Uint8Array(e,l*u*n*s,u*n*s);break;case 16:c=new Uint16Array(e,l*u*n*s,u*n*s/2);break;case 32:c=new Uint32Array(e,l*u*n*s,u*n*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}f3(c,u)}else 3===t&&d3(c=new Uint8Array(e,l*u*n*s,u*n*s),u,s)}return e}var v3=function(){function e(){(0,Vt.Z)(this,e)}return(0,Ht.Z)(e,[{key:"decode",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o,a,s;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.decodeBlock(n);case 2:if(r=e.sent,1===(i=t.Predictor||1)){e.next=9;break}return o=!t.StripOffsets,a=o?t.TileWidth:t.ImageWidth,s=o?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",p3(r,i,a,s,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function g3(e){switch(e){case k2.BYTE:case k2.ASCII:case k2.SBYTE:case k2.UNDEFINED:return 1;case k2.SHORT:case k2.SSHORT:return 2;case k2.LONG:case k2.SLONG:case k2.FLOAT:case k2.IFD:return 4;case k2.RATIONAL:case k2.SRATIONAL:case k2.DOUBLE:case k2.LONG8:case k2.SLONG8:case k2.IFD8:return 8;default:throw new RangeError("Invalid field type: ".concat(e))}}function m3(e){var t=e.GeoKeyDirectory;if(!t)return null;for(var n={},r=4;r<=4*t[3];r+=4){var i=z2[t[r]],o=t[r+1]?w2[t[r+1]]:null,a=t[r+2],s=t[r+3],u=null;if(o){if("undefined"===typeof(u=e[o])||null===u)throw new Error("Could not get value of geoKey '".concat(i,"'."));"string"===typeof u?u=u.substring(s,s+a-1):u.subarray&&(u=u.subarray(s,s+a),1===a&&(u=u[0]))}else u=s;n[i]=u}return n}function y3(e,t,n,r){var i=null,o=null,a=g3(t);switch(t){case k2.BYTE:case k2.ASCII:case k2.UNDEFINED:i=new Uint8Array(n),o=e.readUint8;break;case k2.SBYTE:i=new Int8Array(n),o=e.readInt8;break;case k2.SHORT:i=new Uint16Array(n),o=e.readUint16;break;case k2.SSHORT:i=new Int16Array(n),o=e.readInt16;break;case k2.LONG:case k2.IFD:i=new Uint32Array(n),o=e.readUint32;break;case k2.SLONG:i=new Int32Array(n),o=e.readInt32;break;case k2.LONG8:case k2.IFD8:i=new Array(n),o=e.readUint64;break;case k2.SLONG8:i=new Array(n),o=e.readInt64;break;case k2.RATIONAL:i=new Uint32Array(2*n),o=e.readUint32;break;case k2.SRATIONAL:i=new Int32Array(2*n),o=e.readInt32;break;case k2.FLOAT:i=new Float32Array(n),o=e.readFloat32;break;case k2.DOUBLE:i=new Float64Array(n),o=e.readFloat64;break;default:throw new RangeError("Invalid field type: ".concat(t))}if(t!==k2.RATIONAL&&t!==k2.SRATIONAL)for(var s=0;s<n;++s)i[s]=o.call(e,r+s*a);else for(var u=0;u<n;u+=2)i[u]=o.call(e,r+u*a),i[u+1]=o.call(e,r+(u*a+4));return t===k2.ASCII?new TextDecoder("utf-8").decode(i):i}var b3=(0,Ht.Z)((function e(t,n,r){(0,Vt.Z)(this,e),this.fileDirectory=t,this.geoKeyDirectory=n,this.nextIFDByteOffset=r})),_3=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){var r;return(0,Vt.Z)(this,n),(r=t.call(this,"No image at index ".concat(e))).index=e,r}return(0,Ht.Z)(n)}(dx(Error)),w3=function(){function e(){(0,Vt.Z)(this,e)}return(0,Ht.Z)(e,[{key:"readRasters",value:function(){var e=ZT(BT().mark((function e(){var t,n,r,i,o,a,s,u,l,c,h,f,d,p,g,m,y,b,_,w,E,S,x,M,k,A,T,P,O,C,R,L,I,D,j,N,B,z,Z,F=arguments;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=F.length>0&&void 0!==F[0]?F[0]:{}).window,r=t.width,i=t.height,o=t.resX,a=t.resY,s=t.bbox,e.next=5,this.getImage();case 5:return u=e.sent,l=u,e.next=9,this.getImageCount();case 9:if(c=e.sent,h=u.getBoundingBox(),!n||!s){e.next=13;break}throw new Error('Both "bbox" and "window" passed.');case 13:if(!r&&!i){e.next=24;break}if(n&&(f=u.getOrigin(),d=v(f,2),p=d[0],g=d[1],m=u.getResolution(),y=v(m,2),b=y[0],_=y[1],s=[p+n[0]*b,g+n[1]*_,p+n[2]*b,g+n[3]*_]),w=s||h,!r){e.next=20;break}if(!o){e.next=19;break}throw new Error("Both width and resX passed");case 19:o=(w[2]-w[0])/r;case 20:if(!i){e.next=24;break}if(!a){e.next=23;break}throw new Error("Both width and resY passed");case 23:a=(w[3]-w[1])/i;case 24:if(!o&&!a){e.next=48;break}E=[],S=0;case 27:if(!(S<c)){e.next=36;break}return e.next=30,this.getImage(S);case 30:x=e.sent,M=x.fileDirectory,k=M.SubfileType,A=M.NewSubfileType,(0===S||2===k||1&A)&&E.push(x);case 33:++S,e.next=27;break;case 36:E.sort((function(e,t){return e.getWidth()-t.getWidth()})),T=0;case 38:if(!(T<E.length)){e.next=48;break}if(P=E[T],O=(h[2]-h[0])/P.getWidth(),C=(h[3]-h[1])/P.getHeight(),l=P,!(o&&o>O||a&&a>C)){e.next=45;break}return e.abrupt("break",48);case 45:++T,e.next=38;break;case 48:return R=n,s&&(L=u.getOrigin(),I=v(L,2),D=I[0],j=I[1],N=l.getResolution(u),B=v(N,2),z=B[0],Z=B[1],R=[Math.round((s[0]-D)/z),Math.round((s[1]-j)/Z),Math.round((s[2]-D)/z),Math.round((s[3]-j)/Z)],R=[Math.min(R[0],R[2]),Math.min(R[1],R[3]),Math.max(R[0],R[2]),Math.max(R[1],R[3])]),e.abrupt("return",l.readRasters((0,V.Z)((0,V.Z)({},t),{},{window:R})));case 51:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),E3=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e,r,i,o){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,Vt.Z)(this,n),(a=t.call(this)).source=e,a.littleEndian=r,a.bigTiff=i,a.firstIFDOffset=o,a.cache=s.cache||!1,a.ifdRequests=[],a.ghostValues=null,a}return(0,Ht.Z)(n,[{key:"getSlice",value:function(){var e=ZT(BT().mark((function e(t,n){var r;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.bigTiff?4048:1024,e.t0=s3,e.next=4,this.source.fetch([{offset:t,length:"undefined"!==typeof n?n:r}]);case 4:return e.t1=e.sent[0],e.t2=t,e.t3=this.littleEndian,e.t4=this.bigTiff,e.abrupt("return",new e.t0(e.t1,e.t2,e.t3,e.t4));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parseFileDirectoryAt",value:function(){var e=ZT(BT().mark((function e(t){var n,r,i,o,a,s,u,l,c,h,f,d,p,v,g,m,y,b,_,w;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.bigTiff?20:12,r=this.bigTiff?8:2,e.next=4,this.getSlice(t);case 4:if(i=e.sent,o=this.bigTiff?i.readUint64(t):i.readUint16(t),a=o*n+(this.bigTiff?16:6),i.covers(t,a)){e.next=11;break}return e.next=10,this.getSlice(t,a);case 10:i=e.sent;case 11:s={},u=t+(this.bigTiff?8:2),l=0;case 14:if(!(l<o)){e.next=41;break}if(c=i.readUint16(u),h=i.readUint16(u+2),f=this.bigTiff?i.readUint64(u+4):i.readUint32(u+4),d=void 0,p=void 0,v=g3(h),g=u+(this.bigTiff?12:8),!(v*f<=(this.bigTiff?8:4))){e.next=26;break}d=y3(i,h,f,g),e.next=36;break;case 26:if(m=i.readOffset(g),y=g3(h)*f,!i.covers(m,y)){e.next=32;break}d=y3(i,h,f,m),e.next=36;break;case 32:return e.next=34,this.getSlice(m,y);case 34:b=e.sent,d=y3(b,h,f,m);case 36:p=1===f&&-1===x2.indexOf(c)&&h!==k2.RATIONAL&&h!==k2.SRATIONAL?d[0]:d,s[w2[c]]=p;case 38:u+=n,++l,e.next=14;break;case 41:return _=m3(s),w=i.readOffset(t+r+n*o),e.abrupt("return",new b3(s,_,w));case 44:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"requestIFD",value:function(){var e=ZT(BT().mark((function e(t){var n=this;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ifdRequests[t]){e.next=4;break}return e.abrupt("return",this.ifdRequests[t]);case 4:if(0!==t){e.next=9;break}return this.ifdRequests[t]=this.parseFileDirectoryAt(this.firstIFDOffset),e.abrupt("return",this.ifdRequests[t]);case 9:if(this.ifdRequests[t-1]){e.next=19;break}e.prev=10,this.ifdRequests[t-1]=this.requestIFD(t-1),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(10),!(e.t0 instanceof _3)){e.next=18;break}throw new _3(t);case 18:throw e.t0;case 19:return this.ifdRequests[t]=ZT(BT().mark((function e(){var r;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.ifdRequests[t-1];case 2:if(0!==(r=e.sent).nextIFDByteOffset){e.next=5;break}throw new _3(t);case 5:return e.abrupt("return",n.parseFileDirectoryAt(r.nextIFDByteOffset));case 6:case"end":return e.stop()}}),e)})))(),e.abrupt("return",this.ifdRequests[t]);case 21:case"end":return e.stop()}}),e,this,[[10,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getImage",value:function(){var e=ZT(BT().mark((function e(){var t,n,r=arguments;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.next=3,this.requestIFD(t);case 3:return n=e.sent,e.abrupt("return",new o3(n.fileDirectory,n.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getImageCount",value:function(){var e=ZT(BT().mark((function e(){var t,n;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=!0;case 2:if(!n){e.next=18;break}return e.prev=3,e.next=6,this.requestIFD(t);case 6:++t,e.next=16;break;case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof _3)){e.next=15;break}n=!1,e.next=16;break;case 15:throw e.t0;case 16:e.next=2;break;case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getGhostValues",value:function(){var e=ZT(BT().mark((function e(){var t,n,r,i,o,a,s,u,l=this;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.bigTiff?16:8,!this.ghostValues){e.next=3;break}return e.abrupt("return",this.ghostValues);case 3:return r=(n="GDAL_STRUCTURAL_METADATA_SIZE=").length+100,e.next=7,this.getSlice(t,r);case 7:if(i=e.sent,n!==y3(i,k2.ASCII,n.length,t)){e.next=19;break}if(o=y3(i,k2.ASCII,r,t),a=o.split("\n")[0],!((s=Number(a.split("=")[1].split(" ")[0])+a.length)>r)){e.next=16;break}return e.next=15,this.getSlice(t,s);case 15:i=e.sent;case 16:u=y3(i,k2.ASCII,s,t),this.ghostValues={},u.split("\n").filter((function(e){return e.length>0})).map((function(e){return e.split("=")})).forEach((function(e){var t=v(e,2),n=t[0],r=t[1];l.ghostValues[n]=r}));case 19:return e.abrupt("return",this.ghostValues);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){return"function"===typeof this.source.close&&this.source.close()}}],[{key:"fromSource",value:function(){var e=ZT(BT().mark((function e(t,r,i){var o,a,s,u,l,c,h;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch([{offset:0,length:1024}],i);case 2:if(o=e.sent[0],a=new a3(o),18761!==(s=a.getUint16(0,0))){e.next=9;break}u=!0,e.next=14;break;case 9:if(19789!==s){e.next=13;break}u=!1,e.next=14;break;case 13:throw new TypeError("Invalid byte order value.");case 14:if(42!==(l=a.getUint16(2,u))){e.next=19;break}c=!1,e.next=27;break;case 19:if(43!==l){e.next=26;break}if(c=!0,8===a.getUint16(4,u)){e.next=24;break}throw new Error("Unsupported offset byte-size.");case 24:e.next=27;break;case 26:throw new TypeError("Invalid magic number.");case 27:return h=c?a.getUint64(8,u):a.getUint32(4,u),e.abrupt("return",new n(t,u,c,h,r));case 29:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(w3);function S3(e,t){return x3.apply(this,arguments)}function x3(){return x3=ZT(BT().mark((function e(t,n){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E3.fromSource(h3(t),n));case 1:case"end":return e.stop()}}),e)}))),x3.apply(this,arguments)}var M3={type:"image",format:"uint8",useHeatMap:!0,useColorsBasedOnValues:!1,useAutoRange:!1,useDataForOpacity:!1,useSingleColor:!1,clipLow:null,clipHigh:null,multiplier:1,color:[255,0,255,255],colorScale:Bm.brewer.YlOrRd,colorScaleValueRange:[0,255],colorsBasedOnValues:null,alpha:100,useChannel:null,noDataValue:void 0,numOfChannels:void 0,nullColor:[0,0,0,0],unidentifiedColor:[0,0,0,0],clippedColor:[0,0,0,0]},k3=function(){function e(){(0,Vt.Z)(this,e),this.scale=function(e,t,n,r,i){return(e-t)*(i-r)/(n-t)+r}}return(0,Ht.Z)(e,[{key:"setUrl",value:function(e){return SX(this,void 0,void 0,BT().mark((function t(){var n,r,i,o;return BT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.arrayBuffer();case 5:return r=t.sent,t.next=8,S3(r);case 8:return i=t.sent,t.next=11,i.getImage(0);case 11:o=t.sent,this.data=o;case 13:case"end":return t.stop()}}),t,this)})))}},{key:"getMap",value:function(e,t){return SX(this,void 0,void 0,BT().mark((function n(){var r;return BT().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=Object.assign(Object.assign({},M3),t),n.t0=r.type,n.next="image"===n.t0?4:"terrain"===n.t0?5:6;break;case 4:return n.abrupt("return",this.getBitmap(e,r));case 5:return n.abrupt("return",this.getHeightmap(e,r));case 6:return n.abrupt("return",null);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"getHeightmap",value:function(e,t){return SX(this,void 0,void 0,BT().mark((function n(){var r,i,o,a,s,u,l,c,h,f,d,p,v,g;return BT().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=[],"string"!==typeof e){n.next=11;break}return n.next=4,this.setUrl(e);case 4:return n.next=6,this.data.readRasters();case 6:r=n.sent,i=this.data.getWidth(),o=this.data.getHeight(),n.next=14;break;case 11:r=e.rasters,i=e.width,o=e.height;case 14:for(a=r[0],null!=t.useChannel&&r[t.useChannel]&&(a=r[t.useChannel]),(s=document.createElement("canvas")).width=i,s.height=o,u=s.getContext("2d"),l=u.createImageData(i,o),c=a.length/(i*o),h=i*o*4,f=null===t.useChannel?0:t.useChannel,d=0;d<h;d+=4)p=a[f]*t.multiplier,v=Math.floor((p+1e4)/.1),l.data[d]=Math.floor(v/65536),l.data[d+1]=Math.floor(v/256%256),l.data[d+2]=v%256,l.data[d+3]=255,f+=c;return u.putImageData(l,0,0),g=s.toDataURL("image/png"),n.abrupt("return",g);case 28:case"end":return n.stop()}}),n,this)})))}},{key:"getBitmap",value:function(e,t){return SX(this,void 0,void 0,BT().mark((function n(){var r,i,o,a,s,u,l,c,h,f,d,p,g,m,y,b,_,w,E,S,x,M,k,A,T,P;return BT().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=Object.assign({},t),i=[],"string"!==typeof e){n.next=13;break}return n.next=5,this.setUrl(e);case 5:return n.next=7,this.data.readRasters();case 7:i=n.sent,o=i.length,a=this.data.getWidth(),s=this.data.getHeight(),n.next=17;break;case 13:i=e.rasters,o=i.length,a=e.width,s=e.height;case 17:if((u=document.createElement("canvas")).width=a,u.height=s,l=u.getContext("2d"),c=l.createImageData(a,s),g=a*s*4,t.noDataValue||console.log("Missing noData value. Raster might be displayed incorrectly."),r.unidentifiedColor=this.getColorFromChromaType(r.unidentifiedColor),r.nullColor=this.getColorFromChromaType(r.nullColor),r.clippedColor=this.getColorFromChromaType(r.clippedColor),r.color=this.getColorFromChromaType(r.color),null==r.useChannel){if(1===o){if(i[0].length/(a*s)===1&&(m=i[0],r.useAutoRange&&(r.colorScaleValueRange=this.getMinMax(m,r)),this.getColorValue(m,r,g).forEach((function(e,t){c.data[t]=e}))),i[0].length/(a*s)===3)for(y=0,b=0;b<g;b+=4)_=[i[0][y],i[0][y+1],i[0][y+2]],w=this.hasPixelsNoData(_,r.noDataValue)?r.nullColor:[].concat(_,[Math.floor(2.55*r.alpha)]),E=v(w,4),c.data[b]=E[0],c.data[b+1]=E[1],c.data[b+2]=E[2],c.data[b+3]=E[3],y+=3;i[0].length/(a*s)===4&&i[0].forEach((function(e,t){c.data[t]=e}))}if(3===o)for(S=0,x=0;x<g;x+=4)h=i[0][S],f=i[1][S],d=i[2][S],p=Math.floor(2.55*r.alpha),c.data[x]=h,c.data[x+1]=f,c.data[x+2]=d,c.data[x+3]=p,S+=1;if(4===o)for(M=0,k=0;k<g;k+=4)h=i[0][M],f=i[1][M],d=i[2][M],p=Math.floor(2.55*r.alpha),c.data[k]=h,c.data[k+1]=f,c.data[k+2]=d,c.data[k+3]=p,M+=1}else r.useChannel<=r.numOfChannels?(A=i[0],i[r.useChannel]&&(A=i[r.useChannel]),r.useAutoRange&&(r.colorScaleValueRange=this.getMinMax(A,r)),T=A.length/(a*s),this.getColorValue(A,r,g,T).forEach((function(e,t){c.data[t]=e}))):(console.log("Defined channel does not exist, displaying only grey values"),this.getDefaultColor(g,r.nullColor).forEach((function(e,t){c.data[t]=e})));return l.putImageData(c,0,0),P=u.toDataURL("image/png"),n.abrupt("return",P);case 32:case"end":return n.stop()}}),n,this)})))}},{key:"getMinMax",value:function(e,t){for(var n=t.maxValue?t.maxValue:Number.MIN_VALUE,r=t.minValue?t.minValue:Number.MAX_VALUE,i=0;i<e.length;i+=1)void 0!==t.noDataValue&&e[i]===t.noDataValue||(e[i]>n&&(n=e[i]),e[i]<r&&(r=e[i]));return[r,n]}},{key:"getColorValue",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=Bm.scale(t.colorScale).domain(t.colorScaleValueRange),o=null===t.useChannel?0:t.useChannel,a=new Array(n),s=t.colorsBasedOnValues?t.colorsBasedOnValues.map((function(e){return v(e,1)[0]})):void 0,u=t.colorsBasedOnValues?t.colorsBasedOnValues.map((function(e){var n=v(e,2)[1];return[].concat((0,g.Z)(Bm(n).rgb()),[Math.floor(2.55*t.alpha)])})):void 0,l=0;l<n;l+=4){var c=t.nullColor;if(void 0===t.noDataValue||e[o]!==t.noDataValue)if(null!=t.clipLow&&e[o]<=t.clipLow||null!=t.clipHigh&&e[o]>=t.clipHigh)c=t.clippedColor;else{if(t.useHeatMap&&(c=[].concat((0,g.Z)(i(e[o]).rgb()),[Math.floor(2.55*t.alpha)])),t.useColorsBasedOnValues){var h=s.indexOf(e[o]);c=h>-1?u[h]:t.unidentifiedColor}t.useSingleColor&&(c=t.color),t.useDataForOpacity&&(c[3]=this.scale(e[o],t.colorScaleValueRange[0],t.colorScaleValueRange.slice(-1)[0],0,255))}var f=v(c,4);a[l]=f[0],a[l+1]=f[1],a[l+2]=f[2],a[l+3]=f[3],o+=r}return a}},{key:"getDefaultColor",value:function(e,t){for(var n=new Array(e),r=0;r<e;r+=4){var i=v(t,4);n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3]}return n}},{key:"getColorFromChromaType",value:function(e){return Array.isArray(e)&&4===e.length?e:[].concat((0,g.Z)(Bm(e).rgb()),[255])}},{key:"hasPixelsNoData",value:function(e,t){return void 0!==t&&e.every((function(e){return e===t}))}}]),e}(),A3=40075e3,T3=20037500,P3=function(){function e(t){(0,Vt.Z)(this,e),this.zoomRange=[0,0],this.lowestOriginTileOffset=[0,0],this.lowestOriginTileSize=0,this.loaded=!1,this.geo=new k3,this.lzw=new e1,this.options=t}return(0,Ht.Z)(e,[{key:"initializeCog",value:function(e){return SX(this,void 0,void 0,BT().mark((function t(){var n,r=this;return BT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P$.fetch=function(e,t){return SX(r,void 0,void 0,BT().mark((function n(){var r;return BT().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,t);case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))},n=new P$(e),t.next=4,x$.create(n);case 4:return this.cog=t.sent,this.cog.images.forEach((function(e){e.loadGeoTiffTags()})),this.tileSize=this.getTileSize(this.cog),this.lowestOriginTileOffset=this.getImageTileIndex(this.cog.images[this.cog.images.length-1]),this.zoomRange=this.getZoomRange(this.cog),t.abrupt("return",this.cog);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getTileSize",value:function(e){return e.images[e.images.length-1].tileSize.width}},{key:"getZoomRange",value:function(e){var t=e.images[e.images.length-1],n=this.getZoomLevelFromResolution(e.images[e.images.length-1].tileSize.width,t.resolution[0]);return[n,n+(e.images.length-1)]}},{key:"getBoundsAsLatLon",value:function(e){var t=e.images[e.images.length-1].bbox,n=Math.min(t[0],t[2]),r=Math.max(t[0],t[2]),i=Math.min(t[1],t[3]),o=Math.max(t[1],t[3]),a=this.getLatLon([n,i]),s=this.getLatLon([r,o]);return[a[0],a[1],s[0],s[1]]}},{key:"getOriginAsLatLon",value:function(e){var t=e.images[e.images.length-1].origin;return this.getLatLon(t)}},{key:"getImageTileIndex",value:function(e){var t=T3+e.origin[0],n=-(T3+(e.origin[1]-A3)),r=e.tileSize.width*this.getResolutionFromZoomLevel(e.tileSize.width,this.getZoomLevelFromResolution(e.tileSize.width,e.resolution[0]));return[Math.round(t/r),Math.round(n/r),this.getZoomLevelFromResolution(e.tileSize.width,e.resolution[0])]}},{key:"getResolutionFromZoomLevel",value:function(e,t){return A3/e/Math.pow(2,t)}},{key:"getZoomLevelFromResolution",value:function(e,t){return Math.round(Math.log2(A3/(t*e)))}},{key:"getLatLon",value:function(e){var t=function(e){var t=v(e,2),n=t[0],r=t[1],i=n/512*(2*V0)-V0,o=2*(Math.atan(Math.exp(r/512*(2*V0)-V0))-H0);return[i*W0,o*W0]}([12776044915782906e-21*(T3+e[0]),12776044915782906e-21*-(T3+(e[1]-A3))]);return[t[0],-t[1]]}},{key:"getTile",value:function(e,t,n){return SX(this,void 0,void 0,BT().mark((function r(){var i,o,a,s,u,l,c,h,f,d,p,g,m,y,b;return BT().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.getResolutionFromZoomLevel(this.tileSize,n),o=this.cog.getImageByResolution(i),a=[0,0],n===this.zoomRange[0]?a=this.lowestOriginTileOffset:(s=Math.pow(2,n-this.zoomRange[0]),a[0]=Math.floor(this.lowestOriginTileOffset[0]*s),a[1]=Math.floor(this.lowestOriginTileOffset[1]*s)),u=o.tileCount.x,l=o.tileCount.y,c=a[0],h=a[1],this.options.numOfChannels=Number(o.tags.get(277).value),this.options.noDataValue=this.getNoDataValue(o.tags),this.options.format||(this.options.format=this.getFormat(o.tags.get(339).value,o.tags.get(258).value)),p=o.tags.get(258).value,Array.isArray(p)&&("terrain"===this.options.type?(g=0,p.forEach((function(e){g+=e})),p=g):(m=v(p,1),p=m[0])),!(e-c>=0&&t-h>=0&&e-c<u&&t-h<l)){r.next=53;break}return r.next=16,o.getTile(e-c,t-h);case 16:y=r.sent,r.t0=o.compression,r.next="image/jpeg"===r.t0?20:"application/deflate"===r.t0?22:"application/lzw"===r.t0?26:28;break;case 20:return d=K0.decode(y.bytes,{useTArray:!0}),r.abrupt("break",29);case 22:return r.next=24,z0(y.bytes);case 24:return d=r.sent,r.abrupt("break",29);case 26:return d=this.lzw.decodeBlock(y.bytes.buffer),r.abrupt("break",29);case 28:console.warn("Unexpected compression method: ".concat(o.compression));case 29:r.t1=this.options.format,r.next="uint8"===r.t1?32:"uint16"===r.t1?34:"uint32"===r.t1?36:"int8"===r.t1?38:"int16"===r.t1?40:"int32"===r.t1?42:"float32"===r.t1?44:"float64"===r.t1?46:48;break;case 32:return b=new Uint8Array(d.buffer),r.abrupt("break",49);case 34:return b=new Uint16Array(d.buffer),r.abrupt("break",49);case 36:return b=new Uint32Array(d.buffer),r.abrupt("break",49);case 38:return b=new Int8Array(d.buffer),r.abrupt("break",49);case 40:return b=new Int16Array(d.buffer),r.abrupt("break",49);case 42:return b=new Int32Array(d.buffer),r.abrupt("break",49);case 44:return b=new Float32Array(d.buffer),r.abrupt("break",49);case 46:return b=new Float64Array(d.buffer),r.abrupt("break",49);case 48:b=null;case 49:return r.next=51,this.geo.getMap({rasters:[b],width:this.tileSize,height:this.tileSize},this.options);case 51:return f=r.sent,r.abrupt("return",f);case 53:return r.abrupt("return",null);case 54:case"end":return r.stop()}}),r,this)})))}},{key:"getFormat",value:function(e,t){var n,r=e,i=t;Array.isArray(e)&&(r=v(e,1)[0]);Array.isArray(t)&&(i=v(t,1)[0]);switch(r){case 1:switch(i){case 8:n="uint8";break;case 16:n="uint16";break;case 32:n="uint32";break;default:n=null}break;case 2:switch(i){case 8:n="int8";break;case 16:n="int16";break;case 32:n="int32";break;default:n=null}break;case 3:switch(i){case 32:n="float32";break;case 64:n="float64";break;default:n=null}break;default:throw new Error("Unknown data format.")}return n}},{key:"getNoDataValue",value:function(e){if(e.has(42113)){var t=e.get(42113).value;if("string"===typeof t||t instanceof String){var n=t.replace(/[\0\s]/g,"");return Number(n)}return Number.isNaN(Number(t))?void 0:Number(t)}}},{key:"testCog",value:function(){return SX(this,void 0,void 0,BT().mark((function e(){var t,n,r,i,o,a,s,u,l;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://gisat-gis.eu-central-1.linodeobjects.com/eman/versions/v2/Quadrants/Q3_Bolivia_ASTER_2002_RGB_COG_LZW.tif",this.options={type:"image",multiplier:1,useChannel:1,alpha:180,clipLow:1,clipHigh:Number.MAX_VALUE},e.next=4,this.initializeCog("https://gisat-gis.eu-central-1.linodeobjects.com/eman/versions/v2/Quadrants/Q3_Bolivia_ASTER_2002_RGB_COG_LZW.tif");case 4:return t=e.sent,n=t.images[Math.floor(t.images.length/2)],console.log(n),r=this.getImageTileIndex(n),console.log(r),i=Math.floor(n.tileCount.x/2),o=Math.floor(n.tileCount.y/2),console.log(t.getTile(i,o,Math.floor(t.images.length/2))),a=i+r[0],s=o+r[1],u=r[2],e.next=17,this.getTile(a,s,u);case 17:!1===(l=e.sent)?console.log("couldn't retrieve tile"):console.log(l);case 19:case"end":return e.stop()}}),e,this)})))}}]),e}(),O3=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e,r,i){var o;return(0,Vt.Z)(this,n),(o=t.call(this,{})).id="",o.id=e,o.cogTiles=new P3(i),o.url=r,o}return(0,Ht.Z)(n,[{key:"initializeState",value:function(){this.state={initialized:!1},this.init(this.url)}},{key:"init",value:function(e){return SX(this,void 0,void 0,BT().mark((function t(){var n,r,i;return BT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cogTiles.initializeCog(e);case 2:n=t.sent,this.setState({initialized:!0}),this.tileSize=this.cogTiles.getTileSize(n),r=this.cogTiles.getZoomRange(n),i=v(r,2),this.minZoom=i[0],this.maxZoom=i[1];case 9:case"end":return t.stop()}}),t,this)})))}},{key:"renderLayers",value:function(){var e=this;return this.cogTiles.cog?new OW({id:"".concat(this.id,"-").concat(String(performance.now())),getTileData:function(t){return e.cogTiles.getTile(t.index.x,t.index.y,t.index.z)},minZoom:this.minZoom,maxZoom:this.maxZoom,tileSize:this.tileSize,maxRequests:6,extent:this.cogTiles.cog?this.cogTiles.getBoundsAsLatLon(this.cogTiles.cog):null,renderSubLayers:function(t){var n,r,i,o,a,s,u,l=t.tile.bbox,c=l.west,h=l.south,f=l.east,d=l.north;return new NW(t,Object.assign({data:null,image:t.data,bounds:[c,h,f,d],opacity:1,extensions:(null===(r=null===(n=e.cogTiles)||void 0===n?void 0:n.options)||void 0===r?void 0:r.clampToTerrain)?[new KX]:[]},(null===(a=null===(o=null===(i=e.cogTiles)||void 0===i?void 0:i.options)||void 0===o?void 0:o.clampToTerrain)||void 0===a?void 0:a.terrainDrawMode)?{terrainDrawMode:null===(u=null===(s=e.cogTiles)||void 0===s?void 0:s.options)||void 0===u?void 0:u.clampToTerrain.terrainDrawMode}:{}))}}):null}}]),n}(RF);O3.layerName="CogBitmapLayer",O3.displayName="CogBitmapLayer";var C3=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e,r,i,o,a){var s,u;return(0,Vt.Z)(this,n),(s=t.call(this,{})).urlType="none",s.id="",s.id=e,o&&((u=o).includes("{x}")&&u.includes("{y}")&&u.includes("{z}")?(s.bitmapUrl=o,s.urlType="tile"):!function(e){return!!(e.includes(".tif")||e.includes(".tiff")||e.includes(".TIF")||e.includes(".TIFF"))}(o)?console.warn("URL needs to point to a valid cog file, or needs to be in the {x}{y}{z} format."):(s.bitmapCogTiles=new P3(a),s.bitmapCogTiles.initializeCog(o),s.urlType="cog")),s.terrainCogTiles=new P3(i),s.terrainUrl=r,s}return(0,Ht.Z)(n,[{key:"initializeState",value:function(){this.state={initialized:!1},this.init(this.terrainUrl)}},{key:"init",value:function(e){return SX(this,void 0,void 0,BT().mark((function t(){var n,r,i;return BT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.terrainCogTiles.initializeCog(e);case 2:n=t.sent,this.tileSize=this.terrainCogTiles.getTileSize(n),r=this.terrainCogTiles.getZoomRange(n),i=v(r,2),this.minZoom=i[0],this.maxZoom=i[1],this.setState({initialized:!0});case 9:case"end":return t.stop()}}),t,this)})))}},{key:"renderLayers",value:function(){var e=this;if(this.terrainCogTiles.cog){var t;this.urlType;var n=new OW({id:"".concat(this.id,"-").concat(String(performance.now())),zoomOffset:-1,getTileData:function(t){return e.terrainCogTiles.getTile(t.index.x,t.index.y,t.index.z)},minZoom:this.minZoom,maxZoom:this.maxZoom,tileSize:this.tileSize,maxRequests:6,refinementStrategy:"best-available",extent:this.terrainCogTiles.getBoundsAsLatLon(this.terrainCogTiles.cog),renderSubLayers:function(n){if(n.data&&void 0!==n.tile.index.x){switch(e.urlType){case"tile":t=function(e,t,n,r){return e.replace("{x}",String(t)).replace("{y}",String(n)).replace("{z}",String(r))}(e.bitmapUrl,n.tile.index.x,n.tile.index.y,n.tile.index.z);break;case"cog":t=e.bitmapCogTiles.getTile(n.tile.index.x,n.tile.index.y,n.tile.index.z);break;default:t=null}return new EX({id:"terrain-".concat(n.tile.index.x,"-").concat(n.tile.index.y,"-").concat(n.tile.index.z),pickable:!0,elevationDecoder:{rScaler:6553.6,gScaler:25.6,bScaler:.1,offset:-1e4},elevationData:n.data,texture:t,bounds:[n.tile.bbox.west,n.tile.bbox.south,n.tile.bbox.east,n.tile.bbox.north],operation:"terrain+draw",minZoom:e.minZoom,maxZoom:e.maxZoom,loadOptions:{terrain:{skirtHeight:2e3,tesselator:"martini"}},meshMaxError:12})}return null}});return[n]}return[]}}]),n}(RF);C3.layerName="CogTerrainLayer",C3.displayName="CogTerrainLayer";var R3={CogBitmapLayer:O3,CogTerrainLayer:C3,cogtiles:P3,GeoImage:k3},L3=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"decodeBlock",value:function(e){return e}}]),n}(v3),I3=Object.freeze({__proto__:null,default:L3}),D3=257;function j3(e,t){for(var n=t.length-1;n>=0;n--)e.push(t[n]);return e}function N3(e){for(var t=new Uint16Array(4093),n=new Uint8Array(4093),r=0;r<=257;r++)t[r]=4096,n[r]=r;var i=258,o=9,a=0;function s(){i=258,o=9}function u(e){var t=function(e,t,n){var r=t%8,i=Math.floor(t/8),o=8-r,a=t+n-8*(i+1),s=8*(i+2)-(t+n),u=8*(i+2)-t;if(s=Math.max(0,s),i>=e.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),D3;var l=e[i]&Math.pow(2,8-r)-1,c=l<<=n-o;if(i+1<e.length){var h=e[i+1]>>>s;c+=h<<=Math.max(0,n-u)}if(a>8&&i+2<e.length){var f=8*(i+3)-(t+n);c+=e[i+2]>>>f}return c}(e,a,o);return a+=o,t}function l(e,r){return n[i]=r,t[i]=e,++i-1}function c(e){for(var r=[],i=e;4096!==i;i=t[i])r.push(n[i]);return r}var h=[];s();for(var f,d=new Uint8Array(e),p=u(d);p!==D3;){if(256===p){for(s(),p=u(d);256===p;)p=u(d);if(p===D3)break;if(p>256)throw new Error("corrupted code at scanline ".concat(p));j3(h,c(p)),f=p}else if(p<i){var v=c(p);j3(h,v),l(f,v[v.length-1]),f=p}else{var g=c(f);if(!g)throw new Error("Bogus entry. Not in dictionary, ".concat(f," / ").concat(i,", position: ").concat(a));j3(h,g),h.push(g[g.length-1]),l(f,g[g.length-1]),f=p}i+1>=Math.pow(2,o)&&(12===o?f=void 0:o++),p=u(d)}return new Uint8Array(h)}var B3=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"decodeBlock",value:function(e){return N3(e).buffer}}]),n}(v3),z3=Object.freeze({__proto__:null,default:B3}),Z3=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),F3=4017,U3=799,K3=3406,V3=2276,H3=1567,W3=3784,G3=5793,q3=2896;function Y3(e,t){for(var n=0,r=[],i=16;i>0&&!e[i-1];)--i;r.push({children:[],index:0});for(var o,a=r[0],s=0;s<i;s++){for(var u=0;u<e[s];u++){for((a=r.pop()).children[a.index]=t[n];a.index>0;)a=r.pop();for(a.index++,r.push(a);r.length<=s;)r.push(o={children:[],index:0}),a.children[a.index]=o.children,a=o;n++}s+1<i&&(r.push(o={children:[],index:0}),a.children[a.index]=o.children,a=o)}return r[0].children}function X3(e,t,n,r,i,o,a,s,u){var l=n.mcusPerLine,c=n.progressive,h=t,f=t,d=0,p=0;function v(){if(p>0)return p--,d>>p&1;if(255===(d=e[f++])){var t=e[f++];if(t)throw new Error("unexpected marker: ".concat((d<<8|t).toString(16)))}return p=7,d>>>7}function g(e){for(var t,n=e;null!==(t=v());){if("number"===typeof(n=n[t]))return n;if("object"!==typeof n)throw new Error("invalid huffman sequence")}return null}function m(e){for(var t=e,n=0;t>0;){var r=v();if(null===r)return;n=n<<1|r,--t}return n}function y(e){var t=m(e);return t>=1<<e-1?t:t+(-1<<e)+1}var b=0;var _,w=0;function E(e,t,n,r,i){var o=n%l,a=(n/l|0)*e.v+r,s=o*e.h+i;t(e,e.blocks[a][s])}function S(e,t,n){var r=n/e.blocksPerLine|0,i=n%e.blocksPerLine;t(e,e.blocks[r][i])}var x,M,k,A,T,P,O=r.length;P=c?0===o?0===s?function(e,t){var n=g(e.huffmanTableDC),r=0===n?0:y(n)<<u;e.pred+=r,t[0]=e.pred}:function(e,t){t[0]|=v()<<u}:0===s?function(e,t){if(b>0)b--;else for(var n=o,r=a;n<=r;){var i=g(e.huffmanTableAC),s=15&i,l=i>>4;if(0===s){if(l<15){b=m(l)+(1<<l)-1;break}n+=16}else t[Z3[n+=l]]=y(s)*(1<<u),n++}}:function(e,t){for(var n=o,r=a,i=0;n<=r;){var s=Z3[n],l=t[s]<0?-1:1;switch(w){case 0:var c=g(e.huffmanTableAC),h=15&c;if(i=c>>4,0===h)i<15?(b=m(i)+(1<<i),w=4):(i=16,w=1);else{if(1!==h)throw new Error("invalid ACn encoding");_=y(h),w=i?2:3}continue;case 1:case 2:t[s]?t[s]+=(v()<<u)*l:0===--i&&(w=2===w?3:0);break;case 3:t[s]?t[s]+=(v()<<u)*l:(t[s]=_<<u,w=0);break;case 4:t[s]&&(t[s]+=(v()<<u)*l)}n++}4===w&&0===--b&&(w=0)}:function(e,t){var n=g(e.huffmanTableDC),r=0===n?0:y(n);e.pred+=r,t[0]=e.pred;for(var i=1;i<64;){var o=g(e.huffmanTableAC),a=15&o,s=o>>4;if(0===a){if(s<15)break;i+=16}else t[Z3[i+=s]]=y(a),i++}};var C,R,L=0;R=1===O?r[0].blocksPerLine*r[0].blocksPerColumn:l*n.mcusPerColumn;for(var I=i||R;L<R;){for(M=0;M<O;M++)r[M].pred=0;if(b=0,1===O)for(x=r[0],T=0;T<I;T++)S(x,P,L),L++;else for(T=0;T<I;T++){for(M=0;M<O;M++){var D=x=r[M],j=D.h,N=D.v;for(k=0;k<N;k++)for(A=0;A<j;A++)E(x,P,L,k,A)}if(++L===R)break}if(p=0,(C=e[f]<<8|e[f+1])<65280)throw new Error("marker was not found");if(!(C>=65488&&C<=65495))break;f+=2}return f-h}function $3(e,t){var n=[],r=t.blocksPerLine,i=t.blocksPerColumn,o=r<<3,a=new Int32Array(64),s=new Uint8Array(64);function u(e,n,r){var i,o,a,s,u,l,c,h,f,d,p=t.quantizationTable,v=r;for(d=0;d<64;d++)v[d]=e[d]*p[d];for(d=0;d<8;++d){var g=8*d;0!==v[1+g]||0!==v[2+g]||0!==v[3+g]||0!==v[4+g]||0!==v[5+g]||0!==v[6+g]||0!==v[7+g]?(i=G3*v[0+g]+128>>8,o=G3*v[4+g]+128>>8,a=v[2+g],s=v[6+g],u=q3*(v[1+g]-v[7+g])+128>>8,h=q3*(v[1+g]+v[7+g])+128>>8,l=v[3+g]<<4,c=v[5+g]<<4,f=i-o+1>>1,i=i+o+1>>1,o=f,f=a*W3+s*H3+128>>8,a=a*H3-s*W3+128>>8,s=f,f=u-c+1>>1,u=u+c+1>>1,c=f,f=h+l+1>>1,l=h-l+1>>1,h=f,f=i-s+1>>1,i=i+s+1>>1,s=f,f=o-a+1>>1,o=o+a+1>>1,a=f,f=u*V3+h*K3+2048>>12,u=u*K3-h*V3+2048>>12,h=f,f=l*U3+c*F3+2048>>12,l=l*F3-c*U3+2048>>12,c=f,v[0+g]=i+h,v[7+g]=i-h,v[1+g]=o+c,v[6+g]=o-c,v[2+g]=a+l,v[5+g]=a-l,v[3+g]=s+u,v[4+g]=s-u):(f=G3*v[0+g]+512>>10,v[0+g]=f,v[1+g]=f,v[2+g]=f,v[3+g]=f,v[4+g]=f,v[5+g]=f,v[6+g]=f,v[7+g]=f)}for(d=0;d<8;++d){var m=d;0!==v[8+m]||0!==v[16+m]||0!==v[24+m]||0!==v[32+m]||0!==v[40+m]||0!==v[48+m]||0!==v[56+m]?(i=G3*v[0+m]+2048>>12,o=G3*v[32+m]+2048>>12,a=v[16+m],s=v[48+m],u=q3*(v[8+m]-v[56+m])+2048>>12,h=q3*(v[8+m]+v[56+m])+2048>>12,l=v[24+m],c=v[40+m],f=i-o+1>>1,i=i+o+1>>1,o=f,f=a*W3+s*H3+2048>>12,a=a*H3-s*W3+2048>>12,s=f,f=u-c+1>>1,u=u+c+1>>1,c=f,f=h+l+1>>1,l=h-l+1>>1,h=f,f=i-s+1>>1,i=i+s+1>>1,s=f,f=o-a+1>>1,o=o+a+1>>1,a=f,f=u*V3+h*K3+2048>>12,u=u*K3-h*V3+2048>>12,h=f,f=l*U3+c*F3+2048>>12,l=l*F3-c*U3+2048>>12,c=f,v[0+m]=i+h,v[56+m]=i-h,v[8+m]=o+c,v[48+m]=o-c,v[16+m]=a+l,v[40+m]=a-l,v[24+m]=s+u,v[32+m]=s-u):(f=G3*r[d+0]+8192>>14,v[0+m]=f,v[8+m]=f,v[16+m]=f,v[24+m]=f,v[32+m]=f,v[40+m]=f,v[48+m]=f,v[56+m]=f)}for(d=0;d<64;++d){var y=128+(v[d]+8>>4);n[d]=y<0?0:y>255?255:y}}for(var l=0;l<i;l++){for(var c=l<<3,h=0;h<8;h++)n.push(new Uint8Array(o));for(var f=0;f<r;f++){u(t.blocks[l][f],s,a);for(var d=0,p=f<<3,v=0;v<8;v++)for(var g=n[c+v],m=0;m<8;m++)g[p+m]=s[d++]}}return n}var J3,Q3=function(){function e(){(0,Vt.Z)(this,e),this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}return(0,Ht.Z)(e,[{key:"resetFrames",value:function(){this.frames=[]}},{key:"parse",value:function(e){var t=0;function n(){var n=e[t]<<8|e[t+1];return t+=2,n}function r(){var r=n(),i=e.subarray(t,t+r-2);return t+=i.length,i}function i(e){var t,n,r=0,i=0;for(n in e.components)e.components.hasOwnProperty(n)&&(r<(t=e.components[n]).h&&(r=t.h),i<t.v&&(i=t.v));var o=Math.ceil(e.samplesPerLine/8/r),a=Math.ceil(e.scanLines/8/i);for(n in e.components)if(e.components.hasOwnProperty(n)){t=e.components[n];for(var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/r),u=Math.ceil(Math.ceil(e.scanLines/8)*t.v/i),l=o*t.h,c=a*t.v,h=[],f=0;f<c;f++){for(var d=[],p=0;p<l;p++)d.push(new Int32Array(64));h.push(d)}t.blocksPerLine=s,t.blocksPerColumn=u,t.blocks=h}e.maxH=r,e.maxV=i,e.mcusPerLine=o,e.mcusPerColumn=a}var o=n();if(65496!==o)throw new Error("SOI not found");for(o=n();65497!==o;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var a=r();65504===o&&74===a[0]&&70===a[1]&&73===a[2]&&70===a[3]&&0===a[4]&&(this.jfif={version:{major:a[5],minor:a[6]},densityUnits:a[7],xDensity:a[8]<<8|a[9],yDensity:a[10]<<8|a[11],thumbWidth:a[12],thumbHeight:a[13],thumbData:a.subarray(14,14+3*a[12]*a[13])}),65518===o&&65===a[0]&&100===a[1]&&111===a[2]&&98===a[3]&&101===a[4]&&0===a[5]&&(this.adobe={version:a[6],flags0:a[7]<<8|a[8],flags1:a[9]<<8|a[10],transformCode:a[11]});break;case 65499:for(var s=n()+t-2;t<s;){var u=e[t++],l=new Int32Array(64);if(u>>4===0)for(var c=0;c<64;c++){l[Z3[c]]=e[t++]}else{if(u>>4!==1)throw new Error("DQT: invalid table spec");for(var h=0;h<64;h++){l[Z3[h]]=n()}}this.quantizationTables[15&u]=l}break;case 65472:case 65473:case 65474:n();for(var f={extended:65473===o,progressive:65474===o,precision:e[t++],scanLines:n(),samplesPerLine:n(),components:{},componentsOrder:[]},d=e[t++],p=void 0,v=0;v<d;v++){p=e[t];var g=e[t+1]>>4,m=15&e[t+1],y=e[t+2];f.componentsOrder.push(p),f.components[p]={h:g,v:m,quantizationIdx:y},t+=3}i(f),this.frames.push(f);break;case 65476:for(var b=n(),_=2;_<b;){for(var w=e[t++],E=new Uint8Array(16),S=0,x=0;x<16;x++,t++)E[x]=e[t],S+=E[x];for(var M=new Uint8Array(S),k=0;k<S;k++,t++)M[k]=e[t];_+=17+S,w>>4===0?this.huffmanTablesDC[15&w]=Y3(E,M):this.huffmanTablesAC[15&w]=Y3(E,M)}break;case 65501:n(),this.resetInterval=n();break;case 65498:n();for(var A=e[t++],T=[],P=this.frames[0],O=0;O<A;O++){var C=P.components[e[t++]],R=e[t++];C.huffmanTableDC=this.huffmanTablesDC[R>>4],C.huffmanTableAC=this.huffmanTablesAC[15&R],T.push(C)}var L=e[t++],I=e[t++],D=e[t++],j=X3(e,t,P,T,this.resetInterval,L,I,D>>4,15&D);t+=j;break;case 65535:255!==e[t]&&t--;break;default:if(255===e[t-3]&&e[t-2]>=192&&e[t-2]<=254){t-=3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o=n()}}},{key:"getResult",value:function(){var e=this.frames;if(0===this.frames.length)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(var t=0;t<this.frames.length;t++)for(var n=this.frames[t].components,r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];n[o].quantizationTable=this.quantizationTables[n[o].quantizationIdx],delete n[o].quantizationIdx}for(var a=e[0],s=a.components,u=a.componentsOrder,l=[],c=a.samplesPerLine,h=a.scanLines,f=0;f<u.length;f++){var d=s[u[f]];l.push({lines:$3(0,d),scaleX:d.h/a.maxH,scaleY:d.v/a.maxV})}for(var p=new Uint8Array(c*h*l.length),v=0,g=0;g<h;++g)for(var m=0;m<c;++m)for(var y=0;y<l.length;++y){var b=l[y];p[v]=b.lines[0|g*b.scaleY][0|m*b.scaleX],++v}return p}}]),e}(),e6=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){var r;return(0,Vt.Z)(this,n),(r=t.call(this)).reader=new Q3,e.JPEGTables&&r.reader.parse(e.JPEGTables),r}return(0,Ht.Z)(n,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),n}(v3),t6=Object.freeze({__proto__:null,default:e6}),n6=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"decodeBlock",value:function(e){return z0(new Uint8Array(e)).buffer}}]),n}(v3),r6=Object.freeze({__proto__:null,default:n6}),i6=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"decodeBlock",value:function(e){for(var t=new DataView(e),n=[],r=0;r<e.byteLength;++r){var i=t.getInt8(r);if(i<0){var o=t.getUint8(r+1);i=-i;for(var a=0;a<=i;++a)n.push(o);r+=1}else{for(var s=0;s<=i;++s)n.push(t.getUint8(r+s+1));r+=i+1}}return new Uint8Array(n).buffer}}]),n}(v3),o6=Object.freeze({__proto__:null,default:i6}),a6={exports:{}};J3=a6,function(){var e=function(){var e={defaultNoDataValue:-34027999387901484e22,decode:function(o,a){var s=(a=a||{}).encodedMaskData||null===a.encodedMaskData,u=i(o,a.inputOffset||0,s),l=null!==a.noDataValue?a.noDataValue:e.defaultNoDataValue,c=t(u,a.pixelType||Float32Array,a.encodedMaskData,l,a.returnMask),h={width:u.width,height:u.height,pixelData:c.resultPixels,minValue:c.minValue,maxValue:u.pixels.maxValue,noDataValue:l};return c.resultMask&&(h.maskData=c.resultMask),a.returnEncodedMask&&u.mask&&(h.encodedMaskData=u.mask.bitset?u.mask.bitset:null),a.returnFileInfo&&(h.fileInfo=n(u),a.computeUsedBitDepths&&(h.fileInfo.bitDepths=r(u))),h}},t=function(e,t,n,r,i){var a,s,u,l=0,c=e.pixels.numBlocksX,h=e.pixels.numBlocksY,f=Math.floor(e.width/c),d=Math.floor(e.height/h),p=2*e.maxZError,v=Number.MAX_VALUE;n=n||(e.mask?e.mask.bitset:null),s=new t(e.width*e.height),i&&n&&(u=new Uint8Array(e.width*e.height));for(var g,m,y=new Float32Array(f*d),b=0;b<=h;b++){var _=b!==h?d:e.height%h;if(0!==_)for(var w=0;w<=c;w++){var E=w!==c?f:e.width%c;if(0!==E){var S,x,M,k,A=b*e.width*d+w*f,T=e.width-E,P=e.pixels.blocks[l];if(P.encoding<2?(0===P.encoding?S=P.rawData:(o(P.stuffedData,P.bitsPerPixel,P.numValidPixels,P.offset,p,y,e.pixels.maxValue),S=y),x=0):M=2===P.encoding?0:P.offset,n)for(m=0;m<_;m++){for(7&A&&(k=n[A>>3],k<<=7&A),g=0;g<E;g++)7&A||(k=n[A>>3]),128&k?(u&&(u[A]=1),v=v>(a=P.encoding<2?S[x++]:M)?a:v,s[A++]=a):(u&&(u[A]=0),s[A++]=r),k<<=1;A+=T}else if(P.encoding<2)for(m=0;m<_;m++){for(g=0;g<E;g++)v=v>(a=S[x++])?a:v,s[A++]=a;A+=T}else for(v=v>M?M:v,m=0;m<_;m++){for(g=0;g<E;g++)s[A++]=M;A+=T}if(1===P.encoding&&x!==P.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:u,minValue:v}},n=function(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},r=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,n={},r=0;r<t;r++){var i=e.pixels.blocks[r];0===i.encoding?n.float32=!0:1===i.encoding?n[i.bitsPerPixel]=!0:n[0]=!0}return Object.keys(n)},i=function(e,t,n){var r={},i=new Uint8Array(e,t,10);if(r.fileIdentifierString=String.fromCharCode.apply(null,i),"CntZImage"!==r.fileIdentifierString.trim())throw"Unexpected file identifier string: "+r.fileIdentifierString;t+=10;var o=new DataView(e,t,24);if(r.fileVersion=o.getInt32(0,!0),r.imageType=o.getInt32(4,!0),r.height=o.getUint32(8,!0),r.width=o.getUint32(12,!0),r.maxZError=o.getFloat64(16,!0),t+=24,!n)if(o=new DataView(e,t,16),r.mask={},r.mask.numBlocksY=o.getUint32(0,!0),r.mask.numBlocksX=o.getUint32(4,!0),r.mask.numBytes=o.getUint32(8,!0),r.mask.maxValue=o.getFloat32(12,!0),t+=16,r.mask.numBytes>0){var a=new Uint8Array(Math.ceil(r.width*r.height/8)),s=(o=new DataView(e,t,r.mask.numBytes)).getInt16(0,!0),u=2,l=0;do{if(s>0)for(;s--;)a[l++]=o.getUint8(u++);else{var c=o.getUint8(u++);for(s=-s;s--;)a[l++]=c}s=o.getInt16(u,!0),u+=2}while(u<r.mask.numBytes);if(-32768!==s||l<a.length)throw"Unexpected end of mask RLE encoding";r.mask.bitset=a,t+=r.mask.numBytes}else 0===(r.mask.numBytes|r.mask.numBlocksY|r.mask.maxValue)&&(r.mask.bitset=new Uint8Array(Math.ceil(r.width*r.height/8)));o=new DataView(e,t,16),r.pixels={},r.pixels.numBlocksY=o.getUint32(0,!0),r.pixels.numBlocksX=o.getUint32(4,!0),r.pixels.numBytes=o.getUint32(8,!0),r.pixels.maxValue=o.getFloat32(12,!0),t+=16;var h=r.pixels.numBlocksX,f=r.pixels.numBlocksY,d=h+(r.width%h>0?1:0),p=f+(r.height%f>0?1:0);r.pixels.blocks=new Array(d*p);for(var v=0,g=0;g<p;g++)for(var m=0;m<d;m++){var y=0,b=e.byteLength-t;o=new DataView(e,t,Math.min(10,b));var _={};r.pixels.blocks[v++]=_;var w=o.getUint8(0);if(y++,_.encoding=63&w,_.encoding>3)throw"Invalid block encoding ("+_.encoding+")";if(2!==_.encoding){if(0!==w&&2!==w){if(w>>=6,_.offsetType=w,2===w)_.offset=o.getInt8(1),y++;else if(1===w)_.offset=o.getInt16(1,!0),y+=2;else{if(0!==w)throw"Invalid block offset type";_.offset=o.getFloat32(1,!0),y+=4}if(1===_.encoding)if(w=o.getUint8(y),y++,_.bitsPerPixel=63&w,w>>=6,_.numValidPixelsType=w,2===w)_.numValidPixels=o.getUint8(y),y++;else if(1===w)_.numValidPixels=o.getUint16(y,!0),y+=2;else{if(0!==w)throw"Invalid valid pixel count type";_.numValidPixels=o.getUint32(y,!0),y+=4}}var E;if(t+=y,3!==_.encoding)if(0===_.encoding){var S=(r.pixels.numBytes-1)/4;if(S!==Math.floor(S))throw"uncompressed block has invalid length";E=new ArrayBuffer(4*S),new Uint8Array(E).set(new Uint8Array(e,t,4*S));var x=new Float32Array(E);_.rawData=x,t+=4*S}else if(1===_.encoding){var M=Math.ceil(_.numValidPixels*_.bitsPerPixel/8),k=Math.ceil(M/4);E=new ArrayBuffer(4*k),new Uint8Array(E).set(new Uint8Array(e,t,M)),_.stuffedData=new Uint32Array(E),t+=M}}else t++}return r.eofOffset=t,r},o=function(e,t,n,r,i,o,a){var s,u,l,c=(1<<t)-1,h=0,f=0,d=Math.ceil((a-r)/i),p=4*e.length-Math.ceil(t*n/8);for(e[e.length-1]<<=8*p,s=0;s<n;s++){if(0===f&&(l=e[h++],f=32),f>=t)u=l>>>f-t&c,f-=t;else{var v=t-f;u=(l&c)<<v&c,u+=(l=e[h++])>>>(f=32-v)}o[s]=u<d?r+u*i:a}return o};return e}(),t=function(){var e=function(e,t,n,r,i,o,a,s){var u,l,c,h,f,d=(1<<n)-1,p=0,v=0,g=4*e.length-Math.ceil(n*r/8);if(e[e.length-1]<<=8*g,i)for(u=0;u<r;u++)0===v&&(c=e[p++],v=32),v>=n?(l=c>>>v-n&d,v-=n):(l=(c&d)<<(h=n-v)&d,l+=(c=e[p++])>>>(v=32-h)),t[u]=i[l];else for(f=Math.ceil((s-o)/a),u=0;u<r;u++)0===v&&(c=e[p++],v=32),v>=n?(l=c>>>v-n&d,v-=n):(l=(c&d)<<(h=n-v)&d,l+=(c=e[p++])>>>(v=32-h)),t[u]=l<f?o+l*a:s},t=function(e,t,n,r,i,o){var a,s=(1<<t)-1,u=0,l=0,c=0,h=0,f=0,d=[],p=4*e.length-Math.ceil(t*n/8);e[e.length-1]<<=8*p;var v=Math.ceil((o-r)/i);for(l=0;l<n;l++)0===h&&(a=e[u++],h=32),h>=t?(f=a>>>h-t&s,h-=t):(f=(a&s)<<(c=t-h)&s,f+=(a=e[u++])>>>(h=32-c)),d[l]=f<v?r+f*i:o;return d.unshift(r),d},n=function(e,t,n,r,i,o,a,s){var u,l,c,h,f=(1<<n)-1,d=0,p=0,v=0;if(i)for(u=0;u<r;u++)0===p&&(c=e[d++],p=32,v=0),p>=n?(l=c>>>v&f,p-=n,v+=n):(l=c>>>v&f,p=32-(h=n-p),l|=((c=e[d++])&(1<<h)-1)<<n-h,v=h),t[u]=i[l];else{var g=Math.ceil((s-o)/a);for(u=0;u<r;u++)0===p&&(c=e[d++],p=32,v=0),p>=n?(l=c>>>v&f,p-=n,v+=n):(l=c>>>v&f,p=32-(h=n-p),l|=((c=e[d++])&(1<<h)-1)<<n-h,v=h),t[u]=l<g?o+l*a:s}return t},r=function(e,t,n,r,i,o){var a,s=(1<<t)-1,u=0,l=0,c=0,h=0,f=0,d=0,p=[],v=Math.ceil((o-r)/i);for(l=0;l<n;l++)0===h&&(a=e[u++],h=32,d=0),h>=t?(f=a>>>d&s,h-=t,d+=t):(f=a>>>d&s,h=32-(c=t-h),f|=((a=e[u++])&(1<<c)-1)<<t-c,d=c),p[l]=f<v?r+f*i:o;return p.unshift(r),p},i=function(e,t,n,r){var i,o,a,s,u=(1<<n)-1,l=0,c=0,h=4*e.length-Math.ceil(n*r/8);for(e[e.length-1]<<=8*h,i=0;i<r;i++)0===c&&(a=e[l++],c=32),c>=n?(o=a>>>c-n&u,c-=n):(o=(a&u)<<(s=n-c)&u,o+=(a=e[l++])>>>(c=32-s)),t[i]=o;return t},o=function(e,t,n,r){var i,o,a,s,u=(1<<n)-1,l=0,c=0,h=0;for(i=0;i<r;i++)0===c&&(a=e[l++],c=32,h=0),c>=n?(o=a>>>h&u,c-=n,h+=n):(o=a>>>h&u,c=32-(s=n-c),o|=((a=e[l++])&(1<<s)-1)<<n-s,h=s),t[i]=o;return t},a={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t=65535,n=65535,r=e.length,i=Math.floor(r/2),o=0;i;){var a=i>=359?359:i;i-=a;do{t+=e[o++]<<8,n+=t+=e[o++]}while(--a);t=(65535&t)+(t>>>16),n=(65535&n)+(n>>>16)}return 1&r&&(n+=t+=e[o]<<8),((n=(65535&n)+(n>>>16))<<16|(t=(65535&t)+(t>>>16)))>>>0},readHeaderInfo:function(e,t){var n=t.ptr,r=new Uint8Array(e,n,6),i={};if(i.fileIdentifierString=String.fromCharCode.apply(null,r),0!==i.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;n+=6;var o,a=new DataView(e,n,8),s=a.getInt32(0,!0);if(i.fileVersion=s,n+=4,s>=3&&(i.checksum=a.getUint32(4,!0),n+=4),a=new DataView(e,n,12),i.height=a.getUint32(0,!0),i.width=a.getUint32(4,!0),n+=8,s>=4?(i.numDims=a.getUint32(8,!0),n+=4):i.numDims=1,a=new DataView(e,n,40),i.numValidPixel=a.getUint32(0,!0),i.microBlockSize=a.getInt32(4,!0),i.blobSize=a.getInt32(8,!0),i.imageType=a.getInt32(12,!0),i.maxZError=a.getFloat64(16,!0),i.zMin=a.getFloat64(24,!0),i.zMax=a.getFloat64(32,!0),n+=40,t.headerInfo=i,t.ptr=n,s>=3&&(o=s>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,n-o,i.blobSize-14))!==i.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var n=t.headerInfo,r=this.getDataTypeArray(n.imageType),i=n.numDims*this.getDataTypeSize(n.imageType),o=this.readSubArray(e,t.ptr,r,i),a=this.readSubArray(e,t.ptr+i,r,i);t.ptr+=2*i;var s,u=!0;for(s=0;s<n.numDims;s++)if(o[s]!==a[s]){u=!1;break}return n.minValues=o,n.maxValues=a,u},readSubArray:function(e,t,n,r){var i;if(n===Uint8Array)i=new Uint8Array(e,t,r);else{var o=new ArrayBuffer(r);new Uint8Array(o).set(new Uint8Array(e,t,r)),i=new n(o)}return i},readMask:function(e,t){var n,r,i=t.ptr,o=t.headerInfo,a=o.width*o.height,s=o.numValidPixel,u=new DataView(e,i,4),l={};if(l.numBytes=u.getUint32(0,!0),i+=4,(0===s||a===s)&&0!==l.numBytes)throw"invalid mask";if(0===s)n=new Uint8Array(Math.ceil(a/8)),l.bitset=n,r=new Uint8Array(a),t.pixels.resultMask=r,i+=l.numBytes;else if(l.numBytes>0){n=new Uint8Array(Math.ceil(a/8));var c=(u=new DataView(e,i,l.numBytes)).getInt16(0,!0),h=2,f=0,d=0;do{if(c>0)for(;c--;)n[f++]=u.getUint8(h++);else for(d=u.getUint8(h++),c=-c;c--;)n[f++]=d;c=u.getInt16(h,!0),h+=2}while(h<l.numBytes);if(-32768!==c||f<n.length)throw"Unexpected end of mask RLE encoding";r=new Uint8Array(a);var p=0,v=0;for(v=0;v<a;v++)7&v?(p=n[v>>3],p<<=7&v):p=n[v>>3],128&p&&(r[v]=1);t.pixels.resultMask=r,l.bitset=n,i+=l.numBytes}return t.ptr=i,t.mask=l,!0},readDataOneSweep:function(e,t,n,r){var i,o=t.ptr,s=t.headerInfo,u=s.numDims,l=s.width*s.height,c=s.imageType,h=s.numValidPixel*a.getDataTypeSize(c)*u,f=t.pixels.resultMask;if(n===Uint8Array)i=new Uint8Array(e,o,h);else{var d=new ArrayBuffer(h);new Uint8Array(d).set(new Uint8Array(e,o,h)),i=new n(d)}if(i.length===l*u)t.pixels.resultPixels=r?a.swapDimensionOrder(i,l,u,n,!0):i;else{t.pixels.resultPixels=new n(l*u);var p=0,v=0,g=0,m=0;if(u>1){if(r){for(v=0;v<l;v++)if(f[v])for(m=v,g=0;g<u;g++,m+=l)t.pixels.resultPixels[m]=i[p++]}else for(v=0;v<l;v++)if(f[v])for(m=v*u,g=0;g<u;g++)t.pixels.resultPixels[m+g]=i[p++]}else for(v=0;v<l;v++)f[v]&&(t.pixels.resultPixels[v]=i[p++])}return o+=h,t.ptr=o,!0},readHuffmanTree:function(e,t){var n=this.HUFFMAN_LUT_BITS_MAX,r=new DataView(e,t.ptr,16);if(t.ptr+=16,r.getInt32(0,!0)<2)throw"unsupported Huffman version";var i=r.getInt32(4,!0),o=r.getInt32(8,!0),u=r.getInt32(12,!0);if(o>=u)return!1;var l=new Uint32Array(u-o);a.decodeBits(e,t,l);var c,h,f,d,p=[];for(c=o;c<u;c++)p[h=c-(c<i?0:i)]={first:l[c-o],second:null};var v=e.byteLength-t.ptr,g=Math.ceil(v/4),m=new ArrayBuffer(4*g);new Uint8Array(m).set(new Uint8Array(e,t.ptr,v));var y,b=new Uint32Array(m),_=0,w=0;for(y=b[0],c=o;c<u;c++)(d=p[h=c-(c<i?0:i)].first)>0&&(p[h].second=y<<_>>>32-d,32-_>=d?32===(_+=d)&&(_=0,y=b[++w]):(_+=d-32,y=b[++w],p[h].second|=y>>>32-_));var E=0,S=0,x=new s;for(c=0;c<p.length;c++)void 0!==p[c]&&(E=Math.max(E,p[c].first));S=E>=n?n:E;var M,k,A,T,P,O=[];for(c=o;c<u;c++)if((d=p[h=c-(c<i?0:i)].first)>0)if(M=[d,h],d<=S)for(k=p[h].second<<S-d,A=1<<S-d,f=0;f<A;f++)O[k|f]=M;else for(k=p[h].second,P=x,T=d-1;T>=0;T--)k>>>T&1?(P.right||(P.right=new s),P=P.right):(P.left||(P.left=new s),P=P.left),0!==T||P.val||(P.val=M[1]);return{decodeLut:O,numBitsLUTQick:S,numBitsLUT:E,tree:x,stuffedData:b,srcPtr:w,bitPos:_}},readHuffman:function(e,t,n,r){var i,o,s,u,l,c,h,f,d,p=t.headerInfo.numDims,v=t.headerInfo.height,g=t.headerInfo.width,m=g*v,y=this.readHuffmanTree(e,t),b=y.decodeLut,_=y.tree,w=y.stuffedData,E=y.srcPtr,S=y.bitPos,x=y.numBitsLUTQick,M=y.numBitsLUT,k=0===t.headerInfo.imageType?128:0,A=t.pixels.resultMask,T=0;S>0&&(E++,S=0);var P,O=w[E],C=1===t.encodeMode,R=new n(m*p),L=R;if(p<2||C){for(P=0;P<p;P++)if(p>1&&(L=new n(R.buffer,m*P,m),T=0),t.headerInfo.numValidPixel===g*v)for(f=0,c=0;c<v;c++)for(h=0;h<g;h++,f++){if(o=0,l=u=O<<S>>>32-x,32-S<x&&(l=u|=w[E+1]>>>64-S-x),b[l])o=b[l][1],S+=b[l][0];else for(l=u=O<<S>>>32-M,32-S<M&&(l=u|=w[E+1]>>>64-S-M),i=_,d=0;d<M;d++)if(!(i=u>>>M-d-1&1?i.right:i.left).left&&!i.right){o=i.val,S=S+d+1;break}S>=32&&(S-=32,O=w[++E]),s=o-k,C?(s+=h>0?T:c>0?L[f-g]:T,s&=255,L[f]=s,T=s):L[f]=s}else for(f=0,c=0;c<v;c++)for(h=0;h<g;h++,f++)if(A[f]){if(o=0,l=u=O<<S>>>32-x,32-S<x&&(l=u|=w[E+1]>>>64-S-x),b[l])o=b[l][1],S+=b[l][0];else for(l=u=O<<S>>>32-M,32-S<M&&(l=u|=w[E+1]>>>64-S-M),i=_,d=0;d<M;d++)if(!(i=u>>>M-d-1&1?i.right:i.left).left&&!i.right){o=i.val,S=S+d+1;break}S>=32&&(S-=32,O=w[++E]),s=o-k,C?(h>0&&A[f-1]?s+=T:c>0&&A[f-g]?s+=L[f-g]:s+=T,s&=255,L[f]=s,T=s):L[f]=s}}else for(f=0,c=0;c<v;c++)for(h=0;h<g;h++)if(f=c*g+h,!A||A[f])for(P=0;P<p;P++,f+=m){if(o=0,l=u=O<<S>>>32-x,32-S<x&&(l=u|=w[E+1]>>>64-S-x),b[l])o=b[l][1],S+=b[l][0];else for(l=u=O<<S>>>32-M,32-S<M&&(l=u|=w[E+1]>>>64-S-M),i=_,d=0;d<M;d++)if(!(i=u>>>M-d-1&1?i.right:i.left).left&&!i.right){o=i.val,S=S+d+1;break}S>=32&&(S-=32,O=w[++E]),s=o-k,L[f]=s}t.ptr=t.ptr+4*(E+1)+(S>0?4:0),t.pixels.resultPixels=R,p>1&&!r&&(t.pixels.resultPixels=a.swapDimensionOrder(R,m,p,n))},decodeBits:function(a,s,u,l,c){var h=s.headerInfo,f=h.fileVersion,d=0,p=a.byteLength-s.ptr>=5?5:a.byteLength-s.ptr,v=new DataView(a,s.ptr,p),g=v.getUint8(0);d++;var m=g>>6,y=0===m?4:3-m,b=(32&g)>0,_=31&g,w=0;if(1===y)w=v.getUint8(d),d++;else if(2===y)w=v.getUint16(d,!0),d+=2;else{if(4!==y)throw"Invalid valid pixel count type";w=v.getUint32(d,!0),d+=4}var E,S,x,M,k,A,T,P,O,C=2*h.maxZError,R=h.numDims>1?h.maxValues[c]:h.zMax;if(b){for(s.counter.lut++,P=v.getUint8(d),d++,M=Math.ceil((P-1)*_/8),k=Math.ceil(M/4),S=new ArrayBuffer(4*k),x=new Uint8Array(S),s.ptr+=d,x.set(new Uint8Array(a,s.ptr,M)),T=new Uint32Array(S),s.ptr+=M,O=0;P-1>>>O;)O++;M=Math.ceil(w*O/8),k=Math.ceil(M/4),S=new ArrayBuffer(4*k),(x=new Uint8Array(S)).set(new Uint8Array(a,s.ptr,M)),E=new Uint32Array(S),s.ptr+=M,A=f>=3?r(T,_,P-1,l,C,R):t(T,_,P-1,l,C,R),f>=3?n(E,u,O,w,A):e(E,u,O,w,A)}else s.counter.bitstuffer++,O=_,s.ptr+=d,O>0&&(M=Math.ceil(w*O/8),k=Math.ceil(M/4),S=new ArrayBuffer(4*k),(x=new Uint8Array(S)).set(new Uint8Array(a,s.ptr,M)),E=new Uint32Array(S),s.ptr+=M,f>=3?null==l?o(E,u,O,w):n(E,u,O,w,!1,l,C,R):null==l?i(E,u,O,w):e(E,u,O,w,!1,l,C,R))},readTiles:function(e,t,n,r){var i=t.headerInfo,o=i.width,s=i.height,u=o*s,l=i.microBlockSize,c=i.imageType,h=a.getDataTypeSize(c),f=Math.ceil(o/l),d=Math.ceil(s/l);t.pixels.numBlocksY=d,t.pixels.numBlocksX=f,t.pixels.ptr=0;var p,v,g,m,y,b,_,w,E,S,x=0,M=0,k=0,A=0,T=0,P=0,O=0,C=0,R=0,L=0,I=0,D=0,j=0,N=0,B=0,z=new n(l*l),Z=s%l||l,F=o%l||l,U=i.numDims,K=t.pixels.resultMask,V=t.pixels.resultPixels,H=i.fileVersion>=5?14:15,W=i.zMax;for(k=0;k<d;k++)for(T=k!==d-1?l:Z,A=0;A<f;A++)for(L=k*o*l+A*l,I=o-(P=A!==f-1?l:F),w=0;w<U;w++){if(U>1?(S=V,L=k*o*l+A*l,V=new n(t.pixels.resultPixels.buffer,u*w*h,u),W=i.maxValues[w]):S=null,O=e.byteLength-t.ptr,v={},B=0,C=(p=new DataView(e,t.ptr,Math.min(10,O))).getUint8(0),B++,E=i.fileVersion>=5?4&C:0,R=C>>6&255,(C>>2&H)!==(A*l>>3&H))throw"integrity issue";if(E&&0===w)throw"integrity issue";if((y=3&C)>3)throw t.ptr+=B,"Invalid block encoding ("+y+")";if(2!==y)if(0===y){if(E)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+=B,D=(D=T*P*h)<(j=e.byteLength-t.ptr)?D:j,g=new ArrayBuffer(D%h===0?D:D+h-D%h),new Uint8Array(g).set(new Uint8Array(e,t.ptr,D)),m=new n(g),N=0,K)for(x=0;x<T;x++){for(M=0;M<P;M++)K[L]&&(V[L]=m[N++]),L++;L+=I}else for(x=0;x<T;x++){for(M=0;M<P;M++)V[L++]=m[N++];L+=I}t.ptr+=N*h}else if(b=a.getDataTypeUsed(E&&c<6?4:c,R),_=a.getOnePixel(v,B,b,p),B+=a.getDataTypeSize(b),3===y)if(t.ptr+=B,t.counter.constantoffset++,K)for(x=0;x<T;x++){for(M=0;M<P;M++)K[L]&&(V[L]=E?Math.min(W,S[L]+_):_),L++;L+=I}else for(x=0;x<T;x++){for(M=0;M<P;M++)V[L]=E?Math.min(W,S[L]+_):_,L++;L+=I}else if(t.ptr+=B,a.decodeBits(e,t,z,_,w),B=0,E)if(K)for(x=0;x<T;x++){for(M=0;M<P;M++)K[L]&&(V[L]=z[B++]+S[L]),L++;L+=I}else for(x=0;x<T;x++){for(M=0;M<P;M++)V[L]=z[B++]+S[L],L++;L+=I}else if(K)for(x=0;x<T;x++){for(M=0;M<P;M++)K[L]&&(V[L]=z[B++]),L++;L+=I}else for(x=0;x<T;x++){for(M=0;M<P;M++)V[L++]=z[B++];L+=I}else{if(E)if(K)for(x=0;x<T;x++)for(M=0;M<P;M++)K[L]&&(V[L]=S[L]),L++;else for(x=0;x<T;x++)for(M=0;M<P;M++)V[L]=S[L],L++;t.counter.constant++,t.ptr+=B}}U>1&&!r&&(t.pixels.resultPixels=a.swapDimensionOrder(t.pixels.resultPixels,u,U,n))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:a.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var n=e.headerInfo.zMax,r=e.headerInfo.zMin,i=e.headerInfo.maxValues,o=e.headerInfo.numDims,a=e.headerInfo.height*e.headerInfo.width,s=0,u=0,l=0,c=e.pixels.resultMask,h=e.pixels.resultPixels;if(c)if(o>1){if(t)for(s=0;s<o;s++)for(l=s*a,n=i[s],u=0;u<a;u++)c[u]&&(h[l+u]=n);else for(u=0;u<a;u++)if(c[u])for(l=u*o,s=0;s<o;s++)h[l+o]=i[s]}else for(u=0;u<a;u++)c[u]&&(h[u]=n);else if(o>1&&r!==n)if(t)for(s=0;s<o;s++)for(l=s*a,n=i[s],u=0;u<a;u++)h[l+u]=n;else for(u=0;u<a;u++)for(l=u*o,s=0;s<o;s++)h[l+s]=i[s];else for(u=0;u<a*o;u++)h[u]=n},getDataTypeArray:function(e){var t;switch(e){case 0:t=Int8Array;break;case 1:t=Uint8Array;break;case 2:t=Int16Array;break;case 3:t=Uint16Array;break;case 4:t=Int32Array;break;case 5:t=Uint32Array;break;case 6:default:t=Float32Array;break;case 7:t=Float64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t="S8";break;case 1:t="U8";break;case 2:t="S16";break;case 3:t="U16";break;case 4:t="S32";break;case 5:t="U32";break;case 6:default:t="F32";break;case 7:t="F64"}return t},isValidPixelValue:function(e,t){if(null==t)return!1;var n;switch(e){case 0:n=t>=-128&&t<=127;break;case 1:n=t>=0&&t<=255;break;case 2:n=t>=-32768&&t<=32767;break;case 3:n=t>=0&&t<=65536;break;case 4:n=t>=-2147483648&&t<=2147483647;break;case 5:n=t>=0&&t<=4294967296;break;case 6:n=t>=-34027999387901484e22&&t<=34027999387901484e22;break;case 7:n=t>=-17976931348623157e292&&t<=17976931348623157e292;break;default:n=!1}return n},getDataTypeSize:function(e){var t=0;switch(e){case 0:case 1:t=1;break;case 2:case 3:t=2;break;case 4:case 5:case 6:t=4;break;case 7:t=8;break;default:t=e}return t},getDataTypeUsed:function(e,t){var n=e;switch(e){case 2:case 4:n=e-t;break;case 3:case 5:n=e-2*t;break;case 6:n=0===t?e:1===t?2:1;break;case 7:n=0===t?e:e-2*t+1;break;default:n=e}return n},getOnePixel:function(e,t,n,r){var i=0;switch(n){case 0:i=r.getInt8(t);break;case 1:i=r.getUint8(t);break;case 2:i=r.getInt16(t,!0);break;case 3:i=r.getUint16(t,!0);break;case 4:i=r.getInt32(t,!0);break;case 5:i=r.getUInt32(t,!0);break;case 6:i=r.getFloat32(t,!0);break;case 7:i=r.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i},swapDimensionOrder:function(e,t,n,r,i){var o=0,a=0,s=0,u=0,l=e;if(n>1)if(l=new r(t*n),i)for(o=0;o<t;o++)for(u=o,s=0;s<n;s++,u+=t)l[u]=e[a++];else for(o=0;o<t;o++)for(u=o,s=0;s<n;s++,u+=t)l[a++]=e[u];return l}},s=function(e,t,n){this.val=e,this.left=t,this.right=n},u={decode:function(e,t){var n=(t=t||{}).noDataValue,r=0,i={};if(i.ptr=t.inputOffset||0,i.pixels={},a.readHeaderInfo(e,i)){var o=i.headerInfo,s=o.fileVersion,u=a.getDataTypeArray(o.imageType);if(s>5)throw"unsupported lerc version 2."+s;a.readMask(e,i),o.numValidPixel===o.width*o.height||i.pixels.resultMask||(i.pixels.resultMask=t.maskData);var l=o.width*o.height;i.pixels.resultPixels=new u(l*o.numDims),i.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var c,h=!t.returnPixelInterleavedDims;if(0!==o.numValidPixel)if(o.zMax===o.zMin)a.constructConstantSurface(i,h);else if(s>=4&&a.checkMinMaxRanges(e,i))a.constructConstantSurface(i,h);else{var f=new DataView(e,i.ptr,2),d=f.getUint8(0);if(i.ptr++,d)a.readDataOneSweep(e,i,u,h);else if(s>1&&o.imageType<=1&&Math.abs(o.maxZError-.5)<1e-5){var p=f.getUint8(1);if(i.ptr++,i.encodeMode=p,p>2||s<4&&p>1)throw"Invalid Huffman flag "+p;p?a.readHuffman(e,i,u,h):a.readTiles(e,i,u,h)}else a.readTiles(e,i,u,h)}i.eofOffset=i.ptr,t.inputOffset?(c=i.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(c)>=1&&(i.eofOffset=t.inputOffset+i.headerInfo.blobSize)):(c=i.headerInfo.blobSize-i.ptr,Math.abs(c)>=1&&(i.eofOffset=i.headerInfo.blobSize));var v={width:o.width,height:o.height,pixelData:i.pixels.resultPixels,minValue:o.zMin,maxValue:o.zMax,validPixelCount:o.numValidPixel,dimCount:o.numDims,dimStats:{minValues:o.minValues,maxValues:o.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask&&a.isValidPixelValue(o.imageType,n)){var g=i.pixels.resultMask;for(r=0;r<l;r++)g[r]||(v.pixelData[r]=n);v.noDataValue=n}return i.noDataValue=n,t.returnFileInfo&&(v.fileInfo=a.formatFileInfo(i)),v}},getBandCount:function(e){for(var t=0,n=0,r={ptr:0,pixels:{}};n<e.byteLength-58;)a.readHeaderInfo(e,r),n+=r.headerInfo.blobSize,t++,r.ptr=n;return t}};return u}(),n=function(){var e=new ArrayBuffer(4),t=new Uint8Array(e);return new Uint32Array(e)[0]=1,1===t[0]}(),r={decode:function(r,i){if(!n)throw"Big endian system is not supported.";var o,a,s=(i=i||{}).inputOffset||0,u=new Uint8Array(r,s,10),l=String.fromCharCode.apply(null,u);if("CntZImage"===l.trim())o=e,a=1;else{if("Lerc2"!==l.substring(0,5))throw"Unexpected file identifier string: "+l;o=t,a=2}for(var c,h,f,d,p,v,g=0,m=r.byteLength-10,y=[],b={width:0,height:0,pixels:[],pixelType:i.pixelType,mask:null,statistics:[]},_=0;s<m;){var w=o.decode(r,{inputOffset:s,encodedMaskData:c,maskData:f,returnMask:0===g,returnEncodedMask:0===g,returnFileInfo:!0,returnPixelInterleavedDims:i.returnPixelInterleavedDims,pixelType:i.pixelType||null,noDataValue:i.noDataValue||null});s=w.fileInfo.eofOffset,f=w.maskData,0===g&&(c=w.encodedMaskData,b.width=w.width,b.height=w.height,b.dimCount=w.dimCount||1,b.pixelType=w.pixelType||w.fileInfo.pixelType,b.mask=f),a>1&&(f&&y.push(f),w.fileInfo.mask&&w.fileInfo.mask.numBytes>0&&_++),g++,b.pixels.push(w.pixelData),b.statistics.push({minValue:w.minValue,maxValue:w.maxValue,noDataValue:w.noDataValue,dimStats:w.dimStats})}if(a>1&&_>1){for(v=b.width*b.height,b.bandMasks=y,(f=new Uint8Array(v)).set(y[0]),d=1;d<y.length;d++)for(h=y[d],p=0;p<v;p++)f[p]=f[p]&h[p];b.maskData=f}return b}};J3.exports?J3.exports=r:this.Lerc=r}();var s6=YX(a6.exports),u6=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(e){var r;return(0,Vt.Z)(this,n),(r=t.call(this)).planarConfiguration="undefined"!==typeof e.PlanarConfiguration?e.PlanarConfiguration:1,r.samplesPerPixel="undefined"!==typeof e.SamplesPerPixel?e.SamplesPerPixel:1,r.addCompression=e.LercParameters[j2],r}return(0,Ht.Z)(n,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case N2:break;case B2:e=z0(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return s6.decode(e,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}]),n}(v3),l6=Object.freeze({__proto__:null,default:u6}),c6=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){var e;if((0,Vt.Z)(this,n),e=t.call(this),"undefined"===typeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"===typeof document&&"undefined"===typeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return(0,Ht.Z)(n,[{key:"decode",value:function(){var e=ZT(BT().mark((function e(t,n){var r,i,o,a;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Blob([n]),e.next=3,createImageBitmap(r);case 3:return i=e.sent,"undefined"!==typeof document?((o=document.createElement("canvas")).width=i.width,o.height=i.height):o=new OffscreenCanvas(i.width,i.height),(a=o.getContext("2d")).drawImage(i,0,0),e.abrupt("return",a.getImageData(0,0,i.width,i.height).data.buffer);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(v3),h6=Object.freeze({__proto__:null,default:c6}),f6=["Tooltip","data","renderLeft","height","width","mapWidth","mapHeight"];function d6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d6(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v6=function(e){var n=e.Tooltip,r=e.data,i=e.renderLeft,o=e.height,a=e.width,s=void 0===a?"auto":a,u=e.mapWidth,l=e.mapHeight,c=vn(e,f6),h=(0,t.useRef)(),f=null===h||void 0===h?void 0:h.current,d=r.event||{},p=d.x,g=d.y,m=(0,t.useRef)(),y=v((0,t.useState)(0),2),b=y[0],_=y[1];(0,t.useLayoutEffect)((function(){var e,t,n;(m.current=null===h||void 0===h||null===(e=h.current)||void 0===e?void 0:e.offsetHeight,(null===h||void 0===h||null===(t=h.current)||void 0===t?void 0:t.offsetHeight)!==b)&&_(null===h||void 0===h||null===(n=h.current)||void 0===n?void 0:n.offsetHeight)}),[r]),f&&!s&&(s=(null===f||void 0===f?void 0:f.clientWidth)||0);var w=(null===f||void 0===f?void 0:f.clientWidth)||s;f&&!o&&(o=null===f||void 0===f?void 0:f.clientHeight);var E=Tn("corner",i?["left","right","top","bottom"]:["right","left","top","bottom"],[0,u,l,0],10)(p,g,w,o),S=E.top,x=E.left,M=h&&0!==h.offsetWidth&&0!==h.offsetHeight?p6({},{left:x,top:S,width:s}):p6(p6({},{left:x,top:S,width:s}),{},{position:"absolute",overfloat:"auto"});return h&&!h.current&&(M.display="none"),(0,k_.jsx)("div",{className:"ptr-DeckTooltip",style:M,ref:h,children:(0,t.createElement)(n,p6(p6({},r),c))})};v6.propTypes={data:dn().object,mapWidth:dn().number,mapHeight:dn().number,height:dn().number,width:dn().number,renderLeft:dn().bool,renderTop:dn().bool,Tooltip:dn().oneOfType([dn().func,dn().object])};var g6=v6,m6=["key","layerKey","options"],y6=["features","style","hoverable","pointAsMarker"],b6=["url"],_6=["url"];function w6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w6(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S6=R3.CogBitmapLayer,x6=R3.CogTerrainLayer,M6=function(e){return e.isDragging?"grabbing":"grab"},k6=function(e){var n=e.activeSelectionKey,r=e.getCursor,i=e.onResize,o=e.onViewChange,a=e.onZoomEnd,s=e.onPanEnd,u=e.viewLimits,l=e.view,c=e.onClick,h=void 0===c?function(){}:c,f=e.onLayerClick,d=e.mapKey,p=e.backgroundLayer,m=e.layers,y=e.Tooltip,b=e.tooltipProps,_=e.controller,w=(0,t.useRef)(),E=(0,t.useRef)(null),S=(0,t.useRef)(null),x=(0,t.useRef)(null),M=v((0,t.useState)({width:null,height:null}),2),k=M[0],A=M[1],T=v((0,t.useState)(),2),P=T[0],O=T[1],C=v((0,t.useState)({vector:[],raster:[],event:null}),2),R=C[0],L=C[1],I=(0,t.useCallback)((function(e){var t;if(null!==w&&void 0!==w&&null!==(t=w.current)&&void 0!==t&&t.pickMultipleObjects){var n,r=null===w||void 0===w||null===(n=w.current)||void 0===n?void 0:n.pickMultipleObjects(e),i=[],o=[];r.forEach((function(t){if(t.layer instanceof dY||!0===t.layer.displayTooltip)i.push(t);else if(t.layer instanceof AY){var n,r,a,s,u,l,c,h,f,d,p,v,g=null===t||void 0===t||null===(n=t.tile)||void 0===n||null===(r=n.layers)||void 0===r||null===(a=r[0])||void 0===a||null===(s=a.props)||void 0===s||null===(u=s.tile)||void 0===u||null===(l=u.layers)||void 0===l||null===(c=l[0])||void 0===c||null===(h=c.props)||void 0===h?void 0:h.image;t.pixelColor=HT(g,{sourceX:null===e||void 0===e||null===(f=e.bitmap)||void 0===f||null===(d=f.pixel)||void 0===d?void 0:d[0],sourceY:null===e||void 0===e||null===(p=e.bitmap)||void 0===p||null===(v=p.pixel)||void 0===v?void 0:v[1],sourceWidth:1,sourceHeight:1}),o.push(t)}})),y&&L({vector:i,raster:o,event:e})}}),[w.current]),D=function(e,t){var n={};return e&&e.zoom!==t.zoom&&(n.boxRange=mF.getBoxRangeFromZoomLevel(t.zoom,k.width,k.height)),!e||e.longitude===t.longitude&&e.latitude===t.latitude||(n.center={lat:t.latitude,lon:t.longitude}),e&&e.bearing!==t.bearing&&(n.bearing=t.bearing),e&&e.pitch!==t.pitch&&(n.pitch=t.pitch),n},j=function(e){var t=e.oldViewState,n=e.viewState;e.interactionState.isZooming&&(E.current=t,S.current=n,window.clearTimeout(x.current),x.current=window.setTimeout((function(){if("function"===typeof a){var e=D(t,n);a(e)}}),100));var r=D(t,n);(0,ie.isEmpty)(r)||(o?o(r):O(E6(E6(E6({},l),P),r)))},N=(0,t.useCallback)((function(e,t){var n=fF(t),r=fF(e);i&&i(r,n),A({width:r,height:n})})),B=function(e,t,n){f&&f(d,e,t,n)},z=function(e,t,n){f&&f(d,e,null,{x:t.x,y:t.y},{event:n,info:t})},Z=function(e){if(e&&e instanceof rF)return e;if(!e||!e.type)return null;switch(e.type){case"wmts":return function(e){return new uG(E6(E6({},e),{},{id:e.key}))}(e);case"wms":return function(e){var t,n,r,i,o;return null!==(t=e.options)&&void 0!==t&&t.singleTile?new aX(E6({data:"".concat(e.options.url,"?SERVICE=WMS&REQUEST=GetMap&version=1.3.0&STYLES=&CRS=EPSG:3857&FORMAT=image/png&WIDTH={width}&HEIGHT={height}&BBOX={east},{north},{west},{south}&LAYERS={layers}&TRANSPARENT=true"),serviceType:"template",layers:e.options.params.layers,pickable:!0===e.options.pickable||!1,extensions:e.options.clampToTerrain?[new rG]:[]},null!==(n=e.options)&&void 0!==n&&null!==(r=n.clampToTerrain)&&void 0!==r&&r.terrainDrawMode?{terrainDrawMode:e.options.clampToTerrain.terrainDrawMode}:{})):new AY(E6(E6({},e),{},{id:e.key,onClick:z,clampToTerrain:e.options.clampToTerrain,extensions:e.options.clampToTerrain?[new rG]:[]},null!==(i=e.options)&&void 0!==i&&null!==(o=i.clampToTerrain)&&void 0!==o&&o.terrainDrawMode?{terrainDrawMode:e.options.clampToTerrain.terrainDrawMode}:{}))}(e);case"vector":case"tiledVector":case"tiled-vector":return function(e){var t,r=e.key,i=(e.layerKey,e.options),o=vn(e,m6),a=(i.features,i.style),s=i.hoverable,u=i.pointAsMarker,c=(vn(i,y6),OF.getRenderAsRulesByBoxRange(i.renderAs,null===l||void 0===l?void 0:l.boxRange));a=(null===c||void 0===c||null===(t=c.options)||void 0===t?void 0:t.style)||a,u=Object.hasOwn((null===c||void 0===c?void 0:c.options)||{},"pointAsMarker")?c.options.pointAsMarker:i.pointAsMarker;var h=OF.getStylesDefinitionForDeck(a,r),f=E6(E6({},o),{},{options:i,id:e.key,key:e.key,layerKey:e.layerKey||e.key,onClick:B,autoHighlight:s,styleForDeck:h,pointAsMarker:u,uniqueLayerKey:e.key,activeSelectionKey:n});return new dY(f)}(e);case"cog-bitmap":return function(e){var t=e.key,n=e.options,r=n.url,i=vn(n,b6);return new S6(t,r,i)}(e);case"cog-terrain":return function(e){var t=e.key,n=e.options,r=n.url,i=vn(n,_6);return new x6(t,r,i)}(e);default:return null}},F=function(){var e,t;if(R.mapKey=d,null!==R&&void 0!==R&&null!==(e=R.vector)&&void 0!==e&&e.length||null!==R&&void 0!==R&&null!==(t=R.raster)&&void 0!==t&&t.length)return(0,k_.jsx)(g6,E6({Tooltip:y,data:R,mapWidth:null===k||void 0===k?void 0:k.width,mapHeight:null===k||void 0===k?void 0:k.height,mapKey:d},b))};return(0,k_.jsxs)(k_.Fragment,{children:[(0,k_.jsx)(aP,{handleHeight:!0,handleWidth:!0,onResize:N,refreshMode:"debounce",refreshRate:500}),k.width&&k.height?function(){var e=o||!P?l:P,t=mF.getDeckViewFromPantherViewParams(e,k.width,k.height,u),n=(0,ie.isArray)(p)?p:[p],i=n&&n.map((function(e){return Z(e)})),a=m?m.map((function(e){return Z(e)})):[];return(0,k_.jsxs)("div",{className:"ptr-deckGl-map ptr-map",onClick:function(){return h(d)},children:[(0,k_.jsx)(hF,E6(E6({getCursor:r||M6,ref:w,onViewStateChange:j},"function"===typeof s?{onDragEnd:s}:{}),{},{views:new Wj({repeat:!0}),viewState:t,layers:[].concat((0,g.Z)(i),(0,g.Z)(a)),controller:_||!1===_?_:{dragRotate:!1},onHover:I})),y&&R?F():null]})}():null]})};k6.propTypes={activeSelectionKey:dn().string,onResize:dn().func,onViewChange:dn().func,viewLimits:dn().object,view:dn().object,onClick:dn().func,onLayerClick:dn().func,onZoomEnd:dn().func,onPanEnd:dn().func,mapKey:dn().string,backgroundLayer:dn().oneOfType([dn().object,dn().array]),layers:dn().array,Tooltip:dn().oneOfType([dn().func,dn().object]),tooltipProps:dn().object,getCursor:dn().func,controller:dn().oneOfType([dn().bool,dn().object])};var A6=k6,T6=R3.CogBitmapLayer,P6=function(e){var t=e.url,n=e.view,r=e.options;console.log("xxx_url",t);var i=[new T6("CogBitmapLayer",t,r)];return console.log("xxx_layers",i),(0,k_.jsx)("div",{className:"APP-TEMPLATE-REPLACE-APP-STYLE-PREFIX-App ptr-light",children:(0,k_.jsx)(A6,{view:n,backgroundLayer:{key:"background-osm",type:"wmts",options:{url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}},layers:i})})},O6=z((function(){return{}}),(function(){return{}}))(P6),C6=function(e){var t=e.horizontally,n=e.vertically,r=e.children;return(0,k_.jsx)("div",{className:bn()("ptr-center",{horizontally:t,vertically:n}),children:r})};C6.propTypes={children:dn().node,horizontally:dn().bool,vertically:dn().bool};var R6=C6,L6=function(e){var t=e.children,n=e.centered,r=(0,k_.jsx)("div",{style:{background:"#f00",padding:"0 .5rem"},children:t});return n?(0,k_.jsx)(R6,{horizontally:!0,vertically:!0,children:r}):r};L6.propTypes={children:dn().node,centered:dn().bool};var I6=L6,D6=function(e){var t=e.title,n=void 0!==t&&t,r=e.active,i=e.onMapRemove,o=e.stateMapKey,a=e.mapKey,s=e.name,u=e.children,l=bn()("ptr-map-wrapper",{active:r});return(0,k_.jsxs)("div",{className:l,children:[(0,k_.jsxs)("div",{className:"ptr-map-wrapper-header",children:[i?function(){var e=o||a;return(0,k_.jsx)("div",{className:"ptr-map-wrapper-close-button",children:(0,k_.jsx)(Uw,{icon:"times",inverted:!0,invisible:!0,onClick:function(){return i(e)}})})}():null,n?(!0===n&&(n=s||a||o||"Map"),(0,k_.jsx)("div",{className:"ptr-map-wrapper-title",title:n,children:n})):null]}),u]})};D6.propTypes={active:dn().bool,children:dn().node,mapKey:dn().string,name:dn().string,onMapRemove:dn().func,stateMapKey:dn().string,title:dn().oneOfType([dn().string,dn().bool])};var j6=D6;function N6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N6(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z6=function(e){var n=e.onClick,r=e.active,i=e.activeSelectionKey,o=e.backgroundLayer,a=e.children,s=e.layers,u=e.mapComponent,l=e.onMount,c=e.onUnmount,h=e.onPropViewChange,f=e.onResize,d=e.onViewChange,p=e.onZoomEnd,g=e.onPanEnd,m=e.onMapRemove,y=e.resetHeading,b=e.resources,_=e.stateMapKey,E=e.view,S=e.viewport,x=e.viewLimits,M=e.wrapper,k=e.wrapperProps,A=e.Tooltip,T=e.tooltipProps,P=e.onLayerClick,O=e.mapKey,C=e.name,R=e.crs,L=e.mapComponentProps,I=v((0,t.useState)({width:null,height:null}),2),D=I[0],j=I[1],N=v((0,t.useState)(),2),B=N[0],z=N[1];(0,t.useEffect)((function(){if(_||z(B6(B6({},In.defaultMapView),E)),"function"===typeof c)return c}),[]);var Z=function(e,t){H.current=e,t&&!(0,ie.isEqual)(e,B)&&(_||z(e))},F=function(e){var t=B6(B6({},In.defaultMapView),E);return B&&!(0,ie.isEmpty)(B)&&(t=B6(B6({},B),e)),t=nr.view.ensureViewIntegrity(t)},U=function(e){return function(t){e(t,D.width,D.height)}},K=_?d:function(e){var t=F(e);Z(t,!0),(0,ie.isEqual)(t,B)||d&&!_&&U(d)(t)},V=function(e){_&&h&&U(h)(e)},H=(0,t.useRef)(E);(0,t.useEffect)((function(){if(E){var e=F(E);H.current&&(0,ie.isEqual)(e,H.current)||(_?V(e):Z(e,!0))}}),[E]);var W=function(){nr.resetHeading(B.heading,(function(e){return z(B6(B6({},B),{},{heading:e}))}))},G=function(e,t){f&&f(e,t),j({width:e,height:t})},q=function(e,n,i){return i?(0,k_.jsxs)("div",{className:"ptr-map-controls-wrapper",children:[(0,k_.jsx)(e,B6({},n)),";",t.Children.map(i,(function(e){return(0,t.cloneElement)(e,B6(B6({},e.props),{},{view:n.view,mapKey:O,viewLimits:x,updateView:n.onViewChange,active:r,onMapRemove:m,resetHeading:_?y:W,mapWidth:_?null===S||void 0===S?void 0:S.width:D.width,mapHeight:_?null===S||void 0===S?void 0:S.height:D.height,name:C,crs:R}))}))]}):(0,k_.jsx)(e,B6({},n))};if(u){var Y=E;if(_||(Y=B),M){var X=w.isValidElementType(M)?M:j6;return(0,t.createElement)(X,B6({activeSelectionKey:i,backgroundLayer:o,layers:s,mapComponent:u,onMount:l,onUnmount:c,onPropViewChange:V,resetHeading:_?y:W,stateMapKey:_,mapKey:O,viewport:S,viewLimits:x,wrapper:M,Tooltip:A,tooltipProps:T,onResize:G,onLayerClick:P,view:Y,onViewChange:K,onZoomEnd:p,onPanEnd:g,active:r,onClick:n,onMapRemove:m,name:C,crs:R},k),q(u,B6(B6({activeSelectionKey:i,backgroundLayer:o,children:a,layers:s,mapComponent:u,onMount:l,onUnmount:c,onPropViewChange:V,onResize:G,onLayerClick:P,onViewChange:K,onZoomEnd:p,onPanEnd:g,onClick:n,active:r,onMapRemove:m,resetHeading:_?y:W,resources:b,stateMapKey:_,mapKey:O,view:Y,viewport:S,viewLimits:x,wrapper:M,Tooltip:A,crs:R},k),{},{tooltipProps:T,name:C},L||{}),a))}return q(u,B6({activeSelectionKey:i,backgroundLayer:o,children:a,layers:s,mapComponent:u,onMount:l,onUnmount:c,onPropViewChange:V,onResize:G,onLayerClick:P,onViewChange:K,onZoomEnd:p,onPanEnd:g,active:r,onMapRemove:m,onClick:n,resetHeading:_?y:W,resources:b,stateMapKey:_,mapKey:O,view:Y,viewport:S,viewLimits:x,wrapper:M,Tooltip:A,wrapperProps:k,tooltipProps:T,name:C,crs:R},L||{}),a)}return(0,k_.jsx)(I6,{centered:!0,children:"mapComponent not supplied to Map"})};z6.propTypes={mapKey:dn().string,active:dn().bool,activeSelectionKey:dn().string,name:dn().string,backgroundLayer:dn().oneOfType([dn().array,dn().object]),children:dn().oneOfType([dn().element,dn().array]),layers:dn().array,mapComponent:dn().oneOfType([dn().element,dn().func]),onMount:dn().func,onUnmount:dn().func,onMapRemove:dn().func,onLayerClick:dn().func,onPropViewChange:dn().func,onResize:dn().func,onViewChange:dn().func,onZoomEnd:dn().func,onPanEnd:dn().func,onClick:dn().func,resetHeading:dn().func,resources:dn().object,stateMapKey:dn().string,view:dn().object,viewport:dn().object,viewLimits:dn().object,wrapper:dn().oneOfType([dn().elementType,dn().element,dn().bool]),wrapperProps:dn().object,Tooltip:dn().elementType,tooltipProps:dn().object,crs:dn().string,mapComponentProps:dn().object};var Z6=z6,F6=function(e){var t=e.view,n=e.viewLimits,r=e.updateView,i=e.resetHeading,o=e.mapKey,a=e.zoomOnly,s=e.levelsBased,u=e.mapHeight,l=e.mapWidth,c=!(null!==t&&void 0!==t&&t.heading)||360===(null===t||void 0===t?void 0:t.heading),h=function(){var e={tilt:t.tilt-5};r(e,o)},f=function(){var e={tilt:t.tilt+5};r(e,o)},d=function(){var e={heading:t.heading-1};r(e,o)},p=function(){var e={heading:t.heading+1};r(e,o)},v=function(){var e=null;e=s&&t&&t.boxRange?{boxRange:(t.boxRange-1)/2}:{boxRange:.96*t.boxRange},r(e,o)},g=function(){var e;e=s&&t&&t.boxRange?{boxRange:2*t.boxRange+1}:{boxRange:1.04*t.boxRange},r(e,o)},m=function(e){var r=null===n||void 0===n?void 0:n.boxRangeRange,i=null===t||void 0===t?void 0:t.boxRange;if(s){var o=nr.view.getZoomLevelFromBoxRange(i,l,u);if("in"===e){var a=In.defaultLevelsRange[1];if(r&&r[0]){var c=nr.view.getZoomLevelFromBoxRange(r[0],l,u);c<a&&(a=c)}return o<a}var h=In.defaultLevelsRange[0];if(r&&r[1]){var f=nr.view.getZoomLevelFromBoxRange(r[1],l,u);f>h&&(h=f)}return o>h}return"in"===e?.96*i>=(r&&r[0]||In.minBoxRange):1.04*i<=(r&&r[1]||In.maxBoxRange)};return(0,k_.jsxs)("div",{className:"ptr-map-controls",children:[(0,k_.jsxs)("div",{className:"zoom-control control",children:[(0,k_.jsx)(Uw,{onHold:function(){v()},onClick:function(){v()},disabled:!m("in"),children:(0,k_.jsx)($S,{icon:"plus-thick"})}),(0,k_.jsx)(Uw,{onHold:function(){g()},onClick:function(){g()},disabled:!m("out"),children:(0,k_.jsx)($S,{icon:"minus-thick"})})]}),a?null:(0,k_.jsxs)(k_.Fragment,{children:[(0,k_.jsxs)("div",{className:"rotate-control control",children:[(0,k_.jsx)(Uw,{onHold:function(){d()},onClick:function(){d()},children:(0,k_.jsx)($S,{icon:"rotate-right"})}),(0,k_.jsx)(Uw,{onClick:function(){i(o)},disabled:c,children:(0,k_.jsx)($S,{style:{transform:"rotate(".concat(t?-t.heading:0,"deg)")},icon:"north-arrow"})}),(0,k_.jsx)(Uw,{onHold:function(){p()},onClick:function(){p()},children:(0,k_.jsx)($S,{icon:"rotate-left"})})]}),(0,k_.jsxs)("div",{className:"tilt-control control",children:[(0,k_.jsx)(Uw,{className:"tilt-more-control",onHold:function(){f()},onClick:function(){f()},children:(0,k_.jsx)($S,{icon:"tilt-more"})}),(0,k_.jsx)(Uw,{className:"tilt-more-control",onHold:function(){h()},onClick:function(){h()},children:(0,k_.jsx)($S,{icon:"tilt-less"})})]})]})]})};F6.propTypes={heading:dn().number,view:dn().object,viewLimits:dn().object,updateView:dn().func,resetHeading:dn().func,mapKey:dn().string,zoomOnly:dn().bool,levelsBased:dn().oneOfType([dn().bool,dn().array]),mapHeight:dn().number,mapWidth:dn().number};var U6=F6,K6=In.averageLatitude,V6=function(e,t,n,r){var i,o=function(e){var t=e.boxRange,n=e.center;return t*(Math.cos(Math.PI*n.lat/180)/Math.cos(Math.PI*K6/180))}(e)/Math.min(t,n),a=r*o,s=function(e){var t=(i=e,Math.floor(Math.log(i)/Math.LN10+1e-9)),n=Math.pow(10,t),r=e/n;var i;return r<2?n:r<3?2*n:r<5?3*n:5*n}(a);return[r*(s/a),(i=s)<1e3?"".concat(i," m"):"".concat((i/1e3).toLocaleString()," km")]},H6=function(e){var n=e.view,r=e.mapWidth,i=e.mapHeight,o=e.maxWidth,a=e.className,s=o||150;if(n&&r&&i){var u="ptr-MapScale ".concat(a),l=v((0,t.useMemo)((function(){return V6(n,i,r,s)}),[n,i,r,s]),2),c=l[0],h=l[1];return(0,k_.jsx)("div",{className:u,children:(0,k_.jsx)("div",{className:"ptr-MapScale-content",style:{width:c+"px"},children:(0,k_.jsx)("span",{children:h})})})}return null};H6.propTypes={view:dn().object,mapWidth:dn().number,mapHeight:dn().number,maxWidth:dn().number,className:dn().string};var W6=H6,G6="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),q6=new Uint8Array(16);function Y6(){if(!G6)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return G6(q6)}for(var X6=[],$6=0;$6<256;++$6)X6[$6]=($6+256).toString(16).substr(1);var J6=function(e,t){var n=t||0,r=X6;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};var Q6=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||Y6)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||J6(i)};function e4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e4(Object(n),!0).forEach((function(t){r4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i4(){return i4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i4.apply(this,arguments)}function o4(e){return o4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o4(e)}function a4(e,t){return a4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a4(e,t)}function s4(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u4(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(U1){return!1}}();return function(){var n,r=o4(e);if(t){var i=o4(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s4(this,n)}}function l4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c4(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return l4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l4(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var h4="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},f4=function(e){return e&&e.Math==Math&&e},d4=f4("object"==typeof globalThis&&globalThis)||f4("object"==typeof window&&window)||f4("object"==typeof self&&self)||f4("object"==typeof h4&&h4)||function(){return this}()||Function("return this")(),p4={},v4=function(e){try{return!!e()}catch(t){return!0}},g4=!v4((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),m4=!v4((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),y4=m4,b4=Function.prototype.call,_4=y4?b4.bind(b4):function(){return b4.apply(b4,arguments)},w4={},E4={}.propertyIsEnumerable,S4=Object.getOwnPropertyDescriptor,x4=S4&&!E4.call({1:2},1);w4.f=x4?function(e){var t=S4(this,e);return!!t&&t.enumerable}:E4;var M4,k4,A4=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},T4=m4,P4=Function.prototype,O4=P4.call,C4=T4&&P4.bind.bind(O4,O4),R4=function(e){return T4?C4(e):function(){return O4.apply(e,arguments)}},L4=R4,I4=L4({}.toString),D4=L4("".slice),j4=function(e){return D4(I4(e),8,-1)},N4=j4,B4=R4,z4=function(e){if("Function"===N4(e))return B4(e)},Z4=v4,F4=j4,U4=Object,K4=z4("".split),V4=Z4((function(){return!U4("z").propertyIsEnumerable(0)}))?function(e){return"String"==F4(e)?K4(e,""):U4(e)}:U4,H4=function(e){return null===e||void 0===e},W4=H4,G4=TypeError,q4=function(e){if(W4(e))throw G4("Can't call method on "+e);return e},Y4=V4,X4=q4,$4=function(e){return Y4(X4(e))},J4="object"==typeof document&&document.all,Q4={all:J4,IS_HTMLDDA:"undefined"==typeof J4&&void 0!==J4},e8=Q4.all,t8=Q4.IS_HTMLDDA?function(e){return"function"==typeof e||e===e8}:function(e){return"function"==typeof e},n8=t8,r8=Q4.all,i8=Q4.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n8(e)||e===r8}:function(e){return"object"==typeof e?null!==e:n8(e)},o8=d4,a8=t8,s8=function(e,t){return arguments.length<2?(n=o8[e],a8(n)?n:void 0):o8[e]&&o8[e][t];var n},u8=z4({}.isPrototypeOf),l8=d4,c8=s8("navigator","userAgent")||"",h8=l8.process,f8=l8.Deno,d8=h8&&h8.versions||f8&&f8.version,p8=d8&&d8.v8;p8&&(k4=(M4=p8.split("."))[0]>0&&M4[0]<4?1:+(M4[0]+M4[1])),!k4&&c8&&(!(M4=c8.match(/Edge\/(\d+)/))||M4[1]>=74)&&(M4=c8.match(/Chrome\/(\d+)/))&&(k4=+M4[1]);var v8=k4,g8=v4,m8=!!Object.getOwnPropertySymbols&&!g8((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&v8&&v8<41})),y8=m8&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,b8=s8,_8=t8,w8=u8,E8=Object,S8=y8?function(e){return"symbol"==typeof e}:function(e){var t=b8("Symbol");return _8(t)&&w8(t.prototype,E8(e))},x8=String,M8=t8,k8=function(e){try{return x8(e)}catch(t){return"Object"}},A8=TypeError,T8=function(e){if(M8(e))return e;throw A8(k8(e)+" is not a function")},P8=T8,O8=H4,C8=_4,R8=t8,L8=i8,I8=TypeError,D8={exports:{}},j8=d4,N8=Object.defineProperty,B8=function(e,t){try{N8(j8,e,{value:t,configurable:!0,writable:!0})}catch(n){j8[e]=t}return t},z8=B8,Z8="__core-js_shared__",F8=d4[Z8]||z8(Z8,{}),U8=F8;(D8.exports=function(e,t){return U8[e]||(U8[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var K8=q4,V8=Object,H8=function(e){return V8(K8(e))},W8=H8,G8=z4({}.hasOwnProperty),q8=Object.hasOwn||function(e,t){return G8(W8(e),t)},Y8=z4,X8=0,$8=Math.random(),J8=Y8(1..toString),Q8=function(e){return"Symbol("+(void 0===e?"":e)+")_"+J8(++X8+$8,36)},e5=d4,t5=D8.exports,n5=q8,r5=Q8,i5=m8,o5=y8,a5=t5("wks"),s5=e5.Symbol,u5=s5&&s5.for,l5=o5?s5:s5&&s5.withoutSetter||r5,c5=function(e){if(!n5(a5,e)||!i5&&"string"!=typeof a5[e]){var t="Symbol."+e;i5&&n5(s5,e)?a5[e]=s5[e]:a5[e]=o5&&u5?u5(t):l5(t)}return a5[e]},h5=_4,f5=i8,d5=S8,p5=function(e,t){var n=e[t];return O8(n)?void 0:P8(n)},v5=function(e,t){var n,r;if("string"===t&&R8(n=e.toString)&&!L8(r=C8(n,e)))return r;if(R8(n=e.valueOf)&&!L8(r=C8(n,e)))return r;if("string"!==t&&R8(n=e.toString)&&!L8(r=C8(n,e)))return r;throw I8("Can't convert object to primitive value")},g5=TypeError,m5=c5("toPrimitive"),y5=function(e,t){if(!f5(e)||d5(e))return e;var n,r=p5(e,m5);if(r){if(void 0===t&&(t="default"),n=h5(r,e,t),!f5(n)||d5(n))return n;throw g5("Can't convert object to primitive value")}return void 0===t&&(t="number"),v5(e,t)},b5=S8,_5=function(e){var t=y5(e,"string");return b5(t)?t:t+""},w5=i8,E5=d4.document,S5=w5(E5)&&w5(E5.createElement),x5=function(e){return S5?E5.createElement(e):{}},M5=x5,k5=!g4&&!v4((function(){return 7!=Object.defineProperty(M5("div"),"a",{get:function(){return 7}}).a})),A5=g4,T5=_4,P5=w4,O5=A4,C5=$4,R5=_5,L5=q8,I5=k5,D5=Object.getOwnPropertyDescriptor;p4.f=A5?D5:function(e,t){if(e=C5(e),t=R5(t),I5)try{return D5(e,t)}catch(n){}if(L5(e,t))return O5(!T5(P5.f,e,t),e[t])};var j5={},N5=g4&&v4((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),B5=i8,z5=String,Z5=TypeError,F5=function(e){if(B5(e))return e;throw Z5(z5(e)+" is not an object")},U5=g4,K5=k5,V5=N5,H5=F5,W5=_5,G5=TypeError,q5=Object.defineProperty,Y5=Object.getOwnPropertyDescriptor,X5="enumerable",$5="configurable",J5="writable";j5.f=U5?V5?function(e,t,n){if(H5(e),t=W5(t),H5(n),"function"===typeof e&&"prototype"===t&&"value"in n&&J5 in n&&!n[J5]){var r=Y5(e,t);r&&r[J5]&&(e[t]=n.value,n={configurable:$5 in n?n[$5]:r[$5],enumerable:X5 in n?n[X5]:r[X5],writable:!1})}return q5(e,t,n)}:q5:function(e,t,n){if(H5(e),t=W5(t),H5(n),K5)try{return q5(e,t,n)}catch(r){}if("get"in n||"set"in n)throw G5("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Q5=j5,e9=A4,t9=g4?function(e,t,n){return Q5.f(e,t,e9(1,n))}:function(e,t,n){return e[t]=n,e},n9={exports:{}},r9=g4,i9=q8,o9=Function.prototype,a9=r9&&Object.getOwnPropertyDescriptor,s9=i9(o9,"name"),u9={EXISTS:s9,PROPER:s9&&"something"===function(){}.name,CONFIGURABLE:s9&&(!r9||r9&&a9(o9,"name").configurable)},l9=t8,c9=F8,h9=z4(Function.toString);l9(c9.inspectSource)||(c9.inspectSource=function(e){return h9(e)});var f9,d9,p9,v9=c9.inspectSource,g9=t8,m9=d4.WeakMap,y9=g9(m9)&&/native code/.test(String(m9)),b9=D8.exports,_9=Q8,w9=b9("keys"),E9=function(e){return w9[e]||(w9[e]=_9(e))},S9={},x9=y9,M9=d4,k9=i8,A9=t9,T9=q8,P9=F8,O9=E9,C9=S9,R9="Object already initialized",L9=M9.TypeError,I9=M9.WeakMap;if(x9||P9.state){var D9=P9.state||(P9.state=new I9);D9.get=D9.get,D9.has=D9.has,D9.set=D9.set,f9=function(e,t){if(D9.has(e))throw L9(R9);return t.facade=e,D9.set(e,t),t},d9=function(e){return D9.get(e)||{}},p9=function(e){return D9.has(e)}}else{var j9=O9("state");C9[j9]=!0,f9=function(e,t){if(T9(e,j9))throw L9(R9);return t.facade=e,A9(e,j9,t),t},d9=function(e){return T9(e,j9)?e[j9]:{}},p9=function(e){return T9(e,j9)}}var N9={set:f9,get:d9,has:p9,enforce:function(e){return p9(e)?d9(e):f9(e,{})},getterFor:function(e){return function(t){var n;if(!k9(t)||(n=d9(t)).type!==e)throw L9("Incompatible receiver, "+e+" required");return n}}},B9=v4,z9=t8,Z9=q8,F9=g4,U9=u9.CONFIGURABLE,K9=v9,V9=N9.enforce,H9=N9.get,W9=Object.defineProperty,G9=F9&&!B9((function(){return 8!==W9((function(){}),"length",{value:8}).length})),q9=String(String).split("String"),Y9=n9.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Z9(e,"name")||U9&&e.name!==t)&&(F9?W9(e,"name",{value:t,configurable:!0}):e.name=t),G9&&n&&Z9(n,"arity")&&e.length!==n.arity&&W9(e,"length",{value:n.arity});try{n&&Z9(n,"constructor")&&n.constructor?F9&&W9(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=V9(e);return Z9(r,"source")||(r.source=q9.join("string"==typeof t?t:"")),e};Function.prototype.toString=Y9((function(){return z9(this)&&H9(this).source||K9(this)}),"toString");var X9=t8,$9=j5,J9=n9.exports,Q9=B8,e7={},t7=Math.ceil,n7=Math.floor,r7=Math.trunc||function(e){var t=+e;return(t>0?n7:t7)(t)},i7=r7,o7=function(e){var t=+e;return t!==t||0===t?0:i7(t)},a7=o7,s7=Math.max,u7=Math.min,l7=o7,c7=Math.min,h7=function(e){return e>0?c7(l7(e),9007199254740991):0},f7=function(e){return h7(e.length)},d7=$4,p7=function(e,t){var n=a7(e);return n<0?s7(n+t,0):u7(n,t)},v7=f7,g7=function(e){return function(t,n,r){var i,o=d7(t),a=v7(o),s=p7(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},m7={includes:g7(!0),indexOf:g7(!1)},y7=q8,b7=$4,_7=m7.indexOf,w7=S9,E7=z4([].push),S7=function(e,t){var n,r=b7(e),i=0,o=[];for(n in r)!y7(w7,n)&&y7(r,n)&&E7(o,n);for(;t.length>i;)y7(r,n=t[i++])&&(~_7(o,n)||E7(o,n));return o},x7=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],M7=S7,k7=x7.concat("length","prototype");e7.f=Object.getOwnPropertyNames||function(e){return M7(e,k7)};var A7={};A7.f=Object.getOwnPropertySymbols;var T7=s8,P7=e7,O7=A7,C7=F5,R7=z4([].concat),L7=T7("Reflect","ownKeys")||function(e){var t=P7.f(C7(e)),n=O7.f;return n?R7(t,n(e)):t},I7=q8,D7=L7,j7=p4,N7=j5,B7=v4,z7=t8,Z7=/#|\.prototype\./,F7=function(e,t){var n=K7[U7(e)];return n==H7||n!=V7&&(z7(t)?B7(t):!!t)},U7=F7.normalize=function(e){return String(e).replace(Z7,".").toLowerCase()},K7=F7.data={},V7=F7.NATIVE="N",H7=F7.POLYFILL="P",W7=F7,G7=d4,q7=p4.f,Y7=t9,X7=function(e,t,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:t;if(X9(n)&&J9(n,o,r),r.global)i?e[t]=n:Q9(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch(a){}i?e[t]=n:$9.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},$7=B8,J7=function(e,t,n){for(var r=D7(t),i=N7.f,o=j7.f,a=0;a<r.length;a++){var s=r[a];I7(e,s)||n&&I7(n,s)||i(e,s,o(t,s))}},Q7=W7,eee=T8,tee=m4,nee=z4(z4.bind),ree=j4,iee=Array.isArray||function(e){return"Array"==ree(e)},oee={};oee[c5("toStringTag")]="z";var aee="[object z]"===String(oee),see=t8,uee=j4,lee=c5("toStringTag"),cee=Object,hee="Arguments"==uee(function(){return arguments}()),fee=aee?uee:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=cee(e),lee))?n:hee?uee(t):"Object"==(r=uee(t))&&see(t.callee)?"Arguments":r},dee=z4,pee=v4,vee=t8,gee=fee,mee=v9,yee=function(){},bee=[],_ee=s8("Reflect","construct"),wee=/^\s*(?:class|function)\b/,Eee=dee(wee.exec),See=!wee.exec(yee),xee=function(e){if(!vee(e))return!1;try{return _ee(yee,bee,e),!0}catch(t){return!1}},Mee=function(e){if(!vee(e))return!1;switch(gee(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return See||!!Eee(wee,mee(e))}catch(t){return!0}};Mee.sham=!0;var kee=!_ee||pee((function(){var e;return xee(xee.call)||!xee(Object)||!xee((function(){e=!0}))||e}))?Mee:xee,Aee=iee,Tee=kee,Pee=i8,Oee=c5("species"),Cee=Array,Ree=function(e){var t;return Aee(e)&&(t=e.constructor,(Tee(t)&&(t===Cee||Aee(t.prototype))||Pee(t)&&null===(t=t[Oee]))&&(t=void 0)),void 0===t?Cee:t},Lee=function(e,t){return eee(e),void 0===t?e:tee?nee(e,t):function(){return e.apply(t,arguments)}},Iee=V4,Dee=H8,jee=f7,Nee=function(e,t){return new(Ree(e))(0===t?0:t)},Bee=z4([].push),zee=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(u,l,c,h){for(var f,d,p=Dee(u),v=Iee(p),g=Lee(l,c),m=jee(v),y=0,b=h||Nee,_=t?b(u,m):n||a?b(u,0):void 0;m>y;y++)if((s||y in v)&&(d=g(f=v[y],y,p),e))if(t)_[y]=d;else if(d)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:Bee(_,f)}else switch(e){case 4:return!1;case 7:Bee(_,f)}return o?-1:r||i?i:_}},Zee={forEach:zee(0),map:zee(1),filter:zee(2),some:zee(3),every:zee(4),find:zee(5),findIndex:zee(6),filterReject:zee(7)},Fee={},Uee=S7,Kee=x7,Vee=Object.keys||function(e){return Uee(e,Kee)},Hee=g4,Wee=N5,Gee=j5,qee=F5,Yee=$4,Xee=Vee;Fee.f=Hee&&!Wee?Object.defineProperties:function(e,t){qee(e);for(var n,r=Yee(t),i=Xee(t),o=i.length,a=0;o>a;)Gee.f(e,n=i[a++],r[n]);return e};var $ee,Jee=s8("document","documentElement"),Qee=F5,ete=Fee,tte=x7,nte=S9,rte=Jee,ite=x5,ote="prototype",ate="script",ste=E9("IE_PROTO"),ute=function(){},lte=function(e){return"<"+ate+">"+e+"</"+ate+">"},cte=function(e){e.write(lte("")),e.close();var t=e.parentWindow.Object;return e=null,t},hte=function(){try{$ee=new ActiveXObject("htmlfile")}catch(t){}hte="undefined"!=typeof document?document.domain&&$ee?cte($ee):function(){var e,t=ite("iframe"),n="java"+ate+":";return t.style.display="none",rte.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(lte("document.F=Object")),e.close(),e.F}():cte($ee);for(var e=tte.length;e--;)delete hte[ote][tte[e]];return hte()};nte[ste]=!0;var fte=c5,dte=Object.create||function(e,t){var n;return null!==e?(ute[ote]=Qee(e),n=new ute,ute[ote]=null,n[ste]=e):n=hte(),void 0===t?n:ete.f(n,t)},pte=j5.f,vte=fte("unscopables"),gte=Array.prototype;void 0==gte[vte]&&pte(gte,vte,{configurable:!0,value:dte(null)});var mte=function(e,t){var n,r,i,o,a,s=e.target,u=e.global,l=e.stat;if(n=u?G7:l?G7[s]||$7(s,{}):(G7[s]||{}).prototype)for(r in t){if(o=t[r],i=e.dontCallGetSet?(a=q7(n,r))&&a.value:n[r],!Q7(u?r:s+(l?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;J7(o,i)}(e.sham||i&&i.sham)&&Y7(o,"sham",!0),X7(n,r,o,e)}},yte=Zee.find,bte=function(e){gte[vte][e]=!0},_te="find",wte=!0;_te in[]&&Array(1)[_te]((function(){wte=!1})),mte({target:"Array",proto:!0,forced:wte},{find:function(e){return yte(this,e,arguments.length>1?arguments[1]:void 0)}}),bte(_te);var Ete={HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"},Ste=function(e,t){var n;"function"===typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("Event")).initEvent(e,!1,!0,t),window.dispatchEvent(n)};var xte=function(e,t){var n=this.state.show,r=this.props.id,i=this.isCapture(t.currentTarget),o=t.currentTarget.getAttribute("currentItem");i||t.stopPropagation(),n&&"true"===o?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),Mte(t.currentTarget,this.getTargetArray(r)),this.showTooltip(t))},Mte=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},kte={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:r4({},t,n)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}};var Ate=function(e,t,n){for(var r,i,o=t.respectEffect,a=void 0!==o&&o,s=t.customEvent,u=void 0!==s&&s,l=this.props.id,c=null,h=n.target;null===c&&null!==h;)i=h,c=h.getAttribute("data-tip")||null,r=h.getAttribute("data-for")||null,h=h.parentElement;if(h=i||n.target,!this.isCustomEvent(h)||u){var f=null==l&&null==r||r===l;if(null!=c&&(!a||"float"===this.getEffect(h))&&f){var d=function(e){var t={};for(var n in e)"function"===typeof e[n]?t[n]=e[n].bind(e):t[n]=e[n];return t}(n);d.currentTarget=h,e(d)}}},Tte=function(e,t){var n={};return e.forEach((function(e){var r=e.getAttribute(t);r&&r.split(" ").forEach((function(e){return n[e]=!0}))})),n},Pte=function(){return document.getElementsByTagName("body")[0]};function Ote(e,t,n,r,i,o,a){var s=Cte(n),u=s.width,l=s.height,c=Cte(t),h=c.width,f=c.height,d=Rte(e,t,o),p=d.mouseX,v=d.mouseY,g=Lte(o,h,f,u,l),m=Ite(a),y=m.extraOffsetX,b=m.extraOffsetY,_=window.innerWidth,w=window.innerHeight,E=Dte(n),S=E.parentTop,x=E.parentLeft,M=function(e){var t=g[e].l;return p+t+y},k=function(e){var t=g[e].t;return v+t+b},A=function(e){return function(e){var t=g[e].r;return p+t+y}(e)>_},T=function(e){return function(e){var t=g[e].b;return v+t+b}(e)>w},P=function(e){return function(e){return M(e)<0}(e)||A(e)||function(e){return k(e)<0}(e)||T(e)},O=function(e){return!P(e)},C={top:O("top"),bottom:O("bottom"),left:O("left"),right:O("right")};var R,L=function(){var e,t=c4(i.split(",").concat(r,["top","bottom","left","right"]));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(C[n])return n}}catch(YJ){t.e(YJ)}finally{t.f()}return r}(),I=!1;return L&&L!==r&&(I=!0,R=L),I?{isNewState:!0,newState:{place:R}}:{isNewState:!1,position:{left:parseInt(M(r)-x,10),top:parseInt(k(r)-S,10)}}}var Cte=function(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width;return{height:parseInt(n,10),width:parseInt(r,10)}},Rte=function(e,t,n){var r=t.getBoundingClientRect(),i=r.top,o=r.left,a=Cte(t),s=a.width,u=a.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:o+s/2,mouseY:i+u/2}},Lte=function(e,t,n,r,i){var o,a,s,u;return"float"===e?(o={l:-r/2,r:r/2,t:-(i+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:i+3+2+12},u={l:-(r+3+2),r:-3,t:-i/2,b:i/2},a={l:3,r:r+3+2,t:-i/2,b:i/2}):"solid"===e&&(o={l:-r/2,r:r/2,t:-(n/2+i+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+i+2},u={l:-(r+t/2+2),r:-t/2,t:-i/2,b:i/2},a={l:t/2,r:r+t/2+2,t:-i/2,b:i/2}),{top:o,bottom:s,left:u,right:a}},Ite=function(e){var t=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/'/g,'"'))),e)"top"===r?n-=parseInt(e[r],10):"bottom"===r?n+=parseInt(e[r],10):"left"===r?t-=parseInt(e[r],10):"right"===r&&(t+=parseInt(e[r],10));return{extraOffsetX:t,extraOffsetY:n}},Dte=function(e){for(var t=e;t;){var n=window.getComputedStyle(t);if("none"!==n.getPropertyValue("transform")||"transform"===n.getPropertyValue("will-change"))break;t=t.parentElement}return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}};function jte(e,n,r,i){if(n)return n;if(void 0!==r&&null!==r)return r;if(null===r)return null;var o=/<br\s*\/?>/;return i&&"false"!==i&&o.test(e)?e.split(o).map((function(e,n){return t.createElement("span",{key:n,className:"multi-line"},e)})):e}function Nte(e){var t={};return Object.keys(e).filter((function(e){return/(^aria-\w+$|^role$)/.test(e)})).forEach((function(n){t[n]=e[n]})),t}function Bte(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map((function(t){return e[t]}))}var zte={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};var Zte,Fte,Ute="8px 21px",Kte={tooltip:3,arrow:0};function Vte(e,t,n,r,i,o){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ute,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Kte,i=t.text,o=t.background,a=t.border,s=t.arrow,u=r.arrow,l=r.tooltip;return"\n  \t.".concat(e," {\n\t    color: ").concat(i,";\n\t    background: ").concat(o,";\n\t    border: 1px solid ").concat(a,";\n\t    border-radius: ").concat(l,"px;\n\t    padding: ").concat(n,";\n  \t}\n\n  \t.").concat(e,".place-top {\n        margin-top: -10px;\n    }\n    .").concat(e,'.place-top::before {\n        content: "";\n        background-color: inherit;\n        position: absolute;\n        z-index: 2;\n        width: 20px;\n        height: 12px;\n    }\n    .').concat(e,'.place-top::after {\n        content: "";\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        border-top-right-radius: ').concat(u,"px;\n        border: 1px solid ").concat(a,";\n        background-color: ").concat(s,";\n        z-index: -2;\n        bottom: -6px;\n        left: 50%;\n        margin-left: -6px;\n        transform: rotate(135deg);\n    }\n\n    .").concat(e,".place-bottom {\n        margin-top: 10px;\n    }\n    .").concat(e,'.place-bottom::before {\n        content: "";\n        background-color: inherit;\n        position: absolute;\n        z-index: -1;\n        width: 18px;\n        height: 10px;\n    }\n    .').concat(e,'.place-bottom::after {\n        content: "";\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        border-top-right-radius: ').concat(u,"px;\n        border: 1px solid ").concat(a,";\n        background-color: ").concat(s,";\n        z-index: -2;\n        top: -6px;\n        left: 50%;\n        margin-left: -6px;\n        transform: rotate(45deg);\n    }\n\n    .").concat(e,".place-left {\n        margin-left: -10px;\n    }\n    .").concat(e,'.place-left::before {\n        content: "";\n        background-color: inherit;\n        position: absolute;\n        z-index: -1;\n        width: 10px;\n        height: 18px;\n    }\n    .').concat(e,'.place-left::after {\n        content: "";\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        border-top-right-radius: ').concat(u,"px;\n        border: 1px solid ").concat(a,";\n        background-color: ").concat(s,";\n        z-index: -2;\n        right: -6px;\n        top: 50%;\n        margin-top: -6px;\n        transform: rotate(45deg);\n    }\n\n    .").concat(e,".place-right {\n        margin-left: 10px;\n    }\n    .").concat(e,'.place-right::before {\n        content: "";\n        background-color: inherit;\n        position: absolute;\n        z-index: -1;\n        width: 10px;\n        height: 18px;\n    }\n    .').concat(e,'.place-right::after {\n        content: "";\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        border-top-right-radius: ').concat(u,"px;\n        border: 1px solid ").concat(a,";\n        background-color: ").concat(s,";\n        z-index: -2;\n        left: -6px;\n        top: 50%;\n        margin-top: -6px;\n        transform: rotate(-135deg);\n    }\n  ")}(e,function(e,t,n){var r=e.text,i=e.background,o=e.border,a=e.arrow?e.arrow:e.background,s=function(e){return zte[e]?t4({},zte[e]):void 0}(t);r&&(s.text=r);i&&(s.background=i);n&&(s.border=o||("light"===t?"black":"white"));a&&(s.arrow=a);return s}(t,n,r),i,o)}var Hte,Wte=function(e){e.hide=function(e){Ste(Ete.HIDE,{target:e})},e.rebuild=function(){Ste(Ete.REBUILD)},e.show=function(e){Ste(Ete.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.showTooltip({currentTarget:t&&e.detail.target},!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}}(Zte=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(Ete.HIDE,this.globalHide),window.addEventListener(Ete.HIDE,this.globalHide,!1),window.removeEventListener(Ete.REBUILD,this.globalRebuild),window.addEventListener(Ete.REBUILD,this.globalRebuild,!1),window.removeEventListener(Ete.SHOW,this.globalShow),window.addEventListener(Ete.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(Ete.HIDE,this.globalHide),window.removeEventListener(Ete.REBUILD,this.globalRebuild),window.removeEventListener(Ete.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(Zte=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,o=e.getAttribute("data-event")||r,a=e.getAttribute("data-event-off")||i;o.split(" ").forEach((function(n){e.removeEventListener(n,kte.get(e,n));var r=xte.bind(t,a);kte.set(e,n,r),e.addEventListener(n,r,!1)})),a&&a.split(" ").forEach((function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)}))},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,r=t.eventOff,i=n||e.getAttribute("data-event"),o=r||e.getAttribute("data-event-off");e.removeEventListener(i,kte.get(e,n)),o&&e.removeEventListener(o,this.hideTooltip)}}(Zte=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}(Zte=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}(Zte=function(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,o=n.possibleCustomEvents,a=n.possibleCustomEventsOff,s=Pte(),u=Tte(e,"data-event"),l=Tte(e,"data-event-off");null!=r&&(u[r]=!0),null!=i&&(l[i]=!0),o.split(" ").forEach((function(e){return u[e]=!0})),a.split(" ").forEach((function(e){return l[e]=!0})),this.unbindBodyListener(s);var c=this.bodyModeListeners={};for(var h in null==r&&(c.mouseover=Ate.bind(this,this.showTooltip,{}),c.mousemove=Ate.bind(this,this.updateTooltip,{respectEffect:!0}),c.mouseout=Ate.bind(this,this.hideTooltip,{})),u)c[h]=Ate.bind(this,(function(e){var n=e.currentTarget.getAttribute("data-event-off")||i;xte.call(t,n,e)}),{customEvent:!0});for(var f in l)c[f]=Ate.bind(this,this.hideTooltip,{customEvent:!0});for(var d in c)s.addEventListener(d,c[d])},e.prototype.unbindBodyListener=function(e){e=e||Pte();var t=this.bodyModeListeners;for(var n in t)e.removeEventListener(n,t[n])}}((Fte=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a4(e,t)}(a,e);var n,r,i,o=u4(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={uuid:e.uuid||"t"+Q6(),place:e.place||"top",desiredPlace:e.place||"top",type:e.type||"dark",effect:e.effect||"float",show:!1,border:!1,borderClass:"border",customColors:{},customRadius:{},offset:{},padding:e.padding,extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:Nte(e),isEmptyTip:!1,disable:!1,possibleCustomEvents:e.possibleCustomEvents||"",possibleCustomEventsOff:e.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},t.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),t.mount=!0,t.delayShowLoop=null,t.delayHideLoop=null,t.delayReshow=null,t.intervalUpdateContent=null,t}return n=a,r=[{key:"bind",value:function(e){var t=this;e.forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"componentDidMount",value:function(){var e=this.props;e.insecure;var t=e.resizeHide,n=e.disableInternalStyle;this.mount=!0,this.bindListener(),this.bindWindowEvents(t),n||this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var e=this.tooltipRef;if(e){for(var t,n=e.parentNode;n.parentNode;)n=n.parentNode;switch(n.constructor.name){case"Document":case"HTMLDocument":case void 0:t=n.head;break;default:t=n}if(!t.querySelector("style[data-react-tooltip]")){var r=document.createElement("style");r.textContent='.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip::before, .__react_component_tooltip::after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0;\n  margin-left: 0;\n  visibility: visible;\n}\n.__react_component_tooltip.place-top::before {\n  bottom: 0;\n  left: 50%;\n  margin-left: -11px;\n}\n.__react_component_tooltip.place-bottom::before {\n  top: 0;\n  left: 50%;\n  margin-left: -11px;\n}\n.__react_component_tooltip.place-left::before {\n  right: 0;\n  top: 50%;\n  margin-top: -9px;\n}\n.__react_component_tooltip.place-right::before {\n  left: 0;\n  top: 50%;\n  margin-top: -9px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0;\n  text-align: center;\n}',r.setAttribute("data-react-tooltip","true"),t.appendChild(r)}}}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t,n=[];if(e){var r=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t='[data-tip][data-for="'.concat(r,'"]')}else t="[data-tip]:not([data-for])";return Bte(document.getElementsByTagName("*")).filter((function(e){return e.shadowRoot})).forEach((function(e){n=n.concat(Bte(e.shadowRoot.querySelectorAll(t)))})),n.concat(Bte(document.querySelectorAll(t)))}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff,i=t.isCapture,o=this.getTargetArray(n);o.forEach((function(t){null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),this.isBodyMode()?this.bindBodyListener(o):o.forEach((function(t){var n=e.isCapture(t),r=e.getEffect(t);e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),t.addEventListener("focus",e.showTooltip,n),"float"===r&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n),t.addEventListener("blur",e.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e,t=this.props,n=t.getContent,r=t.children;return n&&(e=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),jte(this.state.originTooltip,r,e,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"===typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(this.tooltipRef){if(t&&!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget})))return;var n=this.props,r=n.multiline,i=n.getContent,o=e.currentTarget.getAttribute("data-tip"),a=e.currentTarget.getAttribute("data-multiline")||r||!1,s=e instanceof window.FocusEvent||t,u=!0;e.currentTarget.getAttribute("data-scroll-hide")?u="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(u=this.props.scrollHide),e&&e.currentTarget&&e.currentTarget.setAttribute&&e.currentTarget.setAttribute("aria-describedby",this.props.id||this.state.uuid);var l=e.currentTarget.getAttribute("data-place")||this.props.place||"top",c=s?"solid":this.getEffect(e.currentTarget),h=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},f=Ote(e,e.currentTarget,this.tooltipRef,l.split(",")[0],l,c,h);f.position&&this.props.overridePosition&&(f.position=this.props.overridePosition(f.position,e,e.currentTarget,this.tooltipRef,l,l,c,h));var d=f.isNewState?f.newState.place:l.split(",")[0];this.clearTimer();var p=e.currentTarget,v=this.state.show?p.getAttribute("data-delay-update")||this.props.delayUpdate:0,g=this,m=function(){g.setState({originTooltip:o,isMultiline:a,desiredPlace:l,place:d,type:p.getAttribute("data-type")||g.props.type||"dark",customColors:{text:p.getAttribute("data-text-color")||g.props.textColor||null,background:p.getAttribute("data-background-color")||g.props.backgroundColor||null,border:p.getAttribute("data-border-color")||g.props.borderColor||null,arrow:p.getAttribute("data-arrow-color")||g.props.arrowColor||null},customRadius:{tooltip:p.getAttribute("data-tooltip-radius")||g.props.tooltipRadius||"3",arrow:p.getAttribute("data-arrow-radius")||g.props.arrowRadius||"0"},effect:c,offset:h,padding:p.getAttribute("data-padding")||g.props.padding,html:(p.getAttribute("data-html")?"true"===p.getAttribute("data-html"):g.props.html)||!1,delayShow:p.getAttribute("data-delay-show")||g.props.delayShow||0,delayHide:p.getAttribute("data-delay-hide")||g.props.delayHide||0,delayUpdate:p.getAttribute("data-delay-update")||g.props.delayUpdate||0,border:(p.getAttribute("data-border")?"true"===p.getAttribute("data-border"):g.props.border)||!1,borderClass:p.getAttribute("data-border-class")||g.props.borderClass||"border",extraClass:p.getAttribute("data-class")||g.props.class||g.props.className||"",disable:(p.getAttribute("data-tip-disable")?"true"===p.getAttribute("data-tip-disable"):g.props.disable)||!1,currentTarget:p},(function(){u&&g.addScrollListener(g.state.currentTarget),g.updateTooltip(e),i&&Array.isArray(i)&&(g.intervalUpdateContent=setInterval((function(){if(g.mount){var e=g.props.getContent,t=jte(o,"",e[0](),a),n=g.isEmptyTip(t);g.setState({isEmptyTip:n}),g.updatePosition()}}),i[1]))}))};v?this.delayReshow=setTimeout(m,v):m()}}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,r=n.delayShow,i=n.disable,o=this.props,a=o.afterShow,s=o.disable,u=this.getTooltipContent(),l=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!(this.isEmptyTip(u)||i||s)){var c=this.state.show?0:parseInt(r,10),h=function(){if(Array.isArray(u)&&u.length>0||u){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:l,show:!0},(function(){t.updatePosition((function(){n&&a&&a(e)}))}))}};this.delayShowLoop&&clearTimeout(this.delayShowLoop),c?this.delayShowLoop=setTimeout(h,c):(this.delayShowLoop=null,h())}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},i=this.state.disable,o=r.isScroll?0:this.state.delayHide,a=this.props,s=a.afterHide,u=a.disable,l=this.getTooltipContent();if(this.mount&&!(this.isEmptyTip(l)||i||u)){if(t&&(!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget}))||!this.state.show))return;e&&e.currentTarget&&e.currentTarget.removeAttribute&&e.currentTarget.removeAttribute("aria-describedby");var c=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(n.state.currentTarget),t&&s&&s(e)})))};this.clearTimer(),o?this.delayHideLoop=setTimeout(c,parseInt(o,10)):c()}}},{key:"hideTooltipOnScroll",value:function(e,t){this.hideTooltip(e,t,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"removeScrollListener",value:function(e){var t=this.isCapture(e);window.removeEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"updatePosition",value:function(e){var t=this,n=this.state,r=n.currentEvent,i=n.currentTarget,o=n.place,a=n.desiredPlace,s=n.effect,u=n.offset,l=this.tooltipRef,c=Ote(r,i,l,o,a,s,u);if(c.position&&this.props.overridePosition&&(c.position=this.props.overridePosition(c.position,r,i,l,o,a,s,u)),c.isNewState)return this.setState(c.newState,(function(){t.updatePosition(e)}));e&&"function"===typeof e&&e(),l.style.left=c.position.left+"px",l.style.top=c.position.top+"px"}},{key:"clearTimer",value:function(){this.delayShowLoop&&(clearTimeout(this.delayShowLoop),this.delayShowLoop=null),this.delayHideLoop&&(clearTimeout(this.delayHideLoop),this.delayHideLoop=null),this.delayReshow&&(clearTimeout(this.delayReshow),this.delayReshow=null),this.intervalUpdateContent&&(clearInterval(this.intervalUpdateContent),this.intervalUpdateContent=null)}},{key:"hasCustomColors",value:function(){var e=this;return Boolean(Object.keys(this.state.customColors).find((function(t){return"border"!==t&&e.state.customColors[t]}))||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var e=this,n=this.state,r=n.extraClass,i=n.html,o=n.ariaProps,s=n.disable,u=n.uuid,l=this.getTooltipContent(),c=this.isEmptyTip(l),h=this.props.disableInternalStyle?"":Vte(this.state.uuid,this.state.customColors,this.state.type,this.state.border,this.state.padding,this.state.customRadius),f="__react_component_tooltip"+" ".concat(this.state.uuid)+(!this.state.show||s||c?"":" show")+(this.state.border?" "+this.state.borderClass:"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),d=this.props.wrapper;a.supportedWrappers.indexOf(d)<0&&(d=a.defaultProps.wrapper);var p=[f,r].filter(Boolean).join(" ");if(i){var v="".concat(l).concat(h?'\n<style aria-hidden="true">'.concat(h,"</style>"):"");return t.createElement(d,i4({className:"".concat(p),id:this.props.id||u,ref:function(t){return e.tooltipRef=t}},o,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:v}}))}return t.createElement(d,i4({className:"".concat(p),id:this.props.id||u},o,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),h&&t.createElement("style",{dangerouslySetInnerHTML:{__html:h},"aria-hidden":"true"}),l)}}],i=[{key:"propTypes",get:function(){return{uuid:dn().string,children:dn().any,place:dn().string,type:dn().string,effect:dn().string,offset:dn().object,padding:dn().string,multiline:dn().bool,border:dn().bool,borderClass:dn().string,textColor:dn().string,backgroundColor:dn().string,borderColor:dn().string,arrowColor:dn().string,arrowRadius:dn().string,tooltipRadius:dn().string,insecure:dn().bool,class:dn().string,className:dn().string,id:dn().string,html:dn().bool,delayHide:dn().number,delayUpdate:dn().number,delayShow:dn().number,event:dn().string,eventOff:dn().string,isCapture:dn().bool,globalEventOff:dn().string,getContent:dn().any,afterShow:dn().func,afterHide:dn().func,overridePosition:dn().func,disable:dn().bool,scrollHide:dn().bool,resizeHide:dn().bool,wrapper:dn().string,bodyMode:dn().bool,possibleCustomEvents:dn().string,possibleCustomEventsOff:dn().string,clickable:dn().bool,disableInternalStyle:dn().bool}}},{key:"getDerivedStateFromProps",value:function(e,t){var n=t.ariaProps,r=Nte(e);return Object.keys(r).some((function(e){return r[e]!==n[e]}))?t4(t4({},t),{},{ariaProps:r}):null}}],r&&n4(n.prototype,r),i&&n4(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component),r4(Fte,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),r4(Fte,"supportedWrappers",["div","span"]),r4(Fte,"displayName","ReactTooltip"),(Hte=Zte=Fte).prototype.bindRemovalTracker=function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=t){var n=new t((function(t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.removedNodes.length;i++)if(r.removedNodes[i]===e.state.currentTarget)return void e.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},Zte=void(Hte.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||Zte))||Zte)||Zte)||Zte)||Zte)||Zte)||Zte,Gte=["appIsDark"];function qte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Yte=function(e){var t=e.appIsDark,n=vn(e,Gte);return(0,k_.jsx)(Wte,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qte(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qte(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:t?"light":"dark"},n))};Yte.propTypes={appIsDark:dn().bool};var Xte=Yte;function $te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$te(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qte=function(e){var n,r=e.active,i=e.className,o=e.disabled,a=e.floating,s=e.icon,u=e.small,l=e.medium,c=e.onClick,h=e.rectangular,f=e.tooltip,d=bn()("ptr-IconTool",{"is-active":r,"is-disabled":o,"is-floating":a,"is-rectangular":h,"is-medium":l&&!u,"is-small":u&&!l},i);return(0,k_.jsxs)("div",{tabIndex:o?-1:0,className:d,onClick:c,onKeyDown:function(e){"Enter"===e.key&&c()},"data-tip":null===f||void 0===f?void 0:f.text,"data-for":null===f||void 0===f?void 0:f.id,children:[(0,k_.jsx)($S,{icon:s}),f&&!o?t.createElement(f.component||Xte,Jte(Jte({},null===(n=f.component)||void 0===n?void 0:n.props),{},{id:f.id,place:f.position||"top",effect:"solid",delayShow:f.delayShow||1e3})):null]})};Qte.propTypes={active:dn().bool,className:dn().string,disabled:dn().bool,floating:dn().bool,icon:dn().string.isRequired,medium:dn().bool,onClick:dn().func,rectangular:dn().bool,small:dn().bool,tooltip:dn().object};var ene=Qte,tne=function(e){var n=e.layers,r=e.view,i=v((0,t.useState)(r.pitch>0),2),o=i[0],a=i[1],s=v((0,t.useState)(0),2),u=s[0],l=s[1],c=(0,t.useRef)(r);(0,t.useRef)((function(e){e.deckGlTransitionProperties={},c.current=(0,V.Z)((0,V.Z)({},c.current),{},{deckGlTransitionProperties:{}})}));return(0,k_.jsxs)("div",{className:"APP-TEMPLATE-REPLACE-APP-STYLE-PREFIX-App ptr-light",children:[(0,k_.jsx)("div",{className:"Flus-Map-Components",children:(0,k_.jsx)(ene,{className:"Flus-3Dview ".concat(o?"active":""),onClick:function(){return function(){a(!o);var e=(0,V.Z)((0,V.Z)({},c.current),{},{pitch:o?0:60,bearing:0});c.current=e}()},floating:!0,medium:!0,icon:"ri-3D-view"})}),(0,k_.jsxs)(Z6,{mapComponent:A6,view:c.current,layers:n,mapComponentProps:{controller:{dragRotate:o}},backgroundLayer:{key:"background-osm",type:"wmts",options:{url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}},onViewChange:function(e){l(u+1),c.current=(0,V.Z)((0,V.Z)({},c.current),e)},children:[(0,k_.jsx)(U6,{levelsBased:!0,zoomOnly:!0,className:""}),(0,k_.jsx)(W6,{className:""})]})]})},nne=R3.CogTerrainLayer,rne=function(e){var t=e.url,n=e.view,r=e.options,i=e.bitmapUrl,o=e.bitmapOtions,a=[new nne("CogTerrainLayer",t,r,i,o)];return(0,k_.jsx)("div",{className:"APP-TEMPLATE-REPLACE-APP-STYLE-PREFIX-App ptr-light",children:(0,k_.jsx)(tne,{view:n,layers:a})})},ine=z((function(){return{}}),(function(){return{}}))(rne),one={clipBounds:[0,0,1,1],clipByInstance:void 0},ane="\nuniform vec4 clip_bounds;\n\nbool clip_isInBounds(vec2 position) {\n  return position.x >= clip_bounds[0] && position.y >= clip_bounds[1] && position.x < clip_bounds[2] && position.y < clip_bounds[3];\n}\n",sne={name:"clip-vs",vs:ane},une={"vs:#decl":"\nvarying float clip_isVisible;\n","vs:DECKGL_FILTER_GL_POSITION":"\n  clip_isVisible = float(clip_isInBounds(geometry.worldPosition.xy));\n","fs:#decl":"\nvarying float clip_isVisible;\n","fs:DECKGL_FILTER_COLOR":"\n  if (clip_isVisible < 0.5) discard;\n"},lne={name:"clip-fs",fs:ane},cne={"vs:#decl":"\nvarying vec2 clip_commonPosition;\n","vs:DECKGL_FILTER_GL_POSITION":"\n  clip_commonPosition = geometry.position.xy;\n","fs:#decl":"\nvarying vec2 clip_commonPosition;\n","fs:DECKGL_FILTER_COLOR":"\n  if (!clip_isInBounds(clip_commonPosition)) discard;\n"},hne=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"getShaders",value:function(){var e="instancePositions"in this.getAttributeManager().attributes;return void 0!==this.props.clipByInstance&&(e=Boolean(this.props.clipByInstance)),this.state.clipByInstance=e,e?{modules:[sne],inject:une}:{modules:[lne],inject:cne}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props.clipBounds;if(this.state.clipByInstance)t.clip_bounds=n;else{var r=this.projectPosition([n[0],n[1],0]),i=this.projectPosition([n[2],n[3],0]);t.clip_bounds=[Math.min(r[0],i[0]),Math.min(r[1],i[1]),Math.max(r[0],i[0]),Math.max(r[1],i[1])]}}}]),n}(zW);function fne(e,t,n){var r=dne(e),i=Object.keys(r).filter((function(e){return r[e]!==Array}));return function(e,t,n){for(var r=t.pointPositionsCount,i=t.pointFeaturesCount,o=t.linePositionsCount,a=t.linePathsCount,s=t.lineFeaturesCount,u=t.polygonPositionsCount,l=t.polygonObjectsCount,c=t.polygonRingsCount,h=t.polygonFeaturesCount,f=t.propArrayTypes,d=t.coordLength,p=n.numericPropKeys,v=void 0===p?[]:p,g=n.PositionDataType,m=void 0===g?Float32Array:g,y=(e[0]&&"id"in e[0]),b=e.length>65535?Uint32Array:Uint16Array,_={type:"Point",positions:new m(r*d),globalFeatureIds:new b(r),featureIds:i>65535?new Uint32Array(r):new Uint16Array(r),numericProps:{},properties:[],fields:[]},w={type:"LineString",pathIndices:o>65535?new Uint32Array(a+1):new Uint16Array(a+1),positions:new m(o*d),globalFeatureIds:new b(o),featureIds:s>65535?new Uint32Array(o):new Uint16Array(o),numericProps:{},properties:[],fields:[]},E={type:"Polygon",polygonIndices:u>65535?new Uint32Array(l+1):new Uint16Array(l+1),primitivePolygonIndices:u>65535?new Uint32Array(c+1):new Uint16Array(c+1),positions:new m(u*d),triangles:[],globalFeatureIds:new b(u),featureIds:h>65535?new Uint32Array(u):new Uint16Array(u),numericProps:{},properties:[],fields:[]},S=0,x=[_,w,E];S<x.length;S++){var M,k=x[S],A=gx(v);try{for(A.s();!(M=A.n()).done;){var T=M.value,P=f[T];k.numericProps[T]=new P(k.positions.length/d)}}catch(YJ){A.e(YJ)}finally{A.f()}}w.pathIndices[a]=o,E.polygonIndices[l]=u,E.primitivePolygonIndices[c]=u;var O,C={pointPosition:0,pointFeature:0,linePosition:0,linePath:0,lineFeature:0,polygonPosition:0,polygonObject:0,polygonRing:0,polygonFeature:0,feature:0},R=gx(e);try{for(R.s();!(O=R.n()).done;){var L=O.value,I=L.geometry,D=L.properties||{};switch(I.type){case"Point":pne(I,_,C,d,D),_.properties.push(_ne(D,v)),y&&_.fields.push({id:L.id}),C.pointFeature++;break;case"LineString":vne(I,w,C,d,D),w.properties.push(_ne(D,v)),y&&w.fields.push({id:L.id}),C.lineFeature++;break;case"Polygon":gne(I,E,C,d,D),E.properties.push(_ne(D,v)),y&&E.fields.push({id:L.id}),C.polygonFeature++;break;default:throw new Error("Invalid geometry type")}C.feature++}}catch(YJ){R.e(YJ)}finally{R.f()}return function(e,t,n,r){return{points:(0,V.Z)((0,V.Z)({},e),{},{positions:{value:e.positions,size:r},globalFeatureIds:{value:e.globalFeatureIds,size:1},featureIds:{value:e.featureIds,size:1},numericProps:yne(e.numericProps,1)}),lines:(0,V.Z)((0,V.Z)({},t),{},{positions:{value:t.positions,size:r},pathIndices:{value:t.pathIndices,size:1},globalFeatureIds:{value:t.globalFeatureIds,size:1},featureIds:{value:t.featureIds,size:1},numericProps:yne(t.numericProps,1)}),polygons:(0,V.Z)((0,V.Z)({},n),{},{positions:{value:n.positions,size:r},polygonIndices:{value:n.polygonIndices,size:1},primitivePolygonIndices:{value:n.primitivePolygonIndices,size:1},triangles:{value:new Uint32Array(n.triangles),size:1},globalFeatureIds:{value:n.globalFeatureIds,size:1},featureIds:{value:n.featureIds,size:1},numericProps:yne(n.numericProps,1)})}}(_,w,E,d)}(e,(0,V.Z)({propArrayTypes:r},t),{numericPropKeys:n&&n.numericPropKeys||i,PositionDataType:n?n.PositionDataType:Float32Array})}(0,re.Z)(hne,"defaultProps",one),(0,re.Z)(hne,"extensionName","ClipExtension");function dne(e){var t,n={},r=gx(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.properties)for(var o in i.properties){var a=i.properties[o];n[o]=wne(a,n[o])}}}catch(YJ){r.e(YJ)}finally{r.f()}return n}function pne(e,t,n,r,i){t.positions.set(e.data,n.pointPosition*r);var o=e.data.length/r;bne(t,i,n.pointPosition,o),t.globalFeatureIds.fill(n.feature,n.pointPosition,n.pointPosition+o),t.featureIds.fill(n.pointFeature,n.pointPosition,n.pointPosition+o),n.pointPosition+=o}function vne(e,t,n,r,i){t.positions.set(e.data,n.linePosition*r);var o=e.data.length/r;bne(t,i,n.linePosition,o),t.globalFeatureIds.fill(n.feature,n.linePosition,n.linePosition+o),t.featureIds.fill(n.lineFeature,n.linePosition,n.linePosition+o);for(var a=0,s=e.indices.length;a<s;++a){var u=e.indices[a],l=a===s-1?e.data.length:e.indices[a+1];t.pathIndices[n.linePath++]=n.linePosition,n.linePosition+=(l-u)/r}}function gne(e,t,n,r,i){t.positions.set(e.data,n.polygonPosition*r);var o=e.data.length/r;bne(t,i,n.polygonPosition,o),t.globalFeatureIds.fill(n.feature,n.polygonPosition,n.polygonPosition+o),t.featureIds.fill(n.polygonFeature,n.polygonPosition,n.polygonPosition+o);for(var a=0,s=e.indices.length;a<s;++a){var u=n.polygonPosition;t.polygonIndices[n.polygonObject++]=u;for(var l=e.areas[a],c=e.indices[a],h=e.indices[a+1],f=0,d=c.length;f<d;++f){var p=c[f],v=f===d-1?void 0===h?e.data.length:h[0]:c[f+1];t.primitivePolygonIndices[n.polygonRing++]=n.polygonPosition,n.polygonPosition+=(v-p)/r}mne(t,l,c,{startPosition:u,endPosition:n.polygonPosition,coordLength:r})}}function mne(e,t,n,r){for(var i=r.startPosition,o=r.endPosition,a=r.coordLength,s=i*a,u=o*a,l=e.positions.subarray(s,u),c=n[0],h=CU(l,n.slice(1).map((function(e){return(e-c)/a})),a,t),f=0,d=h.length;f<d;++f)e.triangles.push(i+h[f])}function yne(e,t){var n={};for(var r in e)n[r]={value:e[r],size:t};return n}function bne(e,t,n,r){for(var i in e.numericProps)if(i in t){var o=t[i];e.numericProps[i].fill(o,n,n+r)}}function _ne(e,t){var n={};for(var r in e)t.includes(r)||(n[r]=e[r]);return n}function wne(e,t){return t!==Array&&Number.isFinite(e)?t===Float64Array||Math.fround(e)!==e?Float64Array:Float32Array:Array}var Ene=n(7386),Sne=n.n(Ene);function xne(e){for(var t,n,r=0,i=0,o=e.length-1;i<e.length;o=i++)t=e[i],r+=((n=e[o])[0]-t[0])*(t[1]+n[1]);return r}function Mne(e,t,n){t&&n&&(1===e?t.id=n.readVarint():2===e?function(e,t){var n=e.readVarint()+e.pos;for(;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3===e?t.type=n.readVarint():4===e&&(t._geometry=n.pos))}var kne=function(){function e(t,n,r,i,o){(0,Vt.Z)(this,e),(0,re.Z)(this,"properties",void 0),(0,re.Z)(this,"extent",void 0),(0,re.Z)(this,"type",void 0),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"_pbf",void 0),(0,re.Z)(this,"_geometry",void 0),(0,re.Z)(this,"_keys",void 0),(0,re.Z)(this,"_values",void 0),this.properties={},this.extent=r,this.type=0,this.id=null,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,t.readFields(Mne,this,n)}return(0,Ht.Z)(e,[{key:"loadGeometry",value:function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,a=0,s=[];e.pos<n;){if(i<=0){var u=e.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)o+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t&&t.push([o,a]);else{if(7!==r)throw new Error("unknown command ".concat(r));t&&t.push(t[0].slice())}}return t&&s.push(t),s}},{key:"bbox",value:function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command ".concat(n))}return[a,u,s,l]}},{key:"_toGeoJSON",value:function(t){var n,r,i=this.loadGeometry(),o=e.types[this.type];switch(this.type){case 1:var a=[];for(n=0;n<i.length;n++)a[n]=i[n][0];t(i=a,this);break;case 2:for(n=0;n<i.length;n++)t(i[n],this);break;case 3:for(i=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=xne(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n&&n.push(e[o]))}return n&&i.push(n),i}(i),n=0;n<i.length;n++)for(r=0;r<i[n].length;r++)t(i[n][r],this)}1===i.length?i=i[0]:o="Multi".concat(o);var s={type:"Feature",geometry:{type:o,coordinates:i},properties:this.properties};return null!==this.id&&(s.id=this.id),s}},{key:"toGeoJSON",value:function(e){if("function"===typeof e)return this._toGeoJSON(e);var t=e.x,n=e.y,r=e.z,i=this.extent*Math.pow(2,r),o=this.extent*t,a=this.extent*n;return this._toGeoJSON((function(e){for(var t=0;t<e.length;t++){var n=e[t];n[0]=360*(n[0]+o)/i-180;var r=180-360*(n[1]+a)/i;n[1]=360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90}}))}}],[{key:"types",get:function(){return["Unknown","Point","LineString","Polygon"]}}]),e}(),Ane=function(){function e(t,n){(0,Vt.Z)(this,e),(0,re.Z)(this,"version",void 0),(0,re.Z)(this,"name",void 0),(0,re.Z)(this,"extent",void 0),(0,re.Z)(this,"length",void 0),(0,re.Z)(this,"_pbf",void 0),(0,re.Z)(this,"_keys",void 0),(0,re.Z)(this,"_values",void 0),(0,re.Z)(this,"_features",void 0),this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Tne,this,n),this.length=this._features.length}return(0,Ht.Z)(e,[{key:"feature",value:function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new kne(this._pbf,t,this.extent,this._keys,this._values)}}]),e}();function Tne(e,t,n){t&&n&&(15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){var t=null,n=e.readVarint()+e.pos;for(;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n)))}var Pne,One,Cne,Rne,Lne,Ine,Dne,jne=(0,Ht.Z)((function e(t,n){(0,Vt.Z)(this,e),(0,re.Z)(this,"layers",void 0),this.layers=t.readFields(Nne,{},n)}));function Nne(e,t,n){if(3===e&&n){var r=new Ane(n,n.readVarint()+n.pos);r.length&&t&&(t[r.name]=r)}}function Bne(e){var t=e.indices.length,n="Polygon";if(t<=1)return{type:n,data:e.data,areas:[[OU(e.data)]],indices:[e.indices]};for(var r,i,o,a=[],s=[],u=[],l=[],c=0,h=0;h<t;h++){o=e.indices[h]-c,i=e.indices[h+1]-c||e.data.length;var f=OU(e.data.slice(o,i));if(0!==f)void 0===r&&(r=f<0),r===f<0?(l.length&&(a.push(u),s.push(l)),l=[o],u=[f]):(u.push(f),l.push(o));else{var d=e.data.slice(0,o),p=e.data.slice(i);e.data=d.concat(p),c+=i-o}}return u&&a.push(u),l.length&&s.push(l),{type:n,areas:a,indices:s,data:e.data}}function zne(e,t,n){t&&n&&(1===e?t.id=n.readVarint():2===e?function(e,t){var n=e.readVarint()+e.pos;for(;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3===e?t.type=n.readVarint():4===e&&(t._geometry=n.pos))}var Zne=function(){function e(t,n,r,i,o,a){(0,Vt.Z)(this,e),(0,re.Z)(this,"properties",void 0),(0,re.Z)(this,"extent",void 0),(0,re.Z)(this,"type",void 0),(0,re.Z)(this,"id",void 0),(0,re.Z)(this,"_pbf",void 0),(0,re.Z)(this,"_geometry",void 0),(0,re.Z)(this,"_keys",void 0),(0,re.Z)(this,"_values",void 0),(0,re.Z)(this,"_geometryInfo",void 0),this.properties={},this.extent=r,this.type=0,this.id=null,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,this._geometryInfo=a,t.readFields(zne,this,n)}return(0,Ht.Z)(e,[{key:"loadGeometry",value:function(){var e=this._pbf;e.pos=this._geometry,Pne=e.readVarint()+e.pos,One=1,Rne=0,Lne=0,Ine=0,Dne=0;for(var t=[],n=[];e.pos<Pne;)if(Rne<=0&&(Cne=e.readVarint(),One=7&Cne,Rne=Cne>>3),Rne--,1===One||2===One)Lne+=e.readSVarint(),Ine+=e.readSVarint(),1===One&&t.push(Dne),n.push(Lne,Ine),Dne+=2;else{if(7!==One)throw new Error("unknown command ".concat(One));if(Dne>0){var r=t[t.length-1];n.push(n[r],n[r+1]),Dne+=2}}return{data:n,indices:t}}},{key:"_toBinaryCoordinates",value:function(e){var t,n=this.loadGeometry();e(n.data,this);switch(this.type){case 1:this._geometryInfo.pointFeaturesCount++,this._geometryInfo.pointPositionsCount+=n.indices.length,t=(0,V.Z)({type:"Point"},n);break;case 2:this._geometryInfo.lineFeaturesCount++,this._geometryInfo.linePathsCount+=n.indices.length,this._geometryInfo.linePositionsCount+=n.data.length/2,t=(0,V.Z)({type:"LineString"},n);break;case 3:t=Bne(n),this._geometryInfo.polygonFeaturesCount++,this._geometryInfo.polygonObjectsCount+=t.indices.length;var r,i=gx(t.indices);try{for(i.s();!(r=i.n()).done;){var o=r.value;this._geometryInfo.polygonRingsCount+=o.length}}catch(YJ){i.e(YJ)}finally{i.f()}this._geometryInfo.polygonPositionsCount+=t.data.length/2;break;default:throw new Error("Invalid geometry type: ".concat(this.type))}var a={type:"Feature",geometry:t,properties:this.properties};return null!==this.id&&(a.id=this.id),a}},{key:"toBinaryCoordinates",value:function(e){if("function"===typeof e)return this._toBinaryCoordinates(e);var t=e.x,n=e.y,r=e.z,i=this.extent*Math.pow(2,r),o=this.extent*t,a=this.extent*n;return this._toBinaryCoordinates((function(e){return function(e,t,n,r){for(var i=0,o=e.length;i<o;i+=2){e[i]=360*(e[i]+t)/r-180;var a=180-360*(e[i+1]+n)/r;e[i+1]=360/Math.PI*Math.atan(Math.exp(a*Math.PI/180))-90}}(e,o,a,i)}))}}]),e}(),Fne=function(){function e(t,n){(0,Vt.Z)(this,e),(0,re.Z)(this,"version",void 0),(0,re.Z)(this,"name",void 0),(0,re.Z)(this,"extent",void 0),(0,re.Z)(this,"length",void 0),(0,re.Z)(this,"_pbf",void 0),(0,re.Z)(this,"_keys",void 0),(0,re.Z)(this,"_values",void 0),(0,re.Z)(this,"_features",void 0),this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Une,this,n),this.length=this._features.length}return(0,Ht.Z)(e,[{key:"feature",value:function(e,t){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var n=this._pbf.readVarint()+this._pbf.pos;return new Zne(this._pbf,n,this.extent,this._keys,this._values,t)}}]),e}();function Une(e,t,n){t&&n&&(15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){var t=null,n=e.readVarint()+e.pos;for(;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n)))}var Kne=(0,Ht.Z)((function e(t,n){(0,Vt.Z)(this,e),(0,re.Z)(this,"layers",void 0),this.layers=t.readFields(Vne,{},n)}));function Vne(e,t,n){if(3===e&&n){var r=new Fne(n,n.readVarint()+n.pos);r.length&&t&&(t[r.name]=r)}}function Hne(e,t){var n,r,i=function(e){var t;if(null===e||void 0===e||!e.mvt)throw new Error("mvt options required");var n="wgs84"===(null===(t=e.mvt)||void 0===t?void 0:t.coordinates),r=e.mvt.tileIndex,i=r&&Number.isFinite(r.x)&&Number.isFinite(r.y)&&Number.isFinite(r.z);if(n&&!i)throw new Error("MVT Loader: WGS84 coordinates need tileIndex property");return e.mvt}(t),o=(null===t||void 0===t||null===(n=t.gis)||void 0===n?void 0:n.format)||(null===t||void 0===t||null===(r=t.mvt)||void 0===r?void 0:r.shape);switch(o){case"columnar-table":return{shape:"columnar-table",data:Wne(e,i)};case"geojson-row-table":return{shape:"geojson-row-table",data:Gne(e,i)};case"geojson":return Gne(e,i);case"binary-geometry":case"binary":return Wne(e,i);default:throw new Error(o)}}function Wne(e,t){var n=function(e,t){var n=[],r={coordLength:2,pointPositionsCount:0,pointFeaturesCount:0,linePositionsCount:0,linePathsCount:0,lineFeaturesCount:0,polygonPositionsCount:0,polygonObjectsCount:0,polygonRingsCount:0,polygonFeaturesCount:0};if(e.byteLength<=0)return[n,r];var i=new Kne(new(Sne())(e)),o=t&&Array.isArray(t.layers)?t.layers:Object.keys(i.layers);return o.forEach((function(e){var o=i.layers[e];if(o)for(var a=0;a<o.length;a++){var s=Yne(o.feature(a,r),t,e);n.push(s)}})),[n,r]}(e,t),r=v(n,2),i=fne(r[0],r[1]);return i.byteLength=e.byteLength,i}function Gne(e,t){if(e.byteLength<=0)return[];var n=[],r=new jne(new(Sne())(e));return(Array.isArray(t.layers)?t.layers:Object.keys(r.layers)).forEach((function(e){var i=r.layers[e];if(i)for(var o=0;o<i.length;o++){var a=qne(i.feature(o),t,e);n.push(a)}})),n}function qne(e,t,n){var r=e.toGeoJSON("wgs84"===t.coordinates?t.tileIndex:Xne);return t.layerProperty&&(r.properties[t.layerProperty]=n),r}function Yne(e,t,n){var r=e.toBinaryCoordinates("wgs84"===t.coordinates?t.tileIndex:$ne);return t.layerProperty&&r.properties&&(r.properties[t.layerProperty]=n),r}function Xne(e,t){for(var n=t.extent,r=0;r<e.length;r++){var i=e[r];i[0]/=n,i[1]/=n}}function $ne(e,t){for(var n=t.extent,r=0,i=e.length;r<i;++r)e[r]/=n}var Jne={name:"Mapbox Vector Tile",id:"mvt",module:"mvt",version:"3.4.4",extensions:["mvt","pbf"],mimeTypes:["application/vnd.mapbox-vector-tile","application/x-protobuf"],worker:!0,category:"geometry",options:{mvt:{shape:"geojson",coordinates:"local",layerProperty:"layerName",layers:void 0,tileIndex:null}}},Qne=(0,V.Z)((0,V.Z)({},Jne),{},{parse:function(){var e=ZT(BT().mark((function e(t,n){return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hne(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),parseSync:Hne,binary:!0});function ere(e,t){var n=null===t||void 0===t?void 0:t.globalFeatureId;return void 0!==n?function(e,t){var n,r=rre(e),i=gx(r);try{for(i.s();!(n=i.n()).done;){for(var o=n.value,a=0,s=o.featureIds.value[0],u=0;u<o.featureIds.value.length;u++){var l=o.featureIds.value[u];if(l!==s){if(t===o.globalFeatureIds.value[a])return ire(o,a,u);a=u,s=l}}if(t===o.globalFeatureIds.value[a])return ire(o,a,o.featureIds.value.length)}}catch(YJ){i.e(YJ)}finally{i.f()}throw new Error("featureId:".concat(t," not found"))}(e,n):tre(e,null===t||void 0===t?void 0:t.type)}function tre(e,t){return function(e){var t,n=[],r=gx(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(0!==i.featureIds.value.length){for(var o=0,a=i.featureIds.value[0],s=0;s<i.featureIds.value.length;s++){var u=i.featureIds.value[s];u!==a&&(n.push(ire(i,o,s)),o=s,a=u)}n.push(ire(i,o,i.featureIds.value.length))}}}catch(YJ){r.e(YJ)}finally{r.f()}return n}(rre(e,t))}function nre(e,t,n){switch(e.type){case"Point":return function(e,t,n){var r=e.positions,i=are(r,t,n);if(i.length>1)return{type:"MultiPoint",coordinates:i};return{type:"Point",coordinates:i[0]}}(e,t,n);case"LineString":return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=e.positions,i=e.pathIndices.value.filter((function(e){return e>=t&&e<=n}));if(!(i.length>2)){return{type:"LineString",coordinates:are(r,i[0],i[1])}}for(var o=[],a=0;a<i.length-1;a++){var s=are(r,i[a],i[a+1]);o.push(s)}return{type:"MultiLineString",coordinates:o}}(e,t,n);case"Polygon":return ore(e,t,n);default:throw new Error("Unsupported geometry type: ".concat(null===e||void 0===e?void 0:e.type))}}function rre(e,t){if(!Boolean(e.points||e.lines||e.polygons))return e.type=t||function(e){if(e.pathIndices)return"LineString";if(e.polygonIndices)return"Polygon";return"Point"}(e),[e];var n=[];return e.points&&(e.points.type="Point",n.push(e.points)),e.lines&&(e.lines.type="LineString",n.push(e.lines)),e.polygons&&(e.polygons.type="Polygon",n.push(e.polygons)),n}function ire(e,t,n){var r=nre(e,t,n),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object.assign({},e.properties[e.featureIds.value[t]]);for(var r in e.numericProps)n[r]=e.numericProps[r].value[t];return n}(e,t,n),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.fields&&e.fields[e.featureIds.value[t]]}(e,t,n);return(0,V.Z)({type:"Feature",geometry:r,properties:i},o)}function ore(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=e.positions,i=e.polygonIndices.value.filter((function(e){return e>=t&&e<=n})),o=e.primitivePolygonIndices.value.filter((function(e){return e>=t&&e<=n}));if(!(i.length>2)){for(var a=[],s=0;s<o.length-1;s++){var u=are(r,o[s],o[s+1]);a.push(u)}return{type:"Polygon",coordinates:a}}for(var l=[],c=0;c<i.length-1;c++){var h=ore(e,i[c],i[c+1]).coordinates;l.push(h)}return{type:"MultiPolygon",coordinates:l}}function are(e,t,n){t=t||0,n=n||e.value.length/e.size;for(var r=[],i=t;i<n;i++){for(var o=Array(),a=i*e.size;a<(i+1)*e.size;a++)o.push(Number(e.value[a]));r.push(o)}return r}var sre={Point:ure,MultiPoint:function(e,t,n){return lre(e,t,n)},LineString:cre,MultiLineString:function(e,t,n){return e.map((function(e){return cre(e,t,n)}))},Polygon:hre,MultiPolygon:function(e,t,n){return e.map((function(e){return hre(e,t,n)}))}};function ure(e,t,n){var r=v(e,2),i=r[0],o=r[1],a=v(t,2),s=a[0],u=a[1],l=_R(s[0],u[0],i),c=_R(s[1],u[1],o);return n.unprojectFlat([l,c])}function lre(e,t,n){return e.map((function(e){return ure(e,t,n)}))}function cre(e,t,n){return lre(e,t,n)}function hre(e,t,n){return e.map((function(e){return lre(e,t,n)}))}var fre=["points","lines","polygons"];function dre(e,t,n,r){var i=e.featureIds.value;if(!i.length)return-1;var o=0,a=i[i.length-1]+1;if(r){var s=function(e,t){if(!e.__layers){for(var n={},r=e.properties,i=0;i<r.length;i++){var o=r[i].layerName;o&&(n[o]?n[o][1]=i:n[o]=[i,i])}e.__layers=n}return e.__layers[t]}(e,r);if(!s)return-1;o=s[0],a=s[1]+1}var u=-1;if(t in e.numericProps){var l=e.numericProps[t].value.findIndex((function(e,t){return e===n&&i[t]>=o&&i[t]<a}));return l>=0?e.globalFeatureIds.value[l]:-1}return t?u=pre(e.properties,(function(e){return e[t]===n}),o,a):e.fields&&(u=pre(e.fields,(function(e){return e.id===n}),o,a)),u>=0?function(e,t){if(!e.__ids){for(var n=[],r=e.featureIds.value,i=e.globalFeatureIds.value,o=0;o<r.length;o++)n[r[o]]=i[o];e.__ids=n}return e.__ids[t]}(e,u):-1}function pre(e,t,n,r){for(var i=n;i<r;i++)if(t(e[i],i))return i;return-1}var vre=(0,V.Z)((0,V.Z)({},mV.defaultProps),{},{data:cW,onDataLoad:{type:"function",value:null,optional:!0,compare:!1},uniqueIdProperty:"",highlightedFeatureId:null,loaders:[Jne],binary:!0}),gre=function(e){(0,sx.Z)(n,e);var t=(0,ux.Z)(n);function n(){return(0,Vt.Z)(this,n),t.apply(this,arguments)}return(0,Ht.Z)(n,[{key:"initializeState",value:function(){KM((0,lx.Z)(n.prototype),"initializeState",this).call(this);var e=void 0===this.context.viewport.resolution&&this.props.binary;this.setState({binary:e,data:null,tileJSON:null})}},{key:"isLoaded",get:function(){return this.state&&this.state.data&&this.state.tileset&&KM((0,lx.Z)(n.prototype),"isLoaded",this)}},{key:"updateState",value:function(e){var t,r=e.props,i=e.oldProps,o=e.context,a=e.changeFlags;a.dataChanged&&this._updateTileData(),null!==(t=this.state)&&void 0!==t&&t.data&&(KM((0,lx.Z)(n.prototype),"updateState",this).call(this,{props:r,oldProps:i,context:o,changeFlags:a}),this._setWGS84PropertyForTiles());var s=r.highlightColor;s!==i.highlightColor&&Array.isArray(s)&&this.setState({highlightColor:s})}},{key:"_updateTileData",value:function(){var e=ZT(BT().mark((function e(){var t,n,r,i,o;return BT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.data,n=null,"string"!==typeof t||/(?=.*{z})(?=.*{x})(?=.*({y}|{-y}))/.test(t)){e.next=18;break}return r=this.props,i=r.onDataLoad,o=r.fetch,this.setState({data:null,tileJSON:null}),e.prev=5,e.next=8,o(t,{propName:"data",layer:this,loaders:[]});case 8:n=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),this.raiseError(e.t0,"loading TileJSON"),t=null;case 15:i&&i(n,{propName:"data",layer:this}),e.next=19;break;case 18:t.tilejson&&(n=t);case 19:n&&(t=n.tiles),this.setState({data:t,tileJSON:n});case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"_getTilesetOptions",value:function(){var e=KM((0,lx.Z)(n.prototype),"_getTilesetOptions",this).call(this),t=this.state.tileJSON,r=this.props,i=r.minZoom,o=r.maxZoom;return t&&(Number.isFinite(t.minzoom)&&t.minzoom>i&&(e.minZoom=t.minzoom),Number.isFinite(t.maxzoom)&&(!Number.isFinite(o)||t.maxzoom<o)&&(e.maxZoom=t.maxzoom)),e}},{key:"renderLayers",value:function(){var e;return null!==(e=this.state)&&void 0!==e&&e.data?KM((0,lx.Z)(n.prototype),"renderLayers",this).call(this):null}},{key:"getTileData",value:function(e){var t,n=this.state,r=n.data,i=n.binary,o=e.index,a=e.signal,s=fW(r,e);if(!s)return Promise.reject("Invalid URL");var u=this.getLoadOptions();return(0,this.props.fetch)(s,{propName:"data",layer:this,loadOptions:u=(0,V.Z)((0,V.Z)({},u),{},{mimeType:"application/x-protobuf",mvt:(0,V.Z)((0,V.Z)({},null===(t=u)||void 0===t?void 0:t.mvt),{},{coordinates:this.context.viewport.resolution?"wgs84":"local",tileIndex:o}),gis:i?{format:"binary"}:{}}),signal:a})}},{key:"renderSubLayers",value:function(e){var t=e.tile.index,r=t.x,i=t.y,o=t.z,a=Math.pow(2,o),s=512/a,u=-s,l=512*r/a,c=512*(1-i/a),h=(new bL).scale([s,u,1]);e.autoHighlight=!1,this.context.viewport.resolution||(e.modelMatrix=h,e.coordinateOrigin=[l,c,0],e.coordinateSystem=qL.CARTESIAN,e.extensions=[].concat((0,g.Z)(e.extensions||[]),[new hne]));var f=KM((0,lx.Z)(n.prototype),"renderSubLayers",this).call(this,e);return!this.state.binary||f instanceof mV||EP.warn("renderSubLayers() must return GeoJsonLayer when using binary:true")(),f}},{key:"_updateAutoHighlight",value:function(e){var t,n,r=this.props.uniqueIdProperty,i=this.state,o=i.hoveredFeatureId,a=i.hoveredFeatureLayerName,s=e.object;s&&(t=mre(s,r),n=yre(s));var u=this.props.highlightColor;"function"===typeof u&&(u=u(e)),o===t&&a===n||this.setState({highlightColor:u,hoveredFeatureId:t,hoveredFeatureLayerName:n})}},{key:"getPickingInfo",value:function(e){var t=KM((0,lx.Z)(n.prototype),"getPickingInfo",this).call(this,e),r=Boolean(this.context.viewport.resolution);if(this.state.binary&&-1!==t.index){var i=e.sourceLayer.props.data;t.object=ere(i,{globalFeatureId:t.index})}return t.object&&!r&&(t.object=_re(t.object,t.tile.bbox,this.context.viewport)),t}},{key:"getSubLayerPropsByTile",value:function(e){return{highlightedObjectIndex:this.getHighlightedObjectIndex(e),highlightColor:this.state.highlightColor}}},{key:"getHighlightedObjectIndex",value:function(e){var t=this.state,n=t.hoveredFeatureId,r=t.hoveredFeatureLayerName,i=t.binary,o=this.props,a=o.uniqueIdProperty,s=o.highlightedFeatureId,u=e.content,l=bre(s);if(!(bre(n)||l))return-1;var c=l?s:n;return Array.isArray(u)?u.findIndex((function(e){var t=mre(e,a)===c,n=l||yre(e)===r;return t&&n})):u&&i?function(e,t,n,r){var i,o=gx(fre);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=e[a]&&dre(e[a],t,n,r);if(s>=0)return s}}catch(YJ){o.e(YJ)}finally{o.f()}return-1}(u,a,c,l?"":r):-1}},{key:"_pickObjects",value:function(e){var t=this.context,n=t.deck,r=t.viewport,i=r.width,o=r.height,a=r.x,s=r.y,u=[this.id];return n.pickObjects({x:a,y:s,width:i,height:o,layerIds:u,maxObjects:e})}},{key:"getRenderedFeatures",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this._pickObjects(t),r=new Set,i=[],o=gx(n);try{for(o.s();!(e=o.n()).done;){var a=e.value,s=mre(a.object,this.props.uniqueIdProperty);void 0===s?i.push(a.object):r.has(s)||(r.add(s),i.push(a.object))}}catch(YJ){o.e(YJ)}finally{o.f()}return i}},{key:"_setWGS84PropertyForTiles",value:function(){var e=this,t="dataInWGS84";this.state.tileset.selectedTiles.forEach((function(n){n.hasOwnProperty(t)||Object.defineProperty(n,t,{get:function(){if(!n.content)return null;if(e.state.binary&&Array.isArray(n.content)&&!n.content.length)return[];var t,r=n.bbox;if(void 0===n._contentWGS84&&(t=r,Number.isFinite(t.west)&&Number.isFinite(t.north)&&Number.isFinite(t.east)&&Number.isFinite(t.south))){var i=e.state.binary?ere(n.content):n.content;n._contentWGS84=i.map((function(t){return _re(t,r,e.context.viewport)}))}return n._contentWGS84}})}))}}]),n}(OW);function mre(e,t){return e.properties&&t?e.properties[t]:"id"in e?e.id:void 0}function yre(e){var t;return(null===(t=e.properties)||void 0===t?void 0:t.layerName)||null}function bre(e){return void 0!==e&&null!==e&&""!==e}function _re(e,t,n){var r=(0,V.Z)((0,V.Z)({},e),{},{geometry:{type:e.geometry.type}});return Object.defineProperty(r.geometry,"coordinates",{get:function(){var r=function(e,t,n){var r=[n.projectFlat([t.west,t.north]),n.projectFlat([t.east,t.south])];return(0,V.Z)((0,V.Z)({},e),{},{coordinates:sre[e.type](e.coordinates,r,n)})}(e.geometry,t,n);return r.coordinates}}),r}(0,re.Z)(gre,"layerName","MVTLayer"),(0,re.Z)(gre,"defaultProps",vre);var wre=R3.CogTerrainLayer;var Ere=[{fill:"#b1001d",name:"< -50 (Subsidence)",interval:[-1e3,-50],intervalBounds:[!0,!1]},{fill:"#ca2d2f",interval:[-50,-40],intervalBounds:[!0,!1]},{fill:"#e25b40",interval:[-40,-30],intervalBounds:[!0,!1]},{fill:"#ffaa00",interval:[-30,-20],intervalBounds:[!0,!1]},{fill:"#ffff00",interval:[-20,-10],intervalBounds:[!0,!1]},{fill:"#a0f000",interval:[-10,0],intervalBounds:[!0,!1]},{fill:"#4ce600",interval:[0,10],intervalBounds:[!0,!1]},{fill:"#50d48e",interval:[10,20],intervalBounds:[!0,!1]},{fill:"#00c3ff",interval:[20,30],intervalBounds:[!0,!1]},{fill:"#0f80d1",interval:[30,40],intervalBounds:[!0,!1]},{fill:"#004ca8",interval:[40,50],intervalBounds:[!0,!1]},{fill:"#003e8a",name:"(Uplift) 50 <",interval:[50,1e3],intervalBounds:[!0,!1]}],Sre=function(e){var t=e.vectorUrl,n=e.url,r=e.view,i=e.options,o=e.bitmapUrl,a=e.bitmapOtions,s=[new aX({data:"https://ows.terrestris.de/osm/service",serviceType:"wms",layers:["OSM-WMS"],extensions:[new rG],terrainDrawMode:"drape"}),new wre("CogTerrainLayer",n,i,o,a),new gre({data:t,loaders:Qne,loadOptions:{worker:!1},minZoom:0,maxZoom:15,getLineColor:[192,192,192],pointType:"circle",extensions:[new rG],terrainDrawMode:"drape",getPointRadius:100,getFillColor:function(e){var t=Ere.find((function(t){return t.interval[0]<e.properties.vel_avg&&t.interval[1]>e.properties.vel_avg}));return function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[]}(null===t||void 0===t?void 0:t.fill)},getLineWidth:function(e){return 6},lineWidthMinPixels:1})];return(0,k_.jsx)("div",{className:"APP-TEMPLATE-REPLACE-APP-STYLE-PREFIX-App ptr-light",children:(0,k_.jsx)(tne,{view:r,layers:s})})},xre=z((function(){return{}}),(function(){return{}}))(Sre);var Mre=[{fill:"#b1001d",name:"< -50 (Subsidence)",interval:[-1e3,-50],intervalBounds:[!0,!1]},{fill:"#ca2d2f",interval:[-50,-40],intervalBounds:[!0,!1]},{fill:"#e25b40",interval:[-40,-30],intervalBounds:[!0,!1]},{fill:"#ffaa00",interval:[-30,-20],intervalBounds:[!0,!1]},{fill:"#ffff00",interval:[-20,-10],intervalBounds:[!0,!1]},{fill:"#a0f000",interval:[-10,0],intervalBounds:[!0,!1]},{fill:"#4ce600",interval:[0,10],intervalBounds:[!0,!1]},{fill:"#50d48e",interval:[10,20],intervalBounds:[!0,!1]},{fill:"#00c3ff",interval:[20,30],intervalBounds:[!0,!1]},{fill:"#0f80d1",interval:[30,40],intervalBounds:[!0,!1]},{fill:"#004ca8",interval:[40,50],intervalBounds:[!0,!1]},{fill:"#003e8a",name:"(Uplift) 50 <",interval:[50,1e3],intervalBounds:[!0,!1]}],kre=function(e){var t=e.url,n=e.view,r=[new gre({data:t,loaders:Qne,loadOptions:{worker:!1},minZoom:0,maxZoom:15,getLineColor:[192,192,192],pointType:"circle",getPointRadius:100,getFillColor:function(e){var t=Mre.find((function(t){return t.interval[0]<e.properties.vel_avg&&t.interval[1]>e.properties.vel_avg}));return function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[]}(null===t||void 0===t?void 0:t.fill)},getLineWidth:function(e){return 6},lineWidthMinPixels:1})];return(0,k_.jsx)("div",{className:"APP-TEMPLATE-REPLACE-APP-STYLE-PREFIX-App ptr-light",children:(0,k_.jsx)(A6,{view:n,backgroundLayer:{key:"background-osm",type:"wmts",options:{url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}},layers:r})})},Are=z((function(){return{}}),(function(){return{}}))(kre),Tre=function(){var e="url_public",t="map/raster/",n=zM.map((function(n){return"rgbCOG"===n.type?(0,k_.jsx)(MM,{exact:!0,path:"".concat(t).concat(n.key),element:(0,k_.jsx)(O6,{url:n[e],options:n.options,view:n.view})},n.key):"heightCOG"===n.type?(0,k_.jsx)(MM,{exact:!0,path:"".concat(t).concat(n.key),element:(0,k_.jsx)(ine,{url:n[e],options:n.options,view:n.view,bitmapUrl:n.bitmapUrl,bitmapOtions:n.bitmapOptions})},n.key):"heightAndTiledVectors"===n.type?(0,k_.jsx)(MM,{exact:!0,path:"".concat(t).concat(n.key),element:(0,k_.jsx)(xre,{url:n[e],vectorUrl:n.vectorUrl,options:n.options,view:n.view,bitmapUrl:n.bitmapUrl,bitmapOtions:n.bitmapOptions})},n.key):"vector"===n.type?(0,k_.jsx)(MM,{exact:!0,path:"".concat(t).concat(n.key),element:(0,k_.jsx)(Are,{url:n[e],view:n.view})},n.key):void 0}));return(0,k_.jsx)(LM,{children:(0,k_.jsxs)(AM,{children:[(0,k_.jsx)(MM,{exact:!0,path:"/",element:(0,k_.jsx)(FM,{})}),n]})})},Pre=z((function(){return{}}),(function(){return{}}))(Tre),Ore="/app-3Dflus-data-test";function Cre(e){!function(e){var t=e.router;t}({}),e.dispatch(ax.init(Ore))}var Rre,Lre,Ire=M_.AppContainer(fE),Dre=function(){return(0,k_.jsxs)(k_.Fragment,{children:[(0,k_.jsx)(m_,{defaultTitle:"APP-TEMPLATE-REPLACE-APP-TITLE"}),(0,k_.jsx)(Ire,{appKey:rx,children:(0,k_.jsx)(Pre,{})})]})},jre={},Nre=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jre;return(arguments.length>1?arguments[1]:void 0).type,e};Dn?function(e){void 0===e&&(e={});var t=e,n=t.initialEntries,r=void 0===n?["/"]:n,i=t.initialIndex,o=r.map((function(e){return H(m({pathname:"/",search:"",hash:"",state:null,key:$()},"string"===typeof e?Q(e):e))})),a=q(null==i?o.length-1:i,0,o.length-1),s=K.Pop,u=o[a],l=X(),c=X();function h(e,t){return void 0===t&&(t=null),H(m({pathname:u.pathname,search:"",hash:""},"string"===typeof e?Q(e):e,{state:t,key:$()}))}function f(e,t,n){return!c.length||(c.call({action:e,location:t,retry:n}),!1)}function d(e,t){s=e,u=t,l.call({action:s,location:u})}function p(e){var t=q(a+e,0,o.length-1),n=K.Pop,r=o[t];f(n,r,(function(){p(e)}))&&(a=t,d(n,r))}var v={get index(){return a},get action(){return s},get location(){return u},createHref:function(e){return"string"===typeof e?e:J(e)},push:function e(t,n){var r=K.Push,i=h(t,n);f(r,i,(function(){e(t,n)}))&&(a+=1,o.splice(a,o.length,i),d(r,i))},replace:function e(t,n){var r=K.Replace,i=h(t,n);f(r,i,(function(){e(t,n)}))&&(o[a]=i,d(r,i))},go:p,back:function(){p(-1)},forward:function(){p(1)},listen:function(e){return l.push(e)},block:function(e){return c.push(e)}}}():function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,o=e.hash,a=r.state||{};return[a.idx,H({pathname:t,search:i,hash:o,state:a.usr||null,key:a.key||"default"})]}var o=null;n.addEventListener(G,(function(){if(o)h.call(o),o=null;else{var e=K.Pop,t=i(),n=t[0],r=t[1];if(h.length){if(null!=n){var a=u-n;a&&(o={action:e,location:r,retry:function(){y(-1*a)}},y(a))}}else g(e)}}));var a=K.Pop,s=i(),u=s[0],l=s[1],c=X(),h=X();function f(e){return"string"===typeof e?e:J(e)}function d(e,t){return void 0===t&&(t=null),H(m({pathname:l.pathname,hash:"",search:""},"string"===typeof e?Q(e):e,{state:t,key:$()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},f(e)]}function v(e,t,n){return!h.length||(h.call({action:e,location:t,retry:n}),!1)}function g(e){a=e;var t=i();u=t[0],l=t[1],c.call({action:a,location:l})}function y(e){r.go(e)}null==u&&(u=0,r.replaceState(m({},r.state,{idx:u}),""));var b={get action(){return a},get location(){return l},createHref:f,push:function e(t,i){var o=K.Push,a=d(t,i);if(v(o,a,(function(){e(t,i)}))){var s=p(a,u+1),l=s[0],c=s[1];try{r.pushState(l,"",c)}catch(h){n.location.assign(c)}g(o)}},replace:function e(t,n){var i=K.Replace,o=d(t,n);if(v(i,o,(function(){e(t,n)}))){var a=p(o,u),s=a[0],l=a[1];r.replaceState(s,"",l),g(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return c.push(e)},block:function(e){var t=h.push(e);return 1===h.length&&n.addEventListener(W,Y),function(){t(),h.length||n.removeEventListener(W,Y)}}}}();function Bre(e,t){var n=ne.withExtraArgument(wd),r=[Nn(e),n,!1];return Od.apply(void 0,(0,g.Z)(r.filter((function(e){return!1!==e}))))}var zre="undefined"!==typeof window&&(null===(Rre=window)||void 0===Rre||null===(Lre=Rre.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__)||void 0===Lre?void 0:Lre.call(Rre,{}))||Pd;var Zre=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!Dn&&null!=window.__PRELOADED_STATE__,o=i?window.__PRELOADED_STATE__:(0,V.Z)({},r);i&&delete window.__PRELOADED_STATE__;var a=function(e){var t=Object.assign({},jn,e).timeout,n=0,r=null,i=function(){},o=function(){},a=function(e){0===(n+=e)&&(r=null,i())};return{onRequest:function(){a(1)},onResponse:function(){a(-1)},pendingRequests:function(){return n},createReadyP:function(){if(null!=r)return r;if(0===n)return Promise.resolve();r=new Promise((function(e,t){i=e,o=t}));var e=o;return setTimeout((function(){return e()}),t),r}}}(),s=Ad(Td((0,V.Z)((0,V.Z)({},db),{},{APPTEMPLATEREPLACESTORENAME:e})),o,function(e){return zre(Cd.reduxBatch,Bre(e),Cd.reduxBatch,Bre(e),Cd.reduxBatch)}(a));return null!==(n=null===t||void 0===t?void 0:t.absPath)&&void 0!==n||(window.location.protocol,window.location.host),Cre(s,(null===t||void 0===t||t.currentUrl,null===t||void 0===t||t.navHandler)),{store:s,requestCounter:a}},Fre=Zre().store,Ure=function(){return(0,k_.jsx)(Z,{store:Fre,children:(0,k_.jsx)(Dre,{})})};!function(){var e=document.getElementById("root");(0,i.s)(e).render((0,k_.jsx)(Ure,{}))}()}()}();
//# sourceMappingURL=main.725bebd4.js.map